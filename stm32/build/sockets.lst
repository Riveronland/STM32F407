ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"sockets.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.tryget_socket_unconn_nouse,"ax",%progbits
  20              		.align	1
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  25              	tryget_socket_unconn_nouse:
  26              	.LVL0:
  27              	.LFB162:
  28              		.file 1 "ThirdPackage/lwip220/api/sockets.c"
   1:ThirdPackage/lwip220/api/sockets.c **** /**
   2:ThirdPackage/lwip220/api/sockets.c ****  * @file
   3:ThirdPackage/lwip220/api/sockets.c ****  * Sockets BSD-Like API module
   4:ThirdPackage/lwip220/api/sockets.c ****  */
   5:ThirdPackage/lwip220/api/sockets.c **** 
   6:ThirdPackage/lwip220/api/sockets.c **** /*
   7:ThirdPackage/lwip220/api/sockets.c ****  * Copyright (c) 2001-2004 Swedish Institute of Computer Science.
   8:ThirdPackage/lwip220/api/sockets.c ****  * All rights reserved.
   9:ThirdPackage/lwip220/api/sockets.c ****  *
  10:ThirdPackage/lwip220/api/sockets.c ****  * Redistribution and use in source and binary forms, with or without modification,
  11:ThirdPackage/lwip220/api/sockets.c ****  * are permitted provided that the following conditions are met:
  12:ThirdPackage/lwip220/api/sockets.c ****  *
  13:ThirdPackage/lwip220/api/sockets.c ****  * 1. Redistributions of source code must retain the above copyright notice,
  14:ThirdPackage/lwip220/api/sockets.c ****  *    this list of conditions and the following disclaimer.
  15:ThirdPackage/lwip220/api/sockets.c ****  * 2. Redistributions in binary form must reproduce the above copyright notice,
  16:ThirdPackage/lwip220/api/sockets.c ****  *    this list of conditions and the following disclaimer in the documentation
  17:ThirdPackage/lwip220/api/sockets.c ****  *    and/or other materials provided with the distribution.
  18:ThirdPackage/lwip220/api/sockets.c ****  * 3. The name of the author may not be used to endorse or promote products
  19:ThirdPackage/lwip220/api/sockets.c ****  *    derived from this software without specific prior written permission.
  20:ThirdPackage/lwip220/api/sockets.c ****  *
  21:ThirdPackage/lwip220/api/sockets.c ****  * THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED
  22:ThirdPackage/lwip220/api/sockets.c ****  * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
  23:ThirdPackage/lwip220/api/sockets.c ****  * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
  24:ThirdPackage/lwip220/api/sockets.c ****  * SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  25:ThirdPackage/lwip220/api/sockets.c ****  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT
  26:ThirdPackage/lwip220/api/sockets.c ****  * OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
  27:ThirdPackage/lwip220/api/sockets.c ****  * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
  28:ThirdPackage/lwip220/api/sockets.c ****  * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING
  29:ThirdPackage/lwip220/api/sockets.c ****  * IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY
  30:ThirdPackage/lwip220/api/sockets.c ****  * OF SUCH DAMAGE.
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 2


  31:ThirdPackage/lwip220/api/sockets.c ****  *
  32:ThirdPackage/lwip220/api/sockets.c ****  * This file is part of the lwIP TCP/IP stack.
  33:ThirdPackage/lwip220/api/sockets.c ****  *
  34:ThirdPackage/lwip220/api/sockets.c ****  * Author: Adam Dunkels <adam@sics.se>
  35:ThirdPackage/lwip220/api/sockets.c ****  *
  36:ThirdPackage/lwip220/api/sockets.c ****  * Improved by Marc Boucher <marc@mbsi.ca> and David Haas <dhaas@alum.rpi.edu>
  37:ThirdPackage/lwip220/api/sockets.c ****  *
  38:ThirdPackage/lwip220/api/sockets.c ****  */
  39:ThirdPackage/lwip220/api/sockets.c **** 
  40:ThirdPackage/lwip220/api/sockets.c **** #include "lwip/opt.h"
  41:ThirdPackage/lwip220/api/sockets.c **** 
  42:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_SOCKET /* don't build if not configured for use in lwipopts.h */
  43:ThirdPackage/lwip220/api/sockets.c **** 
  44:ThirdPackage/lwip220/api/sockets.c **** #include "lwip/sockets.h"
  45:ThirdPackage/lwip220/api/sockets.c **** #include "lwip/priv/sockets_priv.h"
  46:ThirdPackage/lwip220/api/sockets.c **** #include "lwip/api.h"
  47:ThirdPackage/lwip220/api/sockets.c **** #include "lwip/igmp.h"
  48:ThirdPackage/lwip220/api/sockets.c **** #include "lwip/inet.h"
  49:ThirdPackage/lwip220/api/sockets.c **** #include "lwip/tcp.h"
  50:ThirdPackage/lwip220/api/sockets.c **** #include "lwip/raw.h"
  51:ThirdPackage/lwip220/api/sockets.c **** #include "lwip/udp.h"
  52:ThirdPackage/lwip220/api/sockets.c **** #include "lwip/memp.h"
  53:ThirdPackage/lwip220/api/sockets.c **** #include "lwip/pbuf.h"
  54:ThirdPackage/lwip220/api/sockets.c **** #include "lwip/netif.h"
  55:ThirdPackage/lwip220/api/sockets.c **** #include "lwip/priv/tcpip_priv.h"
  56:ThirdPackage/lwip220/api/sockets.c **** #include "lwip/mld6.h"
  57:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_CHECKSUM_ON_COPY
  58:ThirdPackage/lwip220/api/sockets.c **** #include "lwip/inet_chksum.h"
  59:ThirdPackage/lwip220/api/sockets.c **** #endif
  60:ThirdPackage/lwip220/api/sockets.c **** 
  61:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_COMPAT_SOCKETS == 2 && LWIP_POSIX_SOCKETS_IO_NAMES
  62:ThirdPackage/lwip220/api/sockets.c **** #include <stdarg.h>
  63:ThirdPackage/lwip220/api/sockets.c **** #endif
  64:ThirdPackage/lwip220/api/sockets.c **** 
  65:ThirdPackage/lwip220/api/sockets.c **** #include <string.h>
  66:ThirdPackage/lwip220/api/sockets.c **** 
  67:ThirdPackage/lwip220/api/sockets.c **** #ifdef LWIP_HOOK_FILENAME
  68:ThirdPackage/lwip220/api/sockets.c **** #include LWIP_HOOK_FILENAME
  69:ThirdPackage/lwip220/api/sockets.c **** #endif
  70:ThirdPackage/lwip220/api/sockets.c **** 
  71:ThirdPackage/lwip220/api/sockets.c **** /* If the netconn API is not required publicly, then we include the necessary
  72:ThirdPackage/lwip220/api/sockets.c ****    files here to get the implementation */
  73:ThirdPackage/lwip220/api/sockets.c **** #if !LWIP_NETCONN
  74:ThirdPackage/lwip220/api/sockets.c **** #undef LWIP_NETCONN
  75:ThirdPackage/lwip220/api/sockets.c **** #define LWIP_NETCONN 1
  76:ThirdPackage/lwip220/api/sockets.c **** #include "api_msg.c"
  77:ThirdPackage/lwip220/api/sockets.c **** #include "api_lib.c"
  78:ThirdPackage/lwip220/api/sockets.c **** #include "netbuf.c"
  79:ThirdPackage/lwip220/api/sockets.c **** #undef LWIP_NETCONN
  80:ThirdPackage/lwip220/api/sockets.c **** #define LWIP_NETCONN 0
  81:ThirdPackage/lwip220/api/sockets.c **** #endif
  82:ThirdPackage/lwip220/api/sockets.c **** 
  83:ThirdPackage/lwip220/api/sockets.c **** #define API_SELECT_CB_VAR_REF(name)               API_VAR_REF(name)
  84:ThirdPackage/lwip220/api/sockets.c **** #define API_SELECT_CB_VAR_DECLARE(name)           API_VAR_DECLARE(struct lwip_select_cb, name)
  85:ThirdPackage/lwip220/api/sockets.c **** #define API_SELECT_CB_VAR_ALLOC(name, retblock)   API_VAR_ALLOC_EXT(struct lwip_select_cb, MEMP_SEL
  86:ThirdPackage/lwip220/api/sockets.c **** #define API_SELECT_CB_VAR_FREE(name)              API_VAR_FREE(MEMP_SELECT_CB, name)
  87:ThirdPackage/lwip220/api/sockets.c **** 
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 3


  88:ThirdPackage/lwip220/api/sockets.c **** #ifndef LWIP_SOCKET_HAVE_SA_LEN
  89:ThirdPackage/lwip220/api/sockets.c **** #define LWIP_SOCKET_HAVE_SA_LEN 0
  90:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_SOCKET_HAVE_SA_LEN */
  91:ThirdPackage/lwip220/api/sockets.c **** 
  92:ThirdPackage/lwip220/api/sockets.c **** /* Address length safe read and write */
  93:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_SOCKET_HAVE_SA_LEN
  94:ThirdPackage/lwip220/api/sockets.c **** 
  95:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_IPV4
  96:ThirdPackage/lwip220/api/sockets.c **** #define IP4ADDR_SOCKADDR_SET_LEN(sin) \
  97:ThirdPackage/lwip220/api/sockets.c ****       (sin)->sin_len = sizeof(struct sockaddr_in)
  98:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_IPV4 */
  99:ThirdPackage/lwip220/api/sockets.c **** 
 100:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_IPV6
 101:ThirdPackage/lwip220/api/sockets.c **** #define IP6ADDR_SOCKADDR_SET_LEN(sin6) \
 102:ThirdPackage/lwip220/api/sockets.c ****       (sin6)->sin6_len = sizeof(struct sockaddr_in6)
 103:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_IPV6 */
 104:ThirdPackage/lwip220/api/sockets.c **** 
 105:ThirdPackage/lwip220/api/sockets.c **** #define IPADDR_SOCKADDR_GET_LEN(addr) \
 106:ThirdPackage/lwip220/api/sockets.c ****       (addr)->sa.sa_len
 107:ThirdPackage/lwip220/api/sockets.c **** 
 108:ThirdPackage/lwip220/api/sockets.c **** #else
 109:ThirdPackage/lwip220/api/sockets.c **** 
 110:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_IPV4
 111:ThirdPackage/lwip220/api/sockets.c **** #define IP4ADDR_SOCKADDR_SET_LEN(addr)
 112:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_IPV4 */
 113:ThirdPackage/lwip220/api/sockets.c **** 
 114:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_IPV6
 115:ThirdPackage/lwip220/api/sockets.c **** #define IP6ADDR_SOCKADDR_SET_LEN(addr)
 116:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_IPV6 */
 117:ThirdPackage/lwip220/api/sockets.c **** 
 118:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_IPV4 && LWIP_IPV6
 119:ThirdPackage/lwip220/api/sockets.c **** #define IPADDR_SOCKADDR_GET_LEN(addr) \
 120:ThirdPackage/lwip220/api/sockets.c ****       ((addr)->sa.sa_family == AF_INET ? sizeof(struct sockaddr_in) \
 121:ThirdPackage/lwip220/api/sockets.c ****         : ((addr)->sa.sa_family == AF_INET6 ? sizeof(struct sockaddr_in6) : 0))
 122:ThirdPackage/lwip220/api/sockets.c **** #elif LWIP_IPV4
 123:ThirdPackage/lwip220/api/sockets.c **** #define IPADDR_SOCKADDR_GET_LEN(addr) sizeof(struct sockaddr_in)
 124:ThirdPackage/lwip220/api/sockets.c **** #elif LWIP_IPV6
 125:ThirdPackage/lwip220/api/sockets.c **** #define IPADDR_SOCKADDR_GET_LEN(addr) sizeof(struct sockaddr_in6)
 126:ThirdPackage/lwip220/api/sockets.c **** #else
 127:ThirdPackage/lwip220/api/sockets.c **** #define IPADDR_SOCKADDR_GET_LEN(addr) sizeof(struct sockaddr)
 128:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_IPV4 && LWIP_IPV6 */
 129:ThirdPackage/lwip220/api/sockets.c **** 
 130:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_SOCKET_HAVE_SA_LEN */
 131:ThirdPackage/lwip220/api/sockets.c **** 
 132:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_IPV4
 133:ThirdPackage/lwip220/api/sockets.c **** #define IP4ADDR_PORT_TO_SOCKADDR(sin, ipaddr, port) do { \
 134:ThirdPackage/lwip220/api/sockets.c ****       IP4ADDR_SOCKADDR_SET_LEN(sin); \
 135:ThirdPackage/lwip220/api/sockets.c ****       (sin)->sin_family = AF_INET; \
 136:ThirdPackage/lwip220/api/sockets.c ****       (sin)->sin_port = lwip_htons((port)); \
 137:ThirdPackage/lwip220/api/sockets.c ****       inet_addr_from_ip4addr(&(sin)->sin_addr, ipaddr); \
 138:ThirdPackage/lwip220/api/sockets.c ****       memset((sin)->sin_zero, 0, SIN_ZERO_LEN); }while(0)
 139:ThirdPackage/lwip220/api/sockets.c **** #define SOCKADDR4_TO_IP4ADDR_PORT(sin, ipaddr, port) do { \
 140:ThirdPackage/lwip220/api/sockets.c ****     inet_addr_to_ip4addr(ip_2_ip4(ipaddr), &((sin)->sin_addr)); \
 141:ThirdPackage/lwip220/api/sockets.c ****     (port) = lwip_ntohs((sin)->sin_port); }while(0)
 142:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_IPV4 */
 143:ThirdPackage/lwip220/api/sockets.c **** 
 144:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_IPV6
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 4


 145:ThirdPackage/lwip220/api/sockets.c **** #define IP6ADDR_PORT_TO_SOCKADDR(sin6, ipaddr, port) do { \
 146:ThirdPackage/lwip220/api/sockets.c ****       IP6ADDR_SOCKADDR_SET_LEN(sin6); \
 147:ThirdPackage/lwip220/api/sockets.c ****       (sin6)->sin6_family = AF_INET6; \
 148:ThirdPackage/lwip220/api/sockets.c ****       (sin6)->sin6_port = lwip_htons((port)); \
 149:ThirdPackage/lwip220/api/sockets.c ****       (sin6)->sin6_flowinfo = 0; \
 150:ThirdPackage/lwip220/api/sockets.c ****       inet6_addr_from_ip6addr(&(sin6)->sin6_addr, ipaddr); \
 151:ThirdPackage/lwip220/api/sockets.c ****       (sin6)->sin6_scope_id = ip6_addr_zone(ipaddr); }while(0)
 152:ThirdPackage/lwip220/api/sockets.c **** #define SOCKADDR6_TO_IP6ADDR_PORT(sin6, ipaddr, port) do { \
 153:ThirdPackage/lwip220/api/sockets.c ****     inet6_addr_to_ip6addr(ip_2_ip6(ipaddr), &((sin6)->sin6_addr)); \
 154:ThirdPackage/lwip220/api/sockets.c ****     if (ip6_addr_has_scope(ip_2_ip6(ipaddr), IP6_UNKNOWN)) { \
 155:ThirdPackage/lwip220/api/sockets.c ****       ip6_addr_set_zone(ip_2_ip6(ipaddr), (u8_t)((sin6)->sin6_scope_id)); \
 156:ThirdPackage/lwip220/api/sockets.c ****     } \
 157:ThirdPackage/lwip220/api/sockets.c ****     (port) = lwip_ntohs((sin6)->sin6_port); }while(0)
 158:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_IPV6 */
 159:ThirdPackage/lwip220/api/sockets.c **** 
 160:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_IPV4 && LWIP_IPV6
 161:ThirdPackage/lwip220/api/sockets.c **** static void sockaddr_to_ipaddr_port(const struct sockaddr *sockaddr, ip_addr_t *ipaddr, u16_t *port
 162:ThirdPackage/lwip220/api/sockets.c **** 
 163:ThirdPackage/lwip220/api/sockets.c **** #define IS_SOCK_ADDR_LEN_VALID(namelen)  (((namelen) == sizeof(struct sockaddr_in)) || \
 164:ThirdPackage/lwip220/api/sockets.c ****                                          ((namelen) == sizeof(struct sockaddr_in6)))
 165:ThirdPackage/lwip220/api/sockets.c **** #define IS_SOCK_ADDR_TYPE_VALID(name)    (((name)->sa_family == AF_INET) || \
 166:ThirdPackage/lwip220/api/sockets.c ****                                          ((name)->sa_family == AF_INET6))
 167:ThirdPackage/lwip220/api/sockets.c **** #define SOCK_ADDR_TYPE_MATCH(name, sock) \
 168:ThirdPackage/lwip220/api/sockets.c ****        ((((name)->sa_family == AF_INET) && !(NETCONNTYPE_ISIPV6((sock)->conn->type))) || \
 169:ThirdPackage/lwip220/api/sockets.c ****        (((name)->sa_family == AF_INET6) && (NETCONNTYPE_ISIPV6((sock)->conn->type))))
 170:ThirdPackage/lwip220/api/sockets.c **** #define IPADDR_PORT_TO_SOCKADDR(sockaddr, ipaddr, port) do { \
 171:ThirdPackage/lwip220/api/sockets.c ****     if (IP_IS_ANY_TYPE_VAL(*ipaddr) || IP_IS_V6_VAL(*ipaddr)) { \
 172:ThirdPackage/lwip220/api/sockets.c ****       IP6ADDR_PORT_TO_SOCKADDR((struct sockaddr_in6*)(void*)(sockaddr), ip_2_ip6(ipaddr), port); \
 173:ThirdPackage/lwip220/api/sockets.c ****     } else { \
 174:ThirdPackage/lwip220/api/sockets.c ****       IP4ADDR_PORT_TO_SOCKADDR((struct sockaddr_in*)(void*)(sockaddr), ip_2_ip4(ipaddr), port); \
 175:ThirdPackage/lwip220/api/sockets.c ****     } } while(0)
 176:ThirdPackage/lwip220/api/sockets.c **** #define SOCKADDR_TO_IPADDR_PORT(sockaddr, ipaddr, port) sockaddr_to_ipaddr_port(sockaddr, ipaddr, &
 177:ThirdPackage/lwip220/api/sockets.c **** #define DOMAIN_TO_NETCONN_TYPE(domain, type) (((domain) == AF_INET) ? \
 178:ThirdPackage/lwip220/api/sockets.c ****   (type) : (enum netconn_type)((type) | NETCONN_TYPE_IPV6))
 179:ThirdPackage/lwip220/api/sockets.c **** #elif LWIP_IPV6 /* LWIP_IPV4 && LWIP_IPV6 */
 180:ThirdPackage/lwip220/api/sockets.c **** #define IS_SOCK_ADDR_LEN_VALID(namelen)  ((namelen) == sizeof(struct sockaddr_in6))
 181:ThirdPackage/lwip220/api/sockets.c **** #define IS_SOCK_ADDR_TYPE_VALID(name)    ((name)->sa_family == AF_INET6)
 182:ThirdPackage/lwip220/api/sockets.c **** #define SOCK_ADDR_TYPE_MATCH(name, sock) 1
 183:ThirdPackage/lwip220/api/sockets.c **** #define IPADDR_PORT_TO_SOCKADDR(sockaddr, ipaddr, port) \
 184:ThirdPackage/lwip220/api/sockets.c ****         IP6ADDR_PORT_TO_SOCKADDR((struct sockaddr_in6*)(void*)(sockaddr), ip_2_ip6(ipaddr), port)
 185:ThirdPackage/lwip220/api/sockets.c **** #define SOCKADDR_TO_IPADDR_PORT(sockaddr, ipaddr, port) \
 186:ThirdPackage/lwip220/api/sockets.c ****         SOCKADDR6_TO_IP6ADDR_PORT((const struct sockaddr_in6*)(const void*)(sockaddr), ipaddr, port
 187:ThirdPackage/lwip220/api/sockets.c **** #define DOMAIN_TO_NETCONN_TYPE(domain, netconn_type) (netconn_type)
 188:ThirdPackage/lwip220/api/sockets.c **** #else /*-> LWIP_IPV4: LWIP_IPV4 && LWIP_IPV6 */
 189:ThirdPackage/lwip220/api/sockets.c **** #define IS_SOCK_ADDR_LEN_VALID(namelen)  ((namelen) == sizeof(struct sockaddr_in))
 190:ThirdPackage/lwip220/api/sockets.c **** #define IS_SOCK_ADDR_TYPE_VALID(name)    ((name)->sa_family == AF_INET)
 191:ThirdPackage/lwip220/api/sockets.c **** #define SOCK_ADDR_TYPE_MATCH(name, sock) 1
 192:ThirdPackage/lwip220/api/sockets.c **** #define IPADDR_PORT_TO_SOCKADDR(sockaddr, ipaddr, port) \
 193:ThirdPackage/lwip220/api/sockets.c ****         IP4ADDR_PORT_TO_SOCKADDR((struct sockaddr_in*)(void*)(sockaddr), ip_2_ip4(ipaddr), port)
 194:ThirdPackage/lwip220/api/sockets.c **** #define SOCKADDR_TO_IPADDR_PORT(sockaddr, ipaddr, port) \
 195:ThirdPackage/lwip220/api/sockets.c ****         SOCKADDR4_TO_IP4ADDR_PORT((const struct sockaddr_in*)(const void*)(sockaddr), ipaddr, port)
 196:ThirdPackage/lwip220/api/sockets.c **** #define DOMAIN_TO_NETCONN_TYPE(domain, netconn_type) (netconn_type)
 197:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_IPV6 */
 198:ThirdPackage/lwip220/api/sockets.c **** 
 199:ThirdPackage/lwip220/api/sockets.c **** #define IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name)    (((name)->sa_family == AF_UNSPEC) || \
 200:ThirdPackage/lwip220/api/sockets.c ****                                                     IS_SOCK_ADDR_TYPE_VALID(name))
 201:ThirdPackage/lwip220/api/sockets.c **** #define SOCK_ADDR_TYPE_MATCH_OR_UNSPEC(name, sock) (((name)->sa_family == AF_UNSPEC) || \
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 5


 202:ThirdPackage/lwip220/api/sockets.c ****                                                     SOCK_ADDR_TYPE_MATCH(name, sock))
 203:ThirdPackage/lwip220/api/sockets.c **** #define IS_SOCK_ADDR_ALIGNED(name)      ((((mem_ptr_t)(name)) % LWIP_MIN(4, MEM_ALIGNMENT)) == 0)
 204:ThirdPackage/lwip220/api/sockets.c **** 
 205:ThirdPackage/lwip220/api/sockets.c **** 
 206:ThirdPackage/lwip220/api/sockets.c **** #define LWIP_SOCKOPT_CHECK_OPTLEN(sock, optlen, opttype) do { if ((optlen) < sizeof(opttype)) { don
 207:ThirdPackage/lwip220/api/sockets.c **** #define LWIP_SOCKOPT_CHECK_OPTLEN_CONN(sock, optlen, opttype) do { \
 208:ThirdPackage/lwip220/api/sockets.c ****   LWIP_SOCKOPT_CHECK_OPTLEN(sock, optlen, opttype); \
 209:ThirdPackage/lwip220/api/sockets.c ****   if ((sock)->conn == NULL) { done_socket(sock); return EINVAL; } }while(0)
 210:ThirdPackage/lwip220/api/sockets.c **** #define LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, optlen, opttype) do { \
 211:ThirdPackage/lwip220/api/sockets.c ****   LWIP_SOCKOPT_CHECK_OPTLEN(sock, optlen, opttype); \
 212:ThirdPackage/lwip220/api/sockets.c ****   if (((sock)->conn == NULL) || ((sock)->conn->pcb.tcp == NULL)) { done_socket(sock); return EINVAL
 213:ThirdPackage/lwip220/api/sockets.c **** #define LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB_TYPE(sock, optlen, opttype, netconntype) do { \
 214:ThirdPackage/lwip220/api/sockets.c ****   LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, optlen, opttype); \
 215:ThirdPackage/lwip220/api/sockets.c ****   if (NETCONNTYPE_GROUP(netconn_type((sock)->conn)) != netconntype) { done_socket(sock); return ENO
 216:ThirdPackage/lwip220/api/sockets.c **** 
 217:ThirdPackage/lwip220/api/sockets.c **** 
 218:ThirdPackage/lwip220/api/sockets.c **** #define LWIP_SETGETSOCKOPT_DATA_VAR_REF(name)     API_VAR_REF(name)
 219:ThirdPackage/lwip220/api/sockets.c **** #define LWIP_SETGETSOCKOPT_DATA_VAR_DECLARE(name) API_VAR_DECLARE(struct lwip_setgetsockopt_data, n
 220:ThirdPackage/lwip220/api/sockets.c **** #define LWIP_SETGETSOCKOPT_DATA_VAR_FREE(name)    API_VAR_FREE(MEMP_SOCKET_SETGETSOCKOPT_DATA, name
 221:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_MPU_COMPATIBLE
 222:ThirdPackage/lwip220/api/sockets.c **** #define LWIP_SETGETSOCKOPT_DATA_VAR_ALLOC(name, sock) do { \
 223:ThirdPackage/lwip220/api/sockets.c ****   name = (struct lwip_setgetsockopt_data *)memp_malloc(MEMP_SOCKET_SETGETSOCKOPT_DATA); \
 224:ThirdPackage/lwip220/api/sockets.c ****   if (name == NULL) { \
 225:ThirdPackage/lwip220/api/sockets.c ****     set_errno(ENOMEM); \
 226:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock); \
 227:ThirdPackage/lwip220/api/sockets.c ****     return -1; \
 228:ThirdPackage/lwip220/api/sockets.c ****   } }while(0)
 229:ThirdPackage/lwip220/api/sockets.c **** #else /* LWIP_MPU_COMPATIBLE */
 230:ThirdPackage/lwip220/api/sockets.c **** #define LWIP_SETGETSOCKOPT_DATA_VAR_ALLOC(name, sock)
 231:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_MPU_COMPATIBLE */
 232:ThirdPackage/lwip220/api/sockets.c **** 
 233:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_SO_SNDRCVTIMEO_NONSTANDARD
 234:ThirdPackage/lwip220/api/sockets.c **** #define LWIP_SO_SNDRCVTIMEO_OPTTYPE int
 235:ThirdPackage/lwip220/api/sockets.c **** #define LWIP_SO_SNDRCVTIMEO_SET(optval, val) (*(int *)(optval) = (val))
 236:ThirdPackage/lwip220/api/sockets.c **** #define LWIP_SO_SNDRCVTIMEO_GET_MS(optval)   ((long)*(const int*)(optval))
 237:ThirdPackage/lwip220/api/sockets.c **** #else
 238:ThirdPackage/lwip220/api/sockets.c **** #define LWIP_SO_SNDRCVTIMEO_OPTTYPE struct timeval
 239:ThirdPackage/lwip220/api/sockets.c **** #define LWIP_SO_SNDRCVTIMEO_SET(optval, val)  do { \
 240:ThirdPackage/lwip220/api/sockets.c ****   u32_t loc = (val); \
 241:ThirdPackage/lwip220/api/sockets.c ****   ((struct timeval *)(optval))->tv_sec = (long)((loc) / 1000U); \
 242:ThirdPackage/lwip220/api/sockets.c ****   ((struct timeval *)(optval))->tv_usec = (long)(((loc) % 1000U) * 1000U); }while(0)
 243:ThirdPackage/lwip220/api/sockets.c **** #define LWIP_SO_SNDRCVTIMEO_GET_MS(optval) ((((const struct timeval *)(optval))->tv_sec * 1000) + (
 244:ThirdPackage/lwip220/api/sockets.c **** #endif
 245:ThirdPackage/lwip220/api/sockets.c **** 
 246:ThirdPackage/lwip220/api/sockets.c **** 
 247:ThirdPackage/lwip220/api/sockets.c **** /** A struct sockaddr replacement that has the same alignment as sockaddr_in/
 248:ThirdPackage/lwip220/api/sockets.c ****  *  sockaddr_in6 if instantiated.
 249:ThirdPackage/lwip220/api/sockets.c ****  */
 250:ThirdPackage/lwip220/api/sockets.c **** union sockaddr_aligned {
 251:ThirdPackage/lwip220/api/sockets.c ****   struct sockaddr sa;
 252:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_IPV6
 253:ThirdPackage/lwip220/api/sockets.c ****   struct sockaddr_in6 sin6;
 254:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_IPV6 */
 255:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_IPV4
 256:ThirdPackage/lwip220/api/sockets.c ****   struct sockaddr_in sin;
 257:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_IPV4 */
 258:ThirdPackage/lwip220/api/sockets.c **** };
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 6


 259:ThirdPackage/lwip220/api/sockets.c **** 
 260:ThirdPackage/lwip220/api/sockets.c **** /* Define the number of IPv4 multicast memberships, default is one per socket */
 261:ThirdPackage/lwip220/api/sockets.c **** #ifndef LWIP_SOCKET_MAX_MEMBERSHIPS
 262:ThirdPackage/lwip220/api/sockets.c **** #define LWIP_SOCKET_MAX_MEMBERSHIPS NUM_SOCKETS
 263:ThirdPackage/lwip220/api/sockets.c **** #endif
 264:ThirdPackage/lwip220/api/sockets.c **** 
 265:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_IGMP
 266:ThirdPackage/lwip220/api/sockets.c **** /* This is to keep track of IP_ADD_MEMBERSHIP calls to drop the membership when
 267:ThirdPackage/lwip220/api/sockets.c ****    a socket is closed */
 268:ThirdPackage/lwip220/api/sockets.c **** struct lwip_socket_multicast_pair {
 269:ThirdPackage/lwip220/api/sockets.c ****   /** the socket */
 270:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock;
 271:ThirdPackage/lwip220/api/sockets.c ****   /** the interface address */
 272:ThirdPackage/lwip220/api/sockets.c ****   ip4_addr_t if_addr;
 273:ThirdPackage/lwip220/api/sockets.c ****   /** the group address */
 274:ThirdPackage/lwip220/api/sockets.c ****   ip4_addr_t multi_addr;
 275:ThirdPackage/lwip220/api/sockets.c **** };
 276:ThirdPackage/lwip220/api/sockets.c **** 
 277:ThirdPackage/lwip220/api/sockets.c **** static struct lwip_socket_multicast_pair socket_ipv4_multicast_memberships[LWIP_SOCKET_MAX_MEMBERSH
 278:ThirdPackage/lwip220/api/sockets.c **** 
 279:ThirdPackage/lwip220/api/sockets.c **** static int  lwip_socket_register_membership(int s, const ip4_addr_t *if_addr, const ip4_addr_t *mul
 280:ThirdPackage/lwip220/api/sockets.c **** static void lwip_socket_unregister_membership(int s, const ip4_addr_t *if_addr, const ip4_addr_t *m
 281:ThirdPackage/lwip220/api/sockets.c **** static void lwip_socket_drop_registered_memberships(int s);
 282:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_IGMP */
 283:ThirdPackage/lwip220/api/sockets.c **** 
 284:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_IPV6_MLD
 285:ThirdPackage/lwip220/api/sockets.c **** /* This is to keep track of IP_JOIN_GROUP calls to drop the membership when
 286:ThirdPackage/lwip220/api/sockets.c ****    a socket is closed */
 287:ThirdPackage/lwip220/api/sockets.c **** struct lwip_socket_multicast_mld6_pair {
 288:ThirdPackage/lwip220/api/sockets.c ****   /** the socket */
 289:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock;
 290:ThirdPackage/lwip220/api/sockets.c ****   /** the interface index */
 291:ThirdPackage/lwip220/api/sockets.c ****   u8_t if_idx;
 292:ThirdPackage/lwip220/api/sockets.c ****   /** the group address */
 293:ThirdPackage/lwip220/api/sockets.c ****   ip6_addr_t multi_addr;
 294:ThirdPackage/lwip220/api/sockets.c **** };
 295:ThirdPackage/lwip220/api/sockets.c **** 
 296:ThirdPackage/lwip220/api/sockets.c **** static struct lwip_socket_multicast_mld6_pair socket_ipv6_multicast_memberships[LWIP_SOCKET_MAX_MEM
 297:ThirdPackage/lwip220/api/sockets.c **** 
 298:ThirdPackage/lwip220/api/sockets.c **** static int  lwip_socket_register_mld6_membership(int s, unsigned int if_idx, const ip6_addr_t *mult
 299:ThirdPackage/lwip220/api/sockets.c **** static void lwip_socket_unregister_mld6_membership(int s, unsigned int if_idx, const ip6_addr_t *mu
 300:ThirdPackage/lwip220/api/sockets.c **** static void lwip_socket_drop_registered_mld6_memberships(int s);
 301:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_IPV6_MLD */
 302:ThirdPackage/lwip220/api/sockets.c **** 
 303:ThirdPackage/lwip220/api/sockets.c **** /** The global array of available sockets */
 304:ThirdPackage/lwip220/api/sockets.c **** static struct lwip_sock sockets[NUM_SOCKETS];
 305:ThirdPackage/lwip220/api/sockets.c **** 
 306:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_SOCKET_SELECT || LWIP_SOCKET_POLL
 307:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_TCPIP_CORE_LOCKING
 308:ThirdPackage/lwip220/api/sockets.c **** /* protect the select_cb_list using core lock */
 309:ThirdPackage/lwip220/api/sockets.c **** #define LWIP_SOCKET_SELECT_DECL_PROTECT(lev)
 310:ThirdPackage/lwip220/api/sockets.c **** #define LWIP_SOCKET_SELECT_PROTECT(lev)   LOCK_TCPIP_CORE()
 311:ThirdPackage/lwip220/api/sockets.c **** #define LWIP_SOCKET_SELECT_UNPROTECT(lev) UNLOCK_TCPIP_CORE()
 312:ThirdPackage/lwip220/api/sockets.c **** #else /* LWIP_TCPIP_CORE_LOCKING */
 313:ThirdPackage/lwip220/api/sockets.c **** /* protect the select_cb_list using SYS_LIGHTWEIGHT_PROT */
 314:ThirdPackage/lwip220/api/sockets.c **** #define LWIP_SOCKET_SELECT_DECL_PROTECT(lev)  SYS_ARCH_DECL_PROTECT(lev)
 315:ThirdPackage/lwip220/api/sockets.c **** #define LWIP_SOCKET_SELECT_PROTECT(lev)       SYS_ARCH_PROTECT(lev)
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 7


 316:ThirdPackage/lwip220/api/sockets.c **** #define LWIP_SOCKET_SELECT_UNPROTECT(lev)     SYS_ARCH_UNPROTECT(lev)
 317:ThirdPackage/lwip220/api/sockets.c **** /** This counter is increased from lwip_select when the list is changed
 318:ThirdPackage/lwip220/api/sockets.c ****     and checked in select_check_waiters to see if it has changed. */
 319:ThirdPackage/lwip220/api/sockets.c **** static volatile int select_cb_ctr;
 320:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
 321:ThirdPackage/lwip220/api/sockets.c **** /** The global list of tasks waiting for select */
 322:ThirdPackage/lwip220/api/sockets.c **** static struct lwip_select_cb *select_cb_list;
 323:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_SOCKET_SELECT || LWIP_SOCKET_POLL */
 324:ThirdPackage/lwip220/api/sockets.c **** 
 325:ThirdPackage/lwip220/api/sockets.c **** /* Forward declaration of some functions */
 326:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_SOCKET_SELECT || LWIP_SOCKET_POLL
 327:ThirdPackage/lwip220/api/sockets.c **** static void event_callback(struct netconn *conn, enum netconn_evt evt, u16_t len);
 328:ThirdPackage/lwip220/api/sockets.c **** #define DEFAULT_SOCKET_EVENTCB event_callback
 329:ThirdPackage/lwip220/api/sockets.c **** static void select_check_waiters(int s, int has_recvevent, int has_sendevent, int has_errevent);
 330:ThirdPackage/lwip220/api/sockets.c **** #else
 331:ThirdPackage/lwip220/api/sockets.c **** #define DEFAULT_SOCKET_EVENTCB NULL
 332:ThirdPackage/lwip220/api/sockets.c **** #endif
 333:ThirdPackage/lwip220/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
 334:ThirdPackage/lwip220/api/sockets.c **** static void lwip_getsockopt_callback(void *arg);
 335:ThirdPackage/lwip220/api/sockets.c **** static void lwip_setsockopt_callback(void *arg);
 336:ThirdPackage/lwip220/api/sockets.c **** #endif
 337:ThirdPackage/lwip220/api/sockets.c **** static int lwip_getsockopt_impl(int s, int level, int optname, void *optval, socklen_t *optlen);
 338:ThirdPackage/lwip220/api/sockets.c **** static int lwip_setsockopt_impl(int s, int level, int optname, const void *optval, socklen_t optlen
 339:ThirdPackage/lwip220/api/sockets.c **** static int free_socket_locked(struct lwip_sock *sock, int is_tcp, struct netconn **conn,
 340:ThirdPackage/lwip220/api/sockets.c ****                               union lwip_sock_lastdata *lastdata);
 341:ThirdPackage/lwip220/api/sockets.c **** static void free_socket_free_elements(int is_tcp, struct netconn *conn, union lwip_sock_lastdata *l
 342:ThirdPackage/lwip220/api/sockets.c **** 
 343:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_IPV4 && LWIP_IPV6
 344:ThirdPackage/lwip220/api/sockets.c **** static void
 345:ThirdPackage/lwip220/api/sockets.c **** sockaddr_to_ipaddr_port(const struct sockaddr *sockaddr, ip_addr_t *ipaddr, u16_t *port)
 346:ThirdPackage/lwip220/api/sockets.c **** {
 347:ThirdPackage/lwip220/api/sockets.c ****   if ((sockaddr->sa_family) == AF_INET6) {
 348:ThirdPackage/lwip220/api/sockets.c ****     SOCKADDR6_TO_IP6ADDR_PORT((const struct sockaddr_in6 *)(const void *)(sockaddr), ipaddr, *port)
 349:ThirdPackage/lwip220/api/sockets.c ****     ipaddr->type = IPADDR_TYPE_V6;
 350:ThirdPackage/lwip220/api/sockets.c ****   } else {
 351:ThirdPackage/lwip220/api/sockets.c ****     SOCKADDR4_TO_IP4ADDR_PORT((const struct sockaddr_in *)(const void *)(sockaddr), ipaddr, *port);
 352:ThirdPackage/lwip220/api/sockets.c ****     ipaddr->type = IPADDR_TYPE_V4;
 353:ThirdPackage/lwip220/api/sockets.c ****   }
 354:ThirdPackage/lwip220/api/sockets.c **** }
 355:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_IPV4 && LWIP_IPV6 */
 356:ThirdPackage/lwip220/api/sockets.c **** 
 357:ThirdPackage/lwip220/api/sockets.c **** /** LWIP_NETCONN_SEM_PER_THREAD==1: initialize thread-local semaphore */
 358:ThirdPackage/lwip220/api/sockets.c **** void
 359:ThirdPackage/lwip220/api/sockets.c **** lwip_socket_thread_init(void)
 360:ThirdPackage/lwip220/api/sockets.c **** {
 361:ThirdPackage/lwip220/api/sockets.c ****   netconn_thread_init();
 362:ThirdPackage/lwip220/api/sockets.c **** }
 363:ThirdPackage/lwip220/api/sockets.c **** 
 364:ThirdPackage/lwip220/api/sockets.c **** /** LWIP_NETCONN_SEM_PER_THREAD==1: destroy thread-local semaphore */
 365:ThirdPackage/lwip220/api/sockets.c **** void
 366:ThirdPackage/lwip220/api/sockets.c **** lwip_socket_thread_cleanup(void)
 367:ThirdPackage/lwip220/api/sockets.c **** {
 368:ThirdPackage/lwip220/api/sockets.c ****   netconn_thread_cleanup();
 369:ThirdPackage/lwip220/api/sockets.c **** }
 370:ThirdPackage/lwip220/api/sockets.c **** 
 371:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_NETCONN_FULLDUPLEX
 372:ThirdPackage/lwip220/api/sockets.c **** /* Thread-safe increment of sock->fd_used, with overflow check */
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 8


 373:ThirdPackage/lwip220/api/sockets.c **** static int
 374:ThirdPackage/lwip220/api/sockets.c **** sock_inc_used(struct lwip_sock *sock)
 375:ThirdPackage/lwip220/api/sockets.c **** {
 376:ThirdPackage/lwip220/api/sockets.c ****   int ret;
 377:ThirdPackage/lwip220/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
 378:ThirdPackage/lwip220/api/sockets.c **** 
 379:ThirdPackage/lwip220/api/sockets.c ****   LWIP_ASSERT("sock != NULL", sock != NULL);
 380:ThirdPackage/lwip220/api/sockets.c **** 
 381:ThirdPackage/lwip220/api/sockets.c ****   SYS_ARCH_PROTECT(lev);
 382:ThirdPackage/lwip220/api/sockets.c ****   if (sock->fd_free_pending) {
 383:ThirdPackage/lwip220/api/sockets.c ****     /* prevent new usage of this socket if free is pending */
 384:ThirdPackage/lwip220/api/sockets.c ****     ret = 0;
 385:ThirdPackage/lwip220/api/sockets.c ****   } else {
 386:ThirdPackage/lwip220/api/sockets.c ****     ++sock->fd_used;
 387:ThirdPackage/lwip220/api/sockets.c ****     ret = 1;
 388:ThirdPackage/lwip220/api/sockets.c ****     LWIP_ASSERT("sock->fd_used != 0", sock->fd_used != 0);
 389:ThirdPackage/lwip220/api/sockets.c ****   }
 390:ThirdPackage/lwip220/api/sockets.c ****   SYS_ARCH_UNPROTECT(lev);
 391:ThirdPackage/lwip220/api/sockets.c ****   return ret;
 392:ThirdPackage/lwip220/api/sockets.c **** }
 393:ThirdPackage/lwip220/api/sockets.c **** 
 394:ThirdPackage/lwip220/api/sockets.c **** /* Like sock_inc_used(), but called under SYS_ARCH_PROTECT lock. */
 395:ThirdPackage/lwip220/api/sockets.c **** static int
 396:ThirdPackage/lwip220/api/sockets.c **** sock_inc_used_locked(struct lwip_sock *sock)
 397:ThirdPackage/lwip220/api/sockets.c **** {
 398:ThirdPackage/lwip220/api/sockets.c ****   LWIP_ASSERT("sock != NULL", sock != NULL);
 399:ThirdPackage/lwip220/api/sockets.c **** 
 400:ThirdPackage/lwip220/api/sockets.c ****   if (sock->fd_free_pending) {
 401:ThirdPackage/lwip220/api/sockets.c ****     LWIP_ASSERT("sock->fd_used != 0", sock->fd_used != 0);
 402:ThirdPackage/lwip220/api/sockets.c ****     return 0;
 403:ThirdPackage/lwip220/api/sockets.c ****   }
 404:ThirdPackage/lwip220/api/sockets.c **** 
 405:ThirdPackage/lwip220/api/sockets.c ****   ++sock->fd_used;
 406:ThirdPackage/lwip220/api/sockets.c ****   LWIP_ASSERT("sock->fd_used != 0", sock->fd_used != 0);
 407:ThirdPackage/lwip220/api/sockets.c ****   return 1;
 408:ThirdPackage/lwip220/api/sockets.c **** }
 409:ThirdPackage/lwip220/api/sockets.c **** 
 410:ThirdPackage/lwip220/api/sockets.c **** /* In full-duplex mode,sock->fd_used != 0 prevents a socket descriptor from being
 411:ThirdPackage/lwip220/api/sockets.c ****  * released (and possibly reused) when used from more than one thread
 412:ThirdPackage/lwip220/api/sockets.c ****  * (e.g. read-while-write or close-while-write, etc)
 413:ThirdPackage/lwip220/api/sockets.c ****  * This function is called at the end of functions using (try)get_socket*().
 414:ThirdPackage/lwip220/api/sockets.c ****  */
 415:ThirdPackage/lwip220/api/sockets.c **** static void
 416:ThirdPackage/lwip220/api/sockets.c **** done_socket(struct lwip_sock *sock)
 417:ThirdPackage/lwip220/api/sockets.c **** {
 418:ThirdPackage/lwip220/api/sockets.c ****   int freed = 0;
 419:ThirdPackage/lwip220/api/sockets.c ****   int is_tcp = 0;
 420:ThirdPackage/lwip220/api/sockets.c ****   struct netconn *conn = NULL;
 421:ThirdPackage/lwip220/api/sockets.c ****   union lwip_sock_lastdata lastdata;
 422:ThirdPackage/lwip220/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
 423:ThirdPackage/lwip220/api/sockets.c ****   LWIP_ASSERT("sock != NULL", sock != NULL);
 424:ThirdPackage/lwip220/api/sockets.c **** 
 425:ThirdPackage/lwip220/api/sockets.c ****   SYS_ARCH_PROTECT(lev);
 426:ThirdPackage/lwip220/api/sockets.c ****   LWIP_ASSERT("sock->fd_used > 0", sock->fd_used > 0);
 427:ThirdPackage/lwip220/api/sockets.c ****   if (--sock->fd_used == 0) {
 428:ThirdPackage/lwip220/api/sockets.c ****     if (sock->fd_free_pending) {
 429:ThirdPackage/lwip220/api/sockets.c ****       /* free the socket */
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 9


 430:ThirdPackage/lwip220/api/sockets.c ****       sock->fd_used = 1;
 431:ThirdPackage/lwip220/api/sockets.c ****       is_tcp = sock->fd_free_pending & LWIP_SOCK_FD_FREE_TCP;
 432:ThirdPackage/lwip220/api/sockets.c ****       freed = free_socket_locked(sock, is_tcp, &conn, &lastdata);
 433:ThirdPackage/lwip220/api/sockets.c ****     }
 434:ThirdPackage/lwip220/api/sockets.c ****   }
 435:ThirdPackage/lwip220/api/sockets.c ****   SYS_ARCH_UNPROTECT(lev);
 436:ThirdPackage/lwip220/api/sockets.c **** 
 437:ThirdPackage/lwip220/api/sockets.c ****   if (freed) {
 438:ThirdPackage/lwip220/api/sockets.c ****     free_socket_free_elements(is_tcp, conn, &lastdata);
 439:ThirdPackage/lwip220/api/sockets.c ****   }
 440:ThirdPackage/lwip220/api/sockets.c **** }
 441:ThirdPackage/lwip220/api/sockets.c **** 
 442:ThirdPackage/lwip220/api/sockets.c **** #else /* LWIP_NETCONN_FULLDUPLEX */
 443:ThirdPackage/lwip220/api/sockets.c **** #define sock_inc_used(sock)         1
 444:ThirdPackage/lwip220/api/sockets.c **** #define sock_inc_used_locked(sock)  1
 445:ThirdPackage/lwip220/api/sockets.c **** #define done_socket(sock)
 446:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
 447:ThirdPackage/lwip220/api/sockets.c **** 
 448:ThirdPackage/lwip220/api/sockets.c **** /* Translate a socket 'int' into a pointer (only fails if the index is invalid) */
 449:ThirdPackage/lwip220/api/sockets.c **** static struct lwip_sock *
 450:ThirdPackage/lwip220/api/sockets.c **** tryget_socket_unconn_nouse(int fd)
 451:ThirdPackage/lwip220/api/sockets.c **** {
  29              		.loc 1 451 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
 452:ThirdPackage/lwip220/api/sockets.c ****   int s = fd - LWIP_SOCKET_OFFSET;
  34              		.loc 1 452 3 view .LVU1
 453:ThirdPackage/lwip220/api/sockets.c ****   if ((s < 0) || (s >= NUM_SOCKETS)) {
  35              		.loc 1 453 3 view .LVU2
  36              		.loc 1 453 6 is_stmt 0 view .LVU3
  37 0000 0328     		cmp	r0, #3
  38 0002 03D8     		bhi	.L3
 454:ThirdPackage/lwip220/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("tryget_socket_unconn(%d): invalid\n", fd));
 455:ThirdPackage/lwip220/api/sockets.c ****     return NULL;
 456:ThirdPackage/lwip220/api/sockets.c ****   }
 457:ThirdPackage/lwip220/api/sockets.c ****   return &sockets[s];
  39              		.loc 1 457 3 is_stmt 1 view .LVU4
  40              		.loc 1 457 10 is_stmt 0 view .LVU5
  41 0004 024B     		ldr	r3, .L4
  42 0006 03EB0010 		add	r0, r3, r0, lsl #4
  43              	.LVL1:
  44              		.loc 1 457 10 view .LVU6
  45 000a 7047     		bx	lr
  46              	.LVL2:
  47              	.L3:
 455:ThirdPackage/lwip220/api/sockets.c ****   }
  48              		.loc 1 455 12 view .LVU7
  49 000c 0020     		movs	r0, #0
  50              	.LVL3:
 458:ThirdPackage/lwip220/api/sockets.c **** }
  51              		.loc 1 458 1 view .LVU8
  52 000e 7047     		bx	lr
  53              	.L5:
  54              		.align	2
  55              	.L4:
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 10


  56 0010 00000000 		.word	.LANCHOR0
  57              		.cfi_endproc
  58              	.LFE162:
  60              		.section	.text.tryget_socket_unconn,"ax",%progbits
  61              		.align	1
  62              		.syntax unified
  63              		.thumb
  64              		.thumb_func
  66              	tryget_socket_unconn:
  67              	.LVL4:
  68              	.LFB164:
 459:ThirdPackage/lwip220/api/sockets.c **** 
 460:ThirdPackage/lwip220/api/sockets.c **** struct lwip_sock *
 461:ThirdPackage/lwip220/api/sockets.c **** lwip_socket_dbg_get_socket(int fd)
 462:ThirdPackage/lwip220/api/sockets.c **** {
 463:ThirdPackage/lwip220/api/sockets.c ****   return tryget_socket_unconn_nouse(fd);
 464:ThirdPackage/lwip220/api/sockets.c **** }
 465:ThirdPackage/lwip220/api/sockets.c **** 
 466:ThirdPackage/lwip220/api/sockets.c **** /* Translate a socket 'int' into a pointer (only fails if the index is invalid) */
 467:ThirdPackage/lwip220/api/sockets.c **** static struct lwip_sock *
 468:ThirdPackage/lwip220/api/sockets.c **** tryget_socket_unconn(int fd)
 469:ThirdPackage/lwip220/api/sockets.c **** {
  69              		.loc 1 469 1 is_stmt 1 view -0
  70              		.cfi_startproc
  71              		@ args = 0, pretend = 0, frame = 0
  72              		@ frame_needed = 0, uses_anonymous_args = 0
  73              		.loc 1 469 1 is_stmt 0 view .LVU10
  74 0000 08B5     		push	{r3, lr}
  75              	.LCFI0:
  76              		.cfi_def_cfa_offset 8
  77              		.cfi_offset 3, -8
  78              		.cfi_offset 14, -4
 470:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *ret = tryget_socket_unconn_nouse(fd);
  79              		.loc 1 470 3 is_stmt 1 view .LVU11
  80              		.loc 1 470 27 is_stmt 0 view .LVU12
  81 0002 FFF7FEFF 		bl	tryget_socket_unconn_nouse
  82              	.LVL5:
 471:ThirdPackage/lwip220/api/sockets.c ****   if (ret != NULL) {
  83              		.loc 1 471 3 is_stmt 1 view .LVU13
 472:ThirdPackage/lwip220/api/sockets.c ****     if (!sock_inc_used(ret)) {
 473:ThirdPackage/lwip220/api/sockets.c ****       return NULL;
 474:ThirdPackage/lwip220/api/sockets.c ****     }
 475:ThirdPackage/lwip220/api/sockets.c ****   }
 476:ThirdPackage/lwip220/api/sockets.c ****   return ret;
  84              		.loc 1 476 3 view .LVU14
 477:ThirdPackage/lwip220/api/sockets.c **** }
  85              		.loc 1 477 1 is_stmt 0 view .LVU15
  86 0006 08BD     		pop	{r3, pc}
  87              		.cfi_endproc
  88              	.LFE164:
  90              		.section	.text.tryget_socket_unconn_locked,"ax",%progbits
  91              		.align	1
  92              		.syntax unified
  93              		.thumb
  94              		.thumb_func
  96              	tryget_socket_unconn_locked:
  97              	.LVL6:
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 11


  98              	.LFB165:
 478:ThirdPackage/lwip220/api/sockets.c **** 
 479:ThirdPackage/lwip220/api/sockets.c **** /* Like tryget_socket_unconn(), but called under SYS_ARCH_PROTECT lock. */
 480:ThirdPackage/lwip220/api/sockets.c **** static struct lwip_sock *
 481:ThirdPackage/lwip220/api/sockets.c **** tryget_socket_unconn_locked(int fd)
 482:ThirdPackage/lwip220/api/sockets.c **** {
  99              		.loc 1 482 1 is_stmt 1 view -0
 100              		.cfi_startproc
 101              		@ args = 0, pretend = 0, frame = 0
 102              		@ frame_needed = 0, uses_anonymous_args = 0
 103              		.loc 1 482 1 is_stmt 0 view .LVU17
 104 0000 08B5     		push	{r3, lr}
 105              	.LCFI1:
 106              		.cfi_def_cfa_offset 8
 107              		.cfi_offset 3, -8
 108              		.cfi_offset 14, -4
 483:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *ret = tryget_socket_unconn_nouse(fd);
 109              		.loc 1 483 3 is_stmt 1 view .LVU18
 110              		.loc 1 483 27 is_stmt 0 view .LVU19
 111 0002 FFF7FEFF 		bl	tryget_socket_unconn_nouse
 112              	.LVL7:
 484:ThirdPackage/lwip220/api/sockets.c ****   if (ret != NULL) {
 113              		.loc 1 484 3 is_stmt 1 view .LVU20
 485:ThirdPackage/lwip220/api/sockets.c ****     if (!sock_inc_used_locked(ret)) {
 486:ThirdPackage/lwip220/api/sockets.c ****       return NULL;
 487:ThirdPackage/lwip220/api/sockets.c ****     }
 488:ThirdPackage/lwip220/api/sockets.c ****   }
 489:ThirdPackage/lwip220/api/sockets.c ****   return ret;
 114              		.loc 1 489 3 view .LVU21
 490:ThirdPackage/lwip220/api/sockets.c **** }
 115              		.loc 1 490 1 is_stmt 0 view .LVU22
 116 0006 08BD     		pop	{r3, pc}
 117              		.cfi_endproc
 118              	.LFE165:
 120              		.section	.text.tryget_socket,"ax",%progbits
 121              		.align	1
 122              		.syntax unified
 123              		.thumb
 124              		.thumb_func
 126              	tryget_socket:
 127              	.LVL8:
 128              	.LFB166:
 491:ThirdPackage/lwip220/api/sockets.c **** 
 492:ThirdPackage/lwip220/api/sockets.c **** /**
 493:ThirdPackage/lwip220/api/sockets.c ****  * Same as get_socket but doesn't set errno
 494:ThirdPackage/lwip220/api/sockets.c ****  *
 495:ThirdPackage/lwip220/api/sockets.c ****  * @param fd externally used socket index
 496:ThirdPackage/lwip220/api/sockets.c ****  * @return struct lwip_sock for the socket or NULL if not found
 497:ThirdPackage/lwip220/api/sockets.c ****  */
 498:ThirdPackage/lwip220/api/sockets.c **** static struct lwip_sock *
 499:ThirdPackage/lwip220/api/sockets.c **** tryget_socket(int fd)
 500:ThirdPackage/lwip220/api/sockets.c **** {
 129              		.loc 1 500 1 is_stmt 1 view -0
 130              		.cfi_startproc
 131              		@ args = 0, pretend = 0, frame = 0
 132              		@ frame_needed = 0, uses_anonymous_args = 0
 133              		.loc 1 500 1 is_stmt 0 view .LVU24
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 12


 134 0000 08B5     		push	{r3, lr}
 135              	.LCFI2:
 136              		.cfi_def_cfa_offset 8
 137              		.cfi_offset 3, -8
 138              		.cfi_offset 14, -4
 501:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock = tryget_socket_unconn(fd);
 139              		.loc 1 501 3 is_stmt 1 view .LVU25
 140              		.loc 1 501 28 is_stmt 0 view .LVU26
 141 0002 FFF7FEFF 		bl	tryget_socket_unconn
 142              	.LVL9:
 502:ThirdPackage/lwip220/api/sockets.c ****   if (sock != NULL) {
 143              		.loc 1 502 3 is_stmt 1 view .LVU27
 144              		.loc 1 502 6 is_stmt 0 view .LVU28
 145 0006 0346     		mov	r3, r0
 146 0008 08B1     		cbz	r0, .L10
 503:ThirdPackage/lwip220/api/sockets.c ****     if (sock->conn) {
 147              		.loc 1 503 5 is_stmt 1 view .LVU29
 148              		.loc 1 503 13 is_stmt 0 view .LVU30
 149 000a 0268     		ldr	r2, [r0]
 150              		.loc 1 503 8 view .LVU31
 151 000c 0AB1     		cbz	r2, .L13
 152              	.L10:
 504:ThirdPackage/lwip220/api/sockets.c ****       return sock;
 505:ThirdPackage/lwip220/api/sockets.c ****     }
 506:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
 507:ThirdPackage/lwip220/api/sockets.c ****   }
 508:ThirdPackage/lwip220/api/sockets.c ****   return NULL;
 509:ThirdPackage/lwip220/api/sockets.c **** }
 153              		.loc 1 509 1 view .LVU32
 154 000e 1846     		mov	r0, r3
 155              	.LVL10:
 156              		.loc 1 509 1 view .LVU33
 157 0010 08BD     		pop	{r3, pc}
 158              	.LVL11:
 159              	.L13:
 508:ThirdPackage/lwip220/api/sockets.c **** }
 160              		.loc 1 508 10 view .LVU34
 161 0012 1346     		mov	r3, r2
 162 0014 FBE7     		b	.L10
 163              		.cfi_endproc
 164              	.LFE166:
 166              		.section	.text.get_socket,"ax",%progbits
 167              		.align	1
 168              		.syntax unified
 169              		.thumb
 170              		.thumb_func
 172              	get_socket:
 173              	.LVL12:
 174              	.LFB167:
 510:ThirdPackage/lwip220/api/sockets.c **** 
 511:ThirdPackage/lwip220/api/sockets.c **** /**
 512:ThirdPackage/lwip220/api/sockets.c ****  * Map a externally used socket index to the internal socket representation.
 513:ThirdPackage/lwip220/api/sockets.c ****  *
 514:ThirdPackage/lwip220/api/sockets.c ****  * @param fd externally used socket index
 515:ThirdPackage/lwip220/api/sockets.c ****  * @return struct lwip_sock for the socket or NULL if not found
 516:ThirdPackage/lwip220/api/sockets.c ****  */
 517:ThirdPackage/lwip220/api/sockets.c **** static struct lwip_sock *
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 13


 518:ThirdPackage/lwip220/api/sockets.c **** get_socket(int fd)
 519:ThirdPackage/lwip220/api/sockets.c **** {
 175              		.loc 1 519 1 is_stmt 1 view -0
 176              		.cfi_startproc
 177              		@ args = 0, pretend = 0, frame = 0
 178              		@ frame_needed = 0, uses_anonymous_args = 0
 179              		.loc 1 519 1 is_stmt 0 view .LVU36
 180 0000 08B5     		push	{r3, lr}
 181              	.LCFI3:
 182              		.cfi_def_cfa_offset 8
 183              		.cfi_offset 3, -8
 184              		.cfi_offset 14, -4
 520:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(fd);
 185              		.loc 1 520 3 is_stmt 1 view .LVU37
 186              		.loc 1 520 28 is_stmt 0 view .LVU38
 187 0002 FFF7FEFF 		bl	tryget_socket
 188              	.LVL13:
 521:ThirdPackage/lwip220/api/sockets.c ****   if (!sock) {
 189              		.loc 1 521 3 is_stmt 1 view .LVU39
 190              		.loc 1 521 6 is_stmt 0 view .LVU40
 191 0006 00B1     		cbz	r0, .L17
 192              	.L14:
 522:ThirdPackage/lwip220/api/sockets.c ****     if ((fd < LWIP_SOCKET_OFFSET) || (fd >= (LWIP_SOCKET_OFFSET + NUM_SOCKETS))) {
 523:ThirdPackage/lwip220/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("get_socket(%d): invalid\n", fd));
 524:ThirdPackage/lwip220/api/sockets.c ****     }
 525:ThirdPackage/lwip220/api/sockets.c ****     set_errno(EBADF);
 526:ThirdPackage/lwip220/api/sockets.c ****     return NULL;
 527:ThirdPackage/lwip220/api/sockets.c ****   }
 528:ThirdPackage/lwip220/api/sockets.c ****   return sock;
 529:ThirdPackage/lwip220/api/sockets.c **** }
 193              		.loc 1 529 1 view .LVU41
 194 0008 08BD     		pop	{r3, pc}
 195              	.L17:
 522:ThirdPackage/lwip220/api/sockets.c ****     if ((fd < LWIP_SOCKET_OFFSET) || (fd >= (LWIP_SOCKET_OFFSET + NUM_SOCKETS))) {
 196              		.loc 1 522 5 is_stmt 1 view .LVU42
 523:ThirdPackage/lwip220/api/sockets.c ****     }
 197              		.loc 1 523 68 view .LVU43
 525:ThirdPackage/lwip220/api/sockets.c ****     return NULL;
 198              		.loc 1 525 5 view .LVU44
 525:ThirdPackage/lwip220/api/sockets.c ****     return NULL;
 199              		.loc 1 525 5 view .LVU45
 525:ThirdPackage/lwip220/api/sockets.c ****     return NULL;
 200              		.loc 1 525 5 view .LVU46
 201 000a 024B     		ldr	r3, .L18
 202 000c 0922     		movs	r2, #9
 203 000e 1A60     		str	r2, [r3]
 525:ThirdPackage/lwip220/api/sockets.c ****     return NULL;
 204              		.loc 1 525 5 view .LVU47
 526:ThirdPackage/lwip220/api/sockets.c ****   }
 205              		.loc 1 526 5 view .LVU48
 526:ThirdPackage/lwip220/api/sockets.c ****   }
 206              		.loc 1 526 12 is_stmt 0 view .LVU49
 207 0010 FAE7     		b	.L14
 208              	.L19:
 209 0012 00BF     		.align	2
 210              	.L18:
 211 0014 00000000 		.word	errno
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 14


 212              		.cfi_endproc
 213              	.LFE167:
 215              		.section	.text.free_socket_locked,"ax",%progbits
 216              		.align	1
 217              		.syntax unified
 218              		.thumb
 219              		.thumb_func
 221              	free_socket_locked:
 222              	.LVL14:
 223              	.LFB169:
 530:ThirdPackage/lwip220/api/sockets.c **** 
 531:ThirdPackage/lwip220/api/sockets.c **** /**
 532:ThirdPackage/lwip220/api/sockets.c ****  * Allocate a new socket for a given netconn.
 533:ThirdPackage/lwip220/api/sockets.c ****  *
 534:ThirdPackage/lwip220/api/sockets.c ****  * @param newconn the netconn for which to allocate a socket
 535:ThirdPackage/lwip220/api/sockets.c ****  * @param accepted 1 if socket has been created by accept(),
 536:ThirdPackage/lwip220/api/sockets.c ****  *                 0 if socket has been created by socket()
 537:ThirdPackage/lwip220/api/sockets.c ****  * @return the index of the new socket; -1 on error
 538:ThirdPackage/lwip220/api/sockets.c ****  */
 539:ThirdPackage/lwip220/api/sockets.c **** static int
 540:ThirdPackage/lwip220/api/sockets.c **** alloc_socket(struct netconn *newconn, int accepted)
 541:ThirdPackage/lwip220/api/sockets.c **** {
 542:ThirdPackage/lwip220/api/sockets.c ****   int i;
 543:ThirdPackage/lwip220/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
 544:ThirdPackage/lwip220/api/sockets.c ****   LWIP_UNUSED_ARG(accepted);
 545:ThirdPackage/lwip220/api/sockets.c **** 
 546:ThirdPackage/lwip220/api/sockets.c ****   /* allocate a new socket identifier */
 547:ThirdPackage/lwip220/api/sockets.c ****   for (i = 0; i < NUM_SOCKETS; ++i) {
 548:ThirdPackage/lwip220/api/sockets.c ****     /* Protect socket array */
 549:ThirdPackage/lwip220/api/sockets.c ****     SYS_ARCH_PROTECT(lev);
 550:ThirdPackage/lwip220/api/sockets.c ****     if (!sockets[i].conn) {
 551:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_NETCONN_FULLDUPLEX
 552:ThirdPackage/lwip220/api/sockets.c ****       if (sockets[i].fd_used) {
 553:ThirdPackage/lwip220/api/sockets.c ****         SYS_ARCH_UNPROTECT(lev);
 554:ThirdPackage/lwip220/api/sockets.c ****         continue;
 555:ThirdPackage/lwip220/api/sockets.c ****       }
 556:ThirdPackage/lwip220/api/sockets.c ****       sockets[i].fd_used    = 1;
 557:ThirdPackage/lwip220/api/sockets.c ****       sockets[i].fd_free_pending = 0;
 558:ThirdPackage/lwip220/api/sockets.c **** #endif
 559:ThirdPackage/lwip220/api/sockets.c ****       sockets[i].conn       = newconn;
 560:ThirdPackage/lwip220/api/sockets.c ****       /* The socket is not yet known to anyone, so no need to protect
 561:ThirdPackage/lwip220/api/sockets.c ****          after having marked it as used. */
 562:ThirdPackage/lwip220/api/sockets.c ****       SYS_ARCH_UNPROTECT(lev);
 563:ThirdPackage/lwip220/api/sockets.c ****       sockets[i].lastdata.pbuf = NULL;
 564:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_SOCKET_SELECT || LWIP_SOCKET_POLL
 565:ThirdPackage/lwip220/api/sockets.c ****       LWIP_ASSERT("sockets[i].select_waiting == 0", sockets[i].select_waiting == 0);
 566:ThirdPackage/lwip220/api/sockets.c ****       sockets[i].rcvevent   = 0;
 567:ThirdPackage/lwip220/api/sockets.c ****       /* TCP sendbuf is empty, but the socket is not yet writable until connected
 568:ThirdPackage/lwip220/api/sockets.c ****        * (unless it has been created by accept()). */
 569:ThirdPackage/lwip220/api/sockets.c ****       sockets[i].sendevent  = (NETCONNTYPE_GROUP(newconn->type) == NETCONN_TCP ? (accepted != 0) : 
 570:ThirdPackage/lwip220/api/sockets.c ****       sockets[i].errevent   = 0;
 571:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_SOCKET_SELECT || LWIP_SOCKET_POLL */
 572:ThirdPackage/lwip220/api/sockets.c ****       return i + LWIP_SOCKET_OFFSET;
 573:ThirdPackage/lwip220/api/sockets.c ****     }
 574:ThirdPackage/lwip220/api/sockets.c ****     SYS_ARCH_UNPROTECT(lev);
 575:ThirdPackage/lwip220/api/sockets.c ****   }
 576:ThirdPackage/lwip220/api/sockets.c ****   return -1;
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 15


 577:ThirdPackage/lwip220/api/sockets.c **** }
 578:ThirdPackage/lwip220/api/sockets.c **** 
 579:ThirdPackage/lwip220/api/sockets.c **** /** Free a socket (under lock)
 580:ThirdPackage/lwip220/api/sockets.c ****  *
 581:ThirdPackage/lwip220/api/sockets.c ****  * @param sock the socket to free
 582:ThirdPackage/lwip220/api/sockets.c ****  * @param is_tcp != 0 for TCP sockets, used to free lastdata
 583:ThirdPackage/lwip220/api/sockets.c ****  * @param conn the socekt's netconn is stored here, must be freed externally
 584:ThirdPackage/lwip220/api/sockets.c ****  * @param lastdata lastdata is stored here, must be freed externally
 585:ThirdPackage/lwip220/api/sockets.c ****  */
 586:ThirdPackage/lwip220/api/sockets.c **** static int
 587:ThirdPackage/lwip220/api/sockets.c **** free_socket_locked(struct lwip_sock *sock, int is_tcp, struct netconn **conn,
 588:ThirdPackage/lwip220/api/sockets.c ****                    union lwip_sock_lastdata *lastdata)
 589:ThirdPackage/lwip220/api/sockets.c **** {
 224              		.loc 1 589 1 is_stmt 1 view -0
 225              		.cfi_startproc
 226              		@ args = 0, pretend = 0, frame = 0
 227              		@ frame_needed = 0, uses_anonymous_args = 0
 228              		@ link register save eliminated.
 590:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_NETCONN_FULLDUPLEX
 591:ThirdPackage/lwip220/api/sockets.c ****   LWIP_ASSERT("sock->fd_used > 0", sock->fd_used > 0);
 592:ThirdPackage/lwip220/api/sockets.c ****   sock->fd_used--;
 593:ThirdPackage/lwip220/api/sockets.c ****   if (sock->fd_used > 0) {
 594:ThirdPackage/lwip220/api/sockets.c ****     sock->fd_free_pending = LWIP_SOCK_FD_FREE_FREE | (is_tcp ? LWIP_SOCK_FD_FREE_TCP : 0);
 595:ThirdPackage/lwip220/api/sockets.c ****     return 0;
 596:ThirdPackage/lwip220/api/sockets.c ****   }
 597:ThirdPackage/lwip220/api/sockets.c **** #else /* LWIP_NETCONN_FULLDUPLEX */
 598:ThirdPackage/lwip220/api/sockets.c ****   LWIP_UNUSED_ARG(is_tcp);
 229              		.loc 1 598 3 view .LVU51
 599:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
 600:ThirdPackage/lwip220/api/sockets.c **** 
 601:ThirdPackage/lwip220/api/sockets.c ****   *lastdata = sock->lastdata;
 230              		.loc 1 601 3 view .LVU52
 231              		.loc 1 601 13 is_stmt 0 view .LVU53
 232 0000 4168     		ldr	r1, [r0, #4]
 233              	.LVL15:
 234              		.loc 1 601 13 view .LVU54
 235 0002 1960     		str	r1, [r3]
 602:ThirdPackage/lwip220/api/sockets.c ****   sock->lastdata.pbuf = NULL;
 236              		.loc 1 602 3 is_stmt 1 view .LVU55
 237              		.loc 1 602 23 is_stmt 0 view .LVU56
 238 0004 0023     		movs	r3, #0
 239              	.LVL16:
 240              		.loc 1 602 23 view .LVU57
 241 0006 4360     		str	r3, [r0, #4]
 603:ThirdPackage/lwip220/api/sockets.c ****   *conn = sock->conn;
 242              		.loc 1 603 3 is_stmt 1 view .LVU58
 243              		.loc 1 603 15 is_stmt 0 view .LVU59
 244 0008 0168     		ldr	r1, [r0]
 245              		.loc 1 603 9 view .LVU60
 246 000a 1160     		str	r1, [r2]
 604:ThirdPackage/lwip220/api/sockets.c ****   sock->conn = NULL;
 247              		.loc 1 604 3 is_stmt 1 view .LVU61
 248              		.loc 1 604 14 is_stmt 0 view .LVU62
 249 000c 0360     		str	r3, [r0]
 605:ThirdPackage/lwip220/api/sockets.c ****   return 1;
 250              		.loc 1 605 3 is_stmt 1 view .LVU63
 606:ThirdPackage/lwip220/api/sockets.c **** }
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 16


 251              		.loc 1 606 1 is_stmt 0 view .LVU64
 252 000e 0120     		movs	r0, #1
 253              	.LVL17:
 254              		.loc 1 606 1 view .LVU65
 255 0010 7047     		bx	lr
 256              		.cfi_endproc
 257              	.LFE169:
 259              		.section	.text.lwip_poll_should_wake,"ax",%progbits
 260              		.align	1
 261              		.syntax unified
 262              		.thumb
 263              		.thumb_func
 265              	lwip_poll_should_wake:
 266              	.LVL18:
 267              	.LFB198:
 607:ThirdPackage/lwip220/api/sockets.c **** 
 608:ThirdPackage/lwip220/api/sockets.c **** /** Free a socket's leftover members.
 609:ThirdPackage/lwip220/api/sockets.c ****  */
 610:ThirdPackage/lwip220/api/sockets.c **** static void
 611:ThirdPackage/lwip220/api/sockets.c **** free_socket_free_elements(int is_tcp, struct netconn *conn, union lwip_sock_lastdata *lastdata)
 612:ThirdPackage/lwip220/api/sockets.c **** {
 613:ThirdPackage/lwip220/api/sockets.c ****   if (lastdata->pbuf != NULL) {
 614:ThirdPackage/lwip220/api/sockets.c ****     if (is_tcp) {
 615:ThirdPackage/lwip220/api/sockets.c ****       pbuf_free(lastdata->pbuf);
 616:ThirdPackage/lwip220/api/sockets.c ****     } else {
 617:ThirdPackage/lwip220/api/sockets.c ****       netbuf_delete(lastdata->netbuf);
 618:ThirdPackage/lwip220/api/sockets.c ****     }
 619:ThirdPackage/lwip220/api/sockets.c ****   }
 620:ThirdPackage/lwip220/api/sockets.c ****   if (conn != NULL) {
 621:ThirdPackage/lwip220/api/sockets.c ****     /* netconn_prepare_delete() has already been called, here we only free the conn */
 622:ThirdPackage/lwip220/api/sockets.c ****     netconn_delete(conn);
 623:ThirdPackage/lwip220/api/sockets.c ****   }
 624:ThirdPackage/lwip220/api/sockets.c **** }
 625:ThirdPackage/lwip220/api/sockets.c **** 
 626:ThirdPackage/lwip220/api/sockets.c **** /** Free a socket. The socket's netconn must have been
 627:ThirdPackage/lwip220/api/sockets.c ****  * delete before!
 628:ThirdPackage/lwip220/api/sockets.c ****  *
 629:ThirdPackage/lwip220/api/sockets.c ****  * @param sock the socket to free
 630:ThirdPackage/lwip220/api/sockets.c ****  * @param is_tcp != 0 for TCP sockets, used to free lastdata
 631:ThirdPackage/lwip220/api/sockets.c ****  */
 632:ThirdPackage/lwip220/api/sockets.c **** static void
 633:ThirdPackage/lwip220/api/sockets.c **** free_socket(struct lwip_sock *sock, int is_tcp)
 634:ThirdPackage/lwip220/api/sockets.c **** {
 635:ThirdPackage/lwip220/api/sockets.c ****   int freed;
 636:ThirdPackage/lwip220/api/sockets.c ****   struct netconn *conn;
 637:ThirdPackage/lwip220/api/sockets.c ****   union lwip_sock_lastdata lastdata;
 638:ThirdPackage/lwip220/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
 639:ThirdPackage/lwip220/api/sockets.c **** 
 640:ThirdPackage/lwip220/api/sockets.c ****   /* Protect socket array */
 641:ThirdPackage/lwip220/api/sockets.c ****   SYS_ARCH_PROTECT(lev);
 642:ThirdPackage/lwip220/api/sockets.c **** 
 643:ThirdPackage/lwip220/api/sockets.c ****   freed = free_socket_locked(sock, is_tcp, &conn, &lastdata);
 644:ThirdPackage/lwip220/api/sockets.c ****   SYS_ARCH_UNPROTECT(lev);
 645:ThirdPackage/lwip220/api/sockets.c ****   /* don't use 'sock' after this line, as another task might have allocated it */
 646:ThirdPackage/lwip220/api/sockets.c **** 
 647:ThirdPackage/lwip220/api/sockets.c ****   if (freed) {
 648:ThirdPackage/lwip220/api/sockets.c ****     free_socket_free_elements(is_tcp, conn, &lastdata);
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 17


 649:ThirdPackage/lwip220/api/sockets.c ****   }
 650:ThirdPackage/lwip220/api/sockets.c **** }
 651:ThirdPackage/lwip220/api/sockets.c **** 
 652:ThirdPackage/lwip220/api/sockets.c **** /* Below this, the well-known socket functions are implemented.
 653:ThirdPackage/lwip220/api/sockets.c ****  * Use google.com or opengroup.org to get a good description :-)
 654:ThirdPackage/lwip220/api/sockets.c ****  *
 655:ThirdPackage/lwip220/api/sockets.c ****  * Exceptions are documented!
 656:ThirdPackage/lwip220/api/sockets.c ****  */
 657:ThirdPackage/lwip220/api/sockets.c **** 
 658:ThirdPackage/lwip220/api/sockets.c **** int
 659:ThirdPackage/lwip220/api/sockets.c **** lwip_accept(int s, struct sockaddr *addr, socklen_t *addrlen)
 660:ThirdPackage/lwip220/api/sockets.c **** {
 661:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock, *nsock;
 662:ThirdPackage/lwip220/api/sockets.c ****   struct netconn *newconn;
 663:ThirdPackage/lwip220/api/sockets.c ****   ip_addr_t naddr;
 664:ThirdPackage/lwip220/api/sockets.c ****   u16_t port = 0;
 665:ThirdPackage/lwip220/api/sockets.c ****   int newsock;
 666:ThirdPackage/lwip220/api/sockets.c ****   err_t err;
 667:ThirdPackage/lwip220/api/sockets.c ****   int recvevent;
 668:ThirdPackage/lwip220/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
 669:ThirdPackage/lwip220/api/sockets.c **** 
 670:ThirdPackage/lwip220/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_accept(%d)...\n", s));
 671:ThirdPackage/lwip220/api/sockets.c ****   sock = get_socket(s);
 672:ThirdPackage/lwip220/api/sockets.c ****   if (!sock) {
 673:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 674:ThirdPackage/lwip220/api/sockets.c ****   }
 675:ThirdPackage/lwip220/api/sockets.c **** 
 676:ThirdPackage/lwip220/api/sockets.c ****   /* wait for a new connection */
 677:ThirdPackage/lwip220/api/sockets.c ****   err = netconn_accept(sock->conn, &newconn);
 678:ThirdPackage/lwip220/api/sockets.c ****   if (err != ERR_OK) {
 679:ThirdPackage/lwip220/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_accept(%d): netconn_acept failed, err=%d\n", s, err));
 680:ThirdPackage/lwip220/api/sockets.c ****     if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) != NETCONN_TCP) {
 681:ThirdPackage/lwip220/api/sockets.c ****       set_errno(EOPNOTSUPP);
 682:ThirdPackage/lwip220/api/sockets.c ****     } else if (err == ERR_CLSD) {
 683:ThirdPackage/lwip220/api/sockets.c ****       set_errno(EINVAL);
 684:ThirdPackage/lwip220/api/sockets.c ****     } else {
 685:ThirdPackage/lwip220/api/sockets.c ****       set_errno(err_to_errno(err));
 686:ThirdPackage/lwip220/api/sockets.c ****     }
 687:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
 688:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 689:ThirdPackage/lwip220/api/sockets.c ****   }
 690:ThirdPackage/lwip220/api/sockets.c ****   LWIP_ASSERT("newconn != NULL", newconn != NULL);
 691:ThirdPackage/lwip220/api/sockets.c **** 
 692:ThirdPackage/lwip220/api/sockets.c ****   newsock = alloc_socket(newconn, 1);
 693:ThirdPackage/lwip220/api/sockets.c ****   if (newsock == -1) {
 694:ThirdPackage/lwip220/api/sockets.c ****     netconn_delete(newconn);
 695:ThirdPackage/lwip220/api/sockets.c ****     set_errno(ENFILE);
 696:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
 697:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 698:ThirdPackage/lwip220/api/sockets.c ****   }
 699:ThirdPackage/lwip220/api/sockets.c ****   LWIP_ASSERT("invalid socket index", (newsock >= LWIP_SOCKET_OFFSET) && (newsock < NUM_SOCKETS + L
 700:ThirdPackage/lwip220/api/sockets.c ****   nsock = &sockets[newsock - LWIP_SOCKET_OFFSET];
 701:ThirdPackage/lwip220/api/sockets.c **** 
 702:ThirdPackage/lwip220/api/sockets.c ****   /* See event_callback: If data comes in right away after an accept, even
 703:ThirdPackage/lwip220/api/sockets.c ****    * though the server task might not have created a new socket yet.
 704:ThirdPackage/lwip220/api/sockets.c ****    * In that case, newconn->socket is counted down (newconn->socket--),
 705:ThirdPackage/lwip220/api/sockets.c ****    * so nsock->rcvevent is >= 1 here!
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 18


 706:ThirdPackage/lwip220/api/sockets.c ****    */
 707:ThirdPackage/lwip220/api/sockets.c ****   SYS_ARCH_PROTECT(lev);
 708:ThirdPackage/lwip220/api/sockets.c ****   recvevent = (s16_t)(-1 - newconn->callback_arg.socket);
 709:ThirdPackage/lwip220/api/sockets.c ****   newconn->callback_arg.socket = newsock;
 710:ThirdPackage/lwip220/api/sockets.c ****   SYS_ARCH_UNPROTECT(lev);
 711:ThirdPackage/lwip220/api/sockets.c **** 
 712:ThirdPackage/lwip220/api/sockets.c ****   if (newconn->callback) {
 713:ThirdPackage/lwip220/api/sockets.c ****     LOCK_TCPIP_CORE();
 714:ThirdPackage/lwip220/api/sockets.c ****     while (recvevent > 0) {
 715:ThirdPackage/lwip220/api/sockets.c ****       recvevent--;
 716:ThirdPackage/lwip220/api/sockets.c ****       newconn->callback(newconn, NETCONN_EVT_RCVPLUS, 0);
 717:ThirdPackage/lwip220/api/sockets.c ****     }
 718:ThirdPackage/lwip220/api/sockets.c ****     UNLOCK_TCPIP_CORE();
 719:ThirdPackage/lwip220/api/sockets.c ****   }
 720:ThirdPackage/lwip220/api/sockets.c **** 
 721:ThirdPackage/lwip220/api/sockets.c ****   /* Note that POSIX only requires us to check addr is non-NULL. addrlen must
 722:ThirdPackage/lwip220/api/sockets.c ****    * not be NULL if addr is valid.
 723:ThirdPackage/lwip220/api/sockets.c ****    */
 724:ThirdPackage/lwip220/api/sockets.c ****   if ((addr != NULL) && (addrlen != NULL)) {
 725:ThirdPackage/lwip220/api/sockets.c ****     union sockaddr_aligned tempaddr;
 726:ThirdPackage/lwip220/api/sockets.c ****     /* get the IP address and port of the remote host */
 727:ThirdPackage/lwip220/api/sockets.c ****     err = netconn_peer(newconn, &naddr, &port);
 728:ThirdPackage/lwip220/api/sockets.c ****     if (err != ERR_OK) {
 729:ThirdPackage/lwip220/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_accept(%d): netconn_peer failed, err=%d\n", s, err));
 730:ThirdPackage/lwip220/api/sockets.c ****       free_socket(nsock, 1);
 731:ThirdPackage/lwip220/api/sockets.c ****       set_errno(err_to_errno(err));
 732:ThirdPackage/lwip220/api/sockets.c ****       done_socket(sock);
 733:ThirdPackage/lwip220/api/sockets.c ****       return -1;
 734:ThirdPackage/lwip220/api/sockets.c ****     }
 735:ThirdPackage/lwip220/api/sockets.c **** 
 736:ThirdPackage/lwip220/api/sockets.c ****     IPADDR_PORT_TO_SOCKADDR(&tempaddr, &naddr, port);
 737:ThirdPackage/lwip220/api/sockets.c ****     if (*addrlen > IPADDR_SOCKADDR_GET_LEN(&tempaddr)) {
 738:ThirdPackage/lwip220/api/sockets.c ****       *addrlen = IPADDR_SOCKADDR_GET_LEN(&tempaddr);
 739:ThirdPackage/lwip220/api/sockets.c ****     }
 740:ThirdPackage/lwip220/api/sockets.c ****     MEMCPY(addr, &tempaddr, *addrlen);
 741:ThirdPackage/lwip220/api/sockets.c **** 
 742:ThirdPackage/lwip220/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_accept(%d) returning new sock=%d addr=", s, newsock));
 743:ThirdPackage/lwip220/api/sockets.c ****     ip_addr_debug_print_val(SOCKETS_DEBUG, naddr);
 744:ThirdPackage/lwip220/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, (" port=%"U16_F"\n", port));
 745:ThirdPackage/lwip220/api/sockets.c ****   } else {
 746:ThirdPackage/lwip220/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_accept(%d) returning new sock=%d\n", s, newsock));
 747:ThirdPackage/lwip220/api/sockets.c ****   }
 748:ThirdPackage/lwip220/api/sockets.c **** 
 749:ThirdPackage/lwip220/api/sockets.c ****   set_errno(0);
 750:ThirdPackage/lwip220/api/sockets.c ****   done_socket(sock);
 751:ThirdPackage/lwip220/api/sockets.c ****   done_socket(nsock);
 752:ThirdPackage/lwip220/api/sockets.c ****   return newsock;
 753:ThirdPackage/lwip220/api/sockets.c **** }
 754:ThirdPackage/lwip220/api/sockets.c **** 
 755:ThirdPackage/lwip220/api/sockets.c **** int
 756:ThirdPackage/lwip220/api/sockets.c **** lwip_bind(int s, const struct sockaddr *name, socklen_t namelen)
 757:ThirdPackage/lwip220/api/sockets.c **** {
 758:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock;
 759:ThirdPackage/lwip220/api/sockets.c ****   ip_addr_t local_addr;
 760:ThirdPackage/lwip220/api/sockets.c ****   u16_t local_port;
 761:ThirdPackage/lwip220/api/sockets.c ****   err_t err;
 762:ThirdPackage/lwip220/api/sockets.c **** 
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 19


 763:ThirdPackage/lwip220/api/sockets.c ****   sock = get_socket(s);
 764:ThirdPackage/lwip220/api/sockets.c ****   if (!sock) {
 765:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 766:ThirdPackage/lwip220/api/sockets.c ****   }
 767:ThirdPackage/lwip220/api/sockets.c **** 
 768:ThirdPackage/lwip220/api/sockets.c ****   if (!SOCK_ADDR_TYPE_MATCH(name, sock)) {
 769:ThirdPackage/lwip220/api/sockets.c ****     /* sockaddr does not match socket type (IPv4/IPv6) */
 770:ThirdPackage/lwip220/api/sockets.c ****     set_errno(err_to_errno(ERR_VAL));
 771:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
 772:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 773:ThirdPackage/lwip220/api/sockets.c ****   }
 774:ThirdPackage/lwip220/api/sockets.c **** 
 775:ThirdPackage/lwip220/api/sockets.c ****   /* check size, family and alignment of 'name' */
 776:ThirdPackage/lwip220/api/sockets.c ****   LWIP_ERROR("lwip_bind: invalid address", (IS_SOCK_ADDR_LEN_VALID(namelen) &&
 777:ThirdPackage/lwip220/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 778:ThirdPackage/lwip220/api/sockets.c ****              set_errno(err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 779:ThirdPackage/lwip220/api/sockets.c ****   LWIP_UNUSED_ARG(namelen);
 780:ThirdPackage/lwip220/api/sockets.c **** 
 781:ThirdPackage/lwip220/api/sockets.c ****   SOCKADDR_TO_IPADDR_PORT(name, &local_addr, local_port);
 782:ThirdPackage/lwip220/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_bind(%d, addr=", s));
 783:ThirdPackage/lwip220/api/sockets.c ****   ip_addr_debug_print_val(SOCKETS_DEBUG, local_addr);
 784:ThirdPackage/lwip220/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, (" port=%"U16_F")\n", local_port));
 785:ThirdPackage/lwip220/api/sockets.c **** 
 786:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_IPV4 && LWIP_IPV6
 787:ThirdPackage/lwip220/api/sockets.c ****   /* Dual-stack: Unmap IPv4 mapped IPv6 addresses */
 788:ThirdPackage/lwip220/api/sockets.c ****   if (IP_IS_V6_VAL(local_addr) && ip6_addr_isipv4mappedipv6(ip_2_ip6(&local_addr))) {
 789:ThirdPackage/lwip220/api/sockets.c ****     unmap_ipv4_mapped_ipv6(ip_2_ip4(&local_addr), ip_2_ip6(&local_addr));
 790:ThirdPackage/lwip220/api/sockets.c ****     IP_SET_TYPE_VAL(local_addr, IPADDR_TYPE_V4);
 791:ThirdPackage/lwip220/api/sockets.c ****   }
 792:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_IPV4 && LWIP_IPV6 */
 793:ThirdPackage/lwip220/api/sockets.c **** 
 794:ThirdPackage/lwip220/api/sockets.c ****   err = netconn_bind(sock->conn, &local_addr, local_port);
 795:ThirdPackage/lwip220/api/sockets.c **** 
 796:ThirdPackage/lwip220/api/sockets.c ****   if (err != ERR_OK) {
 797:ThirdPackage/lwip220/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_bind(%d) failed, err=%d\n", s, err));
 798:ThirdPackage/lwip220/api/sockets.c ****     set_errno(err_to_errno(err));
 799:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
 800:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 801:ThirdPackage/lwip220/api/sockets.c ****   }
 802:ThirdPackage/lwip220/api/sockets.c **** 
 803:ThirdPackage/lwip220/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_bind(%d) succeeded\n", s));
 804:ThirdPackage/lwip220/api/sockets.c ****   set_errno(0);
 805:ThirdPackage/lwip220/api/sockets.c ****   done_socket(sock);
 806:ThirdPackage/lwip220/api/sockets.c ****   return 0;
 807:ThirdPackage/lwip220/api/sockets.c **** }
 808:ThirdPackage/lwip220/api/sockets.c **** 
 809:ThirdPackage/lwip220/api/sockets.c **** int
 810:ThirdPackage/lwip220/api/sockets.c **** lwip_close(int s)
 811:ThirdPackage/lwip220/api/sockets.c **** {
 812:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock;
 813:ThirdPackage/lwip220/api/sockets.c ****   int is_tcp = 0;
 814:ThirdPackage/lwip220/api/sockets.c ****   err_t err;
 815:ThirdPackage/lwip220/api/sockets.c **** 
 816:ThirdPackage/lwip220/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_close(%d)\n", s));
 817:ThirdPackage/lwip220/api/sockets.c **** 
 818:ThirdPackage/lwip220/api/sockets.c ****   sock = get_socket(s);
 819:ThirdPackage/lwip220/api/sockets.c ****   if (!sock) {
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 20


 820:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 821:ThirdPackage/lwip220/api/sockets.c ****   }
 822:ThirdPackage/lwip220/api/sockets.c **** 
 823:ThirdPackage/lwip220/api/sockets.c ****   if (sock->conn != NULL) {
 824:ThirdPackage/lwip220/api/sockets.c ****     is_tcp = NETCONNTYPE_GROUP(netconn_type(sock->conn)) == NETCONN_TCP;
 825:ThirdPackage/lwip220/api/sockets.c ****   } else {
 826:ThirdPackage/lwip220/api/sockets.c ****     LWIP_ASSERT("sock->lastdata == NULL", sock->lastdata.pbuf == NULL);
 827:ThirdPackage/lwip220/api/sockets.c ****   }
 828:ThirdPackage/lwip220/api/sockets.c **** 
 829:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_IGMP
 830:ThirdPackage/lwip220/api/sockets.c ****   /* drop all possibly joined IGMP memberships */
 831:ThirdPackage/lwip220/api/sockets.c ****   lwip_socket_drop_registered_memberships(s);
 832:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_IGMP */
 833:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_IPV6_MLD
 834:ThirdPackage/lwip220/api/sockets.c ****   /* drop all possibly joined MLD6 memberships */
 835:ThirdPackage/lwip220/api/sockets.c ****   lwip_socket_drop_registered_mld6_memberships(s);
 836:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_IPV6_MLD */
 837:ThirdPackage/lwip220/api/sockets.c **** 
 838:ThirdPackage/lwip220/api/sockets.c ****   err = netconn_prepare_delete(sock->conn);
 839:ThirdPackage/lwip220/api/sockets.c ****   if (err != ERR_OK) {
 840:ThirdPackage/lwip220/api/sockets.c ****     set_errno(err_to_errno(err));
 841:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
 842:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 843:ThirdPackage/lwip220/api/sockets.c ****   }
 844:ThirdPackage/lwip220/api/sockets.c **** 
 845:ThirdPackage/lwip220/api/sockets.c ****   free_socket(sock, is_tcp);
 846:ThirdPackage/lwip220/api/sockets.c ****   set_errno(0);
 847:ThirdPackage/lwip220/api/sockets.c ****   return 0;
 848:ThirdPackage/lwip220/api/sockets.c **** }
 849:ThirdPackage/lwip220/api/sockets.c **** 
 850:ThirdPackage/lwip220/api/sockets.c **** int
 851:ThirdPackage/lwip220/api/sockets.c **** lwip_connect(int s, const struct sockaddr *name, socklen_t namelen)
 852:ThirdPackage/lwip220/api/sockets.c **** {
 853:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock;
 854:ThirdPackage/lwip220/api/sockets.c ****   err_t err;
 855:ThirdPackage/lwip220/api/sockets.c **** 
 856:ThirdPackage/lwip220/api/sockets.c ****   sock = get_socket(s);
 857:ThirdPackage/lwip220/api/sockets.c ****   if (!sock) {
 858:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 859:ThirdPackage/lwip220/api/sockets.c ****   }
 860:ThirdPackage/lwip220/api/sockets.c **** 
 861:ThirdPackage/lwip220/api/sockets.c ****   if (!SOCK_ADDR_TYPE_MATCH_OR_UNSPEC(name, sock)) {
 862:ThirdPackage/lwip220/api/sockets.c ****     /* sockaddr does not match socket type (IPv4/IPv6) */
 863:ThirdPackage/lwip220/api/sockets.c ****     set_errno(err_to_errno(ERR_VAL));
 864:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
 865:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 866:ThirdPackage/lwip220/api/sockets.c ****   }
 867:ThirdPackage/lwip220/api/sockets.c **** 
 868:ThirdPackage/lwip220/api/sockets.c ****   LWIP_UNUSED_ARG(namelen);
 869:ThirdPackage/lwip220/api/sockets.c ****   if (name->sa_family == AF_UNSPEC) {
 870:ThirdPackage/lwip220/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_connect(%d, AF_UNSPEC)\n", s));
 871:ThirdPackage/lwip220/api/sockets.c ****     err = netconn_disconnect(sock->conn);
 872:ThirdPackage/lwip220/api/sockets.c ****   } else {
 873:ThirdPackage/lwip220/api/sockets.c ****     ip_addr_t remote_addr;
 874:ThirdPackage/lwip220/api/sockets.c ****     u16_t remote_port;
 875:ThirdPackage/lwip220/api/sockets.c **** 
 876:ThirdPackage/lwip220/api/sockets.c ****     /* check size, family and alignment of 'name' */
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 21


 877:ThirdPackage/lwip220/api/sockets.c ****     LWIP_ERROR("lwip_connect: invalid address", IS_SOCK_ADDR_LEN_VALID(namelen) &&
 878:ThirdPackage/lwip220/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 879:ThirdPackage/lwip220/api/sockets.c ****                set_errno(err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 880:ThirdPackage/lwip220/api/sockets.c **** 
 881:ThirdPackage/lwip220/api/sockets.c ****     SOCKADDR_TO_IPADDR_PORT(name, &remote_addr, remote_port);
 882:ThirdPackage/lwip220/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_connect(%d, addr=", s));
 883:ThirdPackage/lwip220/api/sockets.c ****     ip_addr_debug_print_val(SOCKETS_DEBUG, remote_addr);
 884:ThirdPackage/lwip220/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, (" port=%"U16_F")\n", remote_port));
 885:ThirdPackage/lwip220/api/sockets.c **** 
 886:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_IPV4 && LWIP_IPV6
 887:ThirdPackage/lwip220/api/sockets.c ****     /* Dual-stack: Unmap IPv4 mapped IPv6 addresses */
 888:ThirdPackage/lwip220/api/sockets.c ****     if (IP_IS_V6_VAL(remote_addr) && ip6_addr_isipv4mappedipv6(ip_2_ip6(&remote_addr))) {
 889:ThirdPackage/lwip220/api/sockets.c ****       unmap_ipv4_mapped_ipv6(ip_2_ip4(&remote_addr), ip_2_ip6(&remote_addr));
 890:ThirdPackage/lwip220/api/sockets.c ****       IP_SET_TYPE_VAL(remote_addr, IPADDR_TYPE_V4);
 891:ThirdPackage/lwip220/api/sockets.c ****     }
 892:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_IPV4 && LWIP_IPV6 */
 893:ThirdPackage/lwip220/api/sockets.c **** 
 894:ThirdPackage/lwip220/api/sockets.c ****     err = netconn_connect(sock->conn, &remote_addr, remote_port);
 895:ThirdPackage/lwip220/api/sockets.c ****   }
 896:ThirdPackage/lwip220/api/sockets.c **** 
 897:ThirdPackage/lwip220/api/sockets.c ****   if (err != ERR_OK) {
 898:ThirdPackage/lwip220/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_connect(%d) failed, err=%d\n", s, err));
 899:ThirdPackage/lwip220/api/sockets.c ****     set_errno(err_to_errno(err));
 900:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
 901:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 902:ThirdPackage/lwip220/api/sockets.c ****   }
 903:ThirdPackage/lwip220/api/sockets.c **** 
 904:ThirdPackage/lwip220/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_connect(%d) succeeded\n", s));
 905:ThirdPackage/lwip220/api/sockets.c ****   set_errno(0);
 906:ThirdPackage/lwip220/api/sockets.c ****   done_socket(sock);
 907:ThirdPackage/lwip220/api/sockets.c ****   return 0;
 908:ThirdPackage/lwip220/api/sockets.c **** }
 909:ThirdPackage/lwip220/api/sockets.c **** 
 910:ThirdPackage/lwip220/api/sockets.c **** /**
 911:ThirdPackage/lwip220/api/sockets.c ****  * Set a socket into listen mode.
 912:ThirdPackage/lwip220/api/sockets.c ****  * The socket may not have been used for another connection previously.
 913:ThirdPackage/lwip220/api/sockets.c ****  *
 914:ThirdPackage/lwip220/api/sockets.c ****  * @param s the socket to set to listening mode
 915:ThirdPackage/lwip220/api/sockets.c ****  * @param backlog (ATTENTION: needs TCP_LISTEN_BACKLOG=1)
 916:ThirdPackage/lwip220/api/sockets.c ****  * @return 0 on success, non-zero on failure
 917:ThirdPackage/lwip220/api/sockets.c ****  */
 918:ThirdPackage/lwip220/api/sockets.c **** int
 919:ThirdPackage/lwip220/api/sockets.c **** lwip_listen(int s, int backlog)
 920:ThirdPackage/lwip220/api/sockets.c **** {
 921:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock;
 922:ThirdPackage/lwip220/api/sockets.c ****   err_t err;
 923:ThirdPackage/lwip220/api/sockets.c **** 
 924:ThirdPackage/lwip220/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_listen(%d, backlog=%d)\n", s, backlog));
 925:ThirdPackage/lwip220/api/sockets.c **** 
 926:ThirdPackage/lwip220/api/sockets.c ****   sock = get_socket(s);
 927:ThirdPackage/lwip220/api/sockets.c ****   if (!sock) {
 928:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 929:ThirdPackage/lwip220/api/sockets.c ****   }
 930:ThirdPackage/lwip220/api/sockets.c **** 
 931:ThirdPackage/lwip220/api/sockets.c ****   /* limit the "backlog" parameter to fit in an u8_t */
 932:ThirdPackage/lwip220/api/sockets.c ****   backlog = LWIP_MIN(LWIP_MAX(backlog, 0), 0xff);
 933:ThirdPackage/lwip220/api/sockets.c **** 
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 22


 934:ThirdPackage/lwip220/api/sockets.c ****   err = netconn_listen_with_backlog(sock->conn, (u8_t)backlog);
 935:ThirdPackage/lwip220/api/sockets.c **** 
 936:ThirdPackage/lwip220/api/sockets.c ****   if (err != ERR_OK) {
 937:ThirdPackage/lwip220/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_listen(%d) failed, err=%d\n", s, err));
 938:ThirdPackage/lwip220/api/sockets.c ****     if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) != NETCONN_TCP) {
 939:ThirdPackage/lwip220/api/sockets.c ****       set_errno(EOPNOTSUPP);
 940:ThirdPackage/lwip220/api/sockets.c ****     } else {
 941:ThirdPackage/lwip220/api/sockets.c ****       set_errno(err_to_errno(err));
 942:ThirdPackage/lwip220/api/sockets.c ****     }
 943:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
 944:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 945:ThirdPackage/lwip220/api/sockets.c ****   }
 946:ThirdPackage/lwip220/api/sockets.c **** 
 947:ThirdPackage/lwip220/api/sockets.c ****   set_errno(0);
 948:ThirdPackage/lwip220/api/sockets.c ****   done_socket(sock);
 949:ThirdPackage/lwip220/api/sockets.c ****   return 0;
 950:ThirdPackage/lwip220/api/sockets.c **** }
 951:ThirdPackage/lwip220/api/sockets.c **** 
 952:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_TCP
 953:ThirdPackage/lwip220/api/sockets.c **** /* Helper function to loop over receiving pbufs from netconn
 954:ThirdPackage/lwip220/api/sockets.c ****  * until "len" bytes are received or we're otherwise done.
 955:ThirdPackage/lwip220/api/sockets.c ****  * Keeps sock->lastdata for peeking or partly copying.
 956:ThirdPackage/lwip220/api/sockets.c ****  */
 957:ThirdPackage/lwip220/api/sockets.c **** static ssize_t
 958:ThirdPackage/lwip220/api/sockets.c **** lwip_recv_tcp(struct lwip_sock *sock, void *mem, size_t len, int flags)
 959:ThirdPackage/lwip220/api/sockets.c **** {
 960:ThirdPackage/lwip220/api/sockets.c ****   u8_t apiflags = NETCONN_NOAUTORCVD;
 961:ThirdPackage/lwip220/api/sockets.c ****   ssize_t recvd = 0;
 962:ThirdPackage/lwip220/api/sockets.c ****   ssize_t recv_left = (len <= SSIZE_MAX) ? (ssize_t)len : SSIZE_MAX;
 963:ThirdPackage/lwip220/api/sockets.c **** 
 964:ThirdPackage/lwip220/api/sockets.c ****   LWIP_ASSERT("no socket given", sock != NULL);
 965:ThirdPackage/lwip220/api/sockets.c ****   LWIP_ASSERT("this should be checked internally", NETCONNTYPE_GROUP(netconn_type(sock->conn)) == N
 966:ThirdPackage/lwip220/api/sockets.c **** 
 967:ThirdPackage/lwip220/api/sockets.c ****   if (flags & MSG_DONTWAIT) {
 968:ThirdPackage/lwip220/api/sockets.c ****     apiflags |= NETCONN_DONTBLOCK;
 969:ThirdPackage/lwip220/api/sockets.c ****   }
 970:ThirdPackage/lwip220/api/sockets.c **** 
 971:ThirdPackage/lwip220/api/sockets.c ****   do {
 972:ThirdPackage/lwip220/api/sockets.c ****     struct pbuf *p;
 973:ThirdPackage/lwip220/api/sockets.c ****     err_t err;
 974:ThirdPackage/lwip220/api/sockets.c ****     u16_t copylen;
 975:ThirdPackage/lwip220/api/sockets.c **** 
 976:ThirdPackage/lwip220/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recv_tcp: top while sock->lastdata=%p\n", (void *)sock->lastd
 977:ThirdPackage/lwip220/api/sockets.c ****     /* Check if there is data left from the last recv operation. */
 978:ThirdPackage/lwip220/api/sockets.c ****     if (sock->lastdata.pbuf) {
 979:ThirdPackage/lwip220/api/sockets.c ****       p = sock->lastdata.pbuf;
 980:ThirdPackage/lwip220/api/sockets.c ****     } else {
 981:ThirdPackage/lwip220/api/sockets.c ****       /* No data was left from the previous operation, so we try to get
 982:ThirdPackage/lwip220/api/sockets.c ****          some from the network. */
 983:ThirdPackage/lwip220/api/sockets.c ****       err = netconn_recv_tcp_pbuf_flags(sock->conn, &p, apiflags);
 984:ThirdPackage/lwip220/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recv_tcp: netconn_recv err=%d, pbuf=%p\n",
 985:ThirdPackage/lwip220/api/sockets.c ****                                   err, (void *)p));
 986:ThirdPackage/lwip220/api/sockets.c **** 
 987:ThirdPackage/lwip220/api/sockets.c ****       if (err != ERR_OK) {
 988:ThirdPackage/lwip220/api/sockets.c ****         if (recvd > 0) {
 989:ThirdPackage/lwip220/api/sockets.c ****           /* already received data, return that (this trusts in getting the same error from
 990:ThirdPackage/lwip220/api/sockets.c ****              netconn layer again next time netconn_recv is called) */
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 23


 991:ThirdPackage/lwip220/api/sockets.c ****           goto lwip_recv_tcp_done;
 992:ThirdPackage/lwip220/api/sockets.c ****         }
 993:ThirdPackage/lwip220/api/sockets.c ****         /* We should really do some error checking here. */
 994:ThirdPackage/lwip220/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recv_tcp: p == NULL, error is \"%s\"!\n",
 995:ThirdPackage/lwip220/api/sockets.c ****                                     lwip_strerr(err)));
 996:ThirdPackage/lwip220/api/sockets.c ****         set_errno(err_to_errno(err));
 997:ThirdPackage/lwip220/api/sockets.c ****         if (err == ERR_CLSD) {
 998:ThirdPackage/lwip220/api/sockets.c ****           return 0;
 999:ThirdPackage/lwip220/api/sockets.c ****         } else {
1000:ThirdPackage/lwip220/api/sockets.c ****           return -1;
1001:ThirdPackage/lwip220/api/sockets.c ****         }
1002:ThirdPackage/lwip220/api/sockets.c ****       }
1003:ThirdPackage/lwip220/api/sockets.c ****       LWIP_ASSERT("p != NULL", p != NULL);
1004:ThirdPackage/lwip220/api/sockets.c ****       sock->lastdata.pbuf = p;
1005:ThirdPackage/lwip220/api/sockets.c ****     }
1006:ThirdPackage/lwip220/api/sockets.c **** 
1007:ThirdPackage/lwip220/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recv_tcp: buflen=%"U16_F" recv_left=%d off=%d\n",
1008:ThirdPackage/lwip220/api/sockets.c ****                                 p->tot_len, (int)recv_left, (int)recvd));
1009:ThirdPackage/lwip220/api/sockets.c **** 
1010:ThirdPackage/lwip220/api/sockets.c ****     if (recv_left > p->tot_len) {
1011:ThirdPackage/lwip220/api/sockets.c ****       copylen = p->tot_len;
1012:ThirdPackage/lwip220/api/sockets.c ****     } else {
1013:ThirdPackage/lwip220/api/sockets.c ****       copylen = (u16_t)recv_left;
1014:ThirdPackage/lwip220/api/sockets.c ****     }
1015:ThirdPackage/lwip220/api/sockets.c ****     if (recvd > SSIZE_MAX - copylen) {
1016:ThirdPackage/lwip220/api/sockets.c ****       /* overflow */
1017:ThirdPackage/lwip220/api/sockets.c ****       copylen = (u16_t)(SSIZE_MAX - recvd);
1018:ThirdPackage/lwip220/api/sockets.c ****     }
1019:ThirdPackage/lwip220/api/sockets.c **** 
1020:ThirdPackage/lwip220/api/sockets.c ****     /* copy the contents of the received buffer into
1021:ThirdPackage/lwip220/api/sockets.c ****     the supplied memory pointer mem */
1022:ThirdPackage/lwip220/api/sockets.c ****     pbuf_copy_partial(p, (u8_t *)mem + recvd, copylen, 0);
1023:ThirdPackage/lwip220/api/sockets.c **** 
1024:ThirdPackage/lwip220/api/sockets.c ****     recvd += copylen;
1025:ThirdPackage/lwip220/api/sockets.c **** 
1026:ThirdPackage/lwip220/api/sockets.c ****     /* TCP combines multiple pbufs for one recv */
1027:ThirdPackage/lwip220/api/sockets.c ****     LWIP_ASSERT("invalid copylen, len would underflow", recv_left >= copylen);
1028:ThirdPackage/lwip220/api/sockets.c ****     recv_left -= copylen;
1029:ThirdPackage/lwip220/api/sockets.c **** 
1030:ThirdPackage/lwip220/api/sockets.c ****     /* Unless we peek the incoming message... */
1031:ThirdPackage/lwip220/api/sockets.c ****     if ((flags & MSG_PEEK) == 0) {
1032:ThirdPackage/lwip220/api/sockets.c ****       /* ... check if there is data left in the pbuf */
1033:ThirdPackage/lwip220/api/sockets.c ****       LWIP_ASSERT("invalid copylen", p->tot_len >= copylen);
1034:ThirdPackage/lwip220/api/sockets.c ****       if (p->tot_len - copylen > 0) {
1035:ThirdPackage/lwip220/api/sockets.c ****         /* If so, it should be saved in the sock structure for the next recv call.
1036:ThirdPackage/lwip220/api/sockets.c ****            We store the pbuf but hide/free the consumed data: */
1037:ThirdPackage/lwip220/api/sockets.c ****         sock->lastdata.pbuf = pbuf_free_header(p, copylen);
1038:ThirdPackage/lwip220/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recv_tcp: lastdata now pbuf=%p\n", (void *)sock->lastdata
1039:ThirdPackage/lwip220/api/sockets.c ****       } else {
1040:ThirdPackage/lwip220/api/sockets.c ****         sock->lastdata.pbuf = NULL;
1041:ThirdPackage/lwip220/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recv_tcp: deleting pbuf=%p\n", (void *)p));
1042:ThirdPackage/lwip220/api/sockets.c ****         pbuf_free(p);
1043:ThirdPackage/lwip220/api/sockets.c ****       }
1044:ThirdPackage/lwip220/api/sockets.c ****     }
1045:ThirdPackage/lwip220/api/sockets.c ****     /* once we have some data to return, only add more if we don't need to wait */
1046:ThirdPackage/lwip220/api/sockets.c ****     apiflags |= NETCONN_DONTBLOCK | NETCONN_NOFIN;
1047:ThirdPackage/lwip220/api/sockets.c ****     /* @todo: do we need to support peeking more than one pbuf? */
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 24


1048:ThirdPackage/lwip220/api/sockets.c ****   } while ((recv_left > 0) && !(flags & MSG_PEEK));
1049:ThirdPackage/lwip220/api/sockets.c **** lwip_recv_tcp_done:
1050:ThirdPackage/lwip220/api/sockets.c ****   if ((recvd > 0) && !(flags & MSG_PEEK)) {
1051:ThirdPackage/lwip220/api/sockets.c ****     /* ensure window update after copying all data */
1052:ThirdPackage/lwip220/api/sockets.c ****     netconn_tcp_recvd(sock->conn, (size_t)recvd);
1053:ThirdPackage/lwip220/api/sockets.c ****   }
1054:ThirdPackage/lwip220/api/sockets.c ****   set_errno(0);
1055:ThirdPackage/lwip220/api/sockets.c ****   return recvd;
1056:ThirdPackage/lwip220/api/sockets.c **** }
1057:ThirdPackage/lwip220/api/sockets.c **** #endif
1058:ThirdPackage/lwip220/api/sockets.c **** 
1059:ThirdPackage/lwip220/api/sockets.c **** /* Convert a netbuf's address data to struct sockaddr */
1060:ThirdPackage/lwip220/api/sockets.c **** static int
1061:ThirdPackage/lwip220/api/sockets.c **** lwip_sock_make_addr(struct netconn *conn, ip_addr_t *fromaddr, u16_t port,
1062:ThirdPackage/lwip220/api/sockets.c ****                     struct sockaddr *from, socklen_t *fromlen)
1063:ThirdPackage/lwip220/api/sockets.c **** {
1064:ThirdPackage/lwip220/api/sockets.c ****   int truncated = 0;
1065:ThirdPackage/lwip220/api/sockets.c ****   union sockaddr_aligned saddr;
1066:ThirdPackage/lwip220/api/sockets.c **** 
1067:ThirdPackage/lwip220/api/sockets.c ****   LWIP_UNUSED_ARG(conn);
1068:ThirdPackage/lwip220/api/sockets.c **** 
1069:ThirdPackage/lwip220/api/sockets.c ****   LWIP_ASSERT("fromaddr != NULL", fromaddr != NULL);
1070:ThirdPackage/lwip220/api/sockets.c ****   LWIP_ASSERT("from != NULL", from != NULL);
1071:ThirdPackage/lwip220/api/sockets.c ****   LWIP_ASSERT("fromlen != NULL", fromlen != NULL);
1072:ThirdPackage/lwip220/api/sockets.c **** 
1073:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_IPV4 && LWIP_IPV6
1074:ThirdPackage/lwip220/api/sockets.c ****   /* Dual-stack: Map IPv4 addresses to IPv4 mapped IPv6 */
1075:ThirdPackage/lwip220/api/sockets.c ****   if (NETCONNTYPE_ISIPV6(netconn_type(conn)) && IP_IS_V4(fromaddr)) {
1076:ThirdPackage/lwip220/api/sockets.c ****     ip4_2_ipv4_mapped_ipv6(ip_2_ip6(fromaddr), ip_2_ip4(fromaddr));
1077:ThirdPackage/lwip220/api/sockets.c ****     IP_SET_TYPE(fromaddr, IPADDR_TYPE_V6);
1078:ThirdPackage/lwip220/api/sockets.c ****   }
1079:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_IPV4 && LWIP_IPV6 */
1080:ThirdPackage/lwip220/api/sockets.c **** 
1081:ThirdPackage/lwip220/api/sockets.c ****   IPADDR_PORT_TO_SOCKADDR(&saddr, fromaddr, port);
1082:ThirdPackage/lwip220/api/sockets.c ****   if (*fromlen < IPADDR_SOCKADDR_GET_LEN(&saddr)) {
1083:ThirdPackage/lwip220/api/sockets.c ****     truncated = 1;
1084:ThirdPackage/lwip220/api/sockets.c ****   } else if (*fromlen > IPADDR_SOCKADDR_GET_LEN(&saddr)) {
1085:ThirdPackage/lwip220/api/sockets.c ****     *fromlen = IPADDR_SOCKADDR_GET_LEN(&saddr);
1086:ThirdPackage/lwip220/api/sockets.c ****   }
1087:ThirdPackage/lwip220/api/sockets.c ****   MEMCPY(from, &saddr, *fromlen);
1088:ThirdPackage/lwip220/api/sockets.c ****   return truncated;
1089:ThirdPackage/lwip220/api/sockets.c **** }
1090:ThirdPackage/lwip220/api/sockets.c **** 
1091:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_TCP
1092:ThirdPackage/lwip220/api/sockets.c **** /* Helper function to get a tcp socket's remote address info */
1093:ThirdPackage/lwip220/api/sockets.c **** static int
1094:ThirdPackage/lwip220/api/sockets.c **** lwip_recv_tcp_from(struct lwip_sock *sock, struct sockaddr *from, socklen_t *fromlen, const char *d
1095:ThirdPackage/lwip220/api/sockets.c **** {
1096:ThirdPackage/lwip220/api/sockets.c ****   if (sock == NULL) {
1097:ThirdPackage/lwip220/api/sockets.c ****     return 0;
1098:ThirdPackage/lwip220/api/sockets.c ****   }
1099:ThirdPackage/lwip220/api/sockets.c ****   LWIP_UNUSED_ARG(dbg_fn);
1100:ThirdPackage/lwip220/api/sockets.c ****   LWIP_UNUSED_ARG(dbg_s);
1101:ThirdPackage/lwip220/api/sockets.c ****   LWIP_UNUSED_ARG(dbg_ret);
1102:ThirdPackage/lwip220/api/sockets.c **** 
1103:ThirdPackage/lwip220/api/sockets.c **** #if !SOCKETS_DEBUG
1104:ThirdPackage/lwip220/api/sockets.c ****   if (from && fromlen)
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 25


1105:ThirdPackage/lwip220/api/sockets.c **** #endif /* !SOCKETS_DEBUG */
1106:ThirdPackage/lwip220/api/sockets.c ****   {
1107:ThirdPackage/lwip220/api/sockets.c ****     /* get remote addr/port from tcp_pcb */
1108:ThirdPackage/lwip220/api/sockets.c ****     u16_t port;
1109:ThirdPackage/lwip220/api/sockets.c ****     ip_addr_t tmpaddr;
1110:ThirdPackage/lwip220/api/sockets.c ****     netconn_getaddr(sock->conn, &tmpaddr, &port, 0);
1111:ThirdPackage/lwip220/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("%s(%d):  addr=", dbg_fn, dbg_s));
1112:ThirdPackage/lwip220/api/sockets.c ****     ip_addr_debug_print_val(SOCKETS_DEBUG, tmpaddr);
1113:ThirdPackage/lwip220/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, (" port=%"U16_F" len=%d\n", port, (int)dbg_ret));
1114:ThirdPackage/lwip220/api/sockets.c ****     if (from && fromlen) {
1115:ThirdPackage/lwip220/api/sockets.c ****       return lwip_sock_make_addr(sock->conn, &tmpaddr, port, from, fromlen);
1116:ThirdPackage/lwip220/api/sockets.c ****     }
1117:ThirdPackage/lwip220/api/sockets.c ****   }
1118:ThirdPackage/lwip220/api/sockets.c ****   return 0;
1119:ThirdPackage/lwip220/api/sockets.c **** }
1120:ThirdPackage/lwip220/api/sockets.c **** #endif
1121:ThirdPackage/lwip220/api/sockets.c **** 
1122:ThirdPackage/lwip220/api/sockets.c **** /* Helper function to receive a netbuf from a udp or raw netconn.
1123:ThirdPackage/lwip220/api/sockets.c ****  * Keeps sock->lastdata for peeking.
1124:ThirdPackage/lwip220/api/sockets.c ****  */
1125:ThirdPackage/lwip220/api/sockets.c **** static err_t
1126:ThirdPackage/lwip220/api/sockets.c **** lwip_recvfrom_udp_raw(struct lwip_sock *sock, int flags, struct msghdr *msg, u16_t *datagram_len, i
1127:ThirdPackage/lwip220/api/sockets.c **** {
1128:ThirdPackage/lwip220/api/sockets.c ****   struct netbuf *buf;
1129:ThirdPackage/lwip220/api/sockets.c ****   u8_t apiflags;
1130:ThirdPackage/lwip220/api/sockets.c ****   err_t err;
1131:ThirdPackage/lwip220/api/sockets.c ****   u16_t buflen, copylen, copied;
1132:ThirdPackage/lwip220/api/sockets.c ****   msg_iovlen_t i;
1133:ThirdPackage/lwip220/api/sockets.c **** 
1134:ThirdPackage/lwip220/api/sockets.c ****   LWIP_UNUSED_ARG(dbg_s);
1135:ThirdPackage/lwip220/api/sockets.c ****   LWIP_ERROR("lwip_recvfrom_udp_raw: invalid arguments", (msg->msg_iov != NULL) || (msg->msg_iovlen
1136:ThirdPackage/lwip220/api/sockets.c **** 
1137:ThirdPackage/lwip220/api/sockets.c ****   if (flags & MSG_DONTWAIT) {
1138:ThirdPackage/lwip220/api/sockets.c ****     apiflags = NETCONN_DONTBLOCK;
1139:ThirdPackage/lwip220/api/sockets.c ****   } else {
1140:ThirdPackage/lwip220/api/sockets.c ****     apiflags = 0;
1141:ThirdPackage/lwip220/api/sockets.c ****   }
1142:ThirdPackage/lwip220/api/sockets.c **** 
1143:ThirdPackage/lwip220/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom_udp_raw[UDP/RAW]: top sock->lastdata=%p\n", (void *)so
1144:ThirdPackage/lwip220/api/sockets.c ****   /* Check if there is data left from the last recv operation. */
1145:ThirdPackage/lwip220/api/sockets.c ****   buf = sock->lastdata.netbuf;
1146:ThirdPackage/lwip220/api/sockets.c ****   if (buf == NULL) {
1147:ThirdPackage/lwip220/api/sockets.c ****     /* No data was left from the previous operation, so we try to get
1148:ThirdPackage/lwip220/api/sockets.c ****         some from the network. */
1149:ThirdPackage/lwip220/api/sockets.c ****     err = netconn_recv_udp_raw_netbuf_flags(sock->conn, &buf, apiflags);
1150:ThirdPackage/lwip220/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom_udp_raw[UDP/RAW]: netconn_recv err=%d, netbuf=%p\n",
1151:ThirdPackage/lwip220/api/sockets.c ****                                 err, (void *)buf));
1152:ThirdPackage/lwip220/api/sockets.c **** 
1153:ThirdPackage/lwip220/api/sockets.c ****     if (err != ERR_OK) {
1154:ThirdPackage/lwip220/api/sockets.c ****       return err;
1155:ThirdPackage/lwip220/api/sockets.c ****     }
1156:ThirdPackage/lwip220/api/sockets.c ****     LWIP_ASSERT("buf != NULL", buf != NULL);
1157:ThirdPackage/lwip220/api/sockets.c ****     sock->lastdata.netbuf = buf;
1158:ThirdPackage/lwip220/api/sockets.c ****   }
1159:ThirdPackage/lwip220/api/sockets.c ****   buflen = buf->p->tot_len;
1160:ThirdPackage/lwip220/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom_udp_raw: buflen=%"U16_F"\n", buflen));
1161:ThirdPackage/lwip220/api/sockets.c **** 
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 26


1162:ThirdPackage/lwip220/api/sockets.c ****   copied = 0;
1163:ThirdPackage/lwip220/api/sockets.c ****   /* copy the pbuf payload into the iovs */
1164:ThirdPackage/lwip220/api/sockets.c ****   for (i = 0; (i < msg->msg_iovlen) && (copied < buflen); i++) {
1165:ThirdPackage/lwip220/api/sockets.c ****     u16_t len_left = (u16_t)(buflen - copied);
1166:ThirdPackage/lwip220/api/sockets.c ****     if (msg->msg_iov[i].iov_len > len_left) {
1167:ThirdPackage/lwip220/api/sockets.c ****       copylen = len_left;
1168:ThirdPackage/lwip220/api/sockets.c ****     } else {
1169:ThirdPackage/lwip220/api/sockets.c ****       copylen = (u16_t)msg->msg_iov[i].iov_len;
1170:ThirdPackage/lwip220/api/sockets.c ****     }
1171:ThirdPackage/lwip220/api/sockets.c **** 
1172:ThirdPackage/lwip220/api/sockets.c ****     /* copy the contents of the received buffer into
1173:ThirdPackage/lwip220/api/sockets.c ****         the supplied memory buffer */
1174:ThirdPackage/lwip220/api/sockets.c ****     pbuf_copy_partial(buf->p, (u8_t *)msg->msg_iov[i].iov_base, copylen, copied);
1175:ThirdPackage/lwip220/api/sockets.c ****     copied = (u16_t)(copied + copylen);
1176:ThirdPackage/lwip220/api/sockets.c ****   }
1177:ThirdPackage/lwip220/api/sockets.c **** 
1178:ThirdPackage/lwip220/api/sockets.c ****   /* Check to see from where the data was.*/
1179:ThirdPackage/lwip220/api/sockets.c **** #if !SOCKETS_DEBUG
1180:ThirdPackage/lwip220/api/sockets.c ****   if (msg->msg_name && msg->msg_namelen)
1181:ThirdPackage/lwip220/api/sockets.c **** #endif /* !SOCKETS_DEBUG */
1182:ThirdPackage/lwip220/api/sockets.c ****   {
1183:ThirdPackage/lwip220/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom_udp_raw(%d):  addr=", dbg_s));
1184:ThirdPackage/lwip220/api/sockets.c ****     ip_addr_debug_print_val(SOCKETS_DEBUG, *netbuf_fromaddr(buf));
1185:ThirdPackage/lwip220/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, (" port=%"U16_F" len=%d\n", netbuf_fromport(buf), copied));
1186:ThirdPackage/lwip220/api/sockets.c ****     if (msg->msg_name && msg->msg_namelen) {
1187:ThirdPackage/lwip220/api/sockets.c ****       lwip_sock_make_addr(sock->conn, netbuf_fromaddr(buf), netbuf_fromport(buf),
1188:ThirdPackage/lwip220/api/sockets.c ****                           (struct sockaddr *)msg->msg_name, &msg->msg_namelen);
1189:ThirdPackage/lwip220/api/sockets.c ****     }
1190:ThirdPackage/lwip220/api/sockets.c ****   }
1191:ThirdPackage/lwip220/api/sockets.c **** 
1192:ThirdPackage/lwip220/api/sockets.c ****   /* Initialize flag output */
1193:ThirdPackage/lwip220/api/sockets.c ****   msg->msg_flags = 0;
1194:ThirdPackage/lwip220/api/sockets.c **** 
1195:ThirdPackage/lwip220/api/sockets.c ****   if (msg->msg_control) {
1196:ThirdPackage/lwip220/api/sockets.c ****     u8_t wrote_msg = 0;
1197:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_NETBUF_RECVINFO
1198:ThirdPackage/lwip220/api/sockets.c ****     /* Check if packet info was recorded */
1199:ThirdPackage/lwip220/api/sockets.c ****     if (buf->flags & NETBUF_FLAG_DESTADDR) {
1200:ThirdPackage/lwip220/api/sockets.c ****       if (IP_IS_V4(&buf->toaddr)) {
1201:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_IPV4
1202:ThirdPackage/lwip220/api/sockets.c ****         if (msg->msg_controllen >= CMSG_SPACE(sizeof(struct in_pktinfo))) {
1203:ThirdPackage/lwip220/api/sockets.c ****           struct cmsghdr *chdr = CMSG_FIRSTHDR(msg); /* This will always return a header!! */
1204:ThirdPackage/lwip220/api/sockets.c ****           struct in_pktinfo *pkti = (struct in_pktinfo *)CMSG_DATA(chdr);
1205:ThirdPackage/lwip220/api/sockets.c ****           chdr->cmsg_level = IPPROTO_IP;
1206:ThirdPackage/lwip220/api/sockets.c ****           chdr->cmsg_type = IP_PKTINFO;
1207:ThirdPackage/lwip220/api/sockets.c ****           chdr->cmsg_len = CMSG_LEN(sizeof(struct in_pktinfo));
1208:ThirdPackage/lwip220/api/sockets.c ****           pkti->ipi_ifindex = buf->p->if_idx;
1209:ThirdPackage/lwip220/api/sockets.c ****           inet_addr_from_ip4addr(&pkti->ipi_addr, ip_2_ip4(netbuf_destaddr(buf)));
1210:ThirdPackage/lwip220/api/sockets.c ****           msg->msg_controllen = CMSG_SPACE(sizeof(struct in_pktinfo));
1211:ThirdPackage/lwip220/api/sockets.c ****           wrote_msg = 1;
1212:ThirdPackage/lwip220/api/sockets.c ****         } else {
1213:ThirdPackage/lwip220/api/sockets.c ****           msg->msg_flags |= MSG_CTRUNC;
1214:ThirdPackage/lwip220/api/sockets.c ****         }
1215:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_IPV4 */
1216:ThirdPackage/lwip220/api/sockets.c ****       }
1217:ThirdPackage/lwip220/api/sockets.c ****     }
1218:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_NETBUF_RECVINFO */
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 27


1219:ThirdPackage/lwip220/api/sockets.c **** 
1220:ThirdPackage/lwip220/api/sockets.c ****     if (!wrote_msg) {
1221:ThirdPackage/lwip220/api/sockets.c ****       msg->msg_controllen = 0;
1222:ThirdPackage/lwip220/api/sockets.c ****     }
1223:ThirdPackage/lwip220/api/sockets.c ****   }
1224:ThirdPackage/lwip220/api/sockets.c **** 
1225:ThirdPackage/lwip220/api/sockets.c ****   /* If we don't peek the incoming message: zero lastdata pointer and free the netbuf */
1226:ThirdPackage/lwip220/api/sockets.c ****   if ((flags & MSG_PEEK) == 0) {
1227:ThirdPackage/lwip220/api/sockets.c ****     sock->lastdata.netbuf = NULL;
1228:ThirdPackage/lwip220/api/sockets.c ****     netbuf_delete(buf);
1229:ThirdPackage/lwip220/api/sockets.c ****   }
1230:ThirdPackage/lwip220/api/sockets.c ****   if (datagram_len) {
1231:ThirdPackage/lwip220/api/sockets.c ****     *datagram_len = buflen;
1232:ThirdPackage/lwip220/api/sockets.c ****   }
1233:ThirdPackage/lwip220/api/sockets.c ****   return ERR_OK;
1234:ThirdPackage/lwip220/api/sockets.c **** }
1235:ThirdPackage/lwip220/api/sockets.c **** 
1236:ThirdPackage/lwip220/api/sockets.c **** ssize_t
1237:ThirdPackage/lwip220/api/sockets.c **** lwip_recvfrom(int s, void *mem, size_t len, int flags,
1238:ThirdPackage/lwip220/api/sockets.c ****               struct sockaddr *from, socklen_t *fromlen)
1239:ThirdPackage/lwip220/api/sockets.c **** {
1240:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock;
1241:ThirdPackage/lwip220/api/sockets.c ****   ssize_t ret;
1242:ThirdPackage/lwip220/api/sockets.c **** 
1243:ThirdPackage/lwip220/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom(%d, %p, %"SZT_F", 0x%x, ..)\n", s, mem, len, flags));
1244:ThirdPackage/lwip220/api/sockets.c ****   sock = get_socket(s);
1245:ThirdPackage/lwip220/api/sockets.c ****   if (!sock) {
1246:ThirdPackage/lwip220/api/sockets.c ****     return -1;
1247:ThirdPackage/lwip220/api/sockets.c ****   }
1248:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_TCP
1249:ThirdPackage/lwip220/api/sockets.c ****   if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) == NETCONN_TCP) {
1250:ThirdPackage/lwip220/api/sockets.c ****     ret = lwip_recv_tcp(sock, mem, len, flags);
1251:ThirdPackage/lwip220/api/sockets.c ****     lwip_recv_tcp_from(sock, from, fromlen, "lwip_recvfrom", s, ret);
1252:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
1253:ThirdPackage/lwip220/api/sockets.c ****     return ret;
1254:ThirdPackage/lwip220/api/sockets.c ****   } else
1255:ThirdPackage/lwip220/api/sockets.c **** #endif
1256:ThirdPackage/lwip220/api/sockets.c ****   {
1257:ThirdPackage/lwip220/api/sockets.c ****     u16_t datagram_len = 0;
1258:ThirdPackage/lwip220/api/sockets.c ****     struct iovec vec;
1259:ThirdPackage/lwip220/api/sockets.c ****     struct msghdr msg;
1260:ThirdPackage/lwip220/api/sockets.c ****     err_t err;
1261:ThirdPackage/lwip220/api/sockets.c ****     vec.iov_base = mem;
1262:ThirdPackage/lwip220/api/sockets.c ****     vec.iov_len = len;
1263:ThirdPackage/lwip220/api/sockets.c ****     msg.msg_control = NULL;
1264:ThirdPackage/lwip220/api/sockets.c ****     msg.msg_controllen = 0;
1265:ThirdPackage/lwip220/api/sockets.c ****     msg.msg_flags = 0;
1266:ThirdPackage/lwip220/api/sockets.c ****     msg.msg_iov = &vec;
1267:ThirdPackage/lwip220/api/sockets.c ****     msg.msg_iovlen = 1;
1268:ThirdPackage/lwip220/api/sockets.c ****     msg.msg_name = from;
1269:ThirdPackage/lwip220/api/sockets.c ****     msg.msg_namelen = (fromlen ? *fromlen : 0);
1270:ThirdPackage/lwip220/api/sockets.c ****     err = lwip_recvfrom_udp_raw(sock, flags, &msg, &datagram_len, s);
1271:ThirdPackage/lwip220/api/sockets.c ****     if (err != ERR_OK) {
1272:ThirdPackage/lwip220/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom[UDP/RAW](%d): buf == NULL, error is \"%s\"!\n",
1273:ThirdPackage/lwip220/api/sockets.c ****                                   s, lwip_strerr(err)));
1274:ThirdPackage/lwip220/api/sockets.c ****       set_errno(err_to_errno(err));
1275:ThirdPackage/lwip220/api/sockets.c ****       done_socket(sock);
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 28


1276:ThirdPackage/lwip220/api/sockets.c ****       return -1;
1277:ThirdPackage/lwip220/api/sockets.c ****     }
1278:ThirdPackage/lwip220/api/sockets.c ****     ret = (ssize_t)LWIP_MIN(LWIP_MIN(len, datagram_len), SSIZE_MAX);
1279:ThirdPackage/lwip220/api/sockets.c ****     if (fromlen) {
1280:ThirdPackage/lwip220/api/sockets.c ****       *fromlen = msg.msg_namelen;
1281:ThirdPackage/lwip220/api/sockets.c ****     }
1282:ThirdPackage/lwip220/api/sockets.c ****   }
1283:ThirdPackage/lwip220/api/sockets.c **** 
1284:ThirdPackage/lwip220/api/sockets.c ****   set_errno(0);
1285:ThirdPackage/lwip220/api/sockets.c ****   done_socket(sock);
1286:ThirdPackage/lwip220/api/sockets.c ****   return ret;
1287:ThirdPackage/lwip220/api/sockets.c **** }
1288:ThirdPackage/lwip220/api/sockets.c **** 
1289:ThirdPackage/lwip220/api/sockets.c **** ssize_t
1290:ThirdPackage/lwip220/api/sockets.c **** lwip_read(int s, void *mem, size_t len)
1291:ThirdPackage/lwip220/api/sockets.c **** {
1292:ThirdPackage/lwip220/api/sockets.c ****   return lwip_recvfrom(s, mem, len, 0, NULL, NULL);
1293:ThirdPackage/lwip220/api/sockets.c **** }
1294:ThirdPackage/lwip220/api/sockets.c **** 
1295:ThirdPackage/lwip220/api/sockets.c **** ssize_t
1296:ThirdPackage/lwip220/api/sockets.c **** lwip_readv(int s, const struct iovec *iov, int iovcnt)
1297:ThirdPackage/lwip220/api/sockets.c **** {
1298:ThirdPackage/lwip220/api/sockets.c ****   struct msghdr msg;
1299:ThirdPackage/lwip220/api/sockets.c **** 
1300:ThirdPackage/lwip220/api/sockets.c ****   msg.msg_name = NULL;
1301:ThirdPackage/lwip220/api/sockets.c ****   msg.msg_namelen = 0;
1302:ThirdPackage/lwip220/api/sockets.c ****   /* Hack: we have to cast via number to cast from 'const' pointer to non-const.
1303:ThirdPackage/lwip220/api/sockets.c ****      Blame the opengroup standard for this inconsistency. */
1304:ThirdPackage/lwip220/api/sockets.c ****   msg.msg_iov = LWIP_CONST_CAST(struct iovec *, iov);
1305:ThirdPackage/lwip220/api/sockets.c ****   msg.msg_iovlen = iovcnt;
1306:ThirdPackage/lwip220/api/sockets.c ****   msg.msg_control = NULL;
1307:ThirdPackage/lwip220/api/sockets.c ****   msg.msg_controllen = 0;
1308:ThirdPackage/lwip220/api/sockets.c ****   msg.msg_flags = 0;
1309:ThirdPackage/lwip220/api/sockets.c ****   return lwip_recvmsg(s, &msg, 0);
1310:ThirdPackage/lwip220/api/sockets.c **** }
1311:ThirdPackage/lwip220/api/sockets.c **** 
1312:ThirdPackage/lwip220/api/sockets.c **** ssize_t
1313:ThirdPackage/lwip220/api/sockets.c **** lwip_recv(int s, void *mem, size_t len, int flags)
1314:ThirdPackage/lwip220/api/sockets.c **** {
1315:ThirdPackage/lwip220/api/sockets.c ****   return lwip_recvfrom(s, mem, len, flags, NULL, NULL);
1316:ThirdPackage/lwip220/api/sockets.c **** }
1317:ThirdPackage/lwip220/api/sockets.c **** 
1318:ThirdPackage/lwip220/api/sockets.c **** ssize_t
1319:ThirdPackage/lwip220/api/sockets.c **** lwip_recvmsg(int s, struct msghdr *message, int flags)
1320:ThirdPackage/lwip220/api/sockets.c **** {
1321:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock;
1322:ThirdPackage/lwip220/api/sockets.c ****   msg_iovlen_t i;
1323:ThirdPackage/lwip220/api/sockets.c ****   ssize_t buflen;
1324:ThirdPackage/lwip220/api/sockets.c **** 
1325:ThirdPackage/lwip220/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvmsg(%d, message=%p, flags=0x%x)\n", s, (void *)message, fla
1326:ThirdPackage/lwip220/api/sockets.c ****   LWIP_ERROR("lwip_recvmsg: invalid message pointer", message != NULL, return ERR_ARG;);
1327:ThirdPackage/lwip220/api/sockets.c ****   LWIP_ERROR("lwip_recvmsg: unsupported flags", (flags & ~(MSG_PEEK|MSG_DONTWAIT)) == 0,
1328:ThirdPackage/lwip220/api/sockets.c ****              set_errno(EOPNOTSUPP); return -1;);
1329:ThirdPackage/lwip220/api/sockets.c **** 
1330:ThirdPackage/lwip220/api/sockets.c ****   if ((message->msg_iovlen <= 0) || (message->msg_iovlen > IOV_MAX)) {
1331:ThirdPackage/lwip220/api/sockets.c ****     set_errno(EMSGSIZE);
1332:ThirdPackage/lwip220/api/sockets.c ****     return -1;
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 29


1333:ThirdPackage/lwip220/api/sockets.c ****   }
1334:ThirdPackage/lwip220/api/sockets.c **** 
1335:ThirdPackage/lwip220/api/sockets.c ****   sock = get_socket(s);
1336:ThirdPackage/lwip220/api/sockets.c ****   if (!sock) {
1337:ThirdPackage/lwip220/api/sockets.c ****     return -1;
1338:ThirdPackage/lwip220/api/sockets.c ****   }
1339:ThirdPackage/lwip220/api/sockets.c **** 
1340:ThirdPackage/lwip220/api/sockets.c ****   /* check for valid vectors */
1341:ThirdPackage/lwip220/api/sockets.c ****   buflen = 0;
1342:ThirdPackage/lwip220/api/sockets.c ****   for (i = 0; i < message->msg_iovlen; i++) {
1343:ThirdPackage/lwip220/api/sockets.c ****     if ((message->msg_iov[i].iov_base == NULL) || ((ssize_t)message->msg_iov[i].iov_len <= 0) ||
1344:ThirdPackage/lwip220/api/sockets.c ****         ((size_t)(ssize_t)message->msg_iov[i].iov_len != message->msg_iov[i].iov_len) ||
1345:ThirdPackage/lwip220/api/sockets.c ****         ((ssize_t)(buflen + (ssize_t)message->msg_iov[i].iov_len) <= 0)) {
1346:ThirdPackage/lwip220/api/sockets.c ****       set_errno(err_to_errno(ERR_VAL));
1347:ThirdPackage/lwip220/api/sockets.c ****       done_socket(sock);
1348:ThirdPackage/lwip220/api/sockets.c ****       return -1;
1349:ThirdPackage/lwip220/api/sockets.c ****     }
1350:ThirdPackage/lwip220/api/sockets.c ****     buflen = (ssize_t)(buflen + (ssize_t)message->msg_iov[i].iov_len);
1351:ThirdPackage/lwip220/api/sockets.c ****   }
1352:ThirdPackage/lwip220/api/sockets.c **** 
1353:ThirdPackage/lwip220/api/sockets.c ****   if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) == NETCONN_TCP) {
1354:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_TCP
1355:ThirdPackage/lwip220/api/sockets.c ****     int recv_flags = flags;
1356:ThirdPackage/lwip220/api/sockets.c ****     message->msg_flags = 0;
1357:ThirdPackage/lwip220/api/sockets.c ****     /* recv the data */
1358:ThirdPackage/lwip220/api/sockets.c ****     buflen = 0;
1359:ThirdPackage/lwip220/api/sockets.c ****     for (i = 0; i < message->msg_iovlen; i++) {
1360:ThirdPackage/lwip220/api/sockets.c ****       /* try to receive into this vector's buffer */
1361:ThirdPackage/lwip220/api/sockets.c ****       ssize_t recvd_local = lwip_recv_tcp(sock, message->msg_iov[i].iov_base, message->msg_iov[i].i
1362:ThirdPackage/lwip220/api/sockets.c ****       if (recvd_local > 0) {
1363:ThirdPackage/lwip220/api/sockets.c ****         /* sum up received bytes */
1364:ThirdPackage/lwip220/api/sockets.c ****         buflen += recvd_local;
1365:ThirdPackage/lwip220/api/sockets.c ****       }
1366:ThirdPackage/lwip220/api/sockets.c ****       if ((recvd_local < 0) || (recvd_local < (int)message->msg_iov[i].iov_len) ||
1367:ThirdPackage/lwip220/api/sockets.c ****           (flags & MSG_PEEK)) {
1368:ThirdPackage/lwip220/api/sockets.c ****         /* returned prematurely (or peeking, which might actually be limitated to the first iov) */
1369:ThirdPackage/lwip220/api/sockets.c ****         if (buflen <= 0) {
1370:ThirdPackage/lwip220/api/sockets.c ****           /* nothing received at all, propagate the error */
1371:ThirdPackage/lwip220/api/sockets.c ****           buflen = recvd_local;
1372:ThirdPackage/lwip220/api/sockets.c ****         }
1373:ThirdPackage/lwip220/api/sockets.c ****         break;
1374:ThirdPackage/lwip220/api/sockets.c ****       }
1375:ThirdPackage/lwip220/api/sockets.c ****       /* pass MSG_DONTWAIT to lwip_recv_tcp() to prevent waiting for more data */
1376:ThirdPackage/lwip220/api/sockets.c ****       recv_flags |= MSG_DONTWAIT;
1377:ThirdPackage/lwip220/api/sockets.c ****     }
1378:ThirdPackage/lwip220/api/sockets.c ****     if (buflen > 0) {
1379:ThirdPackage/lwip220/api/sockets.c ****       /* reset socket error since we have received something */
1380:ThirdPackage/lwip220/api/sockets.c ****       set_errno(0);
1381:ThirdPackage/lwip220/api/sockets.c ****     }
1382:ThirdPackage/lwip220/api/sockets.c ****     /* " If the socket is connected, the msg_name and msg_namelen members shall be ignored." */
1383:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
1384:ThirdPackage/lwip220/api/sockets.c ****     return buflen;
1385:ThirdPackage/lwip220/api/sockets.c **** #else /* LWIP_TCP */
1386:ThirdPackage/lwip220/api/sockets.c ****     set_errno(err_to_errno(ERR_ARG));
1387:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
1388:ThirdPackage/lwip220/api/sockets.c ****     return -1;
1389:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_TCP */
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 30


1390:ThirdPackage/lwip220/api/sockets.c ****   }
1391:ThirdPackage/lwip220/api/sockets.c ****   /* else, UDP and RAW NETCONNs */
1392:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_UDP || LWIP_RAW
1393:ThirdPackage/lwip220/api/sockets.c ****   {
1394:ThirdPackage/lwip220/api/sockets.c ****     u16_t datagram_len = 0;
1395:ThirdPackage/lwip220/api/sockets.c ****     err_t err;
1396:ThirdPackage/lwip220/api/sockets.c ****     err = lwip_recvfrom_udp_raw(sock, flags, message, &datagram_len, s);
1397:ThirdPackage/lwip220/api/sockets.c ****     if (err != ERR_OK) {
1398:ThirdPackage/lwip220/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvmsg[UDP/RAW](%d): buf == NULL, error is \"%s\"!\n",
1399:ThirdPackage/lwip220/api/sockets.c ****                                   s, lwip_strerr(err)));
1400:ThirdPackage/lwip220/api/sockets.c ****       set_errno(err_to_errno(err));
1401:ThirdPackage/lwip220/api/sockets.c ****       done_socket(sock);
1402:ThirdPackage/lwip220/api/sockets.c ****       return -1;
1403:ThirdPackage/lwip220/api/sockets.c ****     }
1404:ThirdPackage/lwip220/api/sockets.c ****     if (datagram_len > buflen) {
1405:ThirdPackage/lwip220/api/sockets.c ****       message->msg_flags |= MSG_TRUNC;
1406:ThirdPackage/lwip220/api/sockets.c ****     }
1407:ThirdPackage/lwip220/api/sockets.c **** 
1408:ThirdPackage/lwip220/api/sockets.c ****     set_errno(0);
1409:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
1410:ThirdPackage/lwip220/api/sockets.c ****     return (int)datagram_len;
1411:ThirdPackage/lwip220/api/sockets.c ****   }
1412:ThirdPackage/lwip220/api/sockets.c **** #else /* LWIP_UDP || LWIP_RAW */
1413:ThirdPackage/lwip220/api/sockets.c ****   set_errno(err_to_errno(ERR_ARG));
1414:ThirdPackage/lwip220/api/sockets.c ****   done_socket(sock);
1415:ThirdPackage/lwip220/api/sockets.c ****   return -1;
1416:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_UDP || LWIP_RAW */
1417:ThirdPackage/lwip220/api/sockets.c **** }
1418:ThirdPackage/lwip220/api/sockets.c **** 
1419:ThirdPackage/lwip220/api/sockets.c **** ssize_t
1420:ThirdPackage/lwip220/api/sockets.c **** lwip_send(int s, const void *data, size_t size, int flags)
1421:ThirdPackage/lwip220/api/sockets.c **** {
1422:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock;
1423:ThirdPackage/lwip220/api/sockets.c ****   err_t err;
1424:ThirdPackage/lwip220/api/sockets.c ****   u8_t write_flags;
1425:ThirdPackage/lwip220/api/sockets.c ****   size_t written;
1426:ThirdPackage/lwip220/api/sockets.c **** 
1427:ThirdPackage/lwip220/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_send(%d, data=%p, size=%"SZT_F", flags=0x%x)\n",
1428:ThirdPackage/lwip220/api/sockets.c ****                               s, data, size, flags));
1429:ThirdPackage/lwip220/api/sockets.c **** 
1430:ThirdPackage/lwip220/api/sockets.c ****   sock = get_socket(s);
1431:ThirdPackage/lwip220/api/sockets.c ****   if (!sock) {
1432:ThirdPackage/lwip220/api/sockets.c ****     return -1;
1433:ThirdPackage/lwip220/api/sockets.c ****   }
1434:ThirdPackage/lwip220/api/sockets.c **** 
1435:ThirdPackage/lwip220/api/sockets.c ****   if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) != NETCONN_TCP) {
1436:ThirdPackage/lwip220/api/sockets.c **** #if (LWIP_UDP || LWIP_RAW)
1437:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
1438:ThirdPackage/lwip220/api/sockets.c ****     return lwip_sendto(s, data, size, flags, NULL, 0);
1439:ThirdPackage/lwip220/api/sockets.c **** #else /* (LWIP_UDP || LWIP_RAW) */
1440:ThirdPackage/lwip220/api/sockets.c ****     set_errno(err_to_errno(ERR_ARG));
1441:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
1442:ThirdPackage/lwip220/api/sockets.c ****     return -1;
1443:ThirdPackage/lwip220/api/sockets.c **** #endif /* (LWIP_UDP || LWIP_RAW) */
1444:ThirdPackage/lwip220/api/sockets.c ****   }
1445:ThirdPackage/lwip220/api/sockets.c **** 
1446:ThirdPackage/lwip220/api/sockets.c ****   write_flags = (u8_t)(NETCONN_COPY |
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 31


1447:ThirdPackage/lwip220/api/sockets.c ****                        ((flags & MSG_MORE)     ? NETCONN_MORE      : 0) |
1448:ThirdPackage/lwip220/api/sockets.c ****                        ((flags & MSG_DONTWAIT) ? NETCONN_DONTBLOCK : 0));
1449:ThirdPackage/lwip220/api/sockets.c ****   written = 0;
1450:ThirdPackage/lwip220/api/sockets.c ****   err = netconn_write_partly(sock->conn, data, size, write_flags, &written);
1451:ThirdPackage/lwip220/api/sockets.c **** 
1452:ThirdPackage/lwip220/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_send(%d) err=%d written=%"SZT_F"\n", s, err, written));
1453:ThirdPackage/lwip220/api/sockets.c ****   set_errno(err_to_errno(err));
1454:ThirdPackage/lwip220/api/sockets.c ****   done_socket(sock);
1455:ThirdPackage/lwip220/api/sockets.c ****   /* casting 'written' to ssize_t is OK here since the netconn API limits it to SSIZE_MAX */
1456:ThirdPackage/lwip220/api/sockets.c ****   return (err == ERR_OK ? (ssize_t)written : -1);
1457:ThirdPackage/lwip220/api/sockets.c **** }
1458:ThirdPackage/lwip220/api/sockets.c **** 
1459:ThirdPackage/lwip220/api/sockets.c **** ssize_t
1460:ThirdPackage/lwip220/api/sockets.c **** lwip_sendmsg(int s, const struct msghdr *msg, int flags)
1461:ThirdPackage/lwip220/api/sockets.c **** {
1462:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock;
1463:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_TCP
1464:ThirdPackage/lwip220/api/sockets.c ****   u8_t write_flags;
1465:ThirdPackage/lwip220/api/sockets.c ****   size_t written;
1466:ThirdPackage/lwip220/api/sockets.c **** #endif
1467:ThirdPackage/lwip220/api/sockets.c ****   err_t err = ERR_OK;
1468:ThirdPackage/lwip220/api/sockets.c **** 
1469:ThirdPackage/lwip220/api/sockets.c ****   sock = get_socket(s);
1470:ThirdPackage/lwip220/api/sockets.c ****   if (!sock) {
1471:ThirdPackage/lwip220/api/sockets.c ****     return -1;
1472:ThirdPackage/lwip220/api/sockets.c ****   }
1473:ThirdPackage/lwip220/api/sockets.c **** 
1474:ThirdPackage/lwip220/api/sockets.c ****   LWIP_ERROR("lwip_sendmsg: invalid msghdr", msg != NULL,
1475:ThirdPackage/lwip220/api/sockets.c ****              set_errno(err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
1476:ThirdPackage/lwip220/api/sockets.c ****   LWIP_ERROR("lwip_sendmsg: invalid msghdr iov", msg->msg_iov != NULL,
1477:ThirdPackage/lwip220/api/sockets.c ****              set_errno(err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
1478:ThirdPackage/lwip220/api/sockets.c ****   LWIP_ERROR("lwip_sendmsg: maximum iovs exceeded", (msg->msg_iovlen > 0) && (msg->msg_iovlen <= IO
1479:ThirdPackage/lwip220/api/sockets.c ****              set_errno(EMSGSIZE); done_socket(sock); return -1;);
1480:ThirdPackage/lwip220/api/sockets.c ****   LWIP_ERROR("lwip_sendmsg: unsupported flags", (flags & ~(MSG_DONTWAIT | MSG_MORE)) == 0,
1481:ThirdPackage/lwip220/api/sockets.c ****              set_errno(EOPNOTSUPP); done_socket(sock); return -1;);
1482:ThirdPackage/lwip220/api/sockets.c **** 
1483:ThirdPackage/lwip220/api/sockets.c ****   LWIP_UNUSED_ARG(msg->msg_control);
1484:ThirdPackage/lwip220/api/sockets.c ****   LWIP_UNUSED_ARG(msg->msg_controllen);
1485:ThirdPackage/lwip220/api/sockets.c ****   LWIP_UNUSED_ARG(msg->msg_flags);
1486:ThirdPackage/lwip220/api/sockets.c **** 
1487:ThirdPackage/lwip220/api/sockets.c ****   if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) == NETCONN_TCP) {
1488:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_TCP
1489:ThirdPackage/lwip220/api/sockets.c ****     write_flags = (u8_t)(NETCONN_COPY |
1490:ThirdPackage/lwip220/api/sockets.c ****                          ((flags & MSG_MORE)     ? NETCONN_MORE      : 0) |
1491:ThirdPackage/lwip220/api/sockets.c ****                          ((flags & MSG_DONTWAIT) ? NETCONN_DONTBLOCK : 0));
1492:ThirdPackage/lwip220/api/sockets.c **** 
1493:ThirdPackage/lwip220/api/sockets.c ****     written = 0;
1494:ThirdPackage/lwip220/api/sockets.c ****     err = netconn_write_vectors_partly(sock->conn, (struct netvector *)msg->msg_iov, (u16_t)msg->ms
1495:ThirdPackage/lwip220/api/sockets.c ****     set_errno(err_to_errno(err));
1496:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
1497:ThirdPackage/lwip220/api/sockets.c ****     /* casting 'written' to ssize_t is OK here since the netconn API limits it to SSIZE_MAX */
1498:ThirdPackage/lwip220/api/sockets.c ****     return (err == ERR_OK ? (ssize_t)written : -1);
1499:ThirdPackage/lwip220/api/sockets.c **** #else /* LWIP_TCP */
1500:ThirdPackage/lwip220/api/sockets.c ****     set_errno(err_to_errno(ERR_ARG));
1501:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
1502:ThirdPackage/lwip220/api/sockets.c ****     return -1;
1503:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_TCP */
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 32


1504:ThirdPackage/lwip220/api/sockets.c ****   }
1505:ThirdPackage/lwip220/api/sockets.c ****   /* else, UDP and RAW NETCONNs */
1506:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_UDP || LWIP_RAW
1507:ThirdPackage/lwip220/api/sockets.c ****   {
1508:ThirdPackage/lwip220/api/sockets.c ****     struct netbuf chain_buf;
1509:ThirdPackage/lwip220/api/sockets.c ****     msg_iovlen_t i;
1510:ThirdPackage/lwip220/api/sockets.c ****     ssize_t size = 0;
1511:ThirdPackage/lwip220/api/sockets.c **** 
1512:ThirdPackage/lwip220/api/sockets.c ****     LWIP_UNUSED_ARG(flags);
1513:ThirdPackage/lwip220/api/sockets.c ****     LWIP_ERROR("lwip_sendmsg: invalid msghdr name", (((msg->msg_name == NULL) && (msg->msg_namelen 
1514:ThirdPackage/lwip220/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
1515:ThirdPackage/lwip220/api/sockets.c ****                set_errno(err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
1516:ThirdPackage/lwip220/api/sockets.c **** 
1517:ThirdPackage/lwip220/api/sockets.c ****     /* initialize chain buffer with destination */
1518:ThirdPackage/lwip220/api/sockets.c ****     memset(&chain_buf, 0, sizeof(struct netbuf));
1519:ThirdPackage/lwip220/api/sockets.c ****     if (msg->msg_name) {
1520:ThirdPackage/lwip220/api/sockets.c ****       u16_t remote_port;
1521:ThirdPackage/lwip220/api/sockets.c ****       SOCKADDR_TO_IPADDR_PORT((const struct sockaddr *)msg->msg_name, &chain_buf.addr, remote_port)
1522:ThirdPackage/lwip220/api/sockets.c ****       netbuf_fromport(&chain_buf) = remote_port;
1523:ThirdPackage/lwip220/api/sockets.c ****     }
1524:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_NETIF_TX_SINGLE_PBUF
1525:ThirdPackage/lwip220/api/sockets.c ****     for (i = 0; i < msg->msg_iovlen; i++) {
1526:ThirdPackage/lwip220/api/sockets.c ****       size += msg->msg_iov[i].iov_len;
1527:ThirdPackage/lwip220/api/sockets.c ****       if ((msg->msg_iov[i].iov_len > INT_MAX) || (size < (int)msg->msg_iov[i].iov_len)) {
1528:ThirdPackage/lwip220/api/sockets.c ****         /* overflow */
1529:ThirdPackage/lwip220/api/sockets.c ****         goto sendmsg_emsgsize;
1530:ThirdPackage/lwip220/api/sockets.c ****       }
1531:ThirdPackage/lwip220/api/sockets.c ****     }
1532:ThirdPackage/lwip220/api/sockets.c ****     if (size > 0xFFFF) {
1533:ThirdPackage/lwip220/api/sockets.c ****       /* overflow */
1534:ThirdPackage/lwip220/api/sockets.c ****       goto sendmsg_emsgsize;
1535:ThirdPackage/lwip220/api/sockets.c ****     }
1536:ThirdPackage/lwip220/api/sockets.c ****     /* Allocate a new netbuf and copy the data into it. */
1537:ThirdPackage/lwip220/api/sockets.c ****     if (netbuf_alloc(&chain_buf, (u16_t)size) == NULL) {
1538:ThirdPackage/lwip220/api/sockets.c ****       err = ERR_MEM;
1539:ThirdPackage/lwip220/api/sockets.c ****     } else {
1540:ThirdPackage/lwip220/api/sockets.c ****       /* flatten the IO vectors */
1541:ThirdPackage/lwip220/api/sockets.c ****       size_t offset = 0;
1542:ThirdPackage/lwip220/api/sockets.c ****       for (i = 0; i < msg->msg_iovlen; i++) {
1543:ThirdPackage/lwip220/api/sockets.c ****         MEMCPY(&((u8_t *)chain_buf.p->payload)[offset], msg->msg_iov[i].iov_base, msg->msg_iov[i].i
1544:ThirdPackage/lwip220/api/sockets.c ****         offset += msg->msg_iov[i].iov_len;
1545:ThirdPackage/lwip220/api/sockets.c ****       }
1546:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_CHECKSUM_ON_COPY
1547:ThirdPackage/lwip220/api/sockets.c ****       {
1548:ThirdPackage/lwip220/api/sockets.c ****         /* This can be improved by using LWIP_CHKSUM_COPY() and aggregating the checksum for each I
1549:ThirdPackage/lwip220/api/sockets.c ****         u16_t chksum = ~inet_chksum_pbuf(chain_buf.p);
1550:ThirdPackage/lwip220/api/sockets.c ****         netbuf_set_chksum(&chain_buf, chksum);
1551:ThirdPackage/lwip220/api/sockets.c ****       }
1552:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_CHECKSUM_ON_COPY */
1553:ThirdPackage/lwip220/api/sockets.c ****       err = ERR_OK;
1554:ThirdPackage/lwip220/api/sockets.c ****     }
1555:ThirdPackage/lwip220/api/sockets.c **** #else /* LWIP_NETIF_TX_SINGLE_PBUF */
1556:ThirdPackage/lwip220/api/sockets.c ****     /* create a chained netbuf from the IO vectors. NOTE: we assemble a pbuf chain
1557:ThirdPackage/lwip220/api/sockets.c ****        manually to avoid having to allocate, chain, and delete a netbuf for each iov */
1558:ThirdPackage/lwip220/api/sockets.c ****     for (i = 0; i < msg->msg_iovlen; i++) {
1559:ThirdPackage/lwip220/api/sockets.c ****       struct pbuf *p;
1560:ThirdPackage/lwip220/api/sockets.c ****       if (msg->msg_iov[i].iov_len > 0xFFFF) {
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 33


1561:ThirdPackage/lwip220/api/sockets.c ****         /* overflow */
1562:ThirdPackage/lwip220/api/sockets.c ****         goto sendmsg_emsgsize;
1563:ThirdPackage/lwip220/api/sockets.c ****       }
1564:ThirdPackage/lwip220/api/sockets.c ****       p = pbuf_alloc(PBUF_TRANSPORT, 0, PBUF_REF);
1565:ThirdPackage/lwip220/api/sockets.c ****       if (p == NULL) {
1566:ThirdPackage/lwip220/api/sockets.c ****         err = ERR_MEM; /* let netbuf_delete() cleanup chain_buf */
1567:ThirdPackage/lwip220/api/sockets.c ****         break;
1568:ThirdPackage/lwip220/api/sockets.c ****       }
1569:ThirdPackage/lwip220/api/sockets.c ****       p->payload = msg->msg_iov[i].iov_base;
1570:ThirdPackage/lwip220/api/sockets.c ****       p->len = p->tot_len = (u16_t)msg->msg_iov[i].iov_len;
1571:ThirdPackage/lwip220/api/sockets.c ****       /* netbuf empty, add new pbuf */
1572:ThirdPackage/lwip220/api/sockets.c ****       if (chain_buf.p == NULL) {
1573:ThirdPackage/lwip220/api/sockets.c ****         chain_buf.p = chain_buf.ptr = p;
1574:ThirdPackage/lwip220/api/sockets.c ****         /* add pbuf to existing pbuf chain */
1575:ThirdPackage/lwip220/api/sockets.c ****       } else {
1576:ThirdPackage/lwip220/api/sockets.c ****         if (chain_buf.p->tot_len + p->len > 0xffff) {
1577:ThirdPackage/lwip220/api/sockets.c ****           /* overflow */
1578:ThirdPackage/lwip220/api/sockets.c ****           pbuf_free(p);
1579:ThirdPackage/lwip220/api/sockets.c ****           goto sendmsg_emsgsize;
1580:ThirdPackage/lwip220/api/sockets.c ****         }
1581:ThirdPackage/lwip220/api/sockets.c ****         pbuf_cat(chain_buf.p, p);
1582:ThirdPackage/lwip220/api/sockets.c ****       }
1583:ThirdPackage/lwip220/api/sockets.c ****     }
1584:ThirdPackage/lwip220/api/sockets.c ****     /* save size of total chain */
1585:ThirdPackage/lwip220/api/sockets.c ****     if (err == ERR_OK) {
1586:ThirdPackage/lwip220/api/sockets.c ****       size = netbuf_len(&chain_buf);
1587:ThirdPackage/lwip220/api/sockets.c ****     }
1588:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_NETIF_TX_SINGLE_PBUF */
1589:ThirdPackage/lwip220/api/sockets.c **** 
1590:ThirdPackage/lwip220/api/sockets.c ****     if (err == ERR_OK) {
1591:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_IPV4 && LWIP_IPV6
1592:ThirdPackage/lwip220/api/sockets.c ****       /* Dual-stack: Unmap IPv4 mapped IPv6 addresses */
1593:ThirdPackage/lwip220/api/sockets.c ****       if (IP_IS_V6_VAL(chain_buf.addr) && ip6_addr_isipv4mappedipv6(ip_2_ip6(&chain_buf.addr))) {
1594:ThirdPackage/lwip220/api/sockets.c ****         unmap_ipv4_mapped_ipv6(ip_2_ip4(&chain_buf.addr), ip_2_ip6(&chain_buf.addr));
1595:ThirdPackage/lwip220/api/sockets.c ****         IP_SET_TYPE_VAL(chain_buf.addr, IPADDR_TYPE_V4);
1596:ThirdPackage/lwip220/api/sockets.c ****       }
1597:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_IPV4 && LWIP_IPV6 */
1598:ThirdPackage/lwip220/api/sockets.c **** 
1599:ThirdPackage/lwip220/api/sockets.c ****       /* send the data */
1600:ThirdPackage/lwip220/api/sockets.c ****       err = netconn_send(sock->conn, &chain_buf);
1601:ThirdPackage/lwip220/api/sockets.c ****     }
1602:ThirdPackage/lwip220/api/sockets.c **** 
1603:ThirdPackage/lwip220/api/sockets.c ****     /* deallocated the buffer */
1604:ThirdPackage/lwip220/api/sockets.c ****     netbuf_free(&chain_buf);
1605:ThirdPackage/lwip220/api/sockets.c **** 
1606:ThirdPackage/lwip220/api/sockets.c ****     set_errno(err_to_errno(err));
1607:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
1608:ThirdPackage/lwip220/api/sockets.c ****     return (err == ERR_OK ? size : -1);
1609:ThirdPackage/lwip220/api/sockets.c **** sendmsg_emsgsize:
1610:ThirdPackage/lwip220/api/sockets.c ****     set_errno(EMSGSIZE);
1611:ThirdPackage/lwip220/api/sockets.c ****     netbuf_free(&chain_buf);
1612:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
1613:ThirdPackage/lwip220/api/sockets.c ****     return -1;
1614:ThirdPackage/lwip220/api/sockets.c ****   }
1615:ThirdPackage/lwip220/api/sockets.c **** #else /* LWIP_UDP || LWIP_RAW */
1616:ThirdPackage/lwip220/api/sockets.c ****   set_errno(err_to_errno(ERR_ARG));
1617:ThirdPackage/lwip220/api/sockets.c ****   done_socket(sock);
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 34


1618:ThirdPackage/lwip220/api/sockets.c ****   return -1;
1619:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_UDP || LWIP_RAW */
1620:ThirdPackage/lwip220/api/sockets.c **** }
1621:ThirdPackage/lwip220/api/sockets.c **** 
1622:ThirdPackage/lwip220/api/sockets.c **** ssize_t
1623:ThirdPackage/lwip220/api/sockets.c **** lwip_sendto(int s, const void *data, size_t size, int flags,
1624:ThirdPackage/lwip220/api/sockets.c ****             const struct sockaddr *to, socklen_t tolen)
1625:ThirdPackage/lwip220/api/sockets.c **** {
1626:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock;
1627:ThirdPackage/lwip220/api/sockets.c ****   err_t err;
1628:ThirdPackage/lwip220/api/sockets.c ****   u16_t short_size;
1629:ThirdPackage/lwip220/api/sockets.c ****   u16_t remote_port;
1630:ThirdPackage/lwip220/api/sockets.c ****   struct netbuf buf;
1631:ThirdPackage/lwip220/api/sockets.c **** 
1632:ThirdPackage/lwip220/api/sockets.c ****   sock = get_socket(s);
1633:ThirdPackage/lwip220/api/sockets.c ****   if (!sock) {
1634:ThirdPackage/lwip220/api/sockets.c ****     return -1;
1635:ThirdPackage/lwip220/api/sockets.c ****   }
1636:ThirdPackage/lwip220/api/sockets.c **** 
1637:ThirdPackage/lwip220/api/sockets.c ****   if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) == NETCONN_TCP) {
1638:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_TCP
1639:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
1640:ThirdPackage/lwip220/api/sockets.c ****     return lwip_send(s, data, size, flags);
1641:ThirdPackage/lwip220/api/sockets.c **** #else /* LWIP_TCP */
1642:ThirdPackage/lwip220/api/sockets.c ****     LWIP_UNUSED_ARG(flags);
1643:ThirdPackage/lwip220/api/sockets.c ****     set_errno(err_to_errno(ERR_ARG));
1644:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
1645:ThirdPackage/lwip220/api/sockets.c ****     return -1;
1646:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_TCP */
1647:ThirdPackage/lwip220/api/sockets.c ****   }
1648:ThirdPackage/lwip220/api/sockets.c **** 
1649:ThirdPackage/lwip220/api/sockets.c ****   if (size > LWIP_MIN(0xFFFF, SSIZE_MAX)) {
1650:ThirdPackage/lwip220/api/sockets.c ****     /* cannot fit into one datagram (at least for us) */
1651:ThirdPackage/lwip220/api/sockets.c ****     set_errno(EMSGSIZE);
1652:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
1653:ThirdPackage/lwip220/api/sockets.c ****     return -1;
1654:ThirdPackage/lwip220/api/sockets.c ****   }
1655:ThirdPackage/lwip220/api/sockets.c ****   short_size = (u16_t)size;
1656:ThirdPackage/lwip220/api/sockets.c ****   LWIP_ERROR("lwip_sendto: invalid address", (((to == NULL) && (tolen == 0)) ||
1657:ThirdPackage/lwip220/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
1658:ThirdPackage/lwip220/api/sockets.c ****               ((to != NULL) && (IS_SOCK_ADDR_TYPE_VALID(to) && IS_SOCK_ADDR_ALIGNED(to))))),
1659:ThirdPackage/lwip220/api/sockets.c ****              set_errno(err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
1660:ThirdPackage/lwip220/api/sockets.c ****   LWIP_UNUSED_ARG(tolen);
1661:ThirdPackage/lwip220/api/sockets.c **** 
1662:ThirdPackage/lwip220/api/sockets.c ****   /* initialize a buffer */
1663:ThirdPackage/lwip220/api/sockets.c ****   buf.p = buf.ptr = NULL;
1664:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_CHECKSUM_ON_COPY
1665:ThirdPackage/lwip220/api/sockets.c ****   buf.flags = 0;
1666:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_CHECKSUM_ON_COPY */
1667:ThirdPackage/lwip220/api/sockets.c ****   if (to) {
1668:ThirdPackage/lwip220/api/sockets.c ****     SOCKADDR_TO_IPADDR_PORT(to, &buf.addr, remote_port);
1669:ThirdPackage/lwip220/api/sockets.c ****   } else {
1670:ThirdPackage/lwip220/api/sockets.c ****     remote_port = 0;
1671:ThirdPackage/lwip220/api/sockets.c ****     ip_addr_set_any(NETCONNTYPE_ISIPV6(netconn_type(sock->conn)), &buf.addr);
1672:ThirdPackage/lwip220/api/sockets.c ****   }
1673:ThirdPackage/lwip220/api/sockets.c ****   netbuf_fromport(&buf) = remote_port;
1674:ThirdPackage/lwip220/api/sockets.c **** 
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 35


1675:ThirdPackage/lwip220/api/sockets.c **** 
1676:ThirdPackage/lwip220/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_sendto(%d, data=%p, short_size=%"U16_F", flags=0x%x to=",
1677:ThirdPackage/lwip220/api/sockets.c ****                               s, data, short_size, flags));
1678:ThirdPackage/lwip220/api/sockets.c ****   ip_addr_debug_print_val(SOCKETS_DEBUG, buf.addr);
1679:ThirdPackage/lwip220/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, (" port=%"U16_F"\n", remote_port));
1680:ThirdPackage/lwip220/api/sockets.c **** 
1681:ThirdPackage/lwip220/api/sockets.c ****   /* make the buffer point to the data that should be sent */
1682:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_NETIF_TX_SINGLE_PBUF
1683:ThirdPackage/lwip220/api/sockets.c ****   /* Allocate a new netbuf and copy the data into it. */
1684:ThirdPackage/lwip220/api/sockets.c ****   if (netbuf_alloc(&buf, short_size) == NULL) {
1685:ThirdPackage/lwip220/api/sockets.c ****     err = ERR_MEM;
1686:ThirdPackage/lwip220/api/sockets.c ****   } else {
1687:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_CHECKSUM_ON_COPY
1688:ThirdPackage/lwip220/api/sockets.c ****     if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) != NETCONN_RAW) {
1689:ThirdPackage/lwip220/api/sockets.c ****       u16_t chksum = LWIP_CHKSUM_COPY(buf.p->payload, data, short_size);
1690:ThirdPackage/lwip220/api/sockets.c ****       netbuf_set_chksum(&buf, chksum);
1691:ThirdPackage/lwip220/api/sockets.c ****     } else
1692:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_CHECKSUM_ON_COPY */
1693:ThirdPackage/lwip220/api/sockets.c ****     {
1694:ThirdPackage/lwip220/api/sockets.c ****       MEMCPY(buf.p->payload, data, short_size);
1695:ThirdPackage/lwip220/api/sockets.c ****     }
1696:ThirdPackage/lwip220/api/sockets.c ****     err = ERR_OK;
1697:ThirdPackage/lwip220/api/sockets.c ****   }
1698:ThirdPackage/lwip220/api/sockets.c **** #else /* LWIP_NETIF_TX_SINGLE_PBUF */
1699:ThirdPackage/lwip220/api/sockets.c ****   err = netbuf_ref(&buf, data, short_size);
1700:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_NETIF_TX_SINGLE_PBUF */
1701:ThirdPackage/lwip220/api/sockets.c ****   if (err == ERR_OK) {
1702:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_IPV4 && LWIP_IPV6
1703:ThirdPackage/lwip220/api/sockets.c ****     /* Dual-stack: Unmap IPv4 mapped IPv6 addresses */
1704:ThirdPackage/lwip220/api/sockets.c ****     if (IP_IS_V6_VAL(buf.addr) && ip6_addr_isipv4mappedipv6(ip_2_ip6(&buf.addr))) {
1705:ThirdPackage/lwip220/api/sockets.c ****       unmap_ipv4_mapped_ipv6(ip_2_ip4(&buf.addr), ip_2_ip6(&buf.addr));
1706:ThirdPackage/lwip220/api/sockets.c ****       IP_SET_TYPE_VAL(buf.addr, IPADDR_TYPE_V4);
1707:ThirdPackage/lwip220/api/sockets.c ****     }
1708:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_IPV4 && LWIP_IPV6 */
1709:ThirdPackage/lwip220/api/sockets.c **** 
1710:ThirdPackage/lwip220/api/sockets.c ****     /* send the data */
1711:ThirdPackage/lwip220/api/sockets.c ****     err = netconn_send(sock->conn, &buf);
1712:ThirdPackage/lwip220/api/sockets.c ****   }
1713:ThirdPackage/lwip220/api/sockets.c **** 
1714:ThirdPackage/lwip220/api/sockets.c ****   /* deallocated the buffer */
1715:ThirdPackage/lwip220/api/sockets.c ****   netbuf_free(&buf);
1716:ThirdPackage/lwip220/api/sockets.c **** 
1717:ThirdPackage/lwip220/api/sockets.c ****   set_errno(err_to_errno(err));
1718:ThirdPackage/lwip220/api/sockets.c ****   done_socket(sock);
1719:ThirdPackage/lwip220/api/sockets.c ****   return (err == ERR_OK ? short_size : -1);
1720:ThirdPackage/lwip220/api/sockets.c **** }
1721:ThirdPackage/lwip220/api/sockets.c **** 
1722:ThirdPackage/lwip220/api/sockets.c **** int
1723:ThirdPackage/lwip220/api/sockets.c **** lwip_socket(int domain, int type, int protocol)
1724:ThirdPackage/lwip220/api/sockets.c **** {
1725:ThirdPackage/lwip220/api/sockets.c ****   struct netconn *conn;
1726:ThirdPackage/lwip220/api/sockets.c ****   int i;
1727:ThirdPackage/lwip220/api/sockets.c **** 
1728:ThirdPackage/lwip220/api/sockets.c ****   LWIP_UNUSED_ARG(domain); /* @todo: check this */
1729:ThirdPackage/lwip220/api/sockets.c **** 
1730:ThirdPackage/lwip220/api/sockets.c ****   /* create a netconn */
1731:ThirdPackage/lwip220/api/sockets.c ****   switch (type) {
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 36


1732:ThirdPackage/lwip220/api/sockets.c ****     case SOCK_RAW:
1733:ThirdPackage/lwip220/api/sockets.c ****       conn = netconn_new_with_proto_and_callback(DOMAIN_TO_NETCONN_TYPE(domain, NETCONN_RAW),
1734:ThirdPackage/lwip220/api/sockets.c ****              (u8_t)protocol, DEFAULT_SOCKET_EVENTCB);
1735:ThirdPackage/lwip220/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_socket(%s, SOCK_RAW, %d) = ",
1736:ThirdPackage/lwip220/api/sockets.c ****                                   domain == PF_INET ? "PF_INET" : "UNKNOWN", protocol));
1737:ThirdPackage/lwip220/api/sockets.c ****       break;
1738:ThirdPackage/lwip220/api/sockets.c ****     case SOCK_DGRAM:
1739:ThirdPackage/lwip220/api/sockets.c ****       conn = netconn_new_with_callback(DOMAIN_TO_NETCONN_TYPE(domain,
1740:ThirdPackage/lwip220/api/sockets.c ****                                        ((protocol == IPPROTO_UDPLITE) ? NETCONN_UDPLITE : NETCONN_U
1741:ThirdPackage/lwip220/api/sockets.c ****                                        DEFAULT_SOCKET_EVENTCB);
1742:ThirdPackage/lwip220/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_socket(%s, SOCK_DGRAM, %d) = ",
1743:ThirdPackage/lwip220/api/sockets.c ****                                   domain == PF_INET ? "PF_INET" : "UNKNOWN", protocol));
1744:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_NETBUF_RECVINFO
1745:ThirdPackage/lwip220/api/sockets.c ****       if (conn) {
1746:ThirdPackage/lwip220/api/sockets.c ****         /* netconn layer enables pktinfo by default, sockets default to off */
1747:ThirdPackage/lwip220/api/sockets.c ****         conn->flags &= ~NETCONN_FLAG_PKTINFO;
1748:ThirdPackage/lwip220/api/sockets.c ****       }
1749:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_NETBUF_RECVINFO */
1750:ThirdPackage/lwip220/api/sockets.c ****       break;
1751:ThirdPackage/lwip220/api/sockets.c ****     case SOCK_STREAM:
1752:ThirdPackage/lwip220/api/sockets.c ****       conn = netconn_new_with_callback(DOMAIN_TO_NETCONN_TYPE(domain, NETCONN_TCP), DEFAULT_SOCKET_
1753:ThirdPackage/lwip220/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_socket(%s, SOCK_STREAM, %d) = ",
1754:ThirdPackage/lwip220/api/sockets.c ****                                   domain == PF_INET ? "PF_INET" : "UNKNOWN", protocol));
1755:ThirdPackage/lwip220/api/sockets.c ****       break;
1756:ThirdPackage/lwip220/api/sockets.c ****     default:
1757:ThirdPackage/lwip220/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_socket(%d, %d/UNKNOWN, %d) = -1\n",
1758:ThirdPackage/lwip220/api/sockets.c ****                                   domain, type, protocol));
1759:ThirdPackage/lwip220/api/sockets.c ****       set_errno(EINVAL);
1760:ThirdPackage/lwip220/api/sockets.c ****       return -1;
1761:ThirdPackage/lwip220/api/sockets.c ****   }
1762:ThirdPackage/lwip220/api/sockets.c **** 
1763:ThirdPackage/lwip220/api/sockets.c ****   if (!conn) {
1764:ThirdPackage/lwip220/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("-1 / ENOBUFS (could not create netconn)\n"));
1765:ThirdPackage/lwip220/api/sockets.c ****     set_errno(ENOBUFS);
1766:ThirdPackage/lwip220/api/sockets.c ****     return -1;
1767:ThirdPackage/lwip220/api/sockets.c ****   }
1768:ThirdPackage/lwip220/api/sockets.c **** 
1769:ThirdPackage/lwip220/api/sockets.c ****   i = alloc_socket(conn, 0);
1770:ThirdPackage/lwip220/api/sockets.c **** 
1771:ThirdPackage/lwip220/api/sockets.c ****   if (i == -1) {
1772:ThirdPackage/lwip220/api/sockets.c ****     netconn_delete(conn);
1773:ThirdPackage/lwip220/api/sockets.c ****     set_errno(ENFILE);
1774:ThirdPackage/lwip220/api/sockets.c ****     return -1;
1775:ThirdPackage/lwip220/api/sockets.c ****   }
1776:ThirdPackage/lwip220/api/sockets.c ****   conn->callback_arg.socket = i;
1777:ThirdPackage/lwip220/api/sockets.c ****   done_socket(&sockets[i - LWIP_SOCKET_OFFSET]);
1778:ThirdPackage/lwip220/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("%d\n", i));
1779:ThirdPackage/lwip220/api/sockets.c ****   set_errno(0);
1780:ThirdPackage/lwip220/api/sockets.c ****   return i;
1781:ThirdPackage/lwip220/api/sockets.c **** }
1782:ThirdPackage/lwip220/api/sockets.c **** 
1783:ThirdPackage/lwip220/api/sockets.c **** ssize_t
1784:ThirdPackage/lwip220/api/sockets.c **** lwip_write(int s, const void *data, size_t size)
1785:ThirdPackage/lwip220/api/sockets.c **** {
1786:ThirdPackage/lwip220/api/sockets.c ****   return lwip_send(s, data, size, 0);
1787:ThirdPackage/lwip220/api/sockets.c **** }
1788:ThirdPackage/lwip220/api/sockets.c **** 
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 37


1789:ThirdPackage/lwip220/api/sockets.c **** ssize_t
1790:ThirdPackage/lwip220/api/sockets.c **** lwip_writev(int s, const struct iovec *iov, int iovcnt)
1791:ThirdPackage/lwip220/api/sockets.c **** {
1792:ThirdPackage/lwip220/api/sockets.c ****   struct msghdr msg;
1793:ThirdPackage/lwip220/api/sockets.c **** 
1794:ThirdPackage/lwip220/api/sockets.c ****   msg.msg_name = NULL;
1795:ThirdPackage/lwip220/api/sockets.c ****   msg.msg_namelen = 0;
1796:ThirdPackage/lwip220/api/sockets.c ****   /* Hack: we have to cast via number to cast from 'const' pointer to non-const.
1797:ThirdPackage/lwip220/api/sockets.c ****      Blame the opengroup standard for this inconsistency. */
1798:ThirdPackage/lwip220/api/sockets.c ****   msg.msg_iov = LWIP_CONST_CAST(struct iovec *, iov);
1799:ThirdPackage/lwip220/api/sockets.c ****   msg.msg_iovlen = iovcnt;
1800:ThirdPackage/lwip220/api/sockets.c ****   msg.msg_control = NULL;
1801:ThirdPackage/lwip220/api/sockets.c ****   msg.msg_controllen = 0;
1802:ThirdPackage/lwip220/api/sockets.c ****   msg.msg_flags = 0;
1803:ThirdPackage/lwip220/api/sockets.c ****   return lwip_sendmsg(s, &msg, 0);
1804:ThirdPackage/lwip220/api/sockets.c **** }
1805:ThirdPackage/lwip220/api/sockets.c **** 
1806:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_SOCKET_SELECT || LWIP_SOCKET_POLL
1807:ThirdPackage/lwip220/api/sockets.c **** /* Add select_cb to select_cb_list. */
1808:ThirdPackage/lwip220/api/sockets.c **** static void
1809:ThirdPackage/lwip220/api/sockets.c **** lwip_link_select_cb(struct lwip_select_cb *select_cb)
1810:ThirdPackage/lwip220/api/sockets.c **** {
1811:ThirdPackage/lwip220/api/sockets.c ****   LWIP_SOCKET_SELECT_DECL_PROTECT(lev);
1812:ThirdPackage/lwip220/api/sockets.c **** 
1813:ThirdPackage/lwip220/api/sockets.c ****   /* Protect the select_cb_list */
1814:ThirdPackage/lwip220/api/sockets.c ****   LWIP_SOCKET_SELECT_PROTECT(lev);
1815:ThirdPackage/lwip220/api/sockets.c **** 
1816:ThirdPackage/lwip220/api/sockets.c ****   /* Put this select_cb on top of list */
1817:ThirdPackage/lwip220/api/sockets.c ****   select_cb->next = select_cb_list;
1818:ThirdPackage/lwip220/api/sockets.c ****   if (select_cb_list != NULL) {
1819:ThirdPackage/lwip220/api/sockets.c ****     select_cb_list->prev = select_cb;
1820:ThirdPackage/lwip220/api/sockets.c ****   }
1821:ThirdPackage/lwip220/api/sockets.c ****   select_cb_list = select_cb;
1822:ThirdPackage/lwip220/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
1823:ThirdPackage/lwip220/api/sockets.c ****   /* Increasing this counter tells select_check_waiters that the list has changed. */
1824:ThirdPackage/lwip220/api/sockets.c ****   select_cb_ctr++;
1825:ThirdPackage/lwip220/api/sockets.c **** #endif
1826:ThirdPackage/lwip220/api/sockets.c **** 
1827:ThirdPackage/lwip220/api/sockets.c ****   /* Now we can safely unprotect */
1828:ThirdPackage/lwip220/api/sockets.c ****   LWIP_SOCKET_SELECT_UNPROTECT(lev);
1829:ThirdPackage/lwip220/api/sockets.c **** }
1830:ThirdPackage/lwip220/api/sockets.c **** 
1831:ThirdPackage/lwip220/api/sockets.c **** /* Remove select_cb from select_cb_list. */
1832:ThirdPackage/lwip220/api/sockets.c **** static void
1833:ThirdPackage/lwip220/api/sockets.c **** lwip_unlink_select_cb(struct lwip_select_cb *select_cb)
1834:ThirdPackage/lwip220/api/sockets.c **** {
1835:ThirdPackage/lwip220/api/sockets.c ****   LWIP_SOCKET_SELECT_DECL_PROTECT(lev);
1836:ThirdPackage/lwip220/api/sockets.c **** 
1837:ThirdPackage/lwip220/api/sockets.c ****   /* Take us off the list */
1838:ThirdPackage/lwip220/api/sockets.c ****   LWIP_SOCKET_SELECT_PROTECT(lev);
1839:ThirdPackage/lwip220/api/sockets.c ****   if (select_cb->next != NULL) {
1840:ThirdPackage/lwip220/api/sockets.c ****     select_cb->next->prev = select_cb->prev;
1841:ThirdPackage/lwip220/api/sockets.c ****   }
1842:ThirdPackage/lwip220/api/sockets.c ****   if (select_cb_list == select_cb) {
1843:ThirdPackage/lwip220/api/sockets.c ****     LWIP_ASSERT("select_cb->prev == NULL", select_cb->prev == NULL);
1844:ThirdPackage/lwip220/api/sockets.c ****     select_cb_list = select_cb->next;
1845:ThirdPackage/lwip220/api/sockets.c ****   } else {
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 38


1846:ThirdPackage/lwip220/api/sockets.c ****     LWIP_ASSERT("select_cb->prev != NULL", select_cb->prev != NULL);
1847:ThirdPackage/lwip220/api/sockets.c ****     select_cb->prev->next = select_cb->next;
1848:ThirdPackage/lwip220/api/sockets.c ****   }
1849:ThirdPackage/lwip220/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
1850:ThirdPackage/lwip220/api/sockets.c ****   /* Increasing this counter tells select_check_waiters that the list has changed. */
1851:ThirdPackage/lwip220/api/sockets.c ****   select_cb_ctr++;
1852:ThirdPackage/lwip220/api/sockets.c **** #endif
1853:ThirdPackage/lwip220/api/sockets.c ****   LWIP_SOCKET_SELECT_UNPROTECT(lev);
1854:ThirdPackage/lwip220/api/sockets.c **** }
1855:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_SOCKET_SELECT || LWIP_SOCKET_POLL */
1856:ThirdPackage/lwip220/api/sockets.c **** 
1857:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_SOCKET_SELECT
1858:ThirdPackage/lwip220/api/sockets.c **** /**
1859:ThirdPackage/lwip220/api/sockets.c ****  * Go through the readset and writeset lists and see which socket of the sockets
1860:ThirdPackage/lwip220/api/sockets.c ****  * set in the sets has events. On return, readset, writeset and exceptset have
1861:ThirdPackage/lwip220/api/sockets.c ****  * the sockets enabled that had events.
1862:ThirdPackage/lwip220/api/sockets.c ****  *
1863:ThirdPackage/lwip220/api/sockets.c ****  * @param maxfdp1 the highest socket index in the sets
1864:ThirdPackage/lwip220/api/sockets.c ****  * @param readset_in    set of sockets to check for read events
1865:ThirdPackage/lwip220/api/sockets.c ****  * @param writeset_in   set of sockets to check for write events
1866:ThirdPackage/lwip220/api/sockets.c ****  * @param exceptset_in  set of sockets to check for error events
1867:ThirdPackage/lwip220/api/sockets.c ****  * @param readset_out   set of sockets that had read events
1868:ThirdPackage/lwip220/api/sockets.c ****  * @param writeset_out  set of sockets that had write events
1869:ThirdPackage/lwip220/api/sockets.c ****  * @param exceptset_out set os sockets that had error events
1870:ThirdPackage/lwip220/api/sockets.c ****  * @return number of sockets that had events (read/write/exception) (>= 0)
1871:ThirdPackage/lwip220/api/sockets.c ****  */
1872:ThirdPackage/lwip220/api/sockets.c **** static int
1873:ThirdPackage/lwip220/api/sockets.c **** lwip_selscan(int maxfdp1, fd_set *readset_in, fd_set *writeset_in, fd_set *exceptset_in,
1874:ThirdPackage/lwip220/api/sockets.c ****              fd_set *readset_out, fd_set *writeset_out, fd_set *exceptset_out)
1875:ThirdPackage/lwip220/api/sockets.c **** {
1876:ThirdPackage/lwip220/api/sockets.c ****   int i, nready = 0;
1877:ThirdPackage/lwip220/api/sockets.c ****   fd_set lreadset, lwriteset, lexceptset;
1878:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock;
1879:ThirdPackage/lwip220/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
1880:ThirdPackage/lwip220/api/sockets.c **** 
1881:ThirdPackage/lwip220/api/sockets.c ****   FD_ZERO(&lreadset);
1882:ThirdPackage/lwip220/api/sockets.c ****   FD_ZERO(&lwriteset);
1883:ThirdPackage/lwip220/api/sockets.c ****   FD_ZERO(&lexceptset);
1884:ThirdPackage/lwip220/api/sockets.c **** 
1885:ThirdPackage/lwip220/api/sockets.c ****   /* Go through each socket in each list to count number of sockets which
1886:ThirdPackage/lwip220/api/sockets.c ****      currently match */
1887:ThirdPackage/lwip220/api/sockets.c ****   for (i = LWIP_SOCKET_OFFSET; i < maxfdp1; i++) {
1888:ThirdPackage/lwip220/api/sockets.c ****     /* if this FD is not in the set, continue */
1889:ThirdPackage/lwip220/api/sockets.c ****     if (!(readset_in && FD_ISSET(i, readset_in)) &&
1890:ThirdPackage/lwip220/api/sockets.c ****         !(writeset_in && FD_ISSET(i, writeset_in)) &&
1891:ThirdPackage/lwip220/api/sockets.c ****         !(exceptset_in && FD_ISSET(i, exceptset_in))) {
1892:ThirdPackage/lwip220/api/sockets.c ****       continue;
1893:ThirdPackage/lwip220/api/sockets.c ****     }
1894:ThirdPackage/lwip220/api/sockets.c ****     /* First get the socket's status (protected)... */
1895:ThirdPackage/lwip220/api/sockets.c ****     SYS_ARCH_PROTECT(lev);
1896:ThirdPackage/lwip220/api/sockets.c ****     sock = tryget_socket_unconn_locked(i);
1897:ThirdPackage/lwip220/api/sockets.c ****     if (sock != NULL) {
1898:ThirdPackage/lwip220/api/sockets.c ****       void *lastdata = sock->lastdata.pbuf;
1899:ThirdPackage/lwip220/api/sockets.c ****       s16_t rcvevent = sock->rcvevent;
1900:ThirdPackage/lwip220/api/sockets.c ****       u16_t sendevent = sock->sendevent;
1901:ThirdPackage/lwip220/api/sockets.c ****       u16_t errevent = sock->errevent;
1902:ThirdPackage/lwip220/api/sockets.c ****       SYS_ARCH_UNPROTECT(lev);
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 39


1903:ThirdPackage/lwip220/api/sockets.c **** 
1904:ThirdPackage/lwip220/api/sockets.c ****       /* ... then examine it: */
1905:ThirdPackage/lwip220/api/sockets.c ****       /* See if netconn of this socket is ready for read */
1906:ThirdPackage/lwip220/api/sockets.c ****       if (readset_in && FD_ISSET(i, readset_in) && ((lastdata != NULL) || (rcvevent > 0))) {
1907:ThirdPackage/lwip220/api/sockets.c ****         FD_SET(i, &lreadset);
1908:ThirdPackage/lwip220/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_selscan: fd=%d ready for reading\n", i));
1909:ThirdPackage/lwip220/api/sockets.c ****         nready++;
1910:ThirdPackage/lwip220/api/sockets.c ****       }
1911:ThirdPackage/lwip220/api/sockets.c ****       /* See if netconn of this socket is ready for write */
1912:ThirdPackage/lwip220/api/sockets.c ****       if (writeset_in && FD_ISSET(i, writeset_in) && (sendevent != 0)) {
1913:ThirdPackage/lwip220/api/sockets.c ****         FD_SET(i, &lwriteset);
1914:ThirdPackage/lwip220/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_selscan: fd=%d ready for writing\n", i));
1915:ThirdPackage/lwip220/api/sockets.c ****         nready++;
1916:ThirdPackage/lwip220/api/sockets.c ****       }
1917:ThirdPackage/lwip220/api/sockets.c ****       /* See if netconn of this socket had an error */
1918:ThirdPackage/lwip220/api/sockets.c ****       if (exceptset_in && FD_ISSET(i, exceptset_in) && (errevent != 0)) {
1919:ThirdPackage/lwip220/api/sockets.c ****         FD_SET(i, &lexceptset);
1920:ThirdPackage/lwip220/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_selscan: fd=%d ready for exception\n", i));
1921:ThirdPackage/lwip220/api/sockets.c ****         nready++;
1922:ThirdPackage/lwip220/api/sockets.c ****       }
1923:ThirdPackage/lwip220/api/sockets.c ****       done_socket(sock);
1924:ThirdPackage/lwip220/api/sockets.c ****     } else {
1925:ThirdPackage/lwip220/api/sockets.c ****       SYS_ARCH_UNPROTECT(lev);
1926:ThirdPackage/lwip220/api/sockets.c ****       /* no a valid open socket */
1927:ThirdPackage/lwip220/api/sockets.c ****       return -1;
1928:ThirdPackage/lwip220/api/sockets.c ****     }
1929:ThirdPackage/lwip220/api/sockets.c ****   }
1930:ThirdPackage/lwip220/api/sockets.c ****   /* copy local sets to the ones provided as arguments */
1931:ThirdPackage/lwip220/api/sockets.c ****   *readset_out = lreadset;
1932:ThirdPackage/lwip220/api/sockets.c ****   *writeset_out = lwriteset;
1933:ThirdPackage/lwip220/api/sockets.c ****   *exceptset_out = lexceptset;
1934:ThirdPackage/lwip220/api/sockets.c **** 
1935:ThirdPackage/lwip220/api/sockets.c ****   LWIP_ASSERT("nready >= 0", nready >= 0);
1936:ThirdPackage/lwip220/api/sockets.c ****   return nready;
1937:ThirdPackage/lwip220/api/sockets.c **** }
1938:ThirdPackage/lwip220/api/sockets.c **** 
1939:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_NETCONN_FULLDUPLEX
1940:ThirdPackage/lwip220/api/sockets.c **** /* Mark all of the set sockets in one of the three fdsets passed to select as used.
1941:ThirdPackage/lwip220/api/sockets.c ****  * All sockets are marked (and later unmarked), whether they are open or not.
1942:ThirdPackage/lwip220/api/sockets.c ****  * This is OK as lwip_selscan aborts select when non-open sockets are found.
1943:ThirdPackage/lwip220/api/sockets.c ****  */
1944:ThirdPackage/lwip220/api/sockets.c **** static void
1945:ThirdPackage/lwip220/api/sockets.c **** lwip_select_inc_sockets_used_set(int maxfdp, fd_set *fdset, fd_set *used_sockets)
1946:ThirdPackage/lwip220/api/sockets.c **** {
1947:ThirdPackage/lwip220/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
1948:ThirdPackage/lwip220/api/sockets.c ****   if (fdset) {
1949:ThirdPackage/lwip220/api/sockets.c ****     int i;
1950:ThirdPackage/lwip220/api/sockets.c ****     for (i = LWIP_SOCKET_OFFSET; i < maxfdp; i++) {
1951:ThirdPackage/lwip220/api/sockets.c ****       /* if this FD is in the set, lock it (unless already done) */
1952:ThirdPackage/lwip220/api/sockets.c ****       if (FD_ISSET(i, fdset) && !FD_ISSET(i, used_sockets)) {
1953:ThirdPackage/lwip220/api/sockets.c ****         struct lwip_sock *sock;
1954:ThirdPackage/lwip220/api/sockets.c ****         SYS_ARCH_PROTECT(lev);
1955:ThirdPackage/lwip220/api/sockets.c ****         sock = tryget_socket_unconn_locked(i);
1956:ThirdPackage/lwip220/api/sockets.c ****         if (sock != NULL) {
1957:ThirdPackage/lwip220/api/sockets.c ****           /* leave the socket used until released by lwip_select_dec_sockets_used */
1958:ThirdPackage/lwip220/api/sockets.c ****           FD_SET(i, used_sockets);
1959:ThirdPackage/lwip220/api/sockets.c ****         }
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 40


1960:ThirdPackage/lwip220/api/sockets.c ****         SYS_ARCH_UNPROTECT(lev);
1961:ThirdPackage/lwip220/api/sockets.c ****       }
1962:ThirdPackage/lwip220/api/sockets.c ****     }
1963:ThirdPackage/lwip220/api/sockets.c ****   }
1964:ThirdPackage/lwip220/api/sockets.c **** }
1965:ThirdPackage/lwip220/api/sockets.c **** 
1966:ThirdPackage/lwip220/api/sockets.c **** /* Mark all sockets passed to select as used to prevent them from being freed
1967:ThirdPackage/lwip220/api/sockets.c ****  * from other threads while select is running.
1968:ThirdPackage/lwip220/api/sockets.c ****  * Marked sockets are added to 'used_sockets' to mark them only once an be able
1969:ThirdPackage/lwip220/api/sockets.c ****  * to unmark them correctly.
1970:ThirdPackage/lwip220/api/sockets.c ****  */
1971:ThirdPackage/lwip220/api/sockets.c **** static void
1972:ThirdPackage/lwip220/api/sockets.c **** lwip_select_inc_sockets_used(int maxfdp, fd_set *fdset1, fd_set *fdset2, fd_set *fdset3, fd_set *us
1973:ThirdPackage/lwip220/api/sockets.c **** {
1974:ThirdPackage/lwip220/api/sockets.c ****   FD_ZERO(used_sockets);
1975:ThirdPackage/lwip220/api/sockets.c ****   lwip_select_inc_sockets_used_set(maxfdp, fdset1, used_sockets);
1976:ThirdPackage/lwip220/api/sockets.c ****   lwip_select_inc_sockets_used_set(maxfdp, fdset2, used_sockets);
1977:ThirdPackage/lwip220/api/sockets.c ****   lwip_select_inc_sockets_used_set(maxfdp, fdset3, used_sockets);
1978:ThirdPackage/lwip220/api/sockets.c **** }
1979:ThirdPackage/lwip220/api/sockets.c **** 
1980:ThirdPackage/lwip220/api/sockets.c **** /* Let go all sockets that were marked as used when starting select */
1981:ThirdPackage/lwip220/api/sockets.c **** static void
1982:ThirdPackage/lwip220/api/sockets.c **** lwip_select_dec_sockets_used(int maxfdp, fd_set *used_sockets)
1983:ThirdPackage/lwip220/api/sockets.c **** {
1984:ThirdPackage/lwip220/api/sockets.c ****   int i;
1985:ThirdPackage/lwip220/api/sockets.c ****   for (i = LWIP_SOCKET_OFFSET; i < maxfdp; i++) {
1986:ThirdPackage/lwip220/api/sockets.c ****     /* if this FD is not in the set, continue */
1987:ThirdPackage/lwip220/api/sockets.c ****     if (FD_ISSET(i, used_sockets)) {
1988:ThirdPackage/lwip220/api/sockets.c ****       struct lwip_sock *sock = tryget_socket_unconn_nouse(i);
1989:ThirdPackage/lwip220/api/sockets.c ****       LWIP_ASSERT("socket gone at the end of select", sock != NULL);
1990:ThirdPackage/lwip220/api/sockets.c ****       if (sock != NULL) {
1991:ThirdPackage/lwip220/api/sockets.c ****         done_socket(sock);
1992:ThirdPackage/lwip220/api/sockets.c ****       }
1993:ThirdPackage/lwip220/api/sockets.c ****     }
1994:ThirdPackage/lwip220/api/sockets.c ****   }
1995:ThirdPackage/lwip220/api/sockets.c **** }
1996:ThirdPackage/lwip220/api/sockets.c **** #else /* LWIP_NETCONN_FULLDUPLEX */
1997:ThirdPackage/lwip220/api/sockets.c **** #define lwip_select_inc_sockets_used(maxfdp1, readset, writeset, exceptset, used_sockets)
1998:ThirdPackage/lwip220/api/sockets.c **** #define lwip_select_dec_sockets_used(maxfdp1, used_sockets)
1999:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
2000:ThirdPackage/lwip220/api/sockets.c **** 
2001:ThirdPackage/lwip220/api/sockets.c **** int
2002:ThirdPackage/lwip220/api/sockets.c **** lwip_select(int maxfdp1, fd_set *readset, fd_set *writeset, fd_set *exceptset,
2003:ThirdPackage/lwip220/api/sockets.c ****             struct timeval *timeout)
2004:ThirdPackage/lwip220/api/sockets.c **** {
2005:ThirdPackage/lwip220/api/sockets.c ****   u32_t waitres = 0;
2006:ThirdPackage/lwip220/api/sockets.c ****   int nready;
2007:ThirdPackage/lwip220/api/sockets.c ****   fd_set lreadset, lwriteset, lexceptset;
2008:ThirdPackage/lwip220/api/sockets.c ****   u32_t msectimeout;
2009:ThirdPackage/lwip220/api/sockets.c ****   int i;
2010:ThirdPackage/lwip220/api/sockets.c ****   int maxfdp2;
2011:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
2012:ThirdPackage/lwip220/api/sockets.c ****   int waited = 0;
2013:ThirdPackage/lwip220/api/sockets.c **** #endif
2014:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_NETCONN_FULLDUPLEX
2015:ThirdPackage/lwip220/api/sockets.c ****   fd_set used_sockets;
2016:ThirdPackage/lwip220/api/sockets.c **** #endif
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 41


2017:ThirdPackage/lwip220/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
2018:ThirdPackage/lwip220/api/sockets.c **** 
2019:ThirdPackage/lwip220/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_select(%d, %p, %p, %p, tvsec=%"S32_F" tvusec=%"S32_F")\n",
2020:ThirdPackage/lwip220/api/sockets.c ****                               maxfdp1, (void *)readset, (void *) writeset, (void *) exceptset,
2021:ThirdPackage/lwip220/api/sockets.c ****                               timeout ? (s32_t)timeout->tv_sec : (s32_t) - 1,
2022:ThirdPackage/lwip220/api/sockets.c ****                               timeout ? (s32_t)timeout->tv_usec : (s32_t) - 1));
2023:ThirdPackage/lwip220/api/sockets.c **** 
2024:ThirdPackage/lwip220/api/sockets.c ****   if ((maxfdp1 < 0) || (maxfdp1 > LWIP_SELECT_MAXNFDS)) {
2025:ThirdPackage/lwip220/api/sockets.c ****     set_errno(EINVAL);
2026:ThirdPackage/lwip220/api/sockets.c ****     return -1;
2027:ThirdPackage/lwip220/api/sockets.c ****   }
2028:ThirdPackage/lwip220/api/sockets.c **** 
2029:ThirdPackage/lwip220/api/sockets.c ****   lwip_select_inc_sockets_used(maxfdp1, readset, writeset, exceptset, &used_sockets);
2030:ThirdPackage/lwip220/api/sockets.c **** 
2031:ThirdPackage/lwip220/api/sockets.c ****   /* Go through each socket in each list to count number of sockets which
2032:ThirdPackage/lwip220/api/sockets.c ****      currently match */
2033:ThirdPackage/lwip220/api/sockets.c ****   nready = lwip_selscan(maxfdp1, readset, writeset, exceptset, &lreadset, &lwriteset, &lexceptset);
2034:ThirdPackage/lwip220/api/sockets.c **** 
2035:ThirdPackage/lwip220/api/sockets.c ****   if (nready < 0) {
2036:ThirdPackage/lwip220/api/sockets.c ****     /* one of the sockets in one of the fd_sets was invalid */
2037:ThirdPackage/lwip220/api/sockets.c ****     set_errno(EBADF);
2038:ThirdPackage/lwip220/api/sockets.c ****     lwip_select_dec_sockets_used(maxfdp1, &used_sockets);
2039:ThirdPackage/lwip220/api/sockets.c ****     return -1;
2040:ThirdPackage/lwip220/api/sockets.c ****   } else if (nready > 0) {
2041:ThirdPackage/lwip220/api/sockets.c ****     /* one or more sockets are set, no need to wait */
2042:ThirdPackage/lwip220/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_select: nready=%d\n", nready));
2043:ThirdPackage/lwip220/api/sockets.c ****   } else {
2044:ThirdPackage/lwip220/api/sockets.c ****     /* If we don't have any current events, then suspend if we are supposed to */
2045:ThirdPackage/lwip220/api/sockets.c ****     if (timeout && timeout->tv_sec == 0 && timeout->tv_usec == 0) {
2046:ThirdPackage/lwip220/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_select: no timeout, returning 0\n"));
2047:ThirdPackage/lwip220/api/sockets.c ****       /* This is OK as the local fdsets are empty and nready is zero,
2048:ThirdPackage/lwip220/api/sockets.c ****          or we would have returned earlier. */
2049:ThirdPackage/lwip220/api/sockets.c ****     } else {
2050:ThirdPackage/lwip220/api/sockets.c ****       /* None ready: add our semaphore to list:
2051:ThirdPackage/lwip220/api/sockets.c ****          We don't actually need any dynamic memory. Our entry on the
2052:ThirdPackage/lwip220/api/sockets.c ****          list is only valid while we are in this function, so it's ok
2053:ThirdPackage/lwip220/api/sockets.c ****          to use local variables (unless we're running in MPU compatible
2054:ThirdPackage/lwip220/api/sockets.c ****          mode). */
2055:ThirdPackage/lwip220/api/sockets.c ****       API_SELECT_CB_VAR_DECLARE(select_cb);
2056:ThirdPackage/lwip220/api/sockets.c ****       API_SELECT_CB_VAR_ALLOC(select_cb, set_errno(ENOMEM); lwip_select_dec_sockets_used(maxfdp1, &
2057:ThirdPackage/lwip220/api/sockets.c ****       memset(&API_SELECT_CB_VAR_REF(select_cb), 0, sizeof(struct lwip_select_cb));
2058:ThirdPackage/lwip220/api/sockets.c **** 
2059:ThirdPackage/lwip220/api/sockets.c ****       API_SELECT_CB_VAR_REF(select_cb).readset = readset;
2060:ThirdPackage/lwip220/api/sockets.c ****       API_SELECT_CB_VAR_REF(select_cb).writeset = writeset;
2061:ThirdPackage/lwip220/api/sockets.c ****       API_SELECT_CB_VAR_REF(select_cb).exceptset = exceptset;
2062:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
2063:ThirdPackage/lwip220/api/sockets.c ****       API_SELECT_CB_VAR_REF(select_cb).sem = LWIP_NETCONN_THREAD_SEM_GET();
2064:ThirdPackage/lwip220/api/sockets.c **** #else /* LWIP_NETCONN_SEM_PER_THREAD */
2065:ThirdPackage/lwip220/api/sockets.c ****       if (sys_sem_new(&API_SELECT_CB_VAR_REF(select_cb).sem, 0) != ERR_OK) {
2066:ThirdPackage/lwip220/api/sockets.c ****         /* failed to create semaphore */
2067:ThirdPackage/lwip220/api/sockets.c ****         set_errno(ENOMEM);
2068:ThirdPackage/lwip220/api/sockets.c ****         lwip_select_dec_sockets_used(maxfdp1, &used_sockets);
2069:ThirdPackage/lwip220/api/sockets.c ****         API_SELECT_CB_VAR_FREE(select_cb);
2070:ThirdPackage/lwip220/api/sockets.c ****         return -1;
2071:ThirdPackage/lwip220/api/sockets.c ****       }
2072:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_NETCONN_SEM_PER_THREAD */
2073:ThirdPackage/lwip220/api/sockets.c **** 
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 42


2074:ThirdPackage/lwip220/api/sockets.c ****       lwip_link_select_cb(&API_SELECT_CB_VAR_REF(select_cb));
2075:ThirdPackage/lwip220/api/sockets.c **** 
2076:ThirdPackage/lwip220/api/sockets.c ****       /* Increase select_waiting for each socket we are interested in */
2077:ThirdPackage/lwip220/api/sockets.c ****       maxfdp2 = maxfdp1;
2078:ThirdPackage/lwip220/api/sockets.c ****       for (i = LWIP_SOCKET_OFFSET; i < maxfdp1; i++) {
2079:ThirdPackage/lwip220/api/sockets.c ****         if ((readset && FD_ISSET(i, readset)) ||
2080:ThirdPackage/lwip220/api/sockets.c ****             (writeset && FD_ISSET(i, writeset)) ||
2081:ThirdPackage/lwip220/api/sockets.c ****             (exceptset && FD_ISSET(i, exceptset))) {
2082:ThirdPackage/lwip220/api/sockets.c ****           struct lwip_sock *sock;
2083:ThirdPackage/lwip220/api/sockets.c ****           SYS_ARCH_PROTECT(lev);
2084:ThirdPackage/lwip220/api/sockets.c ****           sock = tryget_socket_unconn_locked(i);
2085:ThirdPackage/lwip220/api/sockets.c ****           if (sock != NULL) {
2086:ThirdPackage/lwip220/api/sockets.c ****             sock->select_waiting++;
2087:ThirdPackage/lwip220/api/sockets.c ****             if (sock->select_waiting == 0) {
2088:ThirdPackage/lwip220/api/sockets.c ****               /* overflow - too many threads waiting */
2089:ThirdPackage/lwip220/api/sockets.c ****               sock->select_waiting--;
2090:ThirdPackage/lwip220/api/sockets.c ****               nready = -1;
2091:ThirdPackage/lwip220/api/sockets.c ****               maxfdp2 = i;
2092:ThirdPackage/lwip220/api/sockets.c ****               SYS_ARCH_UNPROTECT(lev);
2093:ThirdPackage/lwip220/api/sockets.c ****               done_socket(sock);
2094:ThirdPackage/lwip220/api/sockets.c ****               set_errno(EBUSY);
2095:ThirdPackage/lwip220/api/sockets.c ****               break;
2096:ThirdPackage/lwip220/api/sockets.c ****             }
2097:ThirdPackage/lwip220/api/sockets.c ****             SYS_ARCH_UNPROTECT(lev);
2098:ThirdPackage/lwip220/api/sockets.c ****             done_socket(sock);
2099:ThirdPackage/lwip220/api/sockets.c ****           } else {
2100:ThirdPackage/lwip220/api/sockets.c ****             /* Not a valid socket */
2101:ThirdPackage/lwip220/api/sockets.c ****             nready = -1;
2102:ThirdPackage/lwip220/api/sockets.c ****             maxfdp2 = i;
2103:ThirdPackage/lwip220/api/sockets.c ****             SYS_ARCH_UNPROTECT(lev);
2104:ThirdPackage/lwip220/api/sockets.c ****             set_errno(EBADF);
2105:ThirdPackage/lwip220/api/sockets.c ****             break;
2106:ThirdPackage/lwip220/api/sockets.c ****           }
2107:ThirdPackage/lwip220/api/sockets.c ****         }
2108:ThirdPackage/lwip220/api/sockets.c ****       }
2109:ThirdPackage/lwip220/api/sockets.c **** 
2110:ThirdPackage/lwip220/api/sockets.c ****       if (nready >= 0) {
2111:ThirdPackage/lwip220/api/sockets.c ****         /* Call lwip_selscan again: there could have been events between
2112:ThirdPackage/lwip220/api/sockets.c ****            the last scan (without us on the list) and putting us on the list! */
2113:ThirdPackage/lwip220/api/sockets.c ****         nready = lwip_selscan(maxfdp1, readset, writeset, exceptset, &lreadset, &lwriteset, &lexcep
2114:ThirdPackage/lwip220/api/sockets.c ****         if (nready < 0) {
2115:ThirdPackage/lwip220/api/sockets.c ****           set_errno(EBADF);
2116:ThirdPackage/lwip220/api/sockets.c ****         } else if (!nready) {
2117:ThirdPackage/lwip220/api/sockets.c ****           /* Still none ready, just wait to be woken */
2118:ThirdPackage/lwip220/api/sockets.c ****           if (timeout == NULL) {
2119:ThirdPackage/lwip220/api/sockets.c ****             /* Wait forever */
2120:ThirdPackage/lwip220/api/sockets.c ****             msectimeout = 0;
2121:ThirdPackage/lwip220/api/sockets.c ****           } else {
2122:ThirdPackage/lwip220/api/sockets.c ****             long msecs_long = ((timeout->tv_sec * 1000) + ((timeout->tv_usec + 500) / 1000));
2123:ThirdPackage/lwip220/api/sockets.c ****             if (msecs_long <= 0) {
2124:ThirdPackage/lwip220/api/sockets.c ****               /* Wait 1ms at least (0 means wait forever) */
2125:ThirdPackage/lwip220/api/sockets.c ****               msectimeout = 1;
2126:ThirdPackage/lwip220/api/sockets.c ****             } else {
2127:ThirdPackage/lwip220/api/sockets.c ****               msectimeout = (u32_t)msecs_long;
2128:ThirdPackage/lwip220/api/sockets.c ****             }
2129:ThirdPackage/lwip220/api/sockets.c ****           }
2130:ThirdPackage/lwip220/api/sockets.c **** 
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 43


2131:ThirdPackage/lwip220/api/sockets.c ****           waitres = sys_arch_sem_wait(SELECT_SEM_PTR(API_SELECT_CB_VAR_REF(select_cb).sem), msectim
2132:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
2133:ThirdPackage/lwip220/api/sockets.c ****           waited = 1;
2134:ThirdPackage/lwip220/api/sockets.c **** #endif
2135:ThirdPackage/lwip220/api/sockets.c ****         }
2136:ThirdPackage/lwip220/api/sockets.c ****       }
2137:ThirdPackage/lwip220/api/sockets.c **** 
2138:ThirdPackage/lwip220/api/sockets.c ****       /* Decrease select_waiting for each socket we are interested in */
2139:ThirdPackage/lwip220/api/sockets.c ****       for (i = LWIP_SOCKET_OFFSET; i < maxfdp2; i++) {
2140:ThirdPackage/lwip220/api/sockets.c ****         if ((readset && FD_ISSET(i, readset)) ||
2141:ThirdPackage/lwip220/api/sockets.c ****             (writeset && FD_ISSET(i, writeset)) ||
2142:ThirdPackage/lwip220/api/sockets.c ****             (exceptset && FD_ISSET(i, exceptset))) {
2143:ThirdPackage/lwip220/api/sockets.c ****           struct lwip_sock *sock;
2144:ThirdPackage/lwip220/api/sockets.c ****           SYS_ARCH_PROTECT(lev);
2145:ThirdPackage/lwip220/api/sockets.c ****           sock = tryget_socket_unconn_nouse(i);
2146:ThirdPackage/lwip220/api/sockets.c ****           LWIP_ASSERT("socket gone at the end of select", sock != NULL);
2147:ThirdPackage/lwip220/api/sockets.c ****           if (sock != NULL) {
2148:ThirdPackage/lwip220/api/sockets.c ****             /* for now, handle select_waiting==0... */
2149:ThirdPackage/lwip220/api/sockets.c ****             LWIP_ASSERT("sock->select_waiting > 0", sock->select_waiting > 0);
2150:ThirdPackage/lwip220/api/sockets.c ****             if (sock->select_waiting > 0) {
2151:ThirdPackage/lwip220/api/sockets.c ****               sock->select_waiting--;
2152:ThirdPackage/lwip220/api/sockets.c ****             }
2153:ThirdPackage/lwip220/api/sockets.c ****             SYS_ARCH_UNPROTECT(lev);
2154:ThirdPackage/lwip220/api/sockets.c ****           } else {
2155:ThirdPackage/lwip220/api/sockets.c ****             SYS_ARCH_UNPROTECT(lev);
2156:ThirdPackage/lwip220/api/sockets.c ****             /* Not a valid socket */
2157:ThirdPackage/lwip220/api/sockets.c ****             nready = -1;
2158:ThirdPackage/lwip220/api/sockets.c ****             set_errno(EBADF);
2159:ThirdPackage/lwip220/api/sockets.c ****           }
2160:ThirdPackage/lwip220/api/sockets.c ****         }
2161:ThirdPackage/lwip220/api/sockets.c ****       }
2162:ThirdPackage/lwip220/api/sockets.c **** 
2163:ThirdPackage/lwip220/api/sockets.c ****       lwip_unlink_select_cb(&API_SELECT_CB_VAR_REF(select_cb));
2164:ThirdPackage/lwip220/api/sockets.c **** 
2165:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
2166:ThirdPackage/lwip220/api/sockets.c ****       if (API_SELECT_CB_VAR_REF(select_cb).sem_signalled && (!waited || (waitres == SYS_ARCH_TIMEOU
2167:ThirdPackage/lwip220/api/sockets.c ****         /* don't leave the thread-local semaphore signalled */
2168:ThirdPackage/lwip220/api/sockets.c ****         sys_arch_sem_wait(API_SELECT_CB_VAR_REF(select_cb).sem, 1);
2169:ThirdPackage/lwip220/api/sockets.c ****       }
2170:ThirdPackage/lwip220/api/sockets.c **** #else /* LWIP_NETCONN_SEM_PER_THREAD */
2171:ThirdPackage/lwip220/api/sockets.c ****       sys_sem_free(&API_SELECT_CB_VAR_REF(select_cb).sem);
2172:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_NETCONN_SEM_PER_THREAD */
2173:ThirdPackage/lwip220/api/sockets.c ****       API_SELECT_CB_VAR_FREE(select_cb);
2174:ThirdPackage/lwip220/api/sockets.c **** 
2175:ThirdPackage/lwip220/api/sockets.c ****       if (nready < 0) {
2176:ThirdPackage/lwip220/api/sockets.c ****         /* This happens when a socket got closed while waiting */
2177:ThirdPackage/lwip220/api/sockets.c ****         lwip_select_dec_sockets_used(maxfdp1, &used_sockets);
2178:ThirdPackage/lwip220/api/sockets.c ****         return -1;
2179:ThirdPackage/lwip220/api/sockets.c ****       }
2180:ThirdPackage/lwip220/api/sockets.c **** 
2181:ThirdPackage/lwip220/api/sockets.c ****       if (waitres == SYS_ARCH_TIMEOUT) {
2182:ThirdPackage/lwip220/api/sockets.c ****         /* Timeout */
2183:ThirdPackage/lwip220/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_select: timeout expired\n"));
2184:ThirdPackage/lwip220/api/sockets.c ****         /* This is OK as the local fdsets are empty and nready is zero,
2185:ThirdPackage/lwip220/api/sockets.c ****            or we would have returned earlier. */
2186:ThirdPackage/lwip220/api/sockets.c ****       } else {
2187:ThirdPackage/lwip220/api/sockets.c ****         /* See what's set now after waiting */
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 44


2188:ThirdPackage/lwip220/api/sockets.c ****         nready = lwip_selscan(maxfdp1, readset, writeset, exceptset, &lreadset, &lwriteset, &lexcep
2189:ThirdPackage/lwip220/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_select: nready=%d\n", nready));
2190:ThirdPackage/lwip220/api/sockets.c ****         if (nready < 0) {
2191:ThirdPackage/lwip220/api/sockets.c ****           set_errno(EBADF);
2192:ThirdPackage/lwip220/api/sockets.c ****           lwip_select_dec_sockets_used(maxfdp1, &used_sockets);
2193:ThirdPackage/lwip220/api/sockets.c ****           return -1;
2194:ThirdPackage/lwip220/api/sockets.c ****         }
2195:ThirdPackage/lwip220/api/sockets.c ****       }
2196:ThirdPackage/lwip220/api/sockets.c ****     }
2197:ThirdPackage/lwip220/api/sockets.c ****   }
2198:ThirdPackage/lwip220/api/sockets.c **** 
2199:ThirdPackage/lwip220/api/sockets.c ****   lwip_select_dec_sockets_used(maxfdp1, &used_sockets);
2200:ThirdPackage/lwip220/api/sockets.c ****   set_errno(0);
2201:ThirdPackage/lwip220/api/sockets.c ****   if (readset) {
2202:ThirdPackage/lwip220/api/sockets.c ****     *readset = lreadset;
2203:ThirdPackage/lwip220/api/sockets.c ****   }
2204:ThirdPackage/lwip220/api/sockets.c ****   if (writeset) {
2205:ThirdPackage/lwip220/api/sockets.c ****     *writeset = lwriteset;
2206:ThirdPackage/lwip220/api/sockets.c ****   }
2207:ThirdPackage/lwip220/api/sockets.c ****   if (exceptset) {
2208:ThirdPackage/lwip220/api/sockets.c ****     *exceptset = lexceptset;
2209:ThirdPackage/lwip220/api/sockets.c ****   }
2210:ThirdPackage/lwip220/api/sockets.c ****   return nready;
2211:ThirdPackage/lwip220/api/sockets.c **** }
2212:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_SOCKET_SELECT */
2213:ThirdPackage/lwip220/api/sockets.c **** 
2214:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_SOCKET_POLL
2215:ThirdPackage/lwip220/api/sockets.c **** /** Options for the lwip_pollscan function. */
2216:ThirdPackage/lwip220/api/sockets.c **** enum lwip_pollscan_opts
2217:ThirdPackage/lwip220/api/sockets.c **** {
2218:ThirdPackage/lwip220/api/sockets.c ****   /** Clear revents in each struct pollfd. */
2219:ThirdPackage/lwip220/api/sockets.c ****   LWIP_POLLSCAN_CLEAR = 1,
2220:ThirdPackage/lwip220/api/sockets.c **** 
2221:ThirdPackage/lwip220/api/sockets.c ****   /** Increment select_waiting in each struct lwip_sock. */
2222:ThirdPackage/lwip220/api/sockets.c ****   LWIP_POLLSCAN_INC_WAIT = 2,
2223:ThirdPackage/lwip220/api/sockets.c **** 
2224:ThirdPackage/lwip220/api/sockets.c ****   /** Decrement select_waiting in each struct lwip_sock. */
2225:ThirdPackage/lwip220/api/sockets.c ****   LWIP_POLLSCAN_DEC_WAIT = 4
2226:ThirdPackage/lwip220/api/sockets.c **** };
2227:ThirdPackage/lwip220/api/sockets.c **** 
2228:ThirdPackage/lwip220/api/sockets.c **** /**
2229:ThirdPackage/lwip220/api/sockets.c ****  * Update revents in each struct pollfd.
2230:ThirdPackage/lwip220/api/sockets.c ****  * Optionally update select_waiting in struct lwip_sock.
2231:ThirdPackage/lwip220/api/sockets.c ****  *
2232:ThirdPackage/lwip220/api/sockets.c ****  * @param fds          array of structures to update
2233:ThirdPackage/lwip220/api/sockets.c ****  * @param nfds         number of structures in fds
2234:ThirdPackage/lwip220/api/sockets.c ****  * @param opts         what to update and how
2235:ThirdPackage/lwip220/api/sockets.c ****  * @return number of structures that have revents != 0
2236:ThirdPackage/lwip220/api/sockets.c ****  */
2237:ThirdPackage/lwip220/api/sockets.c **** static int
2238:ThirdPackage/lwip220/api/sockets.c **** lwip_pollscan(struct pollfd *fds, nfds_t nfds, enum lwip_pollscan_opts opts)
2239:ThirdPackage/lwip220/api/sockets.c **** {
2240:ThirdPackage/lwip220/api/sockets.c ****   int nready = 0;
2241:ThirdPackage/lwip220/api/sockets.c ****   nfds_t fdi;
2242:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock;
2243:ThirdPackage/lwip220/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
2244:ThirdPackage/lwip220/api/sockets.c **** 
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 45


2245:ThirdPackage/lwip220/api/sockets.c ****   /* Go through each struct pollfd in the array. */
2246:ThirdPackage/lwip220/api/sockets.c ****   for (fdi = 0; fdi < nfds; fdi++) {
2247:ThirdPackage/lwip220/api/sockets.c ****     if ((opts & LWIP_POLLSCAN_CLEAR) != 0) {
2248:ThirdPackage/lwip220/api/sockets.c ****       fds[fdi].revents = 0;
2249:ThirdPackage/lwip220/api/sockets.c ****     }
2250:ThirdPackage/lwip220/api/sockets.c **** 
2251:ThirdPackage/lwip220/api/sockets.c ****     /* Negative fd means the caller wants us to ignore this struct.
2252:ThirdPackage/lwip220/api/sockets.c ****        POLLNVAL means we already detected that the fd is invalid;
2253:ThirdPackage/lwip220/api/sockets.c ****        if another thread has since opened a new socket with that fd,
2254:ThirdPackage/lwip220/api/sockets.c ****        we must not use that socket. */
2255:ThirdPackage/lwip220/api/sockets.c ****     if (fds[fdi].fd >= 0 && (fds[fdi].revents & POLLNVAL) == 0) {
2256:ThirdPackage/lwip220/api/sockets.c ****       /* First get the socket's status (protected)... */
2257:ThirdPackage/lwip220/api/sockets.c ****       SYS_ARCH_PROTECT(lev);
2258:ThirdPackage/lwip220/api/sockets.c ****       sock = tryget_socket_unconn_locked(fds[fdi].fd);
2259:ThirdPackage/lwip220/api/sockets.c ****       if (sock != NULL) {
2260:ThirdPackage/lwip220/api/sockets.c ****         void* lastdata = sock->lastdata.pbuf;
2261:ThirdPackage/lwip220/api/sockets.c ****         s16_t rcvevent = sock->rcvevent;
2262:ThirdPackage/lwip220/api/sockets.c ****         u16_t sendevent = sock->sendevent;
2263:ThirdPackage/lwip220/api/sockets.c ****         u16_t errevent = sock->errevent;
2264:ThirdPackage/lwip220/api/sockets.c **** 
2265:ThirdPackage/lwip220/api/sockets.c ****         if ((opts & LWIP_POLLSCAN_INC_WAIT) != 0) {
2266:ThirdPackage/lwip220/api/sockets.c ****           sock->select_waiting++;
2267:ThirdPackage/lwip220/api/sockets.c ****           if (sock->select_waiting == 0) {
2268:ThirdPackage/lwip220/api/sockets.c ****             /* overflow - too many threads waiting */
2269:ThirdPackage/lwip220/api/sockets.c ****             sock->select_waiting--;
2270:ThirdPackage/lwip220/api/sockets.c ****             nready = -1;
2271:ThirdPackage/lwip220/api/sockets.c ****             SYS_ARCH_UNPROTECT(lev);
2272:ThirdPackage/lwip220/api/sockets.c ****             done_socket(sock);
2273:ThirdPackage/lwip220/api/sockets.c ****             break;
2274:ThirdPackage/lwip220/api/sockets.c ****           }
2275:ThirdPackage/lwip220/api/sockets.c ****         } else if ((opts & LWIP_POLLSCAN_DEC_WAIT) != 0) {
2276:ThirdPackage/lwip220/api/sockets.c ****           /* for now, handle select_waiting==0... */
2277:ThirdPackage/lwip220/api/sockets.c ****           LWIP_ASSERT("sock->select_waiting > 0", sock->select_waiting > 0);
2278:ThirdPackage/lwip220/api/sockets.c ****           if (sock->select_waiting > 0) {
2279:ThirdPackage/lwip220/api/sockets.c ****             sock->select_waiting--;
2280:ThirdPackage/lwip220/api/sockets.c ****           }
2281:ThirdPackage/lwip220/api/sockets.c ****         }
2282:ThirdPackage/lwip220/api/sockets.c ****         SYS_ARCH_UNPROTECT(lev);
2283:ThirdPackage/lwip220/api/sockets.c ****         done_socket(sock);
2284:ThirdPackage/lwip220/api/sockets.c **** 
2285:ThirdPackage/lwip220/api/sockets.c ****         /* ... then examine it: */
2286:ThirdPackage/lwip220/api/sockets.c ****         /* See if netconn of this socket is ready for read */
2287:ThirdPackage/lwip220/api/sockets.c ****         if ((fds[fdi].events & POLLIN) != 0 && ((lastdata != NULL) || (rcvevent > 0))) {
2288:ThirdPackage/lwip220/api/sockets.c ****           fds[fdi].revents |= POLLIN;
2289:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_pollscan: fd=%d ready for reading\n", fds[fdi].fd));
2290:ThirdPackage/lwip220/api/sockets.c ****         }
2291:ThirdPackage/lwip220/api/sockets.c ****         /* See if netconn of this socket is ready for write */
2292:ThirdPackage/lwip220/api/sockets.c ****         if ((fds[fdi].events & POLLOUT) != 0 && (sendevent != 0)) {
2293:ThirdPackage/lwip220/api/sockets.c ****           fds[fdi].revents |= POLLOUT;
2294:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_pollscan: fd=%d ready for writing\n", fds[fdi].fd));
2295:ThirdPackage/lwip220/api/sockets.c ****         }
2296:ThirdPackage/lwip220/api/sockets.c ****         /* See if netconn of this socket had an error */
2297:ThirdPackage/lwip220/api/sockets.c ****         if (errevent != 0) {
2298:ThirdPackage/lwip220/api/sockets.c ****           /* POLLERR is output only. */
2299:ThirdPackage/lwip220/api/sockets.c ****           fds[fdi].revents |= POLLERR;
2300:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_pollscan: fd=%d ready for exception\n", fds[fdi].fd));
2301:ThirdPackage/lwip220/api/sockets.c ****         }
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 46


2302:ThirdPackage/lwip220/api/sockets.c ****       } else {
2303:ThirdPackage/lwip220/api/sockets.c ****         /* Not a valid socket */
2304:ThirdPackage/lwip220/api/sockets.c ****         SYS_ARCH_UNPROTECT(lev);
2305:ThirdPackage/lwip220/api/sockets.c ****         /* POLLNVAL is output only. */
2306:ThirdPackage/lwip220/api/sockets.c ****         fds[fdi].revents |= POLLNVAL;
2307:ThirdPackage/lwip220/api/sockets.c ****         return -1;
2308:ThirdPackage/lwip220/api/sockets.c ****       }
2309:ThirdPackage/lwip220/api/sockets.c ****     }
2310:ThirdPackage/lwip220/api/sockets.c **** 
2311:ThirdPackage/lwip220/api/sockets.c ****     /* Will return the number of structures that have events,
2312:ThirdPackage/lwip220/api/sockets.c ****        not the number of events. */
2313:ThirdPackage/lwip220/api/sockets.c ****     if (fds[fdi].revents != 0) {
2314:ThirdPackage/lwip220/api/sockets.c ****       nready++;
2315:ThirdPackage/lwip220/api/sockets.c ****     }
2316:ThirdPackage/lwip220/api/sockets.c ****   }
2317:ThirdPackage/lwip220/api/sockets.c **** 
2318:ThirdPackage/lwip220/api/sockets.c ****   LWIP_ASSERT("nready >= 0", nready >= 0);
2319:ThirdPackage/lwip220/api/sockets.c ****   return nready;
2320:ThirdPackage/lwip220/api/sockets.c **** }
2321:ThirdPackage/lwip220/api/sockets.c **** 
2322:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_NETCONN_FULLDUPLEX
2323:ThirdPackage/lwip220/api/sockets.c **** /* Mark all sockets as used.
2324:ThirdPackage/lwip220/api/sockets.c ****  *
2325:ThirdPackage/lwip220/api/sockets.c ****  * All sockets are marked (and later unmarked), whether they are open or not.
2326:ThirdPackage/lwip220/api/sockets.c ****  * This is OK as lwip_pollscan aborts select when non-open sockets are found.
2327:ThirdPackage/lwip220/api/sockets.c ****  */
2328:ThirdPackage/lwip220/api/sockets.c **** static void
2329:ThirdPackage/lwip220/api/sockets.c **** lwip_poll_inc_sockets_used(struct pollfd *fds, nfds_t nfds)
2330:ThirdPackage/lwip220/api/sockets.c **** {
2331:ThirdPackage/lwip220/api/sockets.c ****   nfds_t fdi;
2332:ThirdPackage/lwip220/api/sockets.c **** 
2333:ThirdPackage/lwip220/api/sockets.c ****   if(fds) {
2334:ThirdPackage/lwip220/api/sockets.c ****     /* Go through each struct pollfd in the array. */
2335:ThirdPackage/lwip220/api/sockets.c ****     for (fdi = 0; fdi < nfds; fdi++) {
2336:ThirdPackage/lwip220/api/sockets.c ****       /* Increase the reference counter */
2337:ThirdPackage/lwip220/api/sockets.c ****       tryget_socket_unconn(fds[fdi].fd);
2338:ThirdPackage/lwip220/api/sockets.c ****     }
2339:ThirdPackage/lwip220/api/sockets.c ****   }
2340:ThirdPackage/lwip220/api/sockets.c **** }
2341:ThirdPackage/lwip220/api/sockets.c **** 
2342:ThirdPackage/lwip220/api/sockets.c **** /* Let go all sockets that were marked as used when starting poll */
2343:ThirdPackage/lwip220/api/sockets.c **** static void
2344:ThirdPackage/lwip220/api/sockets.c **** lwip_poll_dec_sockets_used(struct pollfd *fds, nfds_t nfds)
2345:ThirdPackage/lwip220/api/sockets.c **** {
2346:ThirdPackage/lwip220/api/sockets.c ****   nfds_t fdi;
2347:ThirdPackage/lwip220/api/sockets.c **** 
2348:ThirdPackage/lwip220/api/sockets.c ****   if(fds) {
2349:ThirdPackage/lwip220/api/sockets.c ****     /* Go through each struct pollfd in the array. */
2350:ThirdPackage/lwip220/api/sockets.c ****     for (fdi = 0; fdi < nfds; fdi++) {
2351:ThirdPackage/lwip220/api/sockets.c ****       struct lwip_sock *sock = tryget_socket_unconn_nouse(fds[fdi].fd);
2352:ThirdPackage/lwip220/api/sockets.c ****       if (sock != NULL) {
2353:ThirdPackage/lwip220/api/sockets.c ****         done_socket(sock);
2354:ThirdPackage/lwip220/api/sockets.c ****       }
2355:ThirdPackage/lwip220/api/sockets.c ****     }
2356:ThirdPackage/lwip220/api/sockets.c ****   }
2357:ThirdPackage/lwip220/api/sockets.c **** }
2358:ThirdPackage/lwip220/api/sockets.c **** #else /* LWIP_NETCONN_FULLDUPLEX */
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 47


2359:ThirdPackage/lwip220/api/sockets.c **** #define lwip_poll_inc_sockets_used(fds, nfds)
2360:ThirdPackage/lwip220/api/sockets.c **** #define lwip_poll_dec_sockets_used(fds, nfds)
2361:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
2362:ThirdPackage/lwip220/api/sockets.c **** 
2363:ThirdPackage/lwip220/api/sockets.c **** int
2364:ThirdPackage/lwip220/api/sockets.c **** lwip_poll(struct pollfd *fds, nfds_t nfds, int timeout)
2365:ThirdPackage/lwip220/api/sockets.c **** {
2366:ThirdPackage/lwip220/api/sockets.c ****   u32_t waitres = 0;
2367:ThirdPackage/lwip220/api/sockets.c ****   int nready;
2368:ThirdPackage/lwip220/api/sockets.c ****   u32_t msectimeout;
2369:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
2370:ThirdPackage/lwip220/api/sockets.c ****   int waited = 0;
2371:ThirdPackage/lwip220/api/sockets.c **** #endif
2372:ThirdPackage/lwip220/api/sockets.c **** 
2373:ThirdPackage/lwip220/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_poll(%p, %d, %d)\n",
2374:ThirdPackage/lwip220/api/sockets.c ****                   (void*)fds, (int)nfds, timeout));
2375:ThirdPackage/lwip220/api/sockets.c ****   LWIP_ERROR("lwip_poll: invalid fds", ((fds != NULL && nfds > 0) || (fds == NULL && nfds == 0)),
2376:ThirdPackage/lwip220/api/sockets.c ****              set_errno(EINVAL); return -1;);
2377:ThirdPackage/lwip220/api/sockets.c **** 
2378:ThirdPackage/lwip220/api/sockets.c ****   lwip_poll_inc_sockets_used(fds, nfds);
2379:ThirdPackage/lwip220/api/sockets.c **** 
2380:ThirdPackage/lwip220/api/sockets.c ****   /* Go through each struct pollfd to count number of structures
2381:ThirdPackage/lwip220/api/sockets.c ****      which currently match */
2382:ThirdPackage/lwip220/api/sockets.c ****   nready = lwip_pollscan(fds, nfds, LWIP_POLLSCAN_CLEAR);
2383:ThirdPackage/lwip220/api/sockets.c **** 
2384:ThirdPackage/lwip220/api/sockets.c ****   if (nready < 0) {
2385:ThirdPackage/lwip220/api/sockets.c ****     lwip_poll_dec_sockets_used(fds, nfds);
2386:ThirdPackage/lwip220/api/sockets.c ****     return -1;
2387:ThirdPackage/lwip220/api/sockets.c ****   }
2388:ThirdPackage/lwip220/api/sockets.c **** 
2389:ThirdPackage/lwip220/api/sockets.c ****   /* If we don't have any current events, then suspend if we are supposed to */
2390:ThirdPackage/lwip220/api/sockets.c ****   if (!nready) {
2391:ThirdPackage/lwip220/api/sockets.c ****     API_SELECT_CB_VAR_DECLARE(select_cb);
2392:ThirdPackage/lwip220/api/sockets.c **** 
2393:ThirdPackage/lwip220/api/sockets.c ****     if (timeout == 0) {
2394:ThirdPackage/lwip220/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_poll: no timeout, returning 0\n"));
2395:ThirdPackage/lwip220/api/sockets.c ****       goto return_success;
2396:ThirdPackage/lwip220/api/sockets.c ****     }
2397:ThirdPackage/lwip220/api/sockets.c ****     API_SELECT_CB_VAR_ALLOC(select_cb, set_errno(EAGAIN); lwip_poll_dec_sockets_used(fds, nfds); re
2398:ThirdPackage/lwip220/api/sockets.c ****     memset(&API_SELECT_CB_VAR_REF(select_cb), 0, sizeof(struct lwip_select_cb));
2399:ThirdPackage/lwip220/api/sockets.c **** 
2400:ThirdPackage/lwip220/api/sockets.c ****     /* None ready: add our semaphore to list:
2401:ThirdPackage/lwip220/api/sockets.c ****        We don't actually need any dynamic memory. Our entry on the
2402:ThirdPackage/lwip220/api/sockets.c ****        list is only valid while we are in this function, so it's ok
2403:ThirdPackage/lwip220/api/sockets.c ****        to use local variables. */
2404:ThirdPackage/lwip220/api/sockets.c **** 
2405:ThirdPackage/lwip220/api/sockets.c ****     API_SELECT_CB_VAR_REF(select_cb).poll_fds = fds;
2406:ThirdPackage/lwip220/api/sockets.c ****     API_SELECT_CB_VAR_REF(select_cb).poll_nfds = nfds;
2407:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
2408:ThirdPackage/lwip220/api/sockets.c ****     API_SELECT_CB_VAR_REF(select_cb).sem = LWIP_NETCONN_THREAD_SEM_GET();
2409:ThirdPackage/lwip220/api/sockets.c **** #else /* LWIP_NETCONN_SEM_PER_THREAD */
2410:ThirdPackage/lwip220/api/sockets.c ****     if (sys_sem_new(&API_SELECT_CB_VAR_REF(select_cb).sem, 0) != ERR_OK) {
2411:ThirdPackage/lwip220/api/sockets.c ****       /* failed to create semaphore */
2412:ThirdPackage/lwip220/api/sockets.c ****       set_errno(EAGAIN);
2413:ThirdPackage/lwip220/api/sockets.c ****       lwip_poll_dec_sockets_used(fds, nfds);
2414:ThirdPackage/lwip220/api/sockets.c ****       API_SELECT_CB_VAR_FREE(select_cb);
2415:ThirdPackage/lwip220/api/sockets.c ****       return -1;
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 48


2416:ThirdPackage/lwip220/api/sockets.c ****     }
2417:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_NETCONN_SEM_PER_THREAD */
2418:ThirdPackage/lwip220/api/sockets.c **** 
2419:ThirdPackage/lwip220/api/sockets.c ****     lwip_link_select_cb(&API_SELECT_CB_VAR_REF(select_cb));
2420:ThirdPackage/lwip220/api/sockets.c **** 
2421:ThirdPackage/lwip220/api/sockets.c ****     /* Increase select_waiting for each socket we are interested in.
2422:ThirdPackage/lwip220/api/sockets.c ****        Also, check for events again: there could have been events between
2423:ThirdPackage/lwip220/api/sockets.c ****        the last scan (without us on the list) and putting us on the list! */
2424:ThirdPackage/lwip220/api/sockets.c ****     nready = lwip_pollscan(fds, nfds, LWIP_POLLSCAN_INC_WAIT);
2425:ThirdPackage/lwip220/api/sockets.c **** 
2426:ThirdPackage/lwip220/api/sockets.c ****     if (!nready) {
2427:ThirdPackage/lwip220/api/sockets.c ****       /* Still none ready, just wait to be woken */
2428:ThirdPackage/lwip220/api/sockets.c ****       if (timeout < 0) {
2429:ThirdPackage/lwip220/api/sockets.c ****         /* Wait forever */
2430:ThirdPackage/lwip220/api/sockets.c ****         msectimeout = 0;
2431:ThirdPackage/lwip220/api/sockets.c ****       } else {
2432:ThirdPackage/lwip220/api/sockets.c ****         /* timeout == 0 would have been handled earlier. */
2433:ThirdPackage/lwip220/api/sockets.c ****         LWIP_ASSERT("timeout > 0", timeout > 0);
2434:ThirdPackage/lwip220/api/sockets.c ****         msectimeout = timeout;
2435:ThirdPackage/lwip220/api/sockets.c ****       }
2436:ThirdPackage/lwip220/api/sockets.c ****       waitres = sys_arch_sem_wait(SELECT_SEM_PTR(API_SELECT_CB_VAR_REF(select_cb).sem), msectimeout
2437:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
2438:ThirdPackage/lwip220/api/sockets.c ****       waited = 1;
2439:ThirdPackage/lwip220/api/sockets.c **** #endif
2440:ThirdPackage/lwip220/api/sockets.c ****     }
2441:ThirdPackage/lwip220/api/sockets.c **** 
2442:ThirdPackage/lwip220/api/sockets.c ****     /* Decrease select_waiting for each socket we are interested in,
2443:ThirdPackage/lwip220/api/sockets.c ****        and check which events occurred while we waited. */
2444:ThirdPackage/lwip220/api/sockets.c ****     nready = lwip_pollscan(fds, nfds, LWIP_POLLSCAN_DEC_WAIT);
2445:ThirdPackage/lwip220/api/sockets.c **** 
2446:ThirdPackage/lwip220/api/sockets.c ****     lwip_unlink_select_cb(&API_SELECT_CB_VAR_REF(select_cb));
2447:ThirdPackage/lwip220/api/sockets.c **** 
2448:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
2449:ThirdPackage/lwip220/api/sockets.c ****     if (select_cb.sem_signalled && (!waited || (waitres == SYS_ARCH_TIMEOUT))) {
2450:ThirdPackage/lwip220/api/sockets.c ****       /* don't leave the thread-local semaphore signalled */
2451:ThirdPackage/lwip220/api/sockets.c ****       sys_arch_sem_wait(API_SELECT_CB_VAR_REF(select_cb).sem, 1);
2452:ThirdPackage/lwip220/api/sockets.c ****     }
2453:ThirdPackage/lwip220/api/sockets.c **** #else /* LWIP_NETCONN_SEM_PER_THREAD */
2454:ThirdPackage/lwip220/api/sockets.c ****     sys_sem_free(&API_SELECT_CB_VAR_REF(select_cb).sem);
2455:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_NETCONN_SEM_PER_THREAD */
2456:ThirdPackage/lwip220/api/sockets.c ****     API_SELECT_CB_VAR_FREE(select_cb);
2457:ThirdPackage/lwip220/api/sockets.c **** 
2458:ThirdPackage/lwip220/api/sockets.c ****     if (nready < 0) {
2459:ThirdPackage/lwip220/api/sockets.c ****       /* This happens when a socket got closed while waiting */
2460:ThirdPackage/lwip220/api/sockets.c ****       lwip_poll_dec_sockets_used(fds, nfds);
2461:ThirdPackage/lwip220/api/sockets.c ****       return -1;
2462:ThirdPackage/lwip220/api/sockets.c ****     }
2463:ThirdPackage/lwip220/api/sockets.c **** 
2464:ThirdPackage/lwip220/api/sockets.c ****     if (waitres == SYS_ARCH_TIMEOUT) {
2465:ThirdPackage/lwip220/api/sockets.c ****       /* Timeout */
2466:ThirdPackage/lwip220/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_poll: timeout expired\n"));
2467:ThirdPackage/lwip220/api/sockets.c ****       goto return_success;
2468:ThirdPackage/lwip220/api/sockets.c ****     }
2469:ThirdPackage/lwip220/api/sockets.c ****   }
2470:ThirdPackage/lwip220/api/sockets.c **** 
2471:ThirdPackage/lwip220/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_poll: nready=%d\n", nready));
2472:ThirdPackage/lwip220/api/sockets.c **** return_success:
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 49


2473:ThirdPackage/lwip220/api/sockets.c ****   lwip_poll_dec_sockets_used(fds, nfds);
2474:ThirdPackage/lwip220/api/sockets.c ****   set_errno(0);
2475:ThirdPackage/lwip220/api/sockets.c ****   return nready;
2476:ThirdPackage/lwip220/api/sockets.c **** }
2477:ThirdPackage/lwip220/api/sockets.c **** 
2478:ThirdPackage/lwip220/api/sockets.c **** /**
2479:ThirdPackage/lwip220/api/sockets.c ****  * Check whether event_callback should wake up a thread waiting in
2480:ThirdPackage/lwip220/api/sockets.c ****  * lwip_poll.
2481:ThirdPackage/lwip220/api/sockets.c ****  */
2482:ThirdPackage/lwip220/api/sockets.c **** static int
2483:ThirdPackage/lwip220/api/sockets.c **** lwip_poll_should_wake(const struct lwip_select_cb *scb, int fd, int has_recvevent, int has_sendeven
2484:ThirdPackage/lwip220/api/sockets.c **** {
 268              		.loc 1 2484 1 is_stmt 1 view -0
 269              		.cfi_startproc
 270              		@ args = 4, pretend = 0, frame = 0
 271              		@ frame_needed = 0, uses_anonymous_args = 0
 272              		.loc 1 2484 1 is_stmt 0 view .LVU67
 273 0000 30B5     		push	{r4, r5, lr}
 274              	.LCFI4:
 275              		.cfi_def_cfa_offset 12
 276              		.cfi_offset 4, -12
 277              		.cfi_offset 5, -8
 278              		.cfi_offset 14, -4
 279 0002 039D     		ldr	r5, [sp, #12]
2485:ThirdPackage/lwip220/api/sockets.c ****   nfds_t fdi;
 280              		.loc 1 2485 3 is_stmt 1 view .LVU68
2486:ThirdPackage/lwip220/api/sockets.c ****   for (fdi = 0; fdi < scb->poll_nfds; fdi++) {
 281              		.loc 1 2486 3 view .LVU69
 282              	.LVL19:
 283              		.loc 1 2486 12 is_stmt 0 view .LVU70
 284 0004 4FF0000C 		mov	ip, #0
 285              		.loc 1 2486 3 view .LVU71
 286 0008 02E0     		b	.L22
 287              	.LVL20:
 288              	.L26:
 289              	.LBB2:
2487:ThirdPackage/lwip220/api/sockets.c ****     const struct pollfd *pollfd = &scb->poll_fds[fdi];
2488:ThirdPackage/lwip220/api/sockets.c ****     if (pollfd->fd == fd) {
2489:ThirdPackage/lwip220/api/sockets.c ****       /* Do not update pollfd->revents right here;
2490:ThirdPackage/lwip220/api/sockets.c ****          that would be a data race because lwip_pollscan
2491:ThirdPackage/lwip220/api/sockets.c ****          accesses revents without protecting. */
2492:ThirdPackage/lwip220/api/sockets.c ****       if (has_recvevent && (pollfd->events & POLLIN) != 0) {
2493:ThirdPackage/lwip220/api/sockets.c ****         return 1;
2494:ThirdPackage/lwip220/api/sockets.c ****       }
2495:ThirdPackage/lwip220/api/sockets.c ****       if (has_sendevent && (pollfd->events & POLLOUT) != 0) {
2496:ThirdPackage/lwip220/api/sockets.c ****         return 1;
2497:ThirdPackage/lwip220/api/sockets.c ****       }
2498:ThirdPackage/lwip220/api/sockets.c ****       if (has_errevent) {
 290              		.loc 1 2498 7 is_stmt 1 view .LVU72
 291              		.loc 1 2498 10 is_stmt 0 view .LVU73
 292 000a F5B9     		cbnz	r5, .L30
 293              	.L23:
 294              	.LBE2:
2486:ThirdPackage/lwip220/api/sockets.c ****   for (fdi = 0; fdi < scb->poll_nfds; fdi++) {
 295              		.loc 1 2486 39 is_stmt 1 discriminator 2 view .LVU74
2486:ThirdPackage/lwip220/api/sockets.c ****   for (fdi = 0; fdi < scb->poll_nfds; fdi++) {
 296              		.loc 1 2486 42 is_stmt 0 discriminator 2 view .LVU75
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 50


 297 000c 0CF1010C 		add	ip, ip, #1
 298              	.LVL21:
 299              	.L22:
2486:ThirdPackage/lwip220/api/sockets.c ****   for (fdi = 0; fdi < scb->poll_nfds; fdi++) {
 300              		.loc 1 2486 17 is_stmt 1 discriminator 1 view .LVU76
2486:ThirdPackage/lwip220/api/sockets.c ****   for (fdi = 0; fdi < scb->poll_nfds; fdi++) {
 301              		.loc 1 2486 26 is_stmt 0 discriminator 1 view .LVU77
 302 0010 8469     		ldr	r4, [r0, #24]
2486:ThirdPackage/lwip220/api/sockets.c ****   for (fdi = 0; fdi < scb->poll_nfds; fdi++) {
 303              		.loc 1 2486 3 discriminator 1 view .LVU78
 304 0012 6445     		cmp	r4, ip
 305 0014 15D9     		bls	.L32
 306              	.LBB3:
2487:ThirdPackage/lwip220/api/sockets.c ****     const struct pollfd *pollfd = &scb->poll_fds[fdi];
 307              		.loc 1 2487 5 is_stmt 1 view .LVU79
2487:ThirdPackage/lwip220/api/sockets.c ****     const struct pollfd *pollfd = &scb->poll_fds[fdi];
 308              		.loc 1 2487 39 is_stmt 0 view .LVU80
 309 0016 4469     		ldr	r4, [r0, #20]
2487:ThirdPackage/lwip220/api/sockets.c ****     const struct pollfd *pollfd = &scb->poll_fds[fdi];
 310              		.loc 1 2487 26 view .LVU81
 311 0018 04EBCC0E 		add	lr, r4, ip, lsl #3
 312              	.LVL22:
2488:ThirdPackage/lwip220/api/sockets.c ****       /* Do not update pollfd->revents right here;
 313              		.loc 1 2488 5 is_stmt 1 view .LVU82
2488:ThirdPackage/lwip220/api/sockets.c ****       /* Do not update pollfd->revents right here;
 314              		.loc 1 2488 15 is_stmt 0 view .LVU83
 315 001c 54F83C40 		ldr	r4, [r4, ip, lsl #3]
2488:ThirdPackage/lwip220/api/sockets.c ****       /* Do not update pollfd->revents right here;
 316              		.loc 1 2488 8 view .LVU84
 317 0020 8C42     		cmp	r4, r1
 318 0022 F3D1     		bne	.L23
2492:ThirdPackage/lwip220/api/sockets.c ****         return 1;
 319              		.loc 1 2492 7 is_stmt 1 view .LVU85
2492:ThirdPackage/lwip220/api/sockets.c ****         return 1;
 320              		.loc 1 2492 10 is_stmt 0 view .LVU86
 321 0024 22B1     		cbz	r2, .L24
2492:ThirdPackage/lwip220/api/sockets.c ****         return 1;
 322              		.loc 1 2492 35 discriminator 1 view .LVU87
 323 0026 BEF90440 		ldrsh	r4, [lr, #4]
2492:ThirdPackage/lwip220/api/sockets.c ****         return 1;
 324              		.loc 1 2492 25 discriminator 1 view .LVU88
 325 002a 14F0010F 		tst	r4, #1
 326 002e 0AD1     		bne	.L28
 327              	.L24:
2495:ThirdPackage/lwip220/api/sockets.c ****         return 1;
 328              		.loc 1 2495 7 is_stmt 1 view .LVU89
2495:ThirdPackage/lwip220/api/sockets.c ****         return 1;
 329              		.loc 1 2495 10 is_stmt 0 view .LVU90
 330 0030 002B     		cmp	r3, #0
 331 0032 EAD0     		beq	.L26
2495:ThirdPackage/lwip220/api/sockets.c ****         return 1;
 332              		.loc 1 2495 35 discriminator 1 view .LVU91
 333 0034 BEF90440 		ldrsh	r4, [lr, #4]
2495:ThirdPackage/lwip220/api/sockets.c ****         return 1;
 334              		.loc 1 2495 25 discriminator 1 view .LVU92
 335 0038 14F0020F 		tst	r4, #2
 336 003c E5D0     		beq	.L26
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 51


2496:ThirdPackage/lwip220/api/sockets.c ****       }
 337              		.loc 1 2496 16 view .LVU93
 338 003e 0120     		movs	r0, #1
 339              	.LVL23:
2496:ThirdPackage/lwip220/api/sockets.c ****       }
 340              		.loc 1 2496 16 view .LVU94
 341 0040 00E0     		b	.L21
 342              	.LVL24:
 343              	.L32:
2496:ThirdPackage/lwip220/api/sockets.c ****       }
 344              		.loc 1 2496 16 view .LVU95
 345              	.LBE3:
2499:ThirdPackage/lwip220/api/sockets.c ****         /* POLLERR is output only. */
2500:ThirdPackage/lwip220/api/sockets.c ****         return 1;
2501:ThirdPackage/lwip220/api/sockets.c ****       }
2502:ThirdPackage/lwip220/api/sockets.c ****     }
2503:ThirdPackage/lwip220/api/sockets.c ****   }
2504:ThirdPackage/lwip220/api/sockets.c ****   return 0;
 346              		.loc 1 2504 10 view .LVU96
 347 0042 0020     		movs	r0, #0
 348              	.LVL25:
 349              	.L21:
2505:ThirdPackage/lwip220/api/sockets.c **** }
 350              		.loc 1 2505 1 view .LVU97
 351 0044 30BD     		pop	{r4, r5, pc}
 352              	.LVL26:
 353              	.L28:
 354              	.LBB4:
2493:ThirdPackage/lwip220/api/sockets.c ****       }
 355              		.loc 1 2493 16 view .LVU98
 356 0046 0120     		movs	r0, #1
 357              	.LVL27:
2493:ThirdPackage/lwip220/api/sockets.c ****       }
 358              		.loc 1 2493 16 view .LVU99
 359 0048 FCE7     		b	.L21
 360              	.LVL28:
 361              	.L30:
2500:ThirdPackage/lwip220/api/sockets.c ****       }
 362              		.loc 1 2500 16 view .LVU100
 363 004a 0120     		movs	r0, #1
 364              	.LVL29:
2500:ThirdPackage/lwip220/api/sockets.c ****       }
 365              		.loc 1 2500 16 view .LVU101
 366 004c FAE7     		b	.L21
 367              	.LBE4:
 368              		.cfi_endproc
 369              	.LFE198:
 371              		.section	.rodata.lwip_sockopt_to_ipopt.str1.4,"aMS",%progbits,1
 372              		.align	2
 373              	.LC0:
 374 0000 54686972 		.ascii	"ThirdPackage/lwip220/api/sockets.c\000"
 374      64506163 
 374      6B616765 
 374      2F6C7769 
 374      70323230 
 375 0023 00       		.align	2
 376              	.LC1:
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 52


 377 0024 556E6B6E 		.ascii	"Unknown socket option\000"
 377      6F776E20 
 377      736F636B 
 377      6574206F 
 377      7074696F 
 378 003a 0000     		.align	2
 379              	.LC2:
 380 003c 41737365 		.ascii	"Assertion \"%s\" failed at line %d in %s\012\000"
 380      7274696F 
 380      6E202225 
 380      73222066 
 380      61696C65 
 381              		.section	.text.lwip_sockopt_to_ipopt,"ax",%progbits
 382              		.align	1
 383              		.syntax unified
 384              		.thumb
 385              		.thumb_func
 387              	lwip_sockopt_to_ipopt:
 388              	.LVL30:
 389              	.LFB206:
2506:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_SOCKET_POLL */
2507:ThirdPackage/lwip220/api/sockets.c **** 
2508:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_SOCKET_SELECT || LWIP_SOCKET_POLL
2509:ThirdPackage/lwip220/api/sockets.c **** /**
2510:ThirdPackage/lwip220/api/sockets.c ****  * Callback registered in the netconn layer for each socket-netconn.
2511:ThirdPackage/lwip220/api/sockets.c ****  * Processes recvevent (data available) and wakes up tasks waiting for select.
2512:ThirdPackage/lwip220/api/sockets.c ****  *
2513:ThirdPackage/lwip220/api/sockets.c ****  * @note for LWIP_TCPIP_CORE_LOCKING any caller of this function
2514:ThirdPackage/lwip220/api/sockets.c ****  * must have the core lock held when signaling the following events
2515:ThirdPackage/lwip220/api/sockets.c ****  * as they might cause select_list_cb to be checked:
2516:ThirdPackage/lwip220/api/sockets.c ****  *   NETCONN_EVT_RCVPLUS
2517:ThirdPackage/lwip220/api/sockets.c ****  *   NETCONN_EVT_SENDPLUS
2518:ThirdPackage/lwip220/api/sockets.c ****  *   NETCONN_EVT_ERROR
2519:ThirdPackage/lwip220/api/sockets.c ****  * This requirement will be asserted in select_check_waiters()
2520:ThirdPackage/lwip220/api/sockets.c ****  */
2521:ThirdPackage/lwip220/api/sockets.c **** static void
2522:ThirdPackage/lwip220/api/sockets.c **** event_callback(struct netconn *conn, enum netconn_evt evt, u16_t len)
2523:ThirdPackage/lwip220/api/sockets.c **** {
2524:ThirdPackage/lwip220/api/sockets.c ****   int s, check_waiters;
2525:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock;
2526:ThirdPackage/lwip220/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
2527:ThirdPackage/lwip220/api/sockets.c **** 
2528:ThirdPackage/lwip220/api/sockets.c ****   LWIP_UNUSED_ARG(len);
2529:ThirdPackage/lwip220/api/sockets.c **** 
2530:ThirdPackage/lwip220/api/sockets.c ****   /* Get socket */
2531:ThirdPackage/lwip220/api/sockets.c ****   if (conn) {
2532:ThirdPackage/lwip220/api/sockets.c ****     s = conn->callback_arg.socket;
2533:ThirdPackage/lwip220/api/sockets.c ****     if (s < 0) {
2534:ThirdPackage/lwip220/api/sockets.c ****       /* Data comes in right away after an accept, even though
2535:ThirdPackage/lwip220/api/sockets.c ****        * the server task might not have created a new socket yet.
2536:ThirdPackage/lwip220/api/sockets.c ****        * Just count down (or up) if that's the case and we
2537:ThirdPackage/lwip220/api/sockets.c ****        * will use the data later. Note that only receive events
2538:ThirdPackage/lwip220/api/sockets.c ****        * can happen before the new socket is set up. */
2539:ThirdPackage/lwip220/api/sockets.c ****       SYS_ARCH_PROTECT(lev);
2540:ThirdPackage/lwip220/api/sockets.c ****       if (conn->callback_arg.socket < 0) {
2541:ThirdPackage/lwip220/api/sockets.c ****         if (evt == NETCONN_EVT_RCVPLUS) {
2542:ThirdPackage/lwip220/api/sockets.c ****           /* conn->socket is -1 on initialization
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 53


2543:ThirdPackage/lwip220/api/sockets.c ****              lwip_accept adjusts sock->recvevent if conn->socket < -1 */
2544:ThirdPackage/lwip220/api/sockets.c ****           conn->callback_arg.socket--;
2545:ThirdPackage/lwip220/api/sockets.c ****         }
2546:ThirdPackage/lwip220/api/sockets.c ****         SYS_ARCH_UNPROTECT(lev);
2547:ThirdPackage/lwip220/api/sockets.c ****         return;
2548:ThirdPackage/lwip220/api/sockets.c ****       }
2549:ThirdPackage/lwip220/api/sockets.c ****       s = conn->callback_arg.socket;
2550:ThirdPackage/lwip220/api/sockets.c ****       SYS_ARCH_UNPROTECT(lev);
2551:ThirdPackage/lwip220/api/sockets.c ****     }
2552:ThirdPackage/lwip220/api/sockets.c **** 
2553:ThirdPackage/lwip220/api/sockets.c ****     sock = get_socket(s);
2554:ThirdPackage/lwip220/api/sockets.c ****     if (!sock) {
2555:ThirdPackage/lwip220/api/sockets.c ****       return;
2556:ThirdPackage/lwip220/api/sockets.c ****     }
2557:ThirdPackage/lwip220/api/sockets.c ****   } else {
2558:ThirdPackage/lwip220/api/sockets.c ****     return;
2559:ThirdPackage/lwip220/api/sockets.c ****   }
2560:ThirdPackage/lwip220/api/sockets.c **** 
2561:ThirdPackage/lwip220/api/sockets.c ****   check_waiters = 1;
2562:ThirdPackage/lwip220/api/sockets.c ****   SYS_ARCH_PROTECT(lev);
2563:ThirdPackage/lwip220/api/sockets.c ****   /* Set event as required */
2564:ThirdPackage/lwip220/api/sockets.c ****   switch (evt) {
2565:ThirdPackage/lwip220/api/sockets.c ****     case NETCONN_EVT_RCVPLUS:
2566:ThirdPackage/lwip220/api/sockets.c ****       sock->rcvevent++;
2567:ThirdPackage/lwip220/api/sockets.c ****       if (sock->rcvevent > 1) {
2568:ThirdPackage/lwip220/api/sockets.c ****         check_waiters = 0;
2569:ThirdPackage/lwip220/api/sockets.c ****       }
2570:ThirdPackage/lwip220/api/sockets.c ****       break;
2571:ThirdPackage/lwip220/api/sockets.c ****     case NETCONN_EVT_RCVMINUS:
2572:ThirdPackage/lwip220/api/sockets.c ****       sock->rcvevent--;
2573:ThirdPackage/lwip220/api/sockets.c ****       check_waiters = 0;
2574:ThirdPackage/lwip220/api/sockets.c ****       break;
2575:ThirdPackage/lwip220/api/sockets.c ****     case NETCONN_EVT_SENDPLUS:
2576:ThirdPackage/lwip220/api/sockets.c ****       if (sock->sendevent) {
2577:ThirdPackage/lwip220/api/sockets.c ****         check_waiters = 0;
2578:ThirdPackage/lwip220/api/sockets.c ****       }
2579:ThirdPackage/lwip220/api/sockets.c ****       sock->sendevent = 1;
2580:ThirdPackage/lwip220/api/sockets.c ****       break;
2581:ThirdPackage/lwip220/api/sockets.c ****     case NETCONN_EVT_SENDMINUS:
2582:ThirdPackage/lwip220/api/sockets.c ****       sock->sendevent = 0;
2583:ThirdPackage/lwip220/api/sockets.c ****       check_waiters = 0;
2584:ThirdPackage/lwip220/api/sockets.c ****       break;
2585:ThirdPackage/lwip220/api/sockets.c ****     case NETCONN_EVT_ERROR:
2586:ThirdPackage/lwip220/api/sockets.c ****       sock->errevent = 1;
2587:ThirdPackage/lwip220/api/sockets.c ****       break;
2588:ThirdPackage/lwip220/api/sockets.c ****     default:
2589:ThirdPackage/lwip220/api/sockets.c ****       LWIP_ASSERT("unknown event", 0);
2590:ThirdPackage/lwip220/api/sockets.c ****       break;
2591:ThirdPackage/lwip220/api/sockets.c ****   }
2592:ThirdPackage/lwip220/api/sockets.c **** 
2593:ThirdPackage/lwip220/api/sockets.c ****   if (sock->select_waiting && check_waiters) {
2594:ThirdPackage/lwip220/api/sockets.c ****     /* Save which events are active */
2595:ThirdPackage/lwip220/api/sockets.c ****     int has_recvevent, has_sendevent, has_errevent;
2596:ThirdPackage/lwip220/api/sockets.c ****     has_recvevent = sock->rcvevent > 0;
2597:ThirdPackage/lwip220/api/sockets.c ****     has_sendevent = sock->sendevent != 0;
2598:ThirdPackage/lwip220/api/sockets.c ****     has_errevent = sock->errevent != 0;
2599:ThirdPackage/lwip220/api/sockets.c ****     SYS_ARCH_UNPROTECT(lev);
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 54


2600:ThirdPackage/lwip220/api/sockets.c ****     /* Check any select calls waiting on this socket */
2601:ThirdPackage/lwip220/api/sockets.c ****     select_check_waiters(s, has_recvevent, has_sendevent, has_errevent);
2602:ThirdPackage/lwip220/api/sockets.c ****   } else {
2603:ThirdPackage/lwip220/api/sockets.c ****     SYS_ARCH_UNPROTECT(lev);
2604:ThirdPackage/lwip220/api/sockets.c ****   }
2605:ThirdPackage/lwip220/api/sockets.c ****   done_socket(sock);
2606:ThirdPackage/lwip220/api/sockets.c **** }
2607:ThirdPackage/lwip220/api/sockets.c **** 
2608:ThirdPackage/lwip220/api/sockets.c **** /**
2609:ThirdPackage/lwip220/api/sockets.c ****  * Check if any select waiters are waiting on this socket and its events
2610:ThirdPackage/lwip220/api/sockets.c ****  *
2611:ThirdPackage/lwip220/api/sockets.c ****  * @note on synchronization of select_cb_list:
2612:ThirdPackage/lwip220/api/sockets.c ****  * LWIP_TCPIP_CORE_LOCKING: the select_cb_list must only be accessed while holding
2613:ThirdPackage/lwip220/api/sockets.c ****  * the core lock. We do a single pass through the list and signal any waiters.
2614:ThirdPackage/lwip220/api/sockets.c ****  * Core lock should already be held when calling here!!!!
2615:ThirdPackage/lwip220/api/sockets.c **** 
2616:ThirdPackage/lwip220/api/sockets.c ****  * !LWIP_TCPIP_CORE_LOCKING: we use SYS_ARCH_PROTECT but unlock on each iteration
2617:ThirdPackage/lwip220/api/sockets.c ****  * of the loop, thus creating a possibility where a thread could modify the
2618:ThirdPackage/lwip220/api/sockets.c ****  * select_cb_list during our UNPROTECT/PROTECT. We use a generational counter to
2619:ThirdPackage/lwip220/api/sockets.c ****  * detect this change and restart the list walk. The list is expected to be small
2620:ThirdPackage/lwip220/api/sockets.c ****  */
2621:ThirdPackage/lwip220/api/sockets.c **** static void select_check_waiters(int s, int has_recvevent, int has_sendevent, int has_errevent)
2622:ThirdPackage/lwip220/api/sockets.c **** {
2623:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_select_cb *scb;
2624:ThirdPackage/lwip220/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
2625:ThirdPackage/lwip220/api/sockets.c ****   int last_select_cb_ctr;
2626:ThirdPackage/lwip220/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
2627:ThirdPackage/lwip220/api/sockets.c **** #endif /* !LWIP_TCPIP_CORE_LOCKING */
2628:ThirdPackage/lwip220/api/sockets.c **** 
2629:ThirdPackage/lwip220/api/sockets.c ****   LWIP_ASSERT_CORE_LOCKED();
2630:ThirdPackage/lwip220/api/sockets.c **** 
2631:ThirdPackage/lwip220/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
2632:ThirdPackage/lwip220/api/sockets.c ****   SYS_ARCH_PROTECT(lev);
2633:ThirdPackage/lwip220/api/sockets.c **** again:
2634:ThirdPackage/lwip220/api/sockets.c ****   /* remember the state of select_cb_list to detect changes */
2635:ThirdPackage/lwip220/api/sockets.c ****   last_select_cb_ctr = select_cb_ctr;
2636:ThirdPackage/lwip220/api/sockets.c **** #endif /* !LWIP_TCPIP_CORE_LOCKING */
2637:ThirdPackage/lwip220/api/sockets.c ****   for (scb = select_cb_list; scb != NULL; scb = scb->next) {
2638:ThirdPackage/lwip220/api/sockets.c ****     if (scb->sem_signalled == 0) {
2639:ThirdPackage/lwip220/api/sockets.c ****       /* semaphore not signalled yet */
2640:ThirdPackage/lwip220/api/sockets.c ****       int do_signal = 0;
2641:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_SOCKET_POLL
2642:ThirdPackage/lwip220/api/sockets.c ****       if (scb->poll_fds != NULL) {
2643:ThirdPackage/lwip220/api/sockets.c ****         do_signal = lwip_poll_should_wake(scb, s, has_recvevent, has_sendevent, has_errevent);
2644:ThirdPackage/lwip220/api/sockets.c ****       }
2645:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_SOCKET_POLL */
2646:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_SOCKET_SELECT && LWIP_SOCKET_POLL
2647:ThirdPackage/lwip220/api/sockets.c ****       else
2648:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_SOCKET_SELECT && LWIP_SOCKET_POLL */
2649:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_SOCKET_SELECT
2650:ThirdPackage/lwip220/api/sockets.c ****       {
2651:ThirdPackage/lwip220/api/sockets.c ****         /* Test this select call for our socket */
2652:ThirdPackage/lwip220/api/sockets.c ****         if (has_recvevent) {
2653:ThirdPackage/lwip220/api/sockets.c ****           if (scb->readset && FD_ISSET(s, scb->readset)) {
2654:ThirdPackage/lwip220/api/sockets.c ****             do_signal = 1;
2655:ThirdPackage/lwip220/api/sockets.c ****           }
2656:ThirdPackage/lwip220/api/sockets.c ****         }
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 55


2657:ThirdPackage/lwip220/api/sockets.c ****         if (has_sendevent) {
2658:ThirdPackage/lwip220/api/sockets.c ****           if (!do_signal && scb->writeset && FD_ISSET(s, scb->writeset)) {
2659:ThirdPackage/lwip220/api/sockets.c ****             do_signal = 1;
2660:ThirdPackage/lwip220/api/sockets.c ****           }
2661:ThirdPackage/lwip220/api/sockets.c ****         }
2662:ThirdPackage/lwip220/api/sockets.c ****         if (has_errevent) {
2663:ThirdPackage/lwip220/api/sockets.c ****           if (!do_signal && scb->exceptset && FD_ISSET(s, scb->exceptset)) {
2664:ThirdPackage/lwip220/api/sockets.c ****             do_signal = 1;
2665:ThirdPackage/lwip220/api/sockets.c ****           }
2666:ThirdPackage/lwip220/api/sockets.c ****         }
2667:ThirdPackage/lwip220/api/sockets.c ****       }
2668:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_SOCKET_SELECT */
2669:ThirdPackage/lwip220/api/sockets.c ****       if (do_signal) {
2670:ThirdPackage/lwip220/api/sockets.c ****         scb->sem_signalled = 1;
2671:ThirdPackage/lwip220/api/sockets.c ****         /* For !LWIP_TCPIP_CORE_LOCKING, we don't call SYS_ARCH_UNPROTECT() before signaling
2672:ThirdPackage/lwip220/api/sockets.c ****            the semaphore, as this might lead to the select thread taking itself off the list,
2673:ThirdPackage/lwip220/api/sockets.c ****            invalidating the semaphore. */
2674:ThirdPackage/lwip220/api/sockets.c ****         sys_sem_signal(SELECT_SEM_PTR(scb->sem));
2675:ThirdPackage/lwip220/api/sockets.c ****       }
2676:ThirdPackage/lwip220/api/sockets.c ****     }
2677:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_TCPIP_CORE_LOCKING
2678:ThirdPackage/lwip220/api/sockets.c ****   }
2679:ThirdPackage/lwip220/api/sockets.c **** #else
2680:ThirdPackage/lwip220/api/sockets.c ****     /* unlock interrupts with each step */
2681:ThirdPackage/lwip220/api/sockets.c ****     SYS_ARCH_UNPROTECT(lev);
2682:ThirdPackage/lwip220/api/sockets.c ****     /* this makes sure interrupt protection time is short */
2683:ThirdPackage/lwip220/api/sockets.c ****     SYS_ARCH_PROTECT(lev);
2684:ThirdPackage/lwip220/api/sockets.c ****     if (last_select_cb_ctr != select_cb_ctr) {
2685:ThirdPackage/lwip220/api/sockets.c ****       /* someone has changed select_cb_list, restart at the beginning */
2686:ThirdPackage/lwip220/api/sockets.c ****       goto again;
2687:ThirdPackage/lwip220/api/sockets.c ****     }
2688:ThirdPackage/lwip220/api/sockets.c ****     /* remember the state of select_cb_list to detect changes */
2689:ThirdPackage/lwip220/api/sockets.c ****     last_select_cb_ctr = select_cb_ctr;
2690:ThirdPackage/lwip220/api/sockets.c ****   }
2691:ThirdPackage/lwip220/api/sockets.c ****   SYS_ARCH_UNPROTECT(lev);
2692:ThirdPackage/lwip220/api/sockets.c **** #endif
2693:ThirdPackage/lwip220/api/sockets.c **** }
2694:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_SOCKET_SELECT || LWIP_SOCKET_POLL */
2695:ThirdPackage/lwip220/api/sockets.c **** 
2696:ThirdPackage/lwip220/api/sockets.c **** /**
2697:ThirdPackage/lwip220/api/sockets.c ****  * Close one end of a full-duplex connection.
2698:ThirdPackage/lwip220/api/sockets.c ****  */
2699:ThirdPackage/lwip220/api/sockets.c **** int
2700:ThirdPackage/lwip220/api/sockets.c **** lwip_shutdown(int s, int how)
2701:ThirdPackage/lwip220/api/sockets.c **** {
2702:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock;
2703:ThirdPackage/lwip220/api/sockets.c ****   err_t err;
2704:ThirdPackage/lwip220/api/sockets.c ****   u8_t shut_rx = 0, shut_tx = 0;
2705:ThirdPackage/lwip220/api/sockets.c **** 
2706:ThirdPackage/lwip220/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_shutdown(%d, how=%d)\n", s, how));
2707:ThirdPackage/lwip220/api/sockets.c **** 
2708:ThirdPackage/lwip220/api/sockets.c ****   sock = get_socket(s);
2709:ThirdPackage/lwip220/api/sockets.c ****   if (!sock) {
2710:ThirdPackage/lwip220/api/sockets.c ****     return -1;
2711:ThirdPackage/lwip220/api/sockets.c ****   }
2712:ThirdPackage/lwip220/api/sockets.c **** 
2713:ThirdPackage/lwip220/api/sockets.c ****   if (sock->conn != NULL) {
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 56


2714:ThirdPackage/lwip220/api/sockets.c ****     if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) != NETCONN_TCP) {
2715:ThirdPackage/lwip220/api/sockets.c ****       set_errno(EOPNOTSUPP);
2716:ThirdPackage/lwip220/api/sockets.c ****       done_socket(sock);
2717:ThirdPackage/lwip220/api/sockets.c ****       return -1;
2718:ThirdPackage/lwip220/api/sockets.c ****     }
2719:ThirdPackage/lwip220/api/sockets.c ****   } else {
2720:ThirdPackage/lwip220/api/sockets.c ****     set_errno(ENOTCONN);
2721:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
2722:ThirdPackage/lwip220/api/sockets.c ****     return -1;
2723:ThirdPackage/lwip220/api/sockets.c ****   }
2724:ThirdPackage/lwip220/api/sockets.c **** 
2725:ThirdPackage/lwip220/api/sockets.c ****   if (how == SHUT_RD) {
2726:ThirdPackage/lwip220/api/sockets.c ****     shut_rx = 1;
2727:ThirdPackage/lwip220/api/sockets.c ****   } else if (how == SHUT_WR) {
2728:ThirdPackage/lwip220/api/sockets.c ****     shut_tx = 1;
2729:ThirdPackage/lwip220/api/sockets.c ****   } else if (how == SHUT_RDWR) {
2730:ThirdPackage/lwip220/api/sockets.c ****     shut_rx = 1;
2731:ThirdPackage/lwip220/api/sockets.c ****     shut_tx = 1;
2732:ThirdPackage/lwip220/api/sockets.c ****   } else {
2733:ThirdPackage/lwip220/api/sockets.c ****     set_errno(EINVAL);
2734:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
2735:ThirdPackage/lwip220/api/sockets.c ****     return -1;
2736:ThirdPackage/lwip220/api/sockets.c ****   }
2737:ThirdPackage/lwip220/api/sockets.c ****   err = netconn_shutdown(sock->conn, shut_rx, shut_tx);
2738:ThirdPackage/lwip220/api/sockets.c **** 
2739:ThirdPackage/lwip220/api/sockets.c ****   set_errno(err_to_errno(err));
2740:ThirdPackage/lwip220/api/sockets.c ****   done_socket(sock);
2741:ThirdPackage/lwip220/api/sockets.c ****   return (err == ERR_OK ? 0 : -1);
2742:ThirdPackage/lwip220/api/sockets.c **** }
2743:ThirdPackage/lwip220/api/sockets.c **** 
2744:ThirdPackage/lwip220/api/sockets.c **** static int
2745:ThirdPackage/lwip220/api/sockets.c **** lwip_getaddrname(int s, struct sockaddr *name, socklen_t *namelen, u8_t local)
2746:ThirdPackage/lwip220/api/sockets.c **** {
2747:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock;
2748:ThirdPackage/lwip220/api/sockets.c ****   union sockaddr_aligned saddr;
2749:ThirdPackage/lwip220/api/sockets.c ****   ip_addr_t naddr;
2750:ThirdPackage/lwip220/api/sockets.c ****   u16_t port;
2751:ThirdPackage/lwip220/api/sockets.c ****   err_t err;
2752:ThirdPackage/lwip220/api/sockets.c **** 
2753:ThirdPackage/lwip220/api/sockets.c ****   sock = get_socket(s);
2754:ThirdPackage/lwip220/api/sockets.c ****   if (!sock) {
2755:ThirdPackage/lwip220/api/sockets.c ****     return -1;
2756:ThirdPackage/lwip220/api/sockets.c ****   }
2757:ThirdPackage/lwip220/api/sockets.c **** 
2758:ThirdPackage/lwip220/api/sockets.c ****   /* get the IP address and port */
2759:ThirdPackage/lwip220/api/sockets.c ****   err = netconn_getaddr(sock->conn, &naddr, &port, local);
2760:ThirdPackage/lwip220/api/sockets.c ****   if (err != ERR_OK) {
2761:ThirdPackage/lwip220/api/sockets.c ****     set_errno(err_to_errno(err));
2762:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
2763:ThirdPackage/lwip220/api/sockets.c ****     return -1;
2764:ThirdPackage/lwip220/api/sockets.c ****   }
2765:ThirdPackage/lwip220/api/sockets.c **** 
2766:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_IPV4 && LWIP_IPV6
2767:ThirdPackage/lwip220/api/sockets.c ****   /* Dual-stack: Map IPv4 addresses to IPv4 mapped IPv6 */
2768:ThirdPackage/lwip220/api/sockets.c ****   if (NETCONNTYPE_ISIPV6(netconn_type(sock->conn)) &&
2769:ThirdPackage/lwip220/api/sockets.c ****       IP_IS_V4_VAL(naddr)) {
2770:ThirdPackage/lwip220/api/sockets.c ****     ip4_2_ipv4_mapped_ipv6(ip_2_ip6(&naddr), ip_2_ip4(&naddr));
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 57


2771:ThirdPackage/lwip220/api/sockets.c ****     IP_SET_TYPE_VAL(naddr, IPADDR_TYPE_V6);
2772:ThirdPackage/lwip220/api/sockets.c ****   }
2773:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_IPV4 && LWIP_IPV6 */
2774:ThirdPackage/lwip220/api/sockets.c **** 
2775:ThirdPackage/lwip220/api/sockets.c ****   IPADDR_PORT_TO_SOCKADDR(&saddr, &naddr, port);
2776:ThirdPackage/lwip220/api/sockets.c **** 
2777:ThirdPackage/lwip220/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getaddrname(%d, addr=", s));
2778:ThirdPackage/lwip220/api/sockets.c ****   ip_addr_debug_print_val(SOCKETS_DEBUG, naddr);
2779:ThirdPackage/lwip220/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, (" port=%"U16_F")\n", port));
2780:ThirdPackage/lwip220/api/sockets.c **** 
2781:ThirdPackage/lwip220/api/sockets.c ****   if (*namelen > IPADDR_SOCKADDR_GET_LEN(&saddr)) {
2782:ThirdPackage/lwip220/api/sockets.c ****     *namelen = IPADDR_SOCKADDR_GET_LEN(&saddr);
2783:ThirdPackage/lwip220/api/sockets.c ****   }
2784:ThirdPackage/lwip220/api/sockets.c ****   MEMCPY(name, &saddr, *namelen);
2785:ThirdPackage/lwip220/api/sockets.c **** 
2786:ThirdPackage/lwip220/api/sockets.c ****   set_errno(0);
2787:ThirdPackage/lwip220/api/sockets.c ****   done_socket(sock);
2788:ThirdPackage/lwip220/api/sockets.c ****   return 0;
2789:ThirdPackage/lwip220/api/sockets.c **** }
2790:ThirdPackage/lwip220/api/sockets.c **** 
2791:ThirdPackage/lwip220/api/sockets.c **** int
2792:ThirdPackage/lwip220/api/sockets.c **** lwip_getpeername(int s, struct sockaddr *name, socklen_t *namelen)
2793:ThirdPackage/lwip220/api/sockets.c **** {
2794:ThirdPackage/lwip220/api/sockets.c ****   return lwip_getaddrname(s, name, namelen, 0);
2795:ThirdPackage/lwip220/api/sockets.c **** }
2796:ThirdPackage/lwip220/api/sockets.c **** 
2797:ThirdPackage/lwip220/api/sockets.c **** int
2798:ThirdPackage/lwip220/api/sockets.c **** lwip_getsockname(int s, struct sockaddr *name, socklen_t *namelen)
2799:ThirdPackage/lwip220/api/sockets.c **** {
2800:ThirdPackage/lwip220/api/sockets.c ****   return lwip_getaddrname(s, name, namelen, 1);
2801:ThirdPackage/lwip220/api/sockets.c **** }
2802:ThirdPackage/lwip220/api/sockets.c **** 
2803:ThirdPackage/lwip220/api/sockets.c **** int
2804:ThirdPackage/lwip220/api/sockets.c **** lwip_getsockopt(int s, int level, int optname, void *optval, socklen_t *optlen)
2805:ThirdPackage/lwip220/api/sockets.c **** {
2806:ThirdPackage/lwip220/api/sockets.c ****   int err;
2807:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock = get_socket(s);
2808:ThirdPackage/lwip220/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
2809:ThirdPackage/lwip220/api/sockets.c ****   err_t cberr;
2810:ThirdPackage/lwip220/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_DECLARE(data);
2811:ThirdPackage/lwip220/api/sockets.c **** #endif /* !LWIP_TCPIP_CORE_LOCKING */
2812:ThirdPackage/lwip220/api/sockets.c **** 
2813:ThirdPackage/lwip220/api/sockets.c ****   if (!sock) {
2814:ThirdPackage/lwip220/api/sockets.c ****     return -1;
2815:ThirdPackage/lwip220/api/sockets.c ****   }
2816:ThirdPackage/lwip220/api/sockets.c **** 
2817:ThirdPackage/lwip220/api/sockets.c ****   if ((NULL == optval) || (NULL == optlen)) {
2818:ThirdPackage/lwip220/api/sockets.c ****     set_errno(EFAULT);
2819:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
2820:ThirdPackage/lwip220/api/sockets.c ****     return -1;
2821:ThirdPackage/lwip220/api/sockets.c ****   }
2822:ThirdPackage/lwip220/api/sockets.c **** 
2823:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_TCPIP_CORE_LOCKING
2824:ThirdPackage/lwip220/api/sockets.c ****   /* core-locking can just call the -impl function */
2825:ThirdPackage/lwip220/api/sockets.c ****   LOCK_TCPIP_CORE();
2826:ThirdPackage/lwip220/api/sockets.c ****   err = lwip_getsockopt_impl(s, level, optname, optval, optlen);
2827:ThirdPackage/lwip220/api/sockets.c ****   UNLOCK_TCPIP_CORE();
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 58


2828:ThirdPackage/lwip220/api/sockets.c **** 
2829:ThirdPackage/lwip220/api/sockets.c **** #else /* LWIP_TCPIP_CORE_LOCKING */
2830:ThirdPackage/lwip220/api/sockets.c **** 
2831:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_MPU_COMPATIBLE
2832:ThirdPackage/lwip220/api/sockets.c ****   /* MPU_COMPATIBLE copies the optval data, so check for max size here */
2833:ThirdPackage/lwip220/api/sockets.c ****   if (*optlen > LWIP_SETGETSOCKOPT_MAXOPTLEN) {
2834:ThirdPackage/lwip220/api/sockets.c ****     set_errno(ENOBUFS);
2835:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
2836:ThirdPackage/lwip220/api/sockets.c ****     return -1;
2837:ThirdPackage/lwip220/api/sockets.c ****   }
2838:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_MPU_COMPATIBLE */
2839:ThirdPackage/lwip220/api/sockets.c **** 
2840:ThirdPackage/lwip220/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_ALLOC(data, sock);
2841:ThirdPackage/lwip220/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).s = s;
2842:ThirdPackage/lwip220/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).level = level;
2843:ThirdPackage/lwip220/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).optname = optname;
2844:ThirdPackage/lwip220/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).optlen = *optlen;
2845:ThirdPackage/lwip220/api/sockets.c **** #if !LWIP_MPU_COMPATIBLE
2846:ThirdPackage/lwip220/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).optval.p = optval;
2847:ThirdPackage/lwip220/api/sockets.c **** #endif /* !LWIP_MPU_COMPATIBLE */
2848:ThirdPackage/lwip220/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).err = 0;
2849:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
2850:ThirdPackage/lwip220/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).completed_sem = LWIP_NETCONN_THREAD_SEM_GET();
2851:ThirdPackage/lwip220/api/sockets.c **** #else
2852:ThirdPackage/lwip220/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).completed_sem = &sock->conn->op_completed;
2853:ThirdPackage/lwip220/api/sockets.c **** #endif
2854:ThirdPackage/lwip220/api/sockets.c ****   cberr = tcpip_callback(lwip_getsockopt_callback, &LWIP_SETGETSOCKOPT_DATA_VAR_REF(data));
2855:ThirdPackage/lwip220/api/sockets.c ****   if (cberr != ERR_OK) {
2856:ThirdPackage/lwip220/api/sockets.c ****     LWIP_SETGETSOCKOPT_DATA_VAR_FREE(data);
2857:ThirdPackage/lwip220/api/sockets.c ****     set_errno(err_to_errno(cberr));
2858:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
2859:ThirdPackage/lwip220/api/sockets.c ****     return -1;
2860:ThirdPackage/lwip220/api/sockets.c ****   }
2861:ThirdPackage/lwip220/api/sockets.c ****   sys_arch_sem_wait((sys_sem_t *)(LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).completed_sem), 0);
2862:ThirdPackage/lwip220/api/sockets.c **** 
2863:ThirdPackage/lwip220/api/sockets.c ****   /* write back optlen and optval */
2864:ThirdPackage/lwip220/api/sockets.c ****   *optlen = LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).optlen;
2865:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_MPU_COMPATIBLE
2866:ThirdPackage/lwip220/api/sockets.c ****   MEMCPY(optval, LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).optval,
2867:ThirdPackage/lwip220/api/sockets.c ****          LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).optlen);
2868:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_MPU_COMPATIBLE */
2869:ThirdPackage/lwip220/api/sockets.c **** 
2870:ThirdPackage/lwip220/api/sockets.c ****   /* maybe lwip_getsockopt_impl has changed err */
2871:ThirdPackage/lwip220/api/sockets.c ****   err = LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).err;
2872:ThirdPackage/lwip220/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_FREE(data);
2873:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
2874:ThirdPackage/lwip220/api/sockets.c **** 
2875:ThirdPackage/lwip220/api/sockets.c ****   set_errno(err);
2876:ThirdPackage/lwip220/api/sockets.c ****   done_socket(sock);
2877:ThirdPackage/lwip220/api/sockets.c ****   return err ? -1 : 0;
2878:ThirdPackage/lwip220/api/sockets.c **** }
2879:ThirdPackage/lwip220/api/sockets.c **** 
2880:ThirdPackage/lwip220/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
2881:ThirdPackage/lwip220/api/sockets.c **** /** lwip_getsockopt_callback: only used without CORE_LOCKING
2882:ThirdPackage/lwip220/api/sockets.c ****  * to get into the tcpip_thread
2883:ThirdPackage/lwip220/api/sockets.c ****  */
2884:ThirdPackage/lwip220/api/sockets.c **** static void
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 59


2885:ThirdPackage/lwip220/api/sockets.c **** lwip_getsockopt_callback(void *arg)
2886:ThirdPackage/lwip220/api/sockets.c **** {
2887:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_setgetsockopt_data *data;
2888:ThirdPackage/lwip220/api/sockets.c ****   LWIP_ASSERT("arg != NULL", arg != NULL);
2889:ThirdPackage/lwip220/api/sockets.c ****   data = (struct lwip_setgetsockopt_data *)arg;
2890:ThirdPackage/lwip220/api/sockets.c **** 
2891:ThirdPackage/lwip220/api/sockets.c ****   data->err = lwip_getsockopt_impl(data->s, data->level, data->optname,
2892:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_MPU_COMPATIBLE
2893:ThirdPackage/lwip220/api/sockets.c ****                                    data->optval,
2894:ThirdPackage/lwip220/api/sockets.c **** #else /* LWIP_MPU_COMPATIBLE */
2895:ThirdPackage/lwip220/api/sockets.c ****                                    data->optval.p,
2896:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_MPU_COMPATIBLE */
2897:ThirdPackage/lwip220/api/sockets.c ****                                    &data->optlen);
2898:ThirdPackage/lwip220/api/sockets.c **** 
2899:ThirdPackage/lwip220/api/sockets.c ****   sys_sem_signal((sys_sem_t *)(data->completed_sem));
2900:ThirdPackage/lwip220/api/sockets.c **** }
2901:ThirdPackage/lwip220/api/sockets.c **** #endif  /* LWIP_TCPIP_CORE_LOCKING */
2902:ThirdPackage/lwip220/api/sockets.c **** 
2903:ThirdPackage/lwip220/api/sockets.c **** static int
2904:ThirdPackage/lwip220/api/sockets.c **** lwip_sockopt_to_ipopt(int optname)
2905:ThirdPackage/lwip220/api/sockets.c **** {
 390              		.loc 1 2905 1 is_stmt 1 view -0
 391              		.cfi_startproc
 392              		@ args = 0, pretend = 0, frame = 0
 393              		@ frame_needed = 0, uses_anonymous_args = 0
2906:ThirdPackage/lwip220/api/sockets.c ****   /* Map SO_* values to our internal SOF_* values
2907:ThirdPackage/lwip220/api/sockets.c ****    * We should not rely on #defines in socket.h
2908:ThirdPackage/lwip220/api/sockets.c ****    * being in sync with ip.h.
2909:ThirdPackage/lwip220/api/sockets.c ****    */
2910:ThirdPackage/lwip220/api/sockets.c ****   switch (optname) {
 394              		.loc 1 2910 3 view .LVU103
 395 0000 0828     		cmp	r0, #8
 396 0002 0DD0     		beq	.L36
 397 0004 2028     		cmp	r0, #32
 398 0006 0BD0     		beq	.L36
 399 0008 0428     		cmp	r0, #4
 400 000a 09D0     		beq	.L36
2905:ThirdPackage/lwip220/api/sockets.c ****   /* Map SO_* values to our internal SOF_* values
 401              		.loc 1 2905 1 is_stmt 0 discriminator 1 view .LVU104
 402 000c 08B5     		push	{r3, lr}
 403              	.LCFI5:
 404              		.cfi_def_cfa_offset 8
 405              		.cfi_offset 3, -8
 406              		.cfi_offset 14, -4
2911:ThirdPackage/lwip220/api/sockets.c ****   case SO_BROADCAST:
2912:ThirdPackage/lwip220/api/sockets.c ****     return SOF_BROADCAST;
2913:ThirdPackage/lwip220/api/sockets.c ****   case SO_KEEPALIVE:
2914:ThirdPackage/lwip220/api/sockets.c ****     return SOF_KEEPALIVE;
2915:ThirdPackage/lwip220/api/sockets.c ****   case SO_REUSEADDR:
2916:ThirdPackage/lwip220/api/sockets.c ****     return SOF_REUSEADDR;
2917:ThirdPackage/lwip220/api/sockets.c ****   default:
2918:ThirdPackage/lwip220/api/sockets.c ****     LWIP_ASSERT("Unknown socket option", 0);
 407              		.loc 1 2918 5 is_stmt 1 discriminator 1 view .LVU105
 408              		.loc 1 2918 5 discriminator 1 view .LVU106
 409              		.loc 1 2918 5 discriminator 1 view .LVU107
 410              		.loc 1 2918 5 discriminator 1 view .LVU108
 411 000e 054B     		ldr	r3, .L39
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 60


 412 0010 40F66632 		movw	r2, #2918
 413 0014 0449     		ldr	r1, .L39+4
 414 0016 0548     		ldr	r0, .L39+8
 415              	.LVL31:
 416              		.loc 1 2918 5 is_stmt 0 discriminator 1 view .LVU109
 417 0018 FFF7FEFF 		bl	printf
 418              	.LVL32:
 419              		.loc 1 2918 5 is_stmt 1 discriminator 1 view .LVU110
 420              		.loc 1 2918 5 discriminator 1 view .LVU111
2919:ThirdPackage/lwip220/api/sockets.c ****     return 0;
 421              		.loc 1 2919 5 discriminator 1 view .LVU112
 422              		.loc 1 2919 12 is_stmt 0 discriminator 1 view .LVU113
 423 001c 0020     		movs	r0, #0
2920:ThirdPackage/lwip220/api/sockets.c ****   }
2921:ThirdPackage/lwip220/api/sockets.c **** }
 424              		.loc 1 2921 1 discriminator 1 view .LVU114
 425 001e 08BD     		pop	{r3, pc}
 426              	.LVL33:
 427              	.L36:
 428              	.LCFI6:
 429              		.cfi_def_cfa_offset 0
 430              		.cfi_restore 3
 431              		.cfi_restore 14
 432              		.loc 1 2921 1 view .LVU115
 433 0020 7047     		bx	lr
 434              	.L40:
 435 0022 00BF     		.align	2
 436              	.L39:
 437 0024 00000000 		.word	.LC0
 438 0028 24000000 		.word	.LC1
 439 002c 3C000000 		.word	.LC2
 440              		.cfi_endproc
 441              	.LFE206:
 443              		.section	.rodata.alloc_socket.str1.4,"aMS",%progbits,1
 444              		.align	2
 445              	.LC3:
 446 0000 736F636B 		.ascii	"sockets[i].select_waiting == 0\000"
 446      6574735B 
 446      695D2E73 
 446      656C6563 
 446      745F7761 
 447              		.section	.text.alloc_socket,"ax",%progbits
 448              		.align	1
 449              		.syntax unified
 450              		.thumb
 451              		.thumb_func
 453              	alloc_socket:
 454              	.LVL34:
 455              	.LFB168:
 541:ThirdPackage/lwip220/api/sockets.c ****   int i;
 456              		.loc 1 541 1 is_stmt 1 view -0
 457              		.cfi_startproc
 458              		@ args = 0, pretend = 0, frame = 0
 459              		@ frame_needed = 0, uses_anonymous_args = 0
 541:ThirdPackage/lwip220/api/sockets.c ****   int i;
 460              		.loc 1 541 1 is_stmt 0 view .LVU117
 461 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 61


 462              	.LCFI7:
 463              		.cfi_def_cfa_offset 24
 464              		.cfi_offset 3, -24
 465              		.cfi_offset 4, -20
 466              		.cfi_offset 5, -16
 467              		.cfi_offset 6, -12
 468              		.cfi_offset 7, -8
 469              		.cfi_offset 14, -4
 470 0002 0646     		mov	r6, r0
 471 0004 0D46     		mov	r5, r1
 542:ThirdPackage/lwip220/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
 472              		.loc 1 542 3 is_stmt 1 view .LVU118
 543:ThirdPackage/lwip220/api/sockets.c ****   LWIP_UNUSED_ARG(accepted);
 473              		.loc 1 543 3 view .LVU119
 544:ThirdPackage/lwip220/api/sockets.c **** 
 474              		.loc 1 544 3 view .LVU120
 547:ThirdPackage/lwip220/api/sockets.c ****     /* Protect socket array */
 475              		.loc 1 547 3 view .LVU121
 476              	.LVL35:
 547:ThirdPackage/lwip220/api/sockets.c ****     /* Protect socket array */
 477              		.loc 1 547 10 is_stmt 0 view .LVU122
 478 0006 0024     		movs	r4, #0
 479              	.LVL36:
 480              	.L42:
 547:ThirdPackage/lwip220/api/sockets.c ****     /* Protect socket array */
 481              		.loc 1 547 15 is_stmt 1 discriminator 1 view .LVU123
 547:ThirdPackage/lwip220/api/sockets.c ****     /* Protect socket array */
 482              		.loc 1 547 3 is_stmt 0 discriminator 1 view .LVU124
 483 0008 032C     		cmp	r4, #3
 484 000a 31DC     		bgt	.L50
 549:ThirdPackage/lwip220/api/sockets.c ****     if (!sockets[i].conn) {
 485              		.loc 1 549 5 is_stmt 1 view .LVU125
 486 000c FFF7FEFF 		bl	sys_arch_protect
 487              	.LVL37:
 550:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_NETCONN_FULLDUPLEX
 488              		.loc 1 550 5 view .LVU126
 550:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_NETCONN_FULLDUPLEX
 489              		.loc 1 550 20 is_stmt 0 view .LVU127
 490 0010 2301     		lsls	r3, r4, #4
 491 0012 194A     		ldr	r2, .L54
 492 0014 D358     		ldr	r3, [r2, r3]
 550:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_NETCONN_FULLDUPLEX
 493              		.loc 1 550 8 view .LVU128
 494 0016 1BB1     		cbz	r3, .L51
 574:ThirdPackage/lwip220/api/sockets.c ****   }
 495              		.loc 1 574 5 is_stmt 1 discriminator 2 view .LVU129
 496 0018 FFF7FEFF 		bl	sys_arch_unprotect
 497              	.LVL38:
 547:ThirdPackage/lwip220/api/sockets.c ****     /* Protect socket array */
 498              		.loc 1 547 32 discriminator 2 view .LVU130
 499 001c 0134     		adds	r4, r4, #1
 500              	.LVL39:
 547:ThirdPackage/lwip220/api/sockets.c ****     /* Protect socket array */
 501              		.loc 1 547 32 is_stmt 0 discriminator 2 view .LVU131
 502 001e F3E7     		b	.L42
 503              	.LVL40:
 504              	.L51:
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 62


 559:ThirdPackage/lwip220/api/sockets.c ****       /* The socket is not yet known to anyone, so no need to protect
 505              		.loc 1 559 7 is_stmt 1 view .LVU132
 559:ThirdPackage/lwip220/api/sockets.c ****       /* The socket is not yet known to anyone, so no need to protect
 506              		.loc 1 559 29 is_stmt 0 view .LVU133
 507 0020 2301     		lsls	r3, r4, #4
 508 0022 02EB0417 		add	r7, r2, r4, lsl #4
 509 0026 D650     		str	r6, [r2, r3]
 562:ThirdPackage/lwip220/api/sockets.c ****       sockets[i].lastdata.pbuf = NULL;
 510              		.loc 1 562 7 is_stmt 1 view .LVU134
 511 0028 FFF7FEFF 		bl	sys_arch_unprotect
 512              	.LVL41:
 563:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_SOCKET_SELECT || LWIP_SOCKET_POLL
 513              		.loc 1 563 7 view .LVU135
 563:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_SOCKET_SELECT || LWIP_SOCKET_POLL
 514              		.loc 1 563 32 is_stmt 0 view .LVU136
 515 002c 0023     		movs	r3, #0
 516 002e 7B60     		str	r3, [r7, #4]
 565:ThirdPackage/lwip220/api/sockets.c ****       sockets[i].rcvevent   = 0;
 517              		.loc 1 565 7 is_stmt 1 view .LVU137
 565:ThirdPackage/lwip220/api/sockets.c ****       sockets[i].rcvevent   = 0;
 518              		.loc 1 565 7 view .LVU138
 519 0030 BB7B     		ldrb	r3, [r7, #14]	@ zero_extendqisi2
 520 0032 8BB9     		cbnz	r3, .L52
 521              	.L44:
 565:ThirdPackage/lwip220/api/sockets.c ****       sockets[i].rcvevent   = 0;
 522              		.loc 1 565 7 discriminator 3 view .LVU139
 565:ThirdPackage/lwip220/api/sockets.c ****       sockets[i].rcvevent   = 0;
 523              		.loc 1 565 7 discriminator 3 view .LVU140
 566:ThirdPackage/lwip220/api/sockets.c ****       /* TCP sendbuf is empty, but the socket is not yet writable until connected
 524              		.loc 1 566 7 discriminator 3 view .LVU141
 566:ThirdPackage/lwip220/api/sockets.c ****       /* TCP sendbuf is empty, but the socket is not yet writable until connected
 525              		.loc 1 566 29 is_stmt 0 discriminator 3 view .LVU142
 526 0034 104B     		ldr	r3, .L54
 527 0036 03EB0413 		add	r3, r3, r4, lsl #4
 528 003a 0022     		movs	r2, #0
 529 003c 1A81     		strh	r2, [r3, #8]	@ movhi
 569:ThirdPackage/lwip220/api/sockets.c ****       sockets[i].errevent   = 0;
 530              		.loc 1 569 7 is_stmt 1 discriminator 3 view .LVU143
 569:ThirdPackage/lwip220/api/sockets.c ****       sockets[i].errevent   = 0;
 531              		.loc 1 569 32 is_stmt 0 discriminator 3 view .LVU144
 532 003e 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
 569:ThirdPackage/lwip220/api/sockets.c ****       sockets[i].errevent   = 0;
 533              		.loc 1 569 98 discriminator 3 view .LVU145
 534 0040 03F0F003 		and	r3, r3, #240
 535 0044 102B     		cmp	r3, #16
 536 0046 0FD0     		beq	.L53
 569:ThirdPackage/lwip220/api/sockets.c ****       sockets[i].errevent   = 0;
 537              		.loc 1 569 98 view .LVU146
 538 0048 0125     		movs	r5, #1
 539              	.LVL42:
 540              	.L45:
 569:ThirdPackage/lwip220/api/sockets.c ****       sockets[i].errevent   = 0;
 541              		.loc 1 569 29 discriminator 6 view .LVU147
 542 004a 0B4B     		ldr	r3, .L54
 543 004c 03EB0413 		add	r3, r3, r4, lsl #4
 544 0050 5D81     		strh	r5, [r3, #10]	@ movhi
 570:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_SOCKET_SELECT || LWIP_SOCKET_POLL */
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 63


 545              		.loc 1 570 7 is_stmt 1 discriminator 6 view .LVU148
 570:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_SOCKET_SELECT || LWIP_SOCKET_POLL */
 546              		.loc 1 570 29 is_stmt 0 discriminator 6 view .LVU149
 547 0052 0022     		movs	r2, #0
 548 0054 9A81     		strh	r2, [r3, #12]	@ movhi
 572:ThirdPackage/lwip220/api/sockets.c ****     }
 549              		.loc 1 572 7 is_stmt 1 discriminator 6 view .LVU150
 572:ThirdPackage/lwip220/api/sockets.c ****     }
 550              		.loc 1 572 16 is_stmt 0 discriminator 6 view .LVU151
 551 0056 0DE0     		b	.L41
 552              	.LVL43:
 553              	.L52:
 565:ThirdPackage/lwip220/api/sockets.c ****       sockets[i].rcvevent   = 0;
 554              		.loc 1 565 7 is_stmt 1 discriminator 1 view .LVU152
 565:ThirdPackage/lwip220/api/sockets.c ****       sockets[i].rcvevent   = 0;
 555              		.loc 1 565 7 discriminator 1 view .LVU153
 556 0058 084B     		ldr	r3, .L54+4
 557 005a 40F23522 		movw	r2, #565
 558 005e 0849     		ldr	r1, .L54+8
 559 0060 0848     		ldr	r0, .L54+12
 560 0062 FFF7FEFF 		bl	printf
 561              	.LVL44:
 562 0066 E5E7     		b	.L44
 563              	.L53:
 569:ThirdPackage/lwip220/api/sockets.c ****       sockets[i].errevent   = 0;
 564              		.loc 1 569 98 is_stmt 0 discriminator 2 view .LVU154
 565 0068 002D     		cmp	r5, #0
 566 006a EED0     		beq	.L45
 569:ThirdPackage/lwip220/api/sockets.c ****       sockets[i].errevent   = 0;
 567              		.loc 1 569 98 view .LVU155
 568 006c 0125     		movs	r5, #1
 569              	.LVL45:
 569:ThirdPackage/lwip220/api/sockets.c ****       sockets[i].errevent   = 0;
 570              		.loc 1 569 98 view .LVU156
 571 006e ECE7     		b	.L45
 572              	.LVL46:
 573              	.L50:
 576:ThirdPackage/lwip220/api/sockets.c **** }
 574              		.loc 1 576 10 view .LVU157
 575 0070 4FF0FF34 		mov	r4, #-1
 576              	.LVL47:
 577              	.L41:
 577:ThirdPackage/lwip220/api/sockets.c **** 
 578              		.loc 1 577 1 view .LVU158
 579 0074 2046     		mov	r0, r4
 580 0076 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 581              	.LVL48:
 582              	.L55:
 577:ThirdPackage/lwip220/api/sockets.c **** 
 583              		.loc 1 577 1 view .LVU159
 584              		.align	2
 585              	.L54:
 586 0078 00000000 		.word	.LANCHOR0
 587 007c 00000000 		.word	.LC0
 588 0080 00000000 		.word	.LC3
 589 0084 3C000000 		.word	.LC2
 590              		.cfi_endproc
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 64


 591              	.LFE168:
 593              		.section	.rodata.lwip_selscan.str1.4,"aMS",%progbits,1
 594              		.align	2
 595              	.LC4:
 596 0000 6E726561 		.ascii	"nready >= 0\000"
 596      6479203E 
 596      3D203000 
 597              		.section	.text.lwip_selscan,"ax",%progbits
 598              		.align	1
 599              		.syntax unified
 600              		.thumb
 601              		.thumb_func
 603              	lwip_selscan:
 604              	.LVL49:
 605              	.LFB194:
1875:ThirdPackage/lwip220/api/sockets.c ****   int i, nready = 0;
 606              		.loc 1 1875 1 is_stmt 1 view -0
 607              		.cfi_startproc
 608              		@ args = 12, pretend = 0, frame = 40
 609              		@ frame_needed = 0, uses_anonymous_args = 0
1875:ThirdPackage/lwip220/api/sockets.c ****   int i, nready = 0;
 610              		.loc 1 1875 1 is_stmt 0 view .LVU161
 611 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 612              	.LCFI8:
 613              		.cfi_def_cfa_offset 36
 614              		.cfi_offset 4, -36
 615              		.cfi_offset 5, -32
 616              		.cfi_offset 6, -28
 617              		.cfi_offset 7, -24
 618              		.cfi_offset 8, -20
 619              		.cfi_offset 9, -16
 620              		.cfi_offset 10, -12
 621              		.cfi_offset 11, -8
 622              		.cfi_offset 14, -4
 623 0004 8BB0     		sub	sp, sp, #44
 624              	.LCFI9:
 625              		.cfi_def_cfa_offset 80
 626 0006 8246     		mov	r10, r0
 627 0008 0D46     		mov	r5, r1
 628 000a 1746     		mov	r7, r2
 629 000c 9846     		mov	r8, r3
1876:ThirdPackage/lwip220/api/sockets.c ****   fd_set lreadset, lwriteset, lexceptset;
 630              		.loc 1 1876 3 is_stmt 1 view .LVU162
 631              	.LVL50:
1877:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock;
 632              		.loc 1 1877 3 view .LVU163
1878:ThirdPackage/lwip220/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
 633              		.loc 1 1878 3 view .LVU164
1879:ThirdPackage/lwip220/api/sockets.c **** 
 634              		.loc 1 1879 3 view .LVU165
1881:ThirdPackage/lwip220/api/sockets.c ****   FD_ZERO(&lwriteset);
 635              		.loc 1 1881 3 view .LVU166
 636              	.LBB5:
1881:ThirdPackage/lwip220/api/sockets.c ****   FD_ZERO(&lwriteset);
 637              		.loc 1 1881 3 view .LVU167
1881:ThirdPackage/lwip220/api/sockets.c ****   FD_ZERO(&lwriteset);
 638              		.loc 1 1881 3 view .LVU168
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 65


1881:ThirdPackage/lwip220/api/sockets.c ****   FD_ZERO(&lwriteset);
 639              		.loc 1 1881 3 view .LVU169
1881:ThirdPackage/lwip220/api/sockets.c ****   FD_ZERO(&lwriteset);
 640              		.loc 1 1881 3 view .LVU170
1881:ThirdPackage/lwip220/api/sockets.c ****   FD_ZERO(&lwriteset);
 641              		.loc 1 1881 3 view .LVU171
 642 000e 0223     		movs	r3, #2
 643              	.LVL51:
1881:ThirdPackage/lwip220/api/sockets.c ****   FD_ZERO(&lwriteset);
 644              		.loc 1 1881 3 is_stmt 0 view .LVU172
 645 0010 06E0     		b	.L57
 646              	.LVL52:
 647              	.L58:
1881:ThirdPackage/lwip220/api/sockets.c ****   FD_ZERO(&lwriteset);
 648              		.loc 1 1881 3 is_stmt 1 discriminator 3 view .LVU173
 649 0012 013B     		subs	r3, r3, #1
 650              	.LVL53:
1881:ThirdPackage/lwip220/api/sockets.c ****   FD_ZERO(&lwriteset);
 651              		.loc 1 1881 3 is_stmt 0 discriminator 3 view .LVU174
 652 0014 0AAA     		add	r2, sp, #40
 653 0016 02EB8302 		add	r2, r2, r3, lsl #2
 654 001a 0021     		movs	r1, #0
 655 001c 42F8081C 		str	r1, [r2, #-8]
 656              	.LVL54:
 657              	.L57:
1881:ThirdPackage/lwip220/api/sockets.c ****   FD_ZERO(&lwriteset);
 658              		.loc 1 1881 3 is_stmt 1 discriminator 1 view .LVU175
 659 0020 002B     		cmp	r3, #0
 660 0022 F6D1     		bne	.L58
 661              	.LBE5:
 662              	.LBB6:
1882:ThirdPackage/lwip220/api/sockets.c ****   FD_ZERO(&lexceptset);
 663              		.loc 1 1882 3 is_stmt 0 view .LVU176
 664 0024 0223     		movs	r3, #2
 665              	.LVL55:
1882:ThirdPackage/lwip220/api/sockets.c ****   FD_ZERO(&lexceptset);
 666              		.loc 1 1882 3 view .LVU177
 667 0026 06E0     		b	.L59
 668              	.LVL56:
 669              	.L60:
1882:ThirdPackage/lwip220/api/sockets.c ****   FD_ZERO(&lexceptset);
 670              		.loc 1 1882 3 is_stmt 1 discriminator 3 view .LVU178
 671 0028 013B     		subs	r3, r3, #1
 672              	.LVL57:
1882:ThirdPackage/lwip220/api/sockets.c ****   FD_ZERO(&lexceptset);
 673              		.loc 1 1882 3 is_stmt 0 discriminator 3 view .LVU179
 674 002a 0AAA     		add	r2, sp, #40
 675 002c 02EB8302 		add	r2, r2, r3, lsl #2
 676 0030 0021     		movs	r1, #0
 677 0032 42F8101C 		str	r1, [r2, #-16]
 678              	.LVL58:
 679              	.L59:
1882:ThirdPackage/lwip220/api/sockets.c ****   FD_ZERO(&lexceptset);
 680              		.loc 1 1882 3 is_stmt 1 discriminator 1 view .LVU180
 681 0036 002B     		cmp	r3, #0
 682 0038 F6D1     		bne	.L60
 683              	.LBE6:
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 66


 684              	.LBB7:
1883:ThirdPackage/lwip220/api/sockets.c **** 
 685              		.loc 1 1883 3 is_stmt 0 view .LVU181
 686 003a 0223     		movs	r3, #2
 687              	.LVL59:
1883:ThirdPackage/lwip220/api/sockets.c **** 
 688              		.loc 1 1883 3 view .LVU182
 689 003c 06E0     		b	.L61
 690              	.LVL60:
 691              	.L62:
1883:ThirdPackage/lwip220/api/sockets.c **** 
 692              		.loc 1 1883 3 is_stmt 1 discriminator 3 view .LVU183
 693 003e 013B     		subs	r3, r3, #1
 694              	.LVL61:
1883:ThirdPackage/lwip220/api/sockets.c **** 
 695              		.loc 1 1883 3 is_stmt 0 discriminator 3 view .LVU184
 696 0040 0AAA     		add	r2, sp, #40
 697 0042 02EB8302 		add	r2, r2, r3, lsl #2
 698 0046 0021     		movs	r1, #0
 699 0048 42F8181C 		str	r1, [r2, #-24]
 700              	.LVL62:
 701              	.L61:
1883:ThirdPackage/lwip220/api/sockets.c **** 
 702              		.loc 1 1883 3 is_stmt 1 discriminator 1 view .LVU185
 703 004c 002B     		cmp	r3, #0
 704 004e F6D1     		bne	.L62
 705              	.LBE7:
1876:ThirdPackage/lwip220/api/sockets.c ****   fd_set lreadset, lwriteset, lexceptset;
 706              		.loc 1 1876 10 is_stmt 0 view .LVU186
 707 0050 4FF00009 		mov	r9, #0
1887:ThirdPackage/lwip220/api/sockets.c ****     /* if this FD is not in the set, continue */
 708              		.loc 1 1887 10 view .LVU187
 709 0054 4C46     		mov	r4, r9
 710 0056 1FE0     		b	.L63
 711              	.LVL63:
 712              	.L82:
1889:ThirdPackage/lwip220/api/sockets.c ****         !(writeset_in && FD_ISSET(i, writeset_in)) &&
 713              		.loc 1 1889 25 discriminator 2 view .LVU188
 714 0058 04F11F03 		add	r3, r4, #31
 715              	.LVL64:
1889:ThirdPackage/lwip220/api/sockets.c ****         !(writeset_in && FD_ISSET(i, writeset_in)) &&
 716              		.loc 1 1889 25 discriminator 2 view .LVU189
 717 005c 23E0     		b	.L65
 718              	.LVL65:
 719              	.L83:
1890:ThirdPackage/lwip220/api/sockets.c ****         !(exceptset_in && FD_ISSET(i, exceptset_in))) {
 720              		.loc 1 1890 26 view .LVU190
 721 005e 04F11F03 		add	r3, r4, #31
 722              	.LVL66:
1890:ThirdPackage/lwip220/api/sockets.c ****         !(exceptset_in && FD_ISSET(i, exceptset_in))) {
 723              		.loc 1 1890 26 view .LVU191
 724 0062 32E0     		b	.L68
 725              	.LVL67:
 726              	.L84:
1891:ThirdPackage/lwip220/api/sockets.c ****       continue;
 727              		.loc 1 1891 27 view .LVU192
 728 0064 04F11F03 		add	r3, r4, #31
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 67


 729              	.LVL68:
1891:ThirdPackage/lwip220/api/sockets.c ****       continue;
 730              		.loc 1 1891 27 view .LVU193
 731 0068 43E0     		b	.L70
 732              	.LVL69:
 733              	.L85:
 734              	.LBB8:
1906:ThirdPackage/lwip220/api/sockets.c ****         FD_SET(i, &lreadset);
 735              		.loc 1 1906 25 discriminator 1 view .LVU194
 736 006a 04F11F03 		add	r3, r4, #31
 737              	.LVL70:
1906:ThirdPackage/lwip220/api/sockets.c ****         FD_SET(i, &lreadset);
 738              		.loc 1 1906 25 discriminator 1 view .LVU195
 739 006e 65E0     		b	.L73
 740              	.L86:
1906:ThirdPackage/lwip220/api/sockets.c ****         FD_SET(i, &lreadset);
 741              		.loc 1 1906 72 discriminator 3 view .LVU196
 742 0070 039A     		ldr	r2, [sp, #12]
 743 0072 002A     		cmp	r2, #0
 744 0074 72DC     		bgt	.L74
 745 0076 7EE0     		b	.L72
 746              	.LVL71:
 747              	.L87:
1912:ThirdPackage/lwip220/api/sockets.c ****         FD_SET(i, &lwriteset);
 748              		.loc 1 1912 26 discriminator 1 view .LVU197
 749 0078 04F11F02 		add	r2, r4, #31
 750              	.LVL72:
1912:ThirdPackage/lwip220/api/sockets.c ****         FD_SET(i, &lwriteset);
 751              		.loc 1 1912 26 discriminator 1 view .LVU198
 752 007c 80E0     		b	.L76
 753              	.LVL73:
 754              	.L88:
1918:ThirdPackage/lwip220/api/sockets.c ****         FD_SET(i, &lexceptset);
 755              		.loc 1 1918 27 discriminator 1 view .LVU199
 756 007e 04F11F02 		add	r2, r4, #31
 757              	.LVL74:
1918:ThirdPackage/lwip220/api/sockets.c ****         FD_SET(i, &lexceptset);
 758              		.loc 1 1918 27 discriminator 1 view .LVU200
 759 0082 A3E0     		b	.L77
 760              	.LVL75:
 761              	.L71:
1918:ThirdPackage/lwip220/api/sockets.c ****         FD_SET(i, &lexceptset);
 762              		.loc 1 1918 27 discriminator 1 view .LVU201
 763              	.LBE8:
1925:ThirdPackage/lwip220/api/sockets.c ****       /* no a valid open socket */
 764              		.loc 1 1925 7 is_stmt 1 view .LVU202
 765 0084 0198     		ldr	r0, [sp, #4]
 766              	.LVL76:
1925:ThirdPackage/lwip220/api/sockets.c ****       /* no a valid open socket */
 767              		.loc 1 1925 7 is_stmt 0 view .LVU203
 768 0086 FFF7FEFF 		bl	sys_arch_unprotect
 769              	.LVL77:
1927:ThirdPackage/lwip220/api/sockets.c ****     }
 770              		.loc 1 1927 7 is_stmt 1 view .LVU204
1927:ThirdPackage/lwip220/api/sockets.c ****     }
 771              		.loc 1 1927 14 is_stmt 0 view .LVU205
 772 008a 4FF0FF39 		mov	r9, #-1
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 68


 773              	.LVL78:
 774              	.L56:
1937:ThirdPackage/lwip220/api/sockets.c **** 
 775              		.loc 1 1937 1 view .LVU206
 776 008e 4846     		mov	r0, r9
 777 0090 0BB0     		add	sp, sp, #44
 778              	.LCFI10:
 779              		.cfi_remember_state
 780              		.cfi_def_cfa_offset 36
 781              		@ sp needed
 782 0092 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 783              	.LVL79:
 784              	.L69:
 785              	.LCFI11:
 786              		.cfi_restore_state
1887:ThirdPackage/lwip220/api/sockets.c ****     /* if this FD is not in the set, continue */
 787              		.loc 1 1887 45 is_stmt 1 discriminator 2 view .LVU207
1887:ThirdPackage/lwip220/api/sockets.c ****     /* if this FD is not in the set, continue */
 788              		.loc 1 1887 46 is_stmt 0 discriminator 2 view .LVU208
 789 0096 0134     		adds	r4, r4, #1
 790              	.LVL80:
 791              	.L63:
1887:ThirdPackage/lwip220/api/sockets.c ****     /* if this FD is not in the set, continue */
 792              		.loc 1 1887 32 is_stmt 1 discriminator 1 view .LVU209
1887:ThirdPackage/lwip220/api/sockets.c ****     /* if this FD is not in the set, continue */
 793              		.loc 1 1887 3 is_stmt 0 discriminator 1 view .LVU210
 794 0098 5445     		cmp	r4, r10
 795 009a 80F2B980 		bge	.L81
1889:ThirdPackage/lwip220/api/sockets.c ****         !(writeset_in && FD_ISSET(i, writeset_in)) &&
 796              		.loc 1 1889 5 is_stmt 1 view .LVU211
1889:ThirdPackage/lwip220/api/sockets.c ****         !(writeset_in && FD_ISSET(i, writeset_in)) &&
 797              		.loc 1 1889 8 is_stmt 0 view .LVU212
 798 009e 85B1     		cbz	r5, .L64
1889:ThirdPackage/lwip220/api/sockets.c ****         !(writeset_in && FD_ISSET(i, writeset_in)) &&
 799              		.loc 1 1889 25 discriminator 2 view .LVU213
 800 00a0 2346     		mov	r3, r4
 801 00a2 002C     		cmp	r4, #0
 802 00a4 D8DB     		blt	.L82
 803              	.L65:
1889:ThirdPackage/lwip220/api/sockets.c ****         !(writeset_in && FD_ISSET(i, writeset_in)) &&
 804              		.loc 1 1889 25 discriminator 2 view .LVU214
 805 00a6 5B11     		asrs	r3, r3, #5
 806 00a8 55F82330 		ldr	r3, [r5, r3, lsl #2]
 807 00ac 6142     		rsbs	r1, r4, #0
 808 00ae 04F01F02 		and	r2, r4, #31
 809 00b2 01F01F01 		and	r1, r1, #31
 810 00b6 58BF     		it	pl
 811 00b8 4A42     		rsbpl	r2, r1, #0
 812 00ba D340     		lsrs	r3, r3, r2
1889:ThirdPackage/lwip220/api/sockets.c ****         !(writeset_in && FD_ISSET(i, writeset_in)) &&
 813              		.loc 1 1889 9 discriminator 2 view .LVU215
 814 00bc 13F0010F 		tst	r3, #1
 815 00c0 25D1     		bne	.L66
 816              	.L64:
1889:ThirdPackage/lwip220/api/sockets.c ****         !(writeset_in && FD_ISSET(i, writeset_in)) &&
 817              		.loc 1 1889 50 discriminator 3 view .LVU216
 818 00c2 87B1     		cbz	r7, .L67
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 69


1890:ThirdPackage/lwip220/api/sockets.c ****         !(exceptset_in && FD_ISSET(i, exceptset_in))) {
 819              		.loc 1 1890 26 view .LVU217
 820 00c4 2346     		mov	r3, r4
 821 00c6 002C     		cmp	r4, #0
 822 00c8 C9DB     		blt	.L83
 823              	.L68:
 824 00ca 5B11     		asrs	r3, r3, #5
 825 00cc 57F82330 		ldr	r3, [r7, r3, lsl #2]
 826 00d0 6142     		rsbs	r1, r4, #0
 827 00d2 04F01F02 		and	r2, r4, #31
 828 00d6 01F01F01 		and	r1, r1, #31
 829 00da 58BF     		it	pl
 830 00dc 4A42     		rsbpl	r2, r1, #0
 831 00de D340     		lsrs	r3, r3, r2
1890:ThirdPackage/lwip220/api/sockets.c ****         !(exceptset_in && FD_ISSET(i, exceptset_in))) {
 832              		.loc 1 1890 9 view .LVU218
 833 00e0 13F0010F 		tst	r3, #1
 834 00e4 13D1     		bne	.L66
 835              	.L67:
1890:ThirdPackage/lwip220/api/sockets.c ****         !(exceptset_in && FD_ISSET(i, exceptset_in))) {
 836              		.loc 1 1890 52 discriminator 1 view .LVU219
 837 00e6 B8F1000F 		cmp	r8, #0
 838 00ea D4D0     		beq	.L69
1891:ThirdPackage/lwip220/api/sockets.c ****       continue;
 839              		.loc 1 1891 27 view .LVU220
 840 00ec 2346     		mov	r3, r4
 841 00ee 002C     		cmp	r4, #0
 842 00f0 B8DB     		blt	.L84
 843              	.L70:
 844 00f2 5B11     		asrs	r3, r3, #5
 845 00f4 58F82330 		ldr	r3, [r8, r3, lsl #2]
 846 00f8 6142     		rsbs	r1, r4, #0
 847 00fa 04F01F02 		and	r2, r4, #31
 848 00fe 01F01F01 		and	r1, r1, #31
 849 0102 58BF     		it	pl
 850 0104 4A42     		rsbpl	r2, r1, #0
 851 0106 D340     		lsrs	r3, r3, r2
1891:ThirdPackage/lwip220/api/sockets.c ****       continue;
 852              		.loc 1 1891 9 view .LVU221
 853 0108 13F0010F 		tst	r3, #1
 854 010c C3D0     		beq	.L69
 855              	.L66:
1895:ThirdPackage/lwip220/api/sockets.c ****     sock = tryget_socket_unconn_locked(i);
 856              		.loc 1 1895 5 is_stmt 1 view .LVU222
 857 010e FFF7FEFF 		bl	sys_arch_protect
 858              	.LVL81:
 859 0112 0190     		str	r0, [sp, #4]
 860              	.LVL82:
1896:ThirdPackage/lwip220/api/sockets.c ****     if (sock != NULL) {
 861              		.loc 1 1896 5 view .LVU223
1896:ThirdPackage/lwip220/api/sockets.c ****     if (sock != NULL) {
 862              		.loc 1 1896 12 is_stmt 0 view .LVU224
 863 0114 2046     		mov	r0, r4
 864              	.LVL83:
1896:ThirdPackage/lwip220/api/sockets.c ****     if (sock != NULL) {
 865              		.loc 1 1896 12 view .LVU225
 866 0116 FFF7FEFF 		bl	tryget_socket_unconn_locked
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 70


 867              	.LVL84:
1897:ThirdPackage/lwip220/api/sockets.c ****       void *lastdata = sock->lastdata.pbuf;
 868              		.loc 1 1897 5 is_stmt 1 view .LVU226
1897:ThirdPackage/lwip220/api/sockets.c ****       void *lastdata = sock->lastdata.pbuf;
 869              		.loc 1 1897 8 is_stmt 0 view .LVU227
 870 011a 0028     		cmp	r0, #0
 871 011c B2D0     		beq	.L71
 872              	.LBB9:
1898:ThirdPackage/lwip220/api/sockets.c ****       s16_t rcvevent = sock->rcvevent;
 873              		.loc 1 1898 7 is_stmt 1 view .LVU228
1898:ThirdPackage/lwip220/api/sockets.c ****       s16_t rcvevent = sock->rcvevent;
 874              		.loc 1 1898 13 is_stmt 0 view .LVU229
 875 011e 4668     		ldr	r6, [r0, #4]
 876              	.LVL85:
1899:ThirdPackage/lwip220/api/sockets.c ****       u16_t sendevent = sock->sendevent;
 877              		.loc 1 1899 7 is_stmt 1 view .LVU230
1899:ThirdPackage/lwip220/api/sockets.c ****       u16_t sendevent = sock->sendevent;
 878              		.loc 1 1899 13 is_stmt 0 view .LVU231
 879 0120 B0F90820 		ldrsh	r2, [r0, #8]
 880 0124 0392     		str	r2, [sp, #12]
 881              	.LVL86:
1900:ThirdPackage/lwip220/api/sockets.c ****       u16_t errevent = sock->errevent;
 882              		.loc 1 1900 7 is_stmt 1 view .LVU232
1900:ThirdPackage/lwip220/api/sockets.c ****       u16_t errevent = sock->errevent;
 883              		.loc 1 1900 13 is_stmt 0 view .LVU233
 884 0126 4289     		ldrh	r2, [r0, #10]
 885 0128 0292     		str	r2, [sp, #8]
 886              	.LVL87:
1901:ThirdPackage/lwip220/api/sockets.c ****       SYS_ARCH_UNPROTECT(lev);
 887              		.loc 1 1901 7 is_stmt 1 view .LVU234
1901:ThirdPackage/lwip220/api/sockets.c ****       SYS_ARCH_UNPROTECT(lev);
 888              		.loc 1 1901 13 is_stmt 0 view .LVU235
 889 012a B0F80CB0 		ldrh	fp, [r0, #12]
 890              	.LVL88:
1902:ThirdPackage/lwip220/api/sockets.c **** 
 891              		.loc 1 1902 7 is_stmt 1 view .LVU236
 892 012e 0198     		ldr	r0, [sp, #4]
 893              	.LVL89:
1902:ThirdPackage/lwip220/api/sockets.c **** 
 894              		.loc 1 1902 7 is_stmt 0 view .LVU237
 895 0130 FFF7FEFF 		bl	sys_arch_unprotect
 896              	.LVL90:
1906:ThirdPackage/lwip220/api/sockets.c ****         FD_SET(i, &lreadset);
 897              		.loc 1 1906 7 is_stmt 1 view .LVU238
1906:ThirdPackage/lwip220/api/sockets.c ****         FD_SET(i, &lreadset);
 898              		.loc 1 1906 10 is_stmt 0 view .LVU239
 899 0134 FDB1     		cbz	r5, .L72
1906:ThirdPackage/lwip220/api/sockets.c ****         FD_SET(i, &lreadset);
 900              		.loc 1 1906 25 discriminator 1 view .LVU240
 901 0136 2346     		mov	r3, r4
 902 0138 002C     		cmp	r4, #0
 903 013a 96DB     		blt	.L85
 904              	.L73:
 905 013c 5B11     		asrs	r3, r3, #5
 906 013e 55F82320 		ldr	r2, [r5, r3, lsl #2]
 907 0142 6142     		rsbs	r1, r4, #0
 908 0144 04F01F00 		and	r0, r4, #31
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 71


 909 0148 01F01F01 		and	r1, r1, #31
 910 014c 58BF     		it	pl
 911 014e 4842     		rsbpl	r0, r1, #0
 912 0150 C240     		lsrs	r2, r2, r0
1906:ThirdPackage/lwip220/api/sockets.c ****         FD_SET(i, &lreadset);
 913              		.loc 1 1906 22 discriminator 1 view .LVU241
 914 0152 12F0010F 		tst	r2, #1
 915 0156 0ED0     		beq	.L72
1906:ThirdPackage/lwip220/api/sockets.c ****         FD_SET(i, &lreadset);
 916              		.loc 1 1906 49 discriminator 2 view .LVU242
 917 0158 002E     		cmp	r6, #0
 918 015a 89D0     		beq	.L86
 919              	.L74:
1907:ThirdPackage/lwip220/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_selscan: fd=%d ready for reading\n", i));
 920              		.loc 1 1907 9 is_stmt 1 view .LVU243
 921 015c 0122     		movs	r2, #1
 922 015e 02FA00F0 		lsl	r0, r2, r0
 923 0162 0AAA     		add	r2, sp, #40
 924 0164 02EB8303 		add	r3, r2, r3, lsl #2
 925 0168 53F8082C 		ldr	r2, [r3, #-8]
 926 016c 0243     		orrs	r2, r2, r0
 927 016e 43F8082C 		str	r2, [r3, #-8]
1908:ThirdPackage/lwip220/api/sockets.c ****         nready++;
 928              		.loc 1 1908 83 view .LVU244
1909:ThirdPackage/lwip220/api/sockets.c ****       }
 929              		.loc 1 1909 9 view .LVU245
1909:ThirdPackage/lwip220/api/sockets.c ****       }
 930              		.loc 1 1909 15 is_stmt 0 view .LVU246
 931 0172 09F10109 		add	r9, r9, #1
 932              	.LVL91:
 933              	.L72:
1912:ThirdPackage/lwip220/api/sockets.c ****         FD_SET(i, &lwriteset);
 934              		.loc 1 1912 7 is_stmt 1 view .LVU247
1912:ThirdPackage/lwip220/api/sockets.c ****         FD_SET(i, &lwriteset);
 935              		.loc 1 1912 10 is_stmt 0 view .LVU248
 936 0176 0FB3     		cbz	r7, .L75
1912:ThirdPackage/lwip220/api/sockets.c ****         FD_SET(i, &lwriteset);
 937              		.loc 1 1912 26 discriminator 1 view .LVU249
 938 0178 2246     		mov	r2, r4
 939 017a 002C     		cmp	r4, #0
 940 017c FFF67CAF 		blt	.L87
 941              	.L76:
 942 0180 5611     		asrs	r6, r2, #5
 943              	.LVL92:
1912:ThirdPackage/lwip220/api/sockets.c ****         FD_SET(i, &lwriteset);
 944              		.loc 1 1912 26 discriminator 1 view .LVU250
 945 0182 57F82600 		ldr	r0, [r7, r6, lsl #2]
 946 0186 6142     		rsbs	r1, r4, #0
 947 0188 04F01F03 		and	r3, r4, #31
 948 018c 01F01F01 		and	r1, r1, #31
 949 0190 58BF     		it	pl
 950 0192 4B42     		rsbpl	r3, r1, #0
 951 0194 20FA03F2 		lsr	r2, r0, r3
1912:ThirdPackage/lwip220/api/sockets.c ****         FD_SET(i, &lwriteset);
 952              		.loc 1 1912 23 discriminator 1 view .LVU251
 953 0198 12F0010F 		tst	r2, #1
 954 019c 0ED0     		beq	.L75
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 72


1912:ThirdPackage/lwip220/api/sockets.c ****         FD_SET(i, &lwriteset);
 955              		.loc 1 1912 51 discriminator 2 view .LVU252
 956 019e 029A     		ldr	r2, [sp, #8]
 957 01a0 62B1     		cbz	r2, .L75
1913:ThirdPackage/lwip220/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_selscan: fd=%d ready for writing\n", i));
 958              		.loc 1 1913 9 is_stmt 1 view .LVU253
 959 01a2 0121     		movs	r1, #1
 960 01a4 01FA03F3 		lsl	r3, r1, r3
 961 01a8 0AAA     		add	r2, sp, #40
 962 01aa 02EB8602 		add	r2, r2, r6, lsl #2
 963 01ae 52F8101C 		ldr	r1, [r2, #-16]
 964 01b2 1943     		orrs	r1, r1, r3
 965 01b4 42F8101C 		str	r1, [r2, #-16]
1914:ThirdPackage/lwip220/api/sockets.c ****         nready++;
 966              		.loc 1 1914 83 view .LVU254
1915:ThirdPackage/lwip220/api/sockets.c ****       }
 967              		.loc 1 1915 9 view .LVU255
1915:ThirdPackage/lwip220/api/sockets.c ****       }
 968              		.loc 1 1915 15 is_stmt 0 view .LVU256
 969 01b8 09F10109 		add	r9, r9, #1
 970              	.LVL93:
 971              	.L75:
1918:ThirdPackage/lwip220/api/sockets.c ****         FD_SET(i, &lexceptset);
 972              		.loc 1 1918 7 is_stmt 1 view .LVU257
1918:ThirdPackage/lwip220/api/sockets.c ****         FD_SET(i, &lexceptset);
 973              		.loc 1 1918 10 is_stmt 0 view .LVU258
 974 01bc B8F1000F 		cmp	r8, #0
 975 01c0 3FF469AF 		beq	.L69
1918:ThirdPackage/lwip220/api/sockets.c ****         FD_SET(i, &lexceptset);
 976              		.loc 1 1918 27 discriminator 1 view .LVU259
 977 01c4 2246     		mov	r2, r4
 978 01c6 002C     		cmp	r4, #0
 979 01c8 FFF659AF 		blt	.L88
 980              	.L77:
 981 01cc 5611     		asrs	r6, r2, #5
 982 01ce 58F82600 		ldr	r0, [r8, r6, lsl #2]
 983 01d2 6142     		rsbs	r1, r4, #0
 984 01d4 04F01F03 		and	r3, r4, #31
 985 01d8 01F01F01 		and	r1, r1, #31
 986 01dc 58BF     		it	pl
 987 01de 4B42     		rsbpl	r3, r1, #0
 988 01e0 20FA03F2 		lsr	r2, r0, r3
1918:ThirdPackage/lwip220/api/sockets.c ****         FD_SET(i, &lexceptset);
 989              		.loc 1 1918 24 discriminator 1 view .LVU260
 990 01e4 12F0010F 		tst	r2, #1
 991 01e8 3FF455AF 		beq	.L69
1918:ThirdPackage/lwip220/api/sockets.c ****         FD_SET(i, &lexceptset);
 992              		.loc 1 1918 53 discriminator 2 view .LVU261
 993 01ec BBF1000F 		cmp	fp, #0
 994 01f0 3FF451AF 		beq	.L69
1919:ThirdPackage/lwip220/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_selscan: fd=%d ready for exception\n", i));
 995              		.loc 1 1919 9 is_stmt 1 view .LVU262
 996 01f4 0121     		movs	r1, #1
 997 01f6 01FA03F3 		lsl	r3, r1, r3
 998 01fa 0AAA     		add	r2, sp, #40
 999 01fc 02EB8602 		add	r2, r2, r6, lsl #2
 1000 0200 52F8181C 		ldr	r1, [r2, #-24]
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 73


 1001 0204 1943     		orrs	r1, r1, r3
 1002 0206 42F8181C 		str	r1, [r2, #-24]
1920:ThirdPackage/lwip220/api/sockets.c ****         nready++;
 1003              		.loc 1 1920 85 view .LVU263
1921:ThirdPackage/lwip220/api/sockets.c ****       }
 1004              		.loc 1 1921 9 view .LVU264
1921:ThirdPackage/lwip220/api/sockets.c ****       }
 1005              		.loc 1 1921 15 is_stmt 0 view .LVU265
 1006 020a 09F10109 		add	r9, r9, #1
 1007              	.LVL94:
1921:ThirdPackage/lwip220/api/sockets.c ****       }
 1008              		.loc 1 1921 15 view .LVU266
 1009 020e 42E7     		b	.L69
 1010              	.LVL95:
 1011              	.L81:
1921:ThirdPackage/lwip220/api/sockets.c ****       }
 1012              		.loc 1 1921 15 view .LVU267
 1013              	.LBE9:
1931:ThirdPackage/lwip220/api/sockets.c ****   *writeset_out = lwriteset;
 1014              		.loc 1 1931 3 is_stmt 1 view .LVU268
1931:ThirdPackage/lwip220/api/sockets.c ****   *writeset_out = lwriteset;
 1015              		.loc 1 1931 16 is_stmt 0 view .LVU269
 1016 0210 0AAB     		add	r3, sp, #40
 1017 0212 13E90300 		ldmdb	r3, {r0, r1}
 1018 0216 149B     		ldr	r3, [sp, #80]
 1019 0218 83E80300 		stm	r3, {r0, r1}
1932:ThirdPackage/lwip220/api/sockets.c ****   *exceptset_out = lexceptset;
 1020              		.loc 1 1932 3 is_stmt 1 view .LVU270
1932:ThirdPackage/lwip220/api/sockets.c ****   *exceptset_out = lexceptset;
 1021              		.loc 1 1932 17 is_stmt 0 view .LVU271
 1022 021c 06AB     		add	r3, sp, #24
 1023 021e 93E80300 		ldm	r3, {r0, r1}
 1024 0222 159B     		ldr	r3, [sp, #84]
 1025 0224 83E80300 		stm	r3, {r0, r1}
1933:ThirdPackage/lwip220/api/sockets.c **** 
 1026              		.loc 1 1933 3 is_stmt 1 view .LVU272
1933:ThirdPackage/lwip220/api/sockets.c **** 
 1027              		.loc 1 1933 18 is_stmt 0 view .LVU273
 1028 0228 04AB     		add	r3, sp, #16
 1029 022a 93E80300 		ldm	r3, {r0, r1}
 1030 022e 169B     		ldr	r3, [sp, #88]
 1031 0230 83E80300 		stm	r3, {r0, r1}
1935:ThirdPackage/lwip220/api/sockets.c ****   return nready;
 1032              		.loc 1 1935 3 is_stmt 1 view .LVU274
1935:ThirdPackage/lwip220/api/sockets.c ****   return nready;
 1033              		.loc 1 1935 3 view .LVU275
 1034 0234 B9F1000F 		cmp	r9, #0
 1035 0238 BFF629AF 		bge	.L56
1935:ThirdPackage/lwip220/api/sockets.c ****   return nready;
 1036              		.loc 1 1935 3 discriminator 1 view .LVU276
1935:ThirdPackage/lwip220/api/sockets.c ****   return nready;
 1037              		.loc 1 1935 3 discriminator 1 view .LVU277
 1038 023c 034B     		ldr	r3, .L89
 1039 023e 40F28F72 		movw	r2, #1935
 1040 0242 0349     		ldr	r1, .L89+4
 1041 0244 0348     		ldr	r0, .L89+8
 1042 0246 FFF7FEFF 		bl	printf
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 74


 1043              	.LVL96:
 1044 024a 20E7     		b	.L56
 1045              	.L90:
 1046              		.align	2
 1047              	.L89:
 1048 024c 00000000 		.word	.LC0
 1049 0250 00000000 		.word	.LC4
 1050 0254 3C000000 		.word	.LC2
 1051              		.cfi_endproc
 1052              	.LFE194:
 1054              		.section	.rodata.lwip_pollscan.str1.4,"aMS",%progbits,1
 1055              		.align	2
 1056              	.LC5:
 1057 0000 736F636B 		.ascii	"sock->select_waiting > 0\000"
 1057      2D3E7365 
 1057      6C656374 
 1057      5F776169 
 1057      74696E67 
 1058              		.section	.text.lwip_pollscan,"ax",%progbits
 1059              		.align	1
 1060              		.syntax unified
 1061              		.thumb
 1062              		.thumb_func
 1064              	lwip_pollscan:
 1065              	.LVL97:
 1066              	.LFB196:
2239:ThirdPackage/lwip220/api/sockets.c ****   int nready = 0;
 1067              		.loc 1 2239 1 view -0
 1068              		.cfi_startproc
 1069              		@ args = 0, pretend = 0, frame = 16
 1070              		@ frame_needed = 0, uses_anonymous_args = 0
2239:ThirdPackage/lwip220/api/sockets.c ****   int nready = 0;
 1071              		.loc 1 2239 1 is_stmt 0 view .LVU279
 1072 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 1073              	.LCFI12:
 1074              		.cfi_def_cfa_offset 36
 1075              		.cfi_offset 4, -36
 1076              		.cfi_offset 5, -32
 1077              		.cfi_offset 6, -28
 1078              		.cfi_offset 7, -24
 1079              		.cfi_offset 8, -20
 1080              		.cfi_offset 9, -16
 1081              		.cfi_offset 10, -12
 1082              		.cfi_offset 11, -8
 1083              		.cfi_offset 14, -4
 1084 0004 85B0     		sub	sp, sp, #20
 1085              	.LCFI13:
 1086              		.cfi_def_cfa_offset 56
 1087 0006 0646     		mov	r6, r0
 1088 0008 8946     		mov	r9, r1
 1089 000a 1746     		mov	r7, r2
2240:ThirdPackage/lwip220/api/sockets.c ****   nfds_t fdi;
 1090              		.loc 1 2240 3 is_stmt 1 view .LVU280
 1091              	.LVL98:
2241:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock;
 1092              		.loc 1 2241 3 view .LVU281
2242:ThirdPackage/lwip220/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 75


 1093              		.loc 1 2242 3 view .LVU282
2243:ThirdPackage/lwip220/api/sockets.c **** 
 1094              		.loc 1 2243 3 view .LVU283
2246:ThirdPackage/lwip220/api/sockets.c ****     if ((opts & LWIP_POLLSCAN_CLEAR) != 0) {
 1095              		.loc 1 2246 3 view .LVU284
2246:ThirdPackage/lwip220/api/sockets.c ****     if ((opts & LWIP_POLLSCAN_CLEAR) != 0) {
 1096              		.loc 1 2246 12 is_stmt 0 view .LVU285
 1097 000c 0024     		movs	r4, #0
2240:ThirdPackage/lwip220/api/sockets.c ****   nfds_t fdi;
 1098              		.loc 1 2240 7 view .LVU286
 1099 000e A346     		mov	fp, r4
2246:ThirdPackage/lwip220/api/sockets.c ****     if ((opts & LWIP_POLLSCAN_CLEAR) != 0) {
 1100              		.loc 1 2246 3 view .LVU287
 1101 0010 33E0     		b	.L92
 1102              	.LVL99:
 1103              	.L109:
 1104              	.LBB10:
2269:ThirdPackage/lwip220/api/sockets.c ****             nready = -1;
 1105              		.loc 1 2269 13 is_stmt 1 view .LVU288
2269:ThirdPackage/lwip220/api/sockets.c ****             nready = -1;
 1106              		.loc 1 2269 33 is_stmt 0 view .LVU289
 1107 0012 8273     		strb	r2, [r0, #14]
2270:ThirdPackage/lwip220/api/sockets.c ****             SYS_ARCH_UNPROTECT(lev);
 1108              		.loc 1 2270 13 is_stmt 1 view .LVU290
 1109              	.LVL100:
2271:ThirdPackage/lwip220/api/sockets.c ****             done_socket(sock);
 1110              		.loc 1 2271 13 view .LVU291
 1111 0014 0098     		ldr	r0, [sp]
 1112              	.LVL101:
2271:ThirdPackage/lwip220/api/sockets.c ****             done_socket(sock);
 1113              		.loc 1 2271 13 is_stmt 0 view .LVU292
 1114 0016 FFF7FEFF 		bl	sys_arch_unprotect
 1115              	.LVL102:
2272:ThirdPackage/lwip220/api/sockets.c ****             break;
 1116              		.loc 1 2272 30 is_stmt 1 view .LVU293
2273:ThirdPackage/lwip220/api/sockets.c ****           }
 1117              		.loc 1 2273 13 view .LVU294
2273:ThirdPackage/lwip220/api/sockets.c ****           }
 1118              		.loc 1 2273 13 is_stmt 0 view .LVU295
 1119              	.LBE10:
2318:ThirdPackage/lwip220/api/sockets.c ****   return nready;
 1120              		.loc 1 2318 3 is_stmt 1 view .LVU296
2318:ThirdPackage/lwip220/api/sockets.c ****   return nready;
 1121              		.loc 1 2318 3 view .LVU297
 1122              	.LBB11:
2270:ThirdPackage/lwip220/api/sockets.c ****             SYS_ARCH_UNPROTECT(lev);
 1123              		.loc 1 2270 20 is_stmt 0 view .LVU298
 1124 001a 4FF0FF3B 		mov	fp, #-1
 1125              	.LVL103:
 1126              	.L98:
2270:ThirdPackage/lwip220/api/sockets.c ****             SYS_ARCH_UNPROTECT(lev);
 1127              		.loc 1 2270 20 view .LVU299
 1128              	.LBE11:
2318:ThirdPackage/lwip220/api/sockets.c ****   return nready;
 1129              		.loc 1 2318 3 is_stmt 1 discriminator 1 view .LVU300
2318:ThirdPackage/lwip220/api/sockets.c ****   return nready;
 1130              		.loc 1 2318 3 discriminator 1 view .LVU301
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 76


 1131 001e 474B     		ldr	r3, .L111
 1132 0020 40F60E12 		movw	r2, #2318
 1133 0024 4649     		ldr	r1, .L111+4
 1134 0026 4748     		ldr	r0, .L111+8
 1135 0028 FFF7FEFF 		bl	printf
 1136              	.LVL104:
 1137 002c 81E0     		b	.L91
 1138              	.LVL105:
 1139              	.L96:
 1140              	.LBB12:
2275:ThirdPackage/lwip220/api/sockets.c ****           /* for now, handle select_waiting==0... */
 1141              		.loc 1 2275 16 view .LVU302
2275:ThirdPackage/lwip220/api/sockets.c ****           /* for now, handle select_waiting==0... */
 1142              		.loc 1 2275 19 is_stmt 0 view .LVU303
 1143 002e 17F0040F 		tst	r7, #4
 1144 0032 54D0     		beq	.L97
2277:ThirdPackage/lwip220/api/sockets.c ****           if (sock->select_waiting > 0) {
 1145              		.loc 1 2277 11 is_stmt 1 view .LVU304
2277:ThirdPackage/lwip220/api/sockets.c ****           if (sock->select_waiting > 0) {
 1146              		.loc 1 2277 11 view .LVU305
 1147 0034 837B     		ldrb	r3, [r0, #14]	@ zero_extendqisi2
 1148 0036 3BB1     		cbz	r3, .L107
 1149              	.LVL106:
 1150              	.L99:
2277:ThirdPackage/lwip220/api/sockets.c ****           if (sock->select_waiting > 0) {
 1151              		.loc 1 2277 11 discriminator 3 view .LVU306
2277:ThirdPackage/lwip220/api/sockets.c ****           if (sock->select_waiting > 0) {
 1152              		.loc 1 2277 11 discriminator 3 view .LVU307
2278:ThirdPackage/lwip220/api/sockets.c ****             sock->select_waiting--;
 1153              		.loc 1 2278 11 discriminator 3 view .LVU308
2278:ThirdPackage/lwip220/api/sockets.c ****             sock->select_waiting--;
 1154              		.loc 1 2278 19 is_stmt 0 discriminator 3 view .LVU309
 1155 0038 9AF80E30 		ldrb	r3, [r10, #14]	@ zero_extendqisi2
2278:ThirdPackage/lwip220/api/sockets.c ****             sock->select_waiting--;
 1156              		.loc 1 2278 14 discriminator 3 view .LVU310
 1157 003c 002B     		cmp	r3, #0
 1158 003e 4ED0     		beq	.L97
2279:ThirdPackage/lwip220/api/sockets.c ****           }
 1159              		.loc 1 2279 13 is_stmt 1 view .LVU311
2279:ThirdPackage/lwip220/api/sockets.c ****           }
 1160              		.loc 1 2279 33 is_stmt 0 view .LVU312
 1161 0040 013B     		subs	r3, r3, #1
 1162 0042 8AF80E30 		strb	r3, [r10, #14]
 1163 0046 4AE0     		b	.L97
 1164              	.LVL107:
 1165              	.L107:
2277:ThirdPackage/lwip220/api/sockets.c ****           if (sock->select_waiting > 0) {
 1166              		.loc 1 2277 11 is_stmt 1 discriminator 1 view .LVU313
2277:ThirdPackage/lwip220/api/sockets.c ****           if (sock->select_waiting > 0) {
 1167              		.loc 1 2277 11 discriminator 1 view .LVU314
 1168 0048 3C4B     		ldr	r3, .L111
 1169 004a 40F6E502 		movw	r2, #2277
 1170 004e 3E49     		ldr	r1, .L111+12
 1171 0050 3C48     		ldr	r0, .L111+8
 1172              	.LVL108:
2277:ThirdPackage/lwip220/api/sockets.c ****           if (sock->select_waiting > 0) {
 1173              		.loc 1 2277 11 is_stmt 0 discriminator 1 view .LVU315
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 77


 1174 0052 FFF7FEFF 		bl	printf
 1175              	.LVL109:
2277:ThirdPackage/lwip220/api/sockets.c ****           if (sock->select_waiting > 0) {
 1176              		.loc 1 2277 11 discriminator 1 view .LVU316
 1177 0056 EFE7     		b	.L99
 1178              	.L110:
2287:ThirdPackage/lwip220/api/sockets.c ****           fds[fdi].revents |= POLLIN;
 1179              		.loc 1 2287 68 discriminator 2 view .LVU317
 1180 0058 039B     		ldr	r3, [sp, #12]
 1181 005a 002B     		cmp	r3, #0
 1182 005c 4ADC     		bgt	.L101
 1183 005e 4DE0     		b	.L100
 1184              	.L102:
2294:ThirdPackage/lwip220/api/sockets.c ****         }
 1185              		.loc 1 2294 96 is_stmt 1 view .LVU318
2297:ThirdPackage/lwip220/api/sockets.c ****           /* POLLERR is output only. */
 1186              		.loc 1 2297 9 view .LVU319
2297:ThirdPackage/lwip220/api/sockets.c ****           /* POLLERR is output only. */
 1187              		.loc 1 2297 12 is_stmt 0 view .LVU320
 1188 0060 B8F1000F 		cmp	r8, #0
 1189 0064 03D0     		beq	.L94
2299:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_pollscan: fd=%d ready for exception\n", fds[fdi].fd));
 1190              		.loc 1 2299 11 is_stmt 1 view .LVU321
2299:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_pollscan: fd=%d ready for exception\n", fds[fdi].fd));
 1191              		.loc 1 2299 28 is_stmt 0 view .LVU322
 1192 0066 EB88     		ldrh	r3, [r5, #6]
 1193 0068 43F00403 		orr	r3, r3, #4
 1194 006c EB80     		strh	r3, [r5, #6]	@ movhi
 1195              	.LVL110:
 1196              	.L94:
2299:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_pollscan: fd=%d ready for exception\n", fds[fdi].fd));
 1197              		.loc 1 2299 28 view .LVU323
 1198              	.LBE12:
2313:ThirdPackage/lwip220/api/sockets.c ****       nready++;
 1199              		.loc 1 2313 5 is_stmt 1 view .LVU324
2313:ThirdPackage/lwip220/api/sockets.c ****       nready++;
 1200              		.loc 1 2313 17 is_stmt 0 view .LVU325
 1201 006e B5F90630 		ldrsh	r3, [r5, #6]
2313:ThirdPackage/lwip220/api/sockets.c ****       nready++;
 1202              		.loc 1 2313 8 view .LVU326
 1203 0072 0BB1     		cbz	r3, .L104
2314:ThirdPackage/lwip220/api/sockets.c ****     }
 1204              		.loc 1 2314 7 is_stmt 1 view .LVU327
2314:ThirdPackage/lwip220/api/sockets.c ****     }
 1205              		.loc 1 2314 13 is_stmt 0 view .LVU328
 1206 0074 0BF1010B 		add	fp, fp, #1
 1207              	.LVL111:
 1208              	.L104:
2246:ThirdPackage/lwip220/api/sockets.c ****     if ((opts & LWIP_POLLSCAN_CLEAR) != 0) {
 1209              		.loc 1 2246 29 is_stmt 1 discriminator 2 view .LVU329
2246:ThirdPackage/lwip220/api/sockets.c ****     if ((opts & LWIP_POLLSCAN_CLEAR) != 0) {
 1210              		.loc 1 2246 32 is_stmt 0 discriminator 2 view .LVU330
 1211 0078 0134     		adds	r4, r4, #1
 1212              	.LVL112:
 1213              	.L92:
2246:ThirdPackage/lwip220/api/sockets.c ****     if ((opts & LWIP_POLLSCAN_CLEAR) != 0) {
 1214              		.loc 1 2246 17 is_stmt 1 discriminator 1 view .LVU331
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 78


2246:ThirdPackage/lwip220/api/sockets.c ****     if ((opts & LWIP_POLLSCAN_CLEAR) != 0) {
 1215              		.loc 1 2246 3 is_stmt 0 discriminator 1 view .LVU332
 1216 007a 4C45     		cmp	r4, r9
 1217 007c 55D2     		bcs	.L108
2247:ThirdPackage/lwip220/api/sockets.c ****       fds[fdi].revents = 0;
 1218              		.loc 1 2247 5 is_stmt 1 view .LVU333
2247:ThirdPackage/lwip220/api/sockets.c ****       fds[fdi].revents = 0;
 1219              		.loc 1 2247 8 is_stmt 0 view .LVU334
 1220 007e 17F0010F 		tst	r7, #1
 1221 0082 03D0     		beq	.L93
2248:ThirdPackage/lwip220/api/sockets.c ****     }
 1222              		.loc 1 2248 7 is_stmt 1 view .LVU335
2248:ThirdPackage/lwip220/api/sockets.c ****     }
 1223              		.loc 1 2248 10 is_stmt 0 view .LVU336
 1224 0084 06EBC403 		add	r3, r6, r4, lsl #3
2248:ThirdPackage/lwip220/api/sockets.c ****     }
 1225              		.loc 1 2248 24 view .LVU337
 1226 0088 0022     		movs	r2, #0
 1227 008a DA80     		strh	r2, [r3, #6]	@ movhi
 1228              	.L93:
2255:ThirdPackage/lwip220/api/sockets.c ****       /* First get the socket's status (protected)... */
 1229              		.loc 1 2255 5 is_stmt 1 view .LVU338
2255:ThirdPackage/lwip220/api/sockets.c ****       /* First get the socket's status (protected)... */
 1230              		.loc 1 2255 12 is_stmt 0 view .LVU339
 1231 008c 4FEAC408 		lsl	r8, r4, #3
 1232 0090 06EBC405 		add	r5, r6, r4, lsl #3
2255:ThirdPackage/lwip220/api/sockets.c ****       /* First get the socket's status (protected)... */
 1233              		.loc 1 2255 17 view .LVU340
 1234 0094 56F83430 		ldr	r3, [r6, r4, lsl #3]
2255:ThirdPackage/lwip220/api/sockets.c ****       /* First get the socket's status (protected)... */
 1235              		.loc 1 2255 8 view .LVU341
 1236 0098 002B     		cmp	r3, #0
 1237 009a E8DB     		blt	.L94
2255:ThirdPackage/lwip220/api/sockets.c ****       /* First get the socket's status (protected)... */
 1238              		.loc 1 2255 38 discriminator 1 view .LVU342
 1239 009c B5F90630 		ldrsh	r3, [r5, #6]
2255:ThirdPackage/lwip220/api/sockets.c ****       /* First get the socket's status (protected)... */
 1240              		.loc 1 2255 26 discriminator 1 view .LVU343
 1241 00a0 13F0080F 		tst	r3, #8
 1242 00a4 E3D1     		bne	.L94
2257:ThirdPackage/lwip220/api/sockets.c ****       sock = tryget_socket_unconn_locked(fds[fdi].fd);
 1243              		.loc 1 2257 7 is_stmt 1 view .LVU344
 1244 00a6 FFF7FEFF 		bl	sys_arch_protect
 1245              	.LVL113:
 1246 00aa 0090     		str	r0, [sp]
 1247              	.LVL114:
2258:ThirdPackage/lwip220/api/sockets.c ****       if (sock != NULL) {
 1248              		.loc 1 2258 7 view .LVU345
2258:ThirdPackage/lwip220/api/sockets.c ****       if (sock != NULL) {
 1249              		.loc 1 2258 14 is_stmt 0 view .LVU346
 1250 00ac 56F80800 		ldr	r0, [r6, r8]
 1251              	.LVL115:
2258:ThirdPackage/lwip220/api/sockets.c ****       if (sock != NULL) {
 1252              		.loc 1 2258 14 view .LVU347
 1253 00b0 FFF7FEFF 		bl	tryget_socket_unconn_locked
 1254              	.LVL116:
2259:ThirdPackage/lwip220/api/sockets.c ****         void* lastdata = sock->lastdata.pbuf;
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 79


 1255              		.loc 1 2259 7 is_stmt 1 view .LVU348
2259:ThirdPackage/lwip220/api/sockets.c ****         void* lastdata = sock->lastdata.pbuf;
 1256              		.loc 1 2259 10 is_stmt 0 view .LVU349
 1257 00b4 8246     		mov	r10, r0
 1258 00b6 0028     		cmp	r0, #0
 1259 00b8 2DD0     		beq	.L95
 1260              	.LBB13:
2260:ThirdPackage/lwip220/api/sockets.c ****         s16_t rcvevent = sock->rcvevent;
 1261              		.loc 1 2260 9 is_stmt 1 view .LVU350
2260:ThirdPackage/lwip220/api/sockets.c ****         s16_t rcvevent = sock->rcvevent;
 1262              		.loc 1 2260 15 is_stmt 0 view .LVU351
 1263 00ba 4368     		ldr	r3, [r0, #4]
 1264 00bc 0193     		str	r3, [sp, #4]
 1265              	.LVL117:
2261:ThirdPackage/lwip220/api/sockets.c ****         u16_t sendevent = sock->sendevent;
 1266              		.loc 1 2261 9 is_stmt 1 view .LVU352
2261:ThirdPackage/lwip220/api/sockets.c ****         u16_t sendevent = sock->sendevent;
 1267              		.loc 1 2261 15 is_stmt 0 view .LVU353
 1268 00be B0F90830 		ldrsh	r3, [r0, #8]
 1269              	.LVL118:
2261:ThirdPackage/lwip220/api/sockets.c ****         u16_t sendevent = sock->sendevent;
 1270              		.loc 1 2261 15 view .LVU354
 1271 00c2 0393     		str	r3, [sp, #12]
 1272              	.LVL119:
2262:ThirdPackage/lwip220/api/sockets.c ****         u16_t errevent = sock->errevent;
 1273              		.loc 1 2262 9 is_stmt 1 view .LVU355
2262:ThirdPackage/lwip220/api/sockets.c ****         u16_t errevent = sock->errevent;
 1274              		.loc 1 2262 15 is_stmt 0 view .LVU356
 1275 00c4 4389     		ldrh	r3, [r0, #10]
 1276 00c6 0293     		str	r3, [sp, #8]
 1277              	.LVL120:
2263:ThirdPackage/lwip220/api/sockets.c **** 
 1278              		.loc 1 2263 9 is_stmt 1 view .LVU357
2263:ThirdPackage/lwip220/api/sockets.c **** 
 1279              		.loc 1 2263 15 is_stmt 0 view .LVU358
 1280 00c8 B0F80C80 		ldrh	r8, [r0, #12]
 1281              	.LVL121:
2265:ThirdPackage/lwip220/api/sockets.c ****           sock->select_waiting++;
 1282              		.loc 1 2265 9 is_stmt 1 view .LVU359
2265:ThirdPackage/lwip220/api/sockets.c ****           sock->select_waiting++;
 1283              		.loc 1 2265 12 is_stmt 0 view .LVU360
 1284 00cc 17F0020F 		tst	r7, #2
 1285 00d0 ADD0     		beq	.L96
2266:ThirdPackage/lwip220/api/sockets.c ****           if (sock->select_waiting == 0) {
 1286              		.loc 1 2266 11 is_stmt 1 view .LVU361
2266:ThirdPackage/lwip220/api/sockets.c ****           if (sock->select_waiting == 0) {
 1287              		.loc 1 2266 15 is_stmt 0 view .LVU362
 1288 00d2 827B     		ldrb	r2, [r0, #14]	@ zero_extendqisi2
2266:ThirdPackage/lwip220/api/sockets.c ****           if (sock->select_waiting == 0) {
 1289              		.loc 1 2266 31 view .LVU363
 1290 00d4 531C     		adds	r3, r2, #1
 1291 00d6 DBB2     		uxtb	r3, r3
 1292 00d8 8373     		strb	r3, [r0, #14]
2267:ThirdPackage/lwip220/api/sockets.c ****             /* overflow - too many threads waiting */
 1293              		.loc 1 2267 11 is_stmt 1 view .LVU364
2267:ThirdPackage/lwip220/api/sockets.c ****             /* overflow - too many threads waiting */
 1294              		.loc 1 2267 14 is_stmt 0 view .LVU365
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 80


 1295 00da 002B     		cmp	r3, #0
 1296 00dc 99D0     		beq	.L109
 1297              	.LVL122:
 1298              	.L97:
2282:ThirdPackage/lwip220/api/sockets.c ****         done_socket(sock);
 1299              		.loc 1 2282 9 is_stmt 1 view .LVU366
 1300 00de 0098     		ldr	r0, [sp]
 1301 00e0 FFF7FEFF 		bl	sys_arch_unprotect
 1302              	.LVL123:
2283:ThirdPackage/lwip220/api/sockets.c **** 
 1303              		.loc 1 2283 26 view .LVU367
2287:ThirdPackage/lwip220/api/sockets.c ****           fds[fdi].revents |= POLLIN;
 1304              		.loc 1 2287 9 view .LVU368
2287:ThirdPackage/lwip220/api/sockets.c ****           fds[fdi].revents |= POLLIN;
 1305              		.loc 1 2287 22 is_stmt 0 view .LVU369
 1306 00e4 B5F90430 		ldrsh	r3, [r5, #4]
2287:ThirdPackage/lwip220/api/sockets.c ****           fds[fdi].revents |= POLLIN;
 1307              		.loc 1 2287 12 view .LVU370
 1308 00e8 13F0010F 		tst	r3, #1
 1309 00ec 06D0     		beq	.L100
2287:ThirdPackage/lwip220/api/sockets.c ****           fds[fdi].revents |= POLLIN;
 1310              		.loc 1 2287 45 discriminator 1 view .LVU371
 1311 00ee 019B     		ldr	r3, [sp, #4]
 1312 00f0 002B     		cmp	r3, #0
 1313 00f2 B1D0     		beq	.L110
 1314              	.L101:
2288:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_pollscan: fd=%d ready for reading\n", fds[fdi].fd));
 1315              		.loc 1 2288 11 is_stmt 1 view .LVU372
2288:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_pollscan: fd=%d ready for reading\n", fds[fdi].fd));
 1316              		.loc 1 2288 28 is_stmt 0 view .LVU373
 1317 00f4 EB88     		ldrh	r3, [r5, #6]
 1318 00f6 43F00103 		orr	r3, r3, #1
 1319 00fa EB80     		strh	r3, [r5, #6]	@ movhi
 1320              	.L100:
2289:ThirdPackage/lwip220/api/sockets.c ****         }
 1321              		.loc 1 2289 96 is_stmt 1 view .LVU374
2292:ThirdPackage/lwip220/api/sockets.c ****           fds[fdi].revents |= POLLOUT;
 1322              		.loc 1 2292 9 view .LVU375
2292:ThirdPackage/lwip220/api/sockets.c ****           fds[fdi].revents |= POLLOUT;
 1323              		.loc 1 2292 22 is_stmt 0 view .LVU376
 1324 00fc B5F90430 		ldrsh	r3, [r5, #4]
2292:ThirdPackage/lwip220/api/sockets.c ****           fds[fdi].revents |= POLLOUT;
 1325              		.loc 1 2292 12 view .LVU377
 1326 0100 13F0020F 		tst	r3, #2
 1327 0104 ACD0     		beq	.L102
2292:ThirdPackage/lwip220/api/sockets.c ****           fds[fdi].revents |= POLLOUT;
 1328              		.loc 1 2292 46 discriminator 1 view .LVU378
 1329 0106 029B     		ldr	r3, [sp, #8]
 1330 0108 002B     		cmp	r3, #0
 1331 010a A9D0     		beq	.L102
2293:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_pollscan: fd=%d ready for writing\n", fds[fdi].fd));
 1332              		.loc 1 2293 11 is_stmt 1 view .LVU379
2293:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_pollscan: fd=%d ready for writing\n", fds[fdi].fd));
 1333              		.loc 1 2293 28 is_stmt 0 view .LVU380
 1334 010c EB88     		ldrh	r3, [r5, #6]
 1335 010e 43F00203 		orr	r3, r3, #2
 1336 0112 EB80     		strh	r3, [r5, #6]	@ movhi
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 81


 1337 0114 A4E7     		b	.L102
 1338              	.LVL124:
 1339              	.L95:
2293:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_pollscan: fd=%d ready for writing\n", fds[fdi].fd));
 1340              		.loc 1 2293 28 view .LVU381
 1341              	.LBE13:
2304:ThirdPackage/lwip220/api/sockets.c ****         /* POLLNVAL is output only. */
 1342              		.loc 1 2304 9 is_stmt 1 view .LVU382
 1343 0116 0098     		ldr	r0, [sp]
 1344              	.LVL125:
2304:ThirdPackage/lwip220/api/sockets.c ****         /* POLLNVAL is output only. */
 1345              		.loc 1 2304 9 is_stmt 0 view .LVU383
 1346 0118 FFF7FEFF 		bl	sys_arch_unprotect
 1347              	.LVL126:
2306:ThirdPackage/lwip220/api/sockets.c ****         return -1;
 1348              		.loc 1 2306 9 is_stmt 1 view .LVU384
2306:ThirdPackage/lwip220/api/sockets.c ****         return -1;
 1349              		.loc 1 2306 26 is_stmt 0 view .LVU385
 1350 011c EB88     		ldrh	r3, [r5, #6]
 1351 011e 43F00803 		orr	r3, r3, #8
 1352 0122 EB80     		strh	r3, [r5, #6]	@ movhi
2307:ThirdPackage/lwip220/api/sockets.c ****       }
 1353              		.loc 1 2307 9 is_stmt 1 view .LVU386
2307:ThirdPackage/lwip220/api/sockets.c ****       }
 1354              		.loc 1 2307 16 is_stmt 0 view .LVU387
 1355 0124 4FF0FF3B 		mov	fp, #-1
 1356              	.LVL127:
2307:ThirdPackage/lwip220/api/sockets.c ****       }
 1357              		.loc 1 2307 16 view .LVU388
 1358 0128 03E0     		b	.L91
 1359              	.LVL128:
 1360              	.L108:
2318:ThirdPackage/lwip220/api/sockets.c ****   return nready;
 1361              		.loc 1 2318 3 is_stmt 1 view .LVU389
2318:ThirdPackage/lwip220/api/sockets.c ****   return nready;
 1362              		.loc 1 2318 3 view .LVU390
 1363 012a BBF1000F 		cmp	fp, #0
 1364 012e FFF676AF 		blt	.L98
 1365              	.LVL129:
 1366              	.L91:
2320:ThirdPackage/lwip220/api/sockets.c **** 
 1367              		.loc 1 2320 1 is_stmt 0 view .LVU391
 1368 0132 5846     		mov	r0, fp
 1369 0134 05B0     		add	sp, sp, #20
 1370              	.LCFI14:
 1371              		.cfi_def_cfa_offset 36
 1372              		@ sp needed
 1373 0136 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 1374              	.LVL130:
 1375              	.L112:
2320:ThirdPackage/lwip220/api/sockets.c **** 
 1376              		.loc 1 2320 1 view .LVU392
 1377 013a 00BF     		.align	2
 1378              	.L111:
 1379 013c 00000000 		.word	.LC0
 1380 0140 00000000 		.word	.LC4
 1381 0144 3C000000 		.word	.LC2
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 82


 1382 0148 00000000 		.word	.LC5
 1383              		.cfi_endproc
 1384              	.LFE196:
 1386              		.section	.text.lwip_link_select_cb,"ax",%progbits
 1387              		.align	1
 1388              		.syntax unified
 1389              		.thumb
 1390              		.thumb_func
 1392              	lwip_link_select_cb:
 1393              	.LVL131:
 1394              	.LFB192:
1810:ThirdPackage/lwip220/api/sockets.c ****   LWIP_SOCKET_SELECT_DECL_PROTECT(lev);
 1395              		.loc 1 1810 1 is_stmt 1 view -0
 1396              		.cfi_startproc
 1397              		@ args = 0, pretend = 0, frame = 0
 1398              		@ frame_needed = 0, uses_anonymous_args = 0
1810:ThirdPackage/lwip220/api/sockets.c ****   LWIP_SOCKET_SELECT_DECL_PROTECT(lev);
 1399              		.loc 1 1810 1 is_stmt 0 view .LVU394
 1400 0000 10B5     		push	{r4, lr}
 1401              	.LCFI15:
 1402              		.cfi_def_cfa_offset 8
 1403              		.cfi_offset 4, -8
 1404              		.cfi_offset 14, -4
 1405 0002 0446     		mov	r4, r0
1811:ThirdPackage/lwip220/api/sockets.c **** 
 1406              		.loc 1 1811 39 is_stmt 1 view .LVU395
1814:ThirdPackage/lwip220/api/sockets.c **** 
 1407              		.loc 1 1814 3 view .LVU396
 1408 0004 0648     		ldr	r0, .L116
 1409              	.LVL132:
1814:ThirdPackage/lwip220/api/sockets.c **** 
 1410              		.loc 1 1814 3 is_stmt 0 view .LVU397
 1411 0006 FFF7FEFF 		bl	sys_mutex_lock
 1412              	.LVL133:
1817:ThirdPackage/lwip220/api/sockets.c ****   if (select_cb_list != NULL) {
 1413              		.loc 1 1817 3 is_stmt 1 view .LVU398
1817:ThirdPackage/lwip220/api/sockets.c ****   if (select_cb_list != NULL) {
 1414              		.loc 1 1817 19 is_stmt 0 view .LVU399
 1415 000a 064B     		ldr	r3, .L116+4
 1416 000c 1B68     		ldr	r3, [r3]
 1417 000e 2360     		str	r3, [r4]
1818:ThirdPackage/lwip220/api/sockets.c ****     select_cb_list->prev = select_cb;
 1418              		.loc 1 1818 3 is_stmt 1 view .LVU400
1818:ThirdPackage/lwip220/api/sockets.c ****     select_cb_list->prev = select_cb;
 1419              		.loc 1 1818 6 is_stmt 0 view .LVU401
 1420 0010 03B1     		cbz	r3, .L114
1819:ThirdPackage/lwip220/api/sockets.c ****   }
 1421              		.loc 1 1819 5 is_stmt 1 view .LVU402
1819:ThirdPackage/lwip220/api/sockets.c ****   }
 1422              		.loc 1 1819 26 is_stmt 0 view .LVU403
 1423 0012 5C60     		str	r4, [r3, #4]
 1424              	.L114:
1821:ThirdPackage/lwip220/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
 1425              		.loc 1 1821 3 is_stmt 1 view .LVU404
1821:ThirdPackage/lwip220/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
 1426              		.loc 1 1821 18 is_stmt 0 view .LVU405
 1427 0014 034B     		ldr	r3, .L116+4
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 83


 1428 0016 1C60     		str	r4, [r3]
1828:ThirdPackage/lwip220/api/sockets.c **** }
 1429              		.loc 1 1828 3 is_stmt 1 view .LVU406
 1430 0018 0148     		ldr	r0, .L116
 1431 001a FFF7FEFF 		bl	sys_mutex_unlock
 1432              	.LVL134:
1829:ThirdPackage/lwip220/api/sockets.c **** 
 1433              		.loc 1 1829 1 is_stmt 0 view .LVU407
 1434 001e 10BD     		pop	{r4, pc}
 1435              	.LVL135:
 1436              	.L117:
1829:ThirdPackage/lwip220/api/sockets.c **** 
 1437              		.loc 1 1829 1 view .LVU408
 1438              		.align	2
 1439              	.L116:
 1440 0020 00000000 		.word	lock_tcpip_core
 1441 0024 00000000 		.word	.LANCHOR1
 1442              		.cfi_endproc
 1443              	.LFE192:
 1445              		.section	.rodata.lwip_unlink_select_cb.str1.4,"aMS",%progbits,1
 1446              		.align	2
 1447              	.LC6:
 1448 0000 73656C65 		.ascii	"select_cb->prev == NULL\000"
 1448      63745F63 
 1448      622D3E70 
 1448      72657620 
 1448      3D3D204E 
 1449              		.align	2
 1450              	.LC7:
 1451 0018 73656C65 		.ascii	"select_cb->prev != NULL\000"
 1451      63745F63 
 1451      622D3E70 
 1451      72657620 
 1451      213D204E 
 1452              		.section	.text.lwip_unlink_select_cb,"ax",%progbits
 1453              		.align	1
 1454              		.syntax unified
 1455              		.thumb
 1456              		.thumb_func
 1458              	lwip_unlink_select_cb:
 1459              	.LVL136:
 1460              	.LFB193:
1834:ThirdPackage/lwip220/api/sockets.c ****   LWIP_SOCKET_SELECT_DECL_PROTECT(lev);
 1461              		.loc 1 1834 1 is_stmt 1 view -0
 1462              		.cfi_startproc
 1463              		@ args = 0, pretend = 0, frame = 0
 1464              		@ frame_needed = 0, uses_anonymous_args = 0
1834:ThirdPackage/lwip220/api/sockets.c ****   LWIP_SOCKET_SELECT_DECL_PROTECT(lev);
 1465              		.loc 1 1834 1 is_stmt 0 view .LVU410
 1466 0000 10B5     		push	{r4, lr}
 1467              	.LCFI16:
 1468              		.cfi_def_cfa_offset 8
 1469              		.cfi_offset 4, -8
 1470              		.cfi_offset 14, -4
 1471 0002 0446     		mov	r4, r0
1835:ThirdPackage/lwip220/api/sockets.c **** 
 1472              		.loc 1 1835 39 is_stmt 1 view .LVU411
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 84


1838:ThirdPackage/lwip220/api/sockets.c ****   if (select_cb->next != NULL) {
 1473              		.loc 1 1838 3 view .LVU412
 1474 0004 1448     		ldr	r0, .L127
 1475              	.LVL137:
1838:ThirdPackage/lwip220/api/sockets.c ****   if (select_cb->next != NULL) {
 1476              		.loc 1 1838 3 is_stmt 0 view .LVU413
 1477 0006 FFF7FEFF 		bl	sys_mutex_lock
 1478              	.LVL138:
1839:ThirdPackage/lwip220/api/sockets.c ****     select_cb->next->prev = select_cb->prev;
 1479              		.loc 1 1839 3 is_stmt 1 view .LVU414
1839:ThirdPackage/lwip220/api/sockets.c ****     select_cb->next->prev = select_cb->prev;
 1480              		.loc 1 1839 16 is_stmt 0 view .LVU415
 1481 000a 2368     		ldr	r3, [r4]
1839:ThirdPackage/lwip220/api/sockets.c ****     select_cb->next->prev = select_cb->prev;
 1482              		.loc 1 1839 6 view .LVU416
 1483 000c 0BB1     		cbz	r3, .L119
1840:ThirdPackage/lwip220/api/sockets.c ****   }
 1484              		.loc 1 1840 5 is_stmt 1 view .LVU417
1840:ThirdPackage/lwip220/api/sockets.c ****   }
 1485              		.loc 1 1840 38 is_stmt 0 view .LVU418
 1486 000e 6268     		ldr	r2, [r4, #4]
1840:ThirdPackage/lwip220/api/sockets.c ****   }
 1487              		.loc 1 1840 27 view .LVU419
 1488 0010 5A60     		str	r2, [r3, #4]
 1489              	.L119:
1842:ThirdPackage/lwip220/api/sockets.c ****     LWIP_ASSERT("select_cb->prev == NULL", select_cb->prev == NULL);
 1490              		.loc 1 1842 3 is_stmt 1 view .LVU420
1842:ThirdPackage/lwip220/api/sockets.c ****     LWIP_ASSERT("select_cb->prev == NULL", select_cb->prev == NULL);
 1491              		.loc 1 1842 22 is_stmt 0 view .LVU421
 1492 0012 124B     		ldr	r3, .L127+4
 1493 0014 1B68     		ldr	r3, [r3]
1842:ThirdPackage/lwip220/api/sockets.c ****     LWIP_ASSERT("select_cb->prev == NULL", select_cb->prev == NULL);
 1494              		.loc 1 1842 6 view .LVU422
 1495 0016 A342     		cmp	r3, r4
 1496 0018 08D0     		beq	.L125
1846:ThirdPackage/lwip220/api/sockets.c ****     select_cb->prev->next = select_cb->next;
 1497              		.loc 1 1846 5 is_stmt 1 view .LVU423
1846:ThirdPackage/lwip220/api/sockets.c ****     select_cb->prev->next = select_cb->next;
 1498              		.loc 1 1846 5 view .LVU424
 1499 001a 6368     		ldr	r3, [r4, #4]
 1500 001c 9BB1     		cbz	r3, .L126
 1501              	.L123:
1846:ThirdPackage/lwip220/api/sockets.c ****     select_cb->prev->next = select_cb->next;
 1502              		.loc 1 1846 5 discriminator 3 view .LVU425
1846:ThirdPackage/lwip220/api/sockets.c ****     select_cb->prev->next = select_cb->next;
 1503              		.loc 1 1846 5 discriminator 3 view .LVU426
1847:ThirdPackage/lwip220/api/sockets.c ****   }
 1504              		.loc 1 1847 5 discriminator 3 view .LVU427
1847:ThirdPackage/lwip220/api/sockets.c ****   }
 1505              		.loc 1 1847 14 is_stmt 0 discriminator 3 view .LVU428
 1506 001e 6368     		ldr	r3, [r4, #4]
1847:ThirdPackage/lwip220/api/sockets.c ****   }
 1507              		.loc 1 1847 38 discriminator 3 view .LVU429
 1508 0020 2268     		ldr	r2, [r4]
1847:ThirdPackage/lwip220/api/sockets.c ****   }
 1509              		.loc 1 1847 27 discriminator 3 view .LVU430
 1510 0022 1A60     		str	r2, [r3]
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 85


 1511              	.L122:
1853:ThirdPackage/lwip220/api/sockets.c **** }
 1512              		.loc 1 1853 3 is_stmt 1 view .LVU431
 1513 0024 0C48     		ldr	r0, .L127
 1514 0026 FFF7FEFF 		bl	sys_mutex_unlock
 1515              	.LVL139:
1854:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_SOCKET_SELECT || LWIP_SOCKET_POLL */
 1516              		.loc 1 1854 1 is_stmt 0 view .LVU432
 1517 002a 10BD     		pop	{r4, pc}
 1518              	.LVL140:
 1519              	.L125:
1843:ThirdPackage/lwip220/api/sockets.c ****     select_cb_list = select_cb->next;
 1520              		.loc 1 1843 5 is_stmt 1 view .LVU433
1843:ThirdPackage/lwip220/api/sockets.c ****     select_cb_list = select_cb->next;
 1521              		.loc 1 1843 5 view .LVU434
 1522 002c 6368     		ldr	r3, [r4, #4]
 1523 002e 33B1     		cbz	r3, .L121
1843:ThirdPackage/lwip220/api/sockets.c ****     select_cb_list = select_cb->next;
 1524              		.loc 1 1843 5 discriminator 1 view .LVU435
1843:ThirdPackage/lwip220/api/sockets.c ****     select_cb_list = select_cb->next;
 1525              		.loc 1 1843 5 discriminator 1 view .LVU436
 1526 0030 0B4B     		ldr	r3, .L127+8
 1527 0032 40F23372 		movw	r2, #1843
 1528 0036 0B49     		ldr	r1, .L127+12
 1529 0038 0B48     		ldr	r0, .L127+16
 1530 003a FFF7FEFF 		bl	printf
 1531              	.LVL141:
 1532              	.L121:
1843:ThirdPackage/lwip220/api/sockets.c ****     select_cb_list = select_cb->next;
 1533              		.loc 1 1843 5 discriminator 3 view .LVU437
1843:ThirdPackage/lwip220/api/sockets.c ****     select_cb_list = select_cb->next;
 1534              		.loc 1 1843 5 discriminator 3 view .LVU438
1844:ThirdPackage/lwip220/api/sockets.c ****   } else {
 1535              		.loc 1 1844 5 discriminator 3 view .LVU439
1844:ThirdPackage/lwip220/api/sockets.c ****   } else {
 1536              		.loc 1 1844 31 is_stmt 0 discriminator 3 view .LVU440
 1537 003e 2268     		ldr	r2, [r4]
1844:ThirdPackage/lwip220/api/sockets.c ****   } else {
 1538              		.loc 1 1844 20 discriminator 3 view .LVU441
 1539 0040 064B     		ldr	r3, .L127+4
 1540 0042 1A60     		str	r2, [r3]
 1541 0044 EEE7     		b	.L122
 1542              	.L126:
1846:ThirdPackage/lwip220/api/sockets.c ****     select_cb->prev->next = select_cb->next;
 1543              		.loc 1 1846 5 is_stmt 1 discriminator 1 view .LVU442
1846:ThirdPackage/lwip220/api/sockets.c ****     select_cb->prev->next = select_cb->next;
 1544              		.loc 1 1846 5 discriminator 1 view .LVU443
 1545 0046 064B     		ldr	r3, .L127+8
 1546 0048 40F23672 		movw	r2, #1846
 1547 004c 0749     		ldr	r1, .L127+20
 1548 004e 0648     		ldr	r0, .L127+16
 1549 0050 FFF7FEFF 		bl	printf
 1550              	.LVL142:
 1551 0054 E3E7     		b	.L123
 1552              	.L128:
 1553 0056 00BF     		.align	2
 1554              	.L127:
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 86


 1555 0058 00000000 		.word	lock_tcpip_core
 1556 005c 00000000 		.word	.LANCHOR1
 1557 0060 00000000 		.word	.LC0
 1558 0064 00000000 		.word	.LC6
 1559 0068 3C000000 		.word	.LC2
 1560 006c 18000000 		.word	.LC7
 1561              		.cfi_endproc
 1562              	.LFE193:
 1564              		.section	.rodata.lwip_sock_make_addr.str1.4,"aMS",%progbits,1
 1565              		.align	2
 1566              	.LC8:
 1567 0000 66726F6D 		.ascii	"fromaddr != NULL\000"
 1567      61646472 
 1567      20213D20 
 1567      4E554C4C 
 1567      00
 1568 0011 000000   		.align	2
 1569              	.LC9:
 1570 0014 66726F6D 		.ascii	"from != NULL\000"
 1570      20213D20 
 1570      4E554C4C 
 1570      00
 1571 0021 000000   		.align	2
 1572              	.LC10:
 1573 0024 66726F6D 		.ascii	"fromlen != NULL\000"
 1573      6C656E20 
 1573      213D204E 
 1573      554C4C00 
 1574              		.section	.text.lwip_sock_make_addr,"ax",%progbits
 1575              		.align	1
 1576              		.syntax unified
 1577              		.thumb
 1578              		.thumb_func
 1580              	lwip_sock_make_addr:
 1581              	.LVL143:
 1582              	.LFB178:
1063:ThirdPackage/lwip220/api/sockets.c ****   int truncated = 0;
 1583              		.loc 1 1063 1 view -0
 1584              		.cfi_startproc
 1585              		@ args = 4, pretend = 0, frame = 16
 1586              		@ frame_needed = 0, uses_anonymous_args = 0
1063:ThirdPackage/lwip220/api/sockets.c ****   int truncated = 0;
 1587              		.loc 1 1063 1 is_stmt 0 view .LVU445
 1588 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 1589              	.LCFI17:
 1590              		.cfi_def_cfa_offset 20
 1591              		.cfi_offset 4, -20
 1592              		.cfi_offset 5, -16
 1593              		.cfi_offset 6, -12
 1594              		.cfi_offset 7, -8
 1595              		.cfi_offset 14, -4
 1596 0002 85B0     		sub	sp, sp, #20
 1597              	.LCFI18:
 1598              		.cfi_def_cfa_offset 40
 1599 0004 1646     		mov	r6, r2
 1600 0006 1C46     		mov	r4, r3
 1601 0008 0A9D     		ldr	r5, [sp, #40]
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 87


1064:ThirdPackage/lwip220/api/sockets.c ****   union sockaddr_aligned saddr;
 1602              		.loc 1 1064 3 is_stmt 1 view .LVU446
 1603              	.LVL144:
1065:ThirdPackage/lwip220/api/sockets.c **** 
 1604              		.loc 1 1065 3 view .LVU447
1067:ThirdPackage/lwip220/api/sockets.c **** 
 1605              		.loc 1 1067 3 view .LVU448
1069:ThirdPackage/lwip220/api/sockets.c ****   LWIP_ASSERT("from != NULL", from != NULL);
 1606              		.loc 1 1069 3 view .LVU449
1069:ThirdPackage/lwip220/api/sockets.c ****   LWIP_ASSERT("from != NULL", from != NULL);
 1607              		.loc 1 1069 3 view .LVU450
 1608 000a 0F46     		mov	r7, r1
 1609 000c D1B1     		cbz	r1, .L137
 1610              	.LVL145:
 1611              	.L130:
1069:ThirdPackage/lwip220/api/sockets.c ****   LWIP_ASSERT("from != NULL", from != NULL);
 1612              		.loc 1 1069 3 discriminator 3 view .LVU451
1069:ThirdPackage/lwip220/api/sockets.c ****   LWIP_ASSERT("from != NULL", from != NULL);
 1613              		.loc 1 1069 3 discriminator 3 view .LVU452
1070:ThirdPackage/lwip220/api/sockets.c ****   LWIP_ASSERT("fromlen != NULL", fromlen != NULL);
 1614              		.loc 1 1070 3 discriminator 3 view .LVU453
1070:ThirdPackage/lwip220/api/sockets.c ****   LWIP_ASSERT("fromlen != NULL", fromlen != NULL);
 1615              		.loc 1 1070 3 discriminator 3 view .LVU454
 1616 000e 0CB3     		cbz	r4, .L138
 1617              	.L131:
1070:ThirdPackage/lwip220/api/sockets.c ****   LWIP_ASSERT("fromlen != NULL", fromlen != NULL);
 1618              		.loc 1 1070 3 discriminator 3 view .LVU455
1070:ThirdPackage/lwip220/api/sockets.c ****   LWIP_ASSERT("fromlen != NULL", fromlen != NULL);
 1619              		.loc 1 1070 3 discriminator 3 view .LVU456
1071:ThirdPackage/lwip220/api/sockets.c **** 
 1620              		.loc 1 1071 3 discriminator 3 view .LVU457
1071:ThirdPackage/lwip220/api/sockets.c **** 
 1621              		.loc 1 1071 3 discriminator 3 view .LVU458
 1622 0010 45B3     		cbz	r5, .L139
 1623              	.L132:
1071:ThirdPackage/lwip220/api/sockets.c **** 
 1624              		.loc 1 1071 3 discriminator 3 view .LVU459
1071:ThirdPackage/lwip220/api/sockets.c **** 
 1625              		.loc 1 1071 3 discriminator 3 view .LVU460
1081:ThirdPackage/lwip220/api/sockets.c ****   if (*fromlen < IPADDR_SOCKADDR_GET_LEN(&saddr)) {
 1626              		.loc 1 1081 3 discriminator 3 view .LVU461
1081:ThirdPackage/lwip220/api/sockets.c ****   if (*fromlen < IPADDR_SOCKADDR_GET_LEN(&saddr)) {
 1627              		.loc 1 1081 3 discriminator 3 view .LVU462
 1628 0012 1023     		movs	r3, #16
 1629 0014 8DF80030 		strb	r3, [sp]
1081:ThirdPackage/lwip220/api/sockets.c ****   if (*fromlen < IPADDR_SOCKADDR_GET_LEN(&saddr)) {
 1630              		.loc 1 1081 3 discriminator 3 view .LVU463
 1631 0018 0223     		movs	r3, #2
 1632 001a 8DF80130 		strb	r3, [sp, #1]
1081:ThirdPackage/lwip220/api/sockets.c ****   if (*fromlen < IPADDR_SOCKADDR_GET_LEN(&saddr)) {
 1633              		.loc 1 1081 3 discriminator 3 view .LVU464
 1634 001e 3046     		mov	r0, r6
 1635 0020 FFF7FEFF 		bl	lwip_htons
 1636              	.LVL146:
 1637 0024 ADF80200 		strh	r0, [sp, #2]	@ movhi
1081:ThirdPackage/lwip220/api/sockets.c ****   if (*fromlen < IPADDR_SOCKADDR_GET_LEN(&saddr)) {
 1638              		.loc 1 1081 3 discriminator 3 view .LVU465
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 88


 1639 0028 3B68     		ldr	r3, [r7]
 1640 002a 0193     		str	r3, [sp, #4]
1081:ThirdPackage/lwip220/api/sockets.c ****   if (*fromlen < IPADDR_SOCKADDR_GET_LEN(&saddr)) {
 1641              		.loc 1 1081 3 discriminator 3 view .LVU466
 1642 002c 0023     		movs	r3, #0
 1643 002e 0293     		str	r3, [sp, #8]
 1644 0030 0393     		str	r3, [sp, #12]
1081:ThirdPackage/lwip220/api/sockets.c ****   if (*fromlen < IPADDR_SOCKADDR_GET_LEN(&saddr)) {
 1645              		.loc 1 1081 3 discriminator 3 view .LVU467
1082:ThirdPackage/lwip220/api/sockets.c ****     truncated = 1;
 1646              		.loc 1 1082 3 discriminator 3 view .LVU468
1082:ThirdPackage/lwip220/api/sockets.c ****     truncated = 1;
 1647              		.loc 1 1082 7 is_stmt 0 discriminator 3 view .LVU469
 1648 0032 2A68     		ldr	r2, [r5]
1082:ThirdPackage/lwip220/api/sockets.c ****     truncated = 1;
 1649              		.loc 1 1082 18 discriminator 3 view .LVU470
 1650 0034 9DF80030 		ldrb	r3, [sp]	@ zero_extendqisi2
1082:ThirdPackage/lwip220/api/sockets.c ****     truncated = 1;
 1651              		.loc 1 1082 6 discriminator 3 view .LVU471
 1652 0038 9A42     		cmp	r2, r3
 1653 003a 1BD3     		bcc	.L134
1084:ThirdPackage/lwip220/api/sockets.c ****     *fromlen = IPADDR_SOCKADDR_GET_LEN(&saddr);
 1654              		.loc 1 1084 10 is_stmt 1 view .LVU472
1084:ThirdPackage/lwip220/api/sockets.c ****     *fromlen = IPADDR_SOCKADDR_GET_LEN(&saddr);
 1655              		.loc 1 1084 13 is_stmt 0 view .LVU473
 1656 003c 23D9     		bls	.L135
1085:ThirdPackage/lwip220/api/sockets.c ****   }
 1657              		.loc 1 1085 5 is_stmt 1 view .LVU474
1085:ThirdPackage/lwip220/api/sockets.c ****   }
 1658              		.loc 1 1085 14 is_stmt 0 view .LVU475
 1659 003e 2B60     		str	r3, [r5]
1064:ThirdPackage/lwip220/api/sockets.c ****   union sockaddr_aligned saddr;
 1660              		.loc 1 1064 7 view .LVU476
 1661 0040 0026     		movs	r6, #0
 1662 0042 18E0     		b	.L133
 1663              	.LVL147:
 1664              	.L137:
1069:ThirdPackage/lwip220/api/sockets.c ****   LWIP_ASSERT("from != NULL", from != NULL);
 1665              		.loc 1 1069 3 is_stmt 1 discriminator 1 view .LVU477
1069:ThirdPackage/lwip220/api/sockets.c ****   LWIP_ASSERT("from != NULL", from != NULL);
 1666              		.loc 1 1069 3 discriminator 1 view .LVU478
 1667 0044 114B     		ldr	r3, .L140
 1668              	.LVL148:
1069:ThirdPackage/lwip220/api/sockets.c ****   LWIP_ASSERT("from != NULL", from != NULL);
 1669              		.loc 1 1069 3 is_stmt 0 discriminator 1 view .LVU479
 1670 0046 40F22D42 		movw	r2, #1069
 1671              	.LVL149:
1069:ThirdPackage/lwip220/api/sockets.c ****   LWIP_ASSERT("from != NULL", from != NULL);
 1672              		.loc 1 1069 3 discriminator 1 view .LVU480
 1673 004a 1149     		ldr	r1, .L140+4
 1674              	.LVL150:
1069:ThirdPackage/lwip220/api/sockets.c ****   LWIP_ASSERT("from != NULL", from != NULL);
 1675              		.loc 1 1069 3 discriminator 1 view .LVU481
 1676 004c 1148     		ldr	r0, .L140+8
 1677              	.LVL151:
1069:ThirdPackage/lwip220/api/sockets.c ****   LWIP_ASSERT("from != NULL", from != NULL);
 1678              		.loc 1 1069 3 discriminator 1 view .LVU482
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 89


 1679 004e FFF7FEFF 		bl	printf
 1680              	.LVL152:
 1681 0052 DCE7     		b	.L130
 1682              	.L138:
1070:ThirdPackage/lwip220/api/sockets.c ****   LWIP_ASSERT("fromlen != NULL", fromlen != NULL);
 1683              		.loc 1 1070 3 is_stmt 1 discriminator 1 view .LVU483
1070:ThirdPackage/lwip220/api/sockets.c ****   LWIP_ASSERT("fromlen != NULL", fromlen != NULL);
 1684              		.loc 1 1070 3 discriminator 1 view .LVU484
 1685 0054 0D4B     		ldr	r3, .L140
 1686 0056 40F22E42 		movw	r2, #1070
 1687 005a 0F49     		ldr	r1, .L140+12
 1688 005c 0D48     		ldr	r0, .L140+8
 1689 005e FFF7FEFF 		bl	printf
 1690              	.LVL153:
 1691 0062 D5E7     		b	.L131
 1692              	.L139:
1071:ThirdPackage/lwip220/api/sockets.c **** 
 1693              		.loc 1 1071 3 discriminator 1 view .LVU485
1071:ThirdPackage/lwip220/api/sockets.c **** 
 1694              		.loc 1 1071 3 discriminator 1 view .LVU486
 1695 0064 094B     		ldr	r3, .L140
 1696 0066 40F22F42 		movw	r2, #1071
 1697 006a 0C49     		ldr	r1, .L140+16
 1698 006c 0948     		ldr	r0, .L140+8
 1699 006e FFF7FEFF 		bl	printf
 1700              	.LVL154:
 1701 0072 CEE7     		b	.L132
 1702              	.L134:
1083:ThirdPackage/lwip220/api/sockets.c ****   } else if (*fromlen > IPADDR_SOCKADDR_GET_LEN(&saddr)) {
 1703              		.loc 1 1083 15 is_stmt 0 view .LVU487
 1704 0074 0126     		movs	r6, #1
 1705              	.L133:
 1706              	.LVL155:
1087:ThirdPackage/lwip220/api/sockets.c ****   return truncated;
 1707              		.loc 1 1087 3 is_stmt 1 view .LVU488
 1708 0076 2A68     		ldr	r2, [r5]
 1709 0078 6946     		mov	r1, sp
 1710 007a 2046     		mov	r0, r4
 1711 007c FFF7FEFF 		bl	memcpy
 1712              	.LVL156:
1088:ThirdPackage/lwip220/api/sockets.c **** }
 1713              		.loc 1 1088 3 view .LVU489
1089:ThirdPackage/lwip220/api/sockets.c **** 
 1714              		.loc 1 1089 1 is_stmt 0 view .LVU490
 1715 0080 3046     		mov	r0, r6
 1716 0082 05B0     		add	sp, sp, #20
 1717              	.LCFI19:
 1718              		.cfi_remember_state
 1719              		.cfi_def_cfa_offset 20
 1720              		@ sp needed
 1721 0084 F0BD     		pop	{r4, r5, r6, r7, pc}
 1722              	.LVL157:
 1723              	.L135:
 1724              	.LCFI20:
 1725              		.cfi_restore_state
1064:ThirdPackage/lwip220/api/sockets.c ****   union sockaddr_aligned saddr;
 1726              		.loc 1 1064 7 view .LVU491
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 90


 1727 0086 0026     		movs	r6, #0
 1728 0088 F5E7     		b	.L133
 1729              	.L141:
 1730 008a 00BF     		.align	2
 1731              	.L140:
 1732 008c 00000000 		.word	.LC0
 1733 0090 00000000 		.word	.LC8
 1734 0094 3C000000 		.word	.LC2
 1735 0098 14000000 		.word	.LC9
 1736 009c 24000000 		.word	.LC10
 1737              		.cfi_endproc
 1738              	.LFE178:
 1740              		.section	.text.lwip_recv_tcp_from,"ax",%progbits
 1741              		.align	1
 1742              		.syntax unified
 1743              		.thumb
 1744              		.thumb_func
 1746              	lwip_recv_tcp_from:
 1747              	.LVL158:
 1748              	.LFB179:
1095:ThirdPackage/lwip220/api/sockets.c ****   if (sock == NULL) {
 1749              		.loc 1 1095 1 is_stmt 1 view -0
 1750              		.cfi_startproc
 1751              		@ args = 8, pretend = 0, frame = 8
 1752              		@ frame_needed = 0, uses_anonymous_args = 0
1096:ThirdPackage/lwip220/api/sockets.c ****     return 0;
 1753              		.loc 1 1096 3 view .LVU493
1096:ThirdPackage/lwip220/api/sockets.c ****     return 0;
 1754              		.loc 1 1096 6 is_stmt 0 view .LVU494
 1755 0000 C8B1     		cbz	r0, .L144
1095:ThirdPackage/lwip220/api/sockets.c ****   if (sock == NULL) {
 1756              		.loc 1 1095 1 view .LVU495
 1757 0002 70B5     		push	{r4, r5, r6, lr}
 1758              	.LCFI21:
 1759              		.cfi_def_cfa_offset 16
 1760              		.cfi_offset 4, -16
 1761              		.cfi_offset 5, -12
 1762              		.cfi_offset 6, -8
 1763              		.cfi_offset 14, -4
 1764 0004 84B0     		sub	sp, sp, #16
 1765              	.LCFI22:
 1766              		.cfi_def_cfa_offset 32
 1767 0006 0C46     		mov	r4, r1
 1768 0008 1546     		mov	r5, r2
 1769 000a 0646     		mov	r6, r0
1099:ThirdPackage/lwip220/api/sockets.c ****   LWIP_UNUSED_ARG(dbg_s);
 1770              		.loc 1 1099 3 is_stmt 1 view .LVU496
1100:ThirdPackage/lwip220/api/sockets.c ****   LWIP_UNUSED_ARG(dbg_ret);
 1771              		.loc 1 1100 3 view .LVU497
1101:ThirdPackage/lwip220/api/sockets.c **** 
 1772              		.loc 1 1101 3 view .LVU498
1104:ThirdPackage/lwip220/api/sockets.c **** #endif /* !SOCKETS_DEBUG */
 1773              		.loc 1 1104 3 view .LVU499
1104:ThirdPackage/lwip220/api/sockets.c **** #endif /* !SOCKETS_DEBUG */
 1774              		.loc 1 1104 6 is_stmt 0 view .LVU500
 1775 000c A9B1     		cbz	r1, .L145
1104:ThirdPackage/lwip220/api/sockets.c **** #endif /* !SOCKETS_DEBUG */
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 91


 1776              		.loc 1 1104 12 discriminator 1 view .LVU501
 1777 000e 12B9     		cbnz	r2, .L151
1118:ThirdPackage/lwip220/api/sockets.c **** }
 1778              		.loc 1 1118 10 view .LVU502
 1779 0010 0020     		movs	r0, #0
 1780              	.LVL159:
 1781              	.L142:
1119:ThirdPackage/lwip220/api/sockets.c **** #endif
 1782              		.loc 1 1119 1 view .LVU503
 1783 0012 04B0     		add	sp, sp, #16
 1784              	.LCFI23:
 1785              		.cfi_remember_state
 1786              		.cfi_def_cfa_offset 16
 1787              		@ sp needed
 1788 0014 70BD     		pop	{r4, r5, r6, pc}
 1789              	.LVL160:
 1790              	.L151:
 1791              	.LCFI24:
 1792              		.cfi_restore_state
 1793              	.LBB14:
1108:ThirdPackage/lwip220/api/sockets.c ****     ip_addr_t tmpaddr;
 1794              		.loc 1 1108 5 is_stmt 1 view .LVU504
1109:ThirdPackage/lwip220/api/sockets.c ****     netconn_getaddr(sock->conn, &tmpaddr, &port, 0);
 1795              		.loc 1 1109 5 view .LVU505
1110:ThirdPackage/lwip220/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("%s(%d):  addr=", dbg_fn, dbg_s));
 1796              		.loc 1 1110 5 view .LVU506
 1797 0016 0023     		movs	r3, #0
 1798              	.LVL161:
1110:ThirdPackage/lwip220/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("%s(%d):  addr=", dbg_fn, dbg_s));
 1799              		.loc 1 1110 5 is_stmt 0 view .LVU507
 1800 0018 0DF10A02 		add	r2, sp, #10
 1801              	.LVL162:
1110:ThirdPackage/lwip220/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("%s(%d):  addr=", dbg_fn, dbg_s));
 1802              		.loc 1 1110 5 view .LVU508
 1803 001c 03A9     		add	r1, sp, #12
 1804              	.LVL163:
1110:ThirdPackage/lwip220/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("%s(%d):  addr=", dbg_fn, dbg_s));
 1805              		.loc 1 1110 5 view .LVU509
 1806 001e 0068     		ldr	r0, [r0]
 1807              	.LVL164:
1110:ThirdPackage/lwip220/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("%s(%d):  addr=", dbg_fn, dbg_s));
 1808              		.loc 1 1110 5 view .LVU510
 1809 0020 FFF7FEFF 		bl	netconn_getaddr
 1810              	.LVL165:
1111:ThirdPackage/lwip220/api/sockets.c ****     ip_addr_debug_print_val(SOCKETS_DEBUG, tmpaddr);
 1811              		.loc 1 1111 66 is_stmt 1 view .LVU511
1112:ThirdPackage/lwip220/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, (" port=%"U16_F" len=%d\n", port, (int)dbg_ret));
 1812              		.loc 1 1112 52 view .LVU512
1113:ThirdPackage/lwip220/api/sockets.c ****     if (from && fromlen) {
 1813              		.loc 1 1113 80 view .LVU513
1114:ThirdPackage/lwip220/api/sockets.c ****       return lwip_sock_make_addr(sock->conn, &tmpaddr, port, from, fromlen);
 1814              		.loc 1 1114 5 view .LVU514
1115:ThirdPackage/lwip220/api/sockets.c ****     }
 1815              		.loc 1 1115 7 view .LVU515
1115:ThirdPackage/lwip220/api/sockets.c ****     }
 1816              		.loc 1 1115 14 is_stmt 0 view .LVU516
 1817 0024 0095     		str	r5, [sp]
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 92


 1818 0026 2346     		mov	r3, r4
 1819 0028 BDF80A20 		ldrh	r2, [sp, #10]
 1820 002c 03A9     		add	r1, sp, #12
 1821 002e 3068     		ldr	r0, [r6]
 1822 0030 FFF7FEFF 		bl	lwip_sock_make_addr
 1823              	.LVL166:
 1824 0034 EDE7     		b	.L142
 1825              	.LVL167:
 1826              	.L144:
 1827              	.LCFI25:
 1828              		.cfi_def_cfa_offset 0
 1829              		.cfi_restore 4
 1830              		.cfi_restore 5
 1831              		.cfi_restore 6
 1832              		.cfi_restore 14
1115:ThirdPackage/lwip220/api/sockets.c ****     }
 1833              		.loc 1 1115 14 view .LVU517
 1834              	.LBE14:
1097:ThirdPackage/lwip220/api/sockets.c ****   }
 1835              		.loc 1 1097 12 view .LVU518
 1836 0036 0020     		movs	r0, #0
 1837              	.LVL168:
1119:ThirdPackage/lwip220/api/sockets.c **** #endif
 1838              		.loc 1 1119 1 view .LVU519
 1839 0038 7047     		bx	lr
 1840              	.LVL169:
 1841              	.L145:
 1842              	.LCFI26:
 1843              		.cfi_def_cfa_offset 32
 1844              		.cfi_offset 4, -16
 1845              		.cfi_offset 5, -12
 1846              		.cfi_offset 6, -8
 1847              		.cfi_offset 14, -4
1118:ThirdPackage/lwip220/api/sockets.c **** }
 1848              		.loc 1 1118 10 view .LVU520
 1849 003a 0020     		movs	r0, #0
 1850              	.LVL170:
1118:ThirdPackage/lwip220/api/sockets.c **** }
 1851              		.loc 1 1118 10 view .LVU521
 1852 003c E9E7     		b	.L142
 1853              		.cfi_endproc
 1854              	.LFE179:
 1856              		.section	.text.lwip_getaddrname,"ax",%progbits
 1857              		.align	1
 1858              		.syntax unified
 1859              		.thumb
 1860              		.thumb_func
 1862              	lwip_getaddrname:
 1863              	.LVL171:
 1864              	.LFB202:
2746:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock;
 1865              		.loc 1 2746 1 is_stmt 1 view -0
 1866              		.cfi_startproc
 1867              		@ args = 0, pretend = 0, frame = 24
 1868              		@ frame_needed = 0, uses_anonymous_args = 0
2746:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock;
 1869              		.loc 1 2746 1 is_stmt 0 view .LVU523
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 93


 1870 0000 70B5     		push	{r4, r5, r6, lr}
 1871              	.LCFI27:
 1872              		.cfi_def_cfa_offset 16
 1873              		.cfi_offset 4, -16
 1874              		.cfi_offset 5, -12
 1875              		.cfi_offset 6, -8
 1876              		.cfi_offset 14, -4
 1877 0002 86B0     		sub	sp, sp, #24
 1878              	.LCFI28:
 1879              		.cfi_def_cfa_offset 40
 1880 0004 0E46     		mov	r6, r1
 1881 0006 1446     		mov	r4, r2
 1882 0008 1D46     		mov	r5, r3
2747:ThirdPackage/lwip220/api/sockets.c ****   union sockaddr_aligned saddr;
 1883              		.loc 1 2747 3 is_stmt 1 view .LVU524
2748:ThirdPackage/lwip220/api/sockets.c ****   ip_addr_t naddr;
 1884              		.loc 1 2748 3 view .LVU525
2749:ThirdPackage/lwip220/api/sockets.c ****   u16_t port;
 1885              		.loc 1 2749 3 view .LVU526
2750:ThirdPackage/lwip220/api/sockets.c ****   err_t err;
 1886              		.loc 1 2750 3 view .LVU527
2751:ThirdPackage/lwip220/api/sockets.c **** 
 1887              		.loc 1 2751 3 view .LVU528
2753:ThirdPackage/lwip220/api/sockets.c ****   if (!sock) {
 1888              		.loc 1 2753 3 view .LVU529
2753:ThirdPackage/lwip220/api/sockets.c ****   if (!sock) {
 1889              		.loc 1 2753 10 is_stmt 0 view .LVU530
 1890 000a FFF7FEFF 		bl	get_socket
 1891              	.LVL172:
2754:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 1892              		.loc 1 2754 3 is_stmt 1 view .LVU531
2754:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 1893              		.loc 1 2754 6 is_stmt 0 view .LVU532
 1894 000e 0028     		cmp	r0, #0
 1895 0010 33D0     		beq	.L157
2759:ThirdPackage/lwip220/api/sockets.c ****   if (err != ERR_OK) {
 1896              		.loc 1 2759 3 is_stmt 1 view .LVU533
2759:ThirdPackage/lwip220/api/sockets.c ****   if (err != ERR_OK) {
 1897              		.loc 1 2759 9 is_stmt 0 view .LVU534
 1898 0012 2B46     		mov	r3, r5
 1899 0014 0DF10202 		add	r2, sp, #2
 1900 0018 01A9     		add	r1, sp, #4
 1901 001a 0068     		ldr	r0, [r0]
 1902              	.LVL173:
2759:ThirdPackage/lwip220/api/sockets.c ****   if (err != ERR_OK) {
 1903              		.loc 1 2759 9 view .LVU535
 1904 001c FFF7FEFF 		bl	netconn_getaddr
 1905              	.LVL174:
2760:ThirdPackage/lwip220/api/sockets.c ****     set_errno(err_to_errno(err));
 1906              		.loc 1 2760 3 is_stmt 1 view .LVU536
2760:ThirdPackage/lwip220/api/sockets.c ****     set_errno(err_to_errno(err));
 1907              		.loc 1 2760 6 is_stmt 0 view .LVU537
 1908 0020 0546     		mov	r5, r0
 1909 0022 F0B9     		cbnz	r0, .L159
2775:ThirdPackage/lwip220/api/sockets.c **** 
 1910              		.loc 1 2775 3 is_stmt 1 view .LVU538
2775:ThirdPackage/lwip220/api/sockets.c **** 
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 94


 1911              		.loc 1 2775 3 view .LVU539
 1912 0024 1023     		movs	r3, #16
 1913 0026 8DF80830 		strb	r3, [sp, #8]
2775:ThirdPackage/lwip220/api/sockets.c **** 
 1914              		.loc 1 2775 3 view .LVU540
 1915 002a 0223     		movs	r3, #2
 1916 002c 8DF80930 		strb	r3, [sp, #9]
2775:ThirdPackage/lwip220/api/sockets.c **** 
 1917              		.loc 1 2775 3 view .LVU541
 1918 0030 BDF80200 		ldrh	r0, [sp, #2]
 1919              	.LVL175:
2775:ThirdPackage/lwip220/api/sockets.c **** 
 1920              		.loc 1 2775 3 is_stmt 0 view .LVU542
 1921 0034 FFF7FEFF 		bl	lwip_htons
 1922              	.LVL176:
 1923 0038 ADF80A00 		strh	r0, [sp, #10]	@ movhi
2775:ThirdPackage/lwip220/api/sockets.c **** 
 1924              		.loc 1 2775 3 is_stmt 1 view .LVU543
 1925 003c 019B     		ldr	r3, [sp, #4]
 1926 003e 0393     		str	r3, [sp, #12]
2775:ThirdPackage/lwip220/api/sockets.c **** 
 1927              		.loc 1 2775 3 view .LVU544
 1928 0040 0023     		movs	r3, #0
 1929 0042 0493     		str	r3, [sp, #16]
 1930 0044 0593     		str	r3, [sp, #20]
2775:ThirdPackage/lwip220/api/sockets.c **** 
 1931              		.loc 1 2775 3 view .LVU545
2777:ThirdPackage/lwip220/api/sockets.c ****   ip_addr_debug_print_val(SOCKETS_DEBUG, naddr);
 1932              		.loc 1 2777 64 view .LVU546
2778:ThirdPackage/lwip220/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, (" port=%"U16_F")\n", port));
 1933              		.loc 1 2778 48 view .LVU547
2779:ThirdPackage/lwip220/api/sockets.c **** 
 1934              		.loc 1 2779 58 view .LVU548
2781:ThirdPackage/lwip220/api/sockets.c ****     *namelen = IPADDR_SOCKADDR_GET_LEN(&saddr);
 1935              		.loc 1 2781 3 view .LVU549
2781:ThirdPackage/lwip220/api/sockets.c ****     *namelen = IPADDR_SOCKADDR_GET_LEN(&saddr);
 1936              		.loc 1 2781 7 is_stmt 0 view .LVU550
 1937 0046 2268     		ldr	r2, [r4]
2781:ThirdPackage/lwip220/api/sockets.c ****     *namelen = IPADDR_SOCKADDR_GET_LEN(&saddr);
 1938              		.loc 1 2781 18 view .LVU551
 1939 0048 9DF80830 		ldrb	r3, [sp, #8]	@ zero_extendqisi2
2781:ThirdPackage/lwip220/api/sockets.c ****     *namelen = IPADDR_SOCKADDR_GET_LEN(&saddr);
 1940              		.loc 1 2781 6 view .LVU552
 1941 004c 9A42     		cmp	r2, r3
 1942 004e 00D9     		bls	.L156
2782:ThirdPackage/lwip220/api/sockets.c ****   }
 1943              		.loc 1 2782 5 is_stmt 1 view .LVU553
2782:ThirdPackage/lwip220/api/sockets.c ****   }
 1944              		.loc 1 2782 14 is_stmt 0 view .LVU554
 1945 0050 2360     		str	r3, [r4]
 1946              	.L156:
2784:ThirdPackage/lwip220/api/sockets.c **** 
 1947              		.loc 1 2784 3 is_stmt 1 view .LVU555
 1948 0052 2268     		ldr	r2, [r4]
 1949 0054 02A9     		add	r1, sp, #8
 1950 0056 3046     		mov	r0, r6
 1951 0058 FFF7FEFF 		bl	memcpy
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 95


 1952              	.LVL177:
2786:ThirdPackage/lwip220/api/sockets.c ****   done_socket(sock);
 1953              		.loc 1 2786 3 view .LVU556
2786:ThirdPackage/lwip220/api/sockets.c ****   done_socket(sock);
 1954              		.loc 1 2786 3 view .LVU557
2786:ThirdPackage/lwip220/api/sockets.c ****   done_socket(sock);
 1955              		.loc 1 2786 3 view .LVU558
2787:ThirdPackage/lwip220/api/sockets.c ****   return 0;
 1956              		.loc 1 2787 20 view .LVU559
2788:ThirdPackage/lwip220/api/sockets.c **** }
 1957              		.loc 1 2788 3 view .LVU560
2788:ThirdPackage/lwip220/api/sockets.c **** }
 1958              		.loc 1 2788 10 is_stmt 0 view .LVU561
 1959 005c 0020     		movs	r0, #0
 1960              	.L152:
2789:ThirdPackage/lwip220/api/sockets.c **** 
 1961              		.loc 1 2789 1 view .LVU562
 1962 005e 06B0     		add	sp, sp, #24
 1963              	.LCFI29:
 1964              		.cfi_remember_state
 1965              		.cfi_def_cfa_offset 16
 1966              		@ sp needed
 1967 0060 70BD     		pop	{r4, r5, r6, pc}
 1968              	.LVL178:
 1969              	.L159:
 1970              	.LCFI30:
 1971              		.cfi_restore_state
2761:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
 1972              		.loc 1 2761 5 is_stmt 1 view .LVU563
2761:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
 1973              		.loc 1 2761 5 view .LVU564
 1974 0062 FFF7FEFF 		bl	err_to_errno
 1975              	.LVL179:
2761:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
 1976              		.loc 1 2761 5 is_stmt 0 view .LVU565
 1977 0066 10B9     		cbnz	r0, .L160
 1978              	.L155:
2761:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
 1979              		.loc 1 2761 5 is_stmt 1 discriminator 3 view .LVU566
2762:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 1980              		.loc 1 2762 22 discriminator 3 view .LVU567
2763:ThirdPackage/lwip220/api/sockets.c ****   }
 1981              		.loc 1 2763 5 discriminator 3 view .LVU568
2763:ThirdPackage/lwip220/api/sockets.c ****   }
 1982              		.loc 1 2763 12 is_stmt 0 discriminator 3 view .LVU569
 1983 0068 4FF0FF30 		mov	r0, #-1
 1984 006c F7E7     		b	.L152
 1985              	.L160:
2761:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
 1986              		.loc 1 2761 5 is_stmt 1 discriminator 1 view .LVU570
 1987 006e 2846     		mov	r0, r5
 1988 0070 FFF7FEFF 		bl	err_to_errno
 1989              	.LVL180:
 1990 0074 024B     		ldr	r3, .L161
 1991 0076 1860     		str	r0, [r3]
 1992 0078 F6E7     		b	.L155
 1993              	.LVL181:
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 96


 1994              	.L157:
2755:ThirdPackage/lwip220/api/sockets.c ****   }
 1995              		.loc 1 2755 12 is_stmt 0 view .LVU571
 1996 007a 4FF0FF30 		mov	r0, #-1
 1997              	.LVL182:
2755:ThirdPackage/lwip220/api/sockets.c ****   }
 1998              		.loc 1 2755 12 view .LVU572
 1999 007e EEE7     		b	.L152
 2000              	.L162:
 2001              		.align	2
 2002              	.L161:
 2003 0080 00000000 		.word	errno
 2004              		.cfi_endproc
 2005              	.LFE202:
 2007              		.section	.text.free_socket_free_elements,"ax",%progbits
 2008              		.align	1
 2009              		.syntax unified
 2010              		.thumb
 2011              		.thumb_func
 2013              	free_socket_free_elements:
 2014              	.LVL183:
 2015              	.LFB170:
 612:ThirdPackage/lwip220/api/sockets.c ****   if (lastdata->pbuf != NULL) {
 2016              		.loc 1 612 1 is_stmt 1 view -0
 2017              		.cfi_startproc
 2018              		@ args = 0, pretend = 0, frame = 0
 2019              		@ frame_needed = 0, uses_anonymous_args = 0
 612:ThirdPackage/lwip220/api/sockets.c ****   if (lastdata->pbuf != NULL) {
 2020              		.loc 1 612 1 is_stmt 0 view .LVU574
 2021 0000 10B5     		push	{r4, lr}
 2022              	.LCFI31:
 2023              		.cfi_def_cfa_offset 8
 2024              		.cfi_offset 4, -8
 2025              		.cfi_offset 14, -4
 2026 0002 0346     		mov	r3, r0
 2027 0004 0C46     		mov	r4, r1
 613:ThirdPackage/lwip220/api/sockets.c ****     if (is_tcp) {
 2028              		.loc 1 613 3 is_stmt 1 view .LVU575
 613:ThirdPackage/lwip220/api/sockets.c ****     if (is_tcp) {
 2029              		.loc 1 613 15 is_stmt 0 view .LVU576
 2030 0006 1068     		ldr	r0, [r2]
 2031              	.LVL184:
 613:ThirdPackage/lwip220/api/sockets.c ****     if (is_tcp) {
 2032              		.loc 1 613 6 view .LVU577
 2033 0008 10B1     		cbz	r0, .L164
 614:ThirdPackage/lwip220/api/sockets.c ****       pbuf_free(lastdata->pbuf);
 2034              		.loc 1 614 5 is_stmt 1 view .LVU578
 614:ThirdPackage/lwip220/api/sockets.c ****       pbuf_free(lastdata->pbuf);
 2035              		.loc 1 614 8 is_stmt 0 view .LVU579
 2036 000a 33B1     		cbz	r3, .L165
 615:ThirdPackage/lwip220/api/sockets.c ****     } else {
 2037              		.loc 1 615 7 is_stmt 1 view .LVU580
 2038 000c FFF7FEFF 		bl	pbuf_free
 2039              	.LVL185:
 2040              	.L164:
 620:ThirdPackage/lwip220/api/sockets.c ****     /* netconn_prepare_delete() has already been called, here we only free the conn */
 2041              		.loc 1 620 3 view .LVU581
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 97


 620:ThirdPackage/lwip220/api/sockets.c ****     /* netconn_prepare_delete() has already been called, here we only free the conn */
 2042              		.loc 1 620 6 is_stmt 0 view .LVU582
 2043 0010 14B1     		cbz	r4, .L163
 622:ThirdPackage/lwip220/api/sockets.c ****   }
 2044              		.loc 1 622 5 is_stmt 1 view .LVU583
 2045 0012 2046     		mov	r0, r4
 2046 0014 FFF7FEFF 		bl	netconn_delete
 2047              	.LVL186:
 2048              	.L163:
 624:ThirdPackage/lwip220/api/sockets.c **** 
 2049              		.loc 1 624 1 is_stmt 0 view .LVU584
 2050 0018 10BD     		pop	{r4, pc}
 2051              	.LVL187:
 2052              	.L165:
 617:ThirdPackage/lwip220/api/sockets.c ****     }
 2053              		.loc 1 617 7 is_stmt 1 view .LVU585
 2054 001a FFF7FEFF 		bl	netbuf_delete
 2055              	.LVL188:
 617:ThirdPackage/lwip220/api/sockets.c ****     }
 2056              		.loc 1 617 7 is_stmt 0 view .LVU586
 2057 001e F7E7     		b	.L164
 2058              		.cfi_endproc
 2059              	.LFE170:
 2061              		.section	.text.free_socket,"ax",%progbits
 2062              		.align	1
 2063              		.syntax unified
 2064              		.thumb
 2065              		.thumb_func
 2067              	free_socket:
 2068              	.LVL189:
 2069              	.LFB171:
 634:ThirdPackage/lwip220/api/sockets.c ****   int freed;
 2070              		.loc 1 634 1 is_stmt 1 view -0
 2071              		.cfi_startproc
 2072              		@ args = 0, pretend = 0, frame = 8
 2073              		@ frame_needed = 0, uses_anonymous_args = 0
 634:ThirdPackage/lwip220/api/sockets.c ****   int freed;
 2074              		.loc 1 634 1 is_stmt 0 view .LVU588
 2075 0000 70B5     		push	{r4, r5, r6, lr}
 2076              	.LCFI32:
 2077              		.cfi_def_cfa_offset 16
 2078              		.cfi_offset 4, -16
 2079              		.cfi_offset 5, -12
 2080              		.cfi_offset 6, -8
 2081              		.cfi_offset 14, -4
 2082 0002 82B0     		sub	sp, sp, #8
 2083              	.LCFI33:
 2084              		.cfi_def_cfa_offset 24
 2085 0004 0546     		mov	r5, r0
 2086 0006 0C46     		mov	r4, r1
 635:ThirdPackage/lwip220/api/sockets.c ****   struct netconn *conn;
 2087              		.loc 1 635 3 is_stmt 1 view .LVU589
 636:ThirdPackage/lwip220/api/sockets.c ****   union lwip_sock_lastdata lastdata;
 2088              		.loc 1 636 3 view .LVU590
 637:ThirdPackage/lwip220/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
 2089              		.loc 1 637 3 view .LVU591
 638:ThirdPackage/lwip220/api/sockets.c **** 
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 98


 2090              		.loc 1 638 3 view .LVU592
 641:ThirdPackage/lwip220/api/sockets.c **** 
 2091              		.loc 1 641 3 view .LVU593
 2092 0008 FFF7FEFF 		bl	sys_arch_protect
 2093              	.LVL190:
 641:ThirdPackage/lwip220/api/sockets.c **** 
 2094              		.loc 1 641 3 is_stmt 0 view .LVU594
 2095 000c 0646     		mov	r6, r0
 2096              	.LVL191:
 643:ThirdPackage/lwip220/api/sockets.c ****   SYS_ARCH_UNPROTECT(lev);
 2097              		.loc 1 643 3 is_stmt 1 view .LVU595
 643:ThirdPackage/lwip220/api/sockets.c ****   SYS_ARCH_UNPROTECT(lev);
 2098              		.loc 1 643 11 is_stmt 0 view .LVU596
 2099 000e 6B46     		mov	r3, sp
 2100 0010 01AA     		add	r2, sp, #4
 2101 0012 2146     		mov	r1, r4
 2102 0014 2846     		mov	r0, r5
 2103              	.LVL192:
 643:ThirdPackage/lwip220/api/sockets.c ****   SYS_ARCH_UNPROTECT(lev);
 2104              		.loc 1 643 11 view .LVU597
 2105 0016 FFF7FEFF 		bl	free_socket_locked
 2106              	.LVL193:
 2107 001a 0546     		mov	r5, r0
 2108              	.LVL194:
 644:ThirdPackage/lwip220/api/sockets.c ****   /* don't use 'sock' after this line, as another task might have allocated it */
 2109              		.loc 1 644 3 is_stmt 1 view .LVU598
 2110 001c 3046     		mov	r0, r6
 2111              	.LVL195:
 644:ThirdPackage/lwip220/api/sockets.c ****   /* don't use 'sock' after this line, as another task might have allocated it */
 2112              		.loc 1 644 3 is_stmt 0 view .LVU599
 2113 001e FFF7FEFF 		bl	sys_arch_unprotect
 2114              	.LVL196:
 647:ThirdPackage/lwip220/api/sockets.c ****     free_socket_free_elements(is_tcp, conn, &lastdata);
 2115              		.loc 1 647 3 is_stmt 1 view .LVU600
 647:ThirdPackage/lwip220/api/sockets.c ****     free_socket_free_elements(is_tcp, conn, &lastdata);
 2116              		.loc 1 647 6 is_stmt 0 view .LVU601
 2117 0022 0DB9     		cbnz	r5, .L171
 2118              	.L168:
 650:ThirdPackage/lwip220/api/sockets.c **** 
 2119              		.loc 1 650 1 view .LVU602
 2120 0024 02B0     		add	sp, sp, #8
 2121              	.LCFI34:
 2122              		.cfi_remember_state
 2123              		.cfi_def_cfa_offset 16
 2124              		@ sp needed
 2125 0026 70BD     		pop	{r4, r5, r6, pc}
 2126              	.LVL197:
 2127              	.L171:
 2128              	.LCFI35:
 2129              		.cfi_restore_state
 648:ThirdPackage/lwip220/api/sockets.c ****   }
 2130              		.loc 1 648 5 is_stmt 1 view .LVU603
 2131 0028 6A46     		mov	r2, sp
 2132 002a 0199     		ldr	r1, [sp, #4]
 2133 002c 2046     		mov	r0, r4
 2134 002e FFF7FEFF 		bl	free_socket_free_elements
 2135              	.LVL198:
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 99


 650:ThirdPackage/lwip220/api/sockets.c **** 
 2136              		.loc 1 650 1 is_stmt 0 view .LVU604
 2137 0032 F7E7     		b	.L168
 2138              		.cfi_endproc
 2139              	.LFE171:
 2141              		.section	.rodata.lwip_recv_tcp.str1.4,"aMS",%progbits,1
 2142              		.align	2
 2143              	.LC11:
 2144 0000 6E6F2073 		.ascii	"no socket given\000"
 2144      6F636B65 
 2144      74206769 
 2144      76656E00 
 2145              		.align	2
 2146              	.LC12:
 2147 0010 74686973 		.ascii	"this should be checked internally\000"
 2147      2073686F 
 2147      756C6420 
 2147      62652063 
 2147      6865636B 
 2148 0032 0000     		.align	2
 2149              	.LC13:
 2150 0034 7020213D 		.ascii	"p != NULL\000"
 2150      204E554C 
 2150      4C00
 2151 003e 0000     		.align	2
 2152              	.LC14:
 2153 0040 696E7661 		.ascii	"invalid copylen, len would underflow\000"
 2153      6C696420 
 2153      636F7079 
 2153      6C656E2C 
 2153      206C656E 
 2154 0065 000000   		.align	2
 2155              	.LC15:
 2156 0068 696E7661 		.ascii	"invalid copylen\000"
 2156      6C696420 
 2156      636F7079 
 2156      6C656E00 
 2157              		.section	.text.lwip_recv_tcp,"ax",%progbits
 2158              		.align	1
 2159              		.syntax unified
 2160              		.thumb
 2161              		.thumb_func
 2163              	lwip_recv_tcp:
 2164              	.LVL199:
 2165              	.LFB177:
 959:ThirdPackage/lwip220/api/sockets.c ****   u8_t apiflags = NETCONN_NOAUTORCVD;
 2166              		.loc 1 959 1 is_stmt 1 view -0
 2167              		.cfi_startproc
 2168              		@ args = 0, pretend = 0, frame = 16
 2169              		@ frame_needed = 0, uses_anonymous_args = 0
 959:ThirdPackage/lwip220/api/sockets.c ****   u8_t apiflags = NETCONN_NOAUTORCVD;
 2170              		.loc 1 959 1 is_stmt 0 view .LVU606
 2171 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 2172              	.LCFI36:
 2173              		.cfi_def_cfa_offset 36
 2174              		.cfi_offset 4, -36
 2175              		.cfi_offset 5, -32
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 100


 2176              		.cfi_offset 6, -28
 2177              		.cfi_offset 7, -24
 2178              		.cfi_offset 8, -20
 2179              		.cfi_offset 9, -16
 2180              		.cfi_offset 10, -12
 2181              		.cfi_offset 11, -8
 2182              		.cfi_offset 14, -4
 2183 0004 85B0     		sub	sp, sp, #20
 2184              	.LCFI37:
 2185              		.cfi_def_cfa_offset 56
 2186 0006 8146     		mov	r9, r0
 2187 0008 0191     		str	r1, [sp, #4]
 2188 000a 9846     		mov	r8, r3
 960:ThirdPackage/lwip220/api/sockets.c ****   ssize_t recvd = 0;
 2189              		.loc 1 960 3 is_stmt 1 view .LVU607
 2190              	.LVL200:
 961:ThirdPackage/lwip220/api/sockets.c ****   ssize_t recv_left = (len <= SSIZE_MAX) ? (ssize_t)len : SSIZE_MAX;
 2191              		.loc 1 961 3 view .LVU608
 962:ThirdPackage/lwip220/api/sockets.c **** 
 2192              		.loc 1 962 3 view .LVU609
 962:ThirdPackage/lwip220/api/sockets.c **** 
 2193              		.loc 1 962 28 is_stmt 0 view .LVU610
 2194 000c 1546     		mov	r5, r2
 962:ThirdPackage/lwip220/api/sockets.c **** 
 2195              		.loc 1 962 57 view .LVU611
 2196 000e 002A     		cmp	r2, #0
 2197 0010 10DB     		blt	.L197
 2198              	.L173:
 2199              	.LVL201:
 964:ThirdPackage/lwip220/api/sockets.c ****   LWIP_ASSERT("this should be checked internally", NETCONNTYPE_GROUP(netconn_type(sock->conn)) == N
 2200              		.loc 1 964 3 is_stmt 1 discriminator 4 view .LVU612
 964:ThirdPackage/lwip220/api/sockets.c ****   LWIP_ASSERT("this should be checked internally", NETCONNTYPE_GROUP(netconn_type(sock->conn)) == N
 2201              		.loc 1 964 3 discriminator 4 view .LVU613
 2202 0012 B9F1000F 		cmp	r9, #0
 2203 0016 10D0     		beq	.L198
 2204              	.LVL202:
 2205              	.L174:
 964:ThirdPackage/lwip220/api/sockets.c ****   LWIP_ASSERT("this should be checked internally", NETCONNTYPE_GROUP(netconn_type(sock->conn)) == N
 2206              		.loc 1 964 3 discriminator 3 view .LVU614
 964:ThirdPackage/lwip220/api/sockets.c ****   LWIP_ASSERT("this should be checked internally", NETCONNTYPE_GROUP(netconn_type(sock->conn)) == N
 2207              		.loc 1 964 3 discriminator 3 view .LVU615
 965:ThirdPackage/lwip220/api/sockets.c **** 
 2208              		.loc 1 965 3 discriminator 3 view .LVU616
 965:ThirdPackage/lwip220/api/sockets.c **** 
 2209              		.loc 1 965 3 discriminator 3 view .LVU617
 2210 0018 D9F80030 		ldr	r3, [r9]
 2211 001c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2212 001e 03F0F003 		and	r3, r3, #240
 2213 0022 102B     		cmp	r3, #16
 2214 0024 11D1     		bne	.L199
 2215              	.L175:
 965:ThirdPackage/lwip220/api/sockets.c **** 
 2216              		.loc 1 965 3 discriminator 3 view .LVU618
 965:ThirdPackage/lwip220/api/sockets.c **** 
 2217              		.loc 1 965 3 discriminator 3 view .LVU619
 967:ThirdPackage/lwip220/api/sockets.c ****     apiflags |= NETCONN_DONTBLOCK;
 2218              		.loc 1 967 3 discriminator 3 view .LVU620
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 101


 967:ThirdPackage/lwip220/api/sockets.c ****     apiflags |= NETCONN_DONTBLOCK;
 2219              		.loc 1 967 6 is_stmt 0 discriminator 3 view .LVU621
 2220 0026 18F0080F 		tst	r8, #8
 2221 002a 16D1     		bne	.L195
 960:ThirdPackage/lwip220/api/sockets.c ****   ssize_t recvd = 0;
 2222              		.loc 1 960 8 view .LVU622
 2223 002c 4FF0080A 		mov	r10, #8
 2224              	.L176:
 2225              	.LVL203:
 960:ThirdPackage/lwip220/api/sockets.c ****   ssize_t recvd = 0;
 2226              		.loc 1 960 8 view .LVU623
 2227 0030 0026     		movs	r6, #0
 2228 0032 61E0     		b	.L194
 2229              	.LVL204:
 2230              	.L197:
 962:ThirdPackage/lwip220/api/sockets.c **** 
 2231              		.loc 1 962 57 view .LVU624
 2232 0034 6FF00045 		mvn	r5, #-2147483648
 2233 0038 EBE7     		b	.L173
 2234              	.LVL205:
 2235              	.L198:
 964:ThirdPackage/lwip220/api/sockets.c ****   LWIP_ASSERT("this should be checked internally", NETCONNTYPE_GROUP(netconn_type(sock->conn)) == N
 2236              		.loc 1 964 3 is_stmt 1 discriminator 1 view .LVU625
 964:ThirdPackage/lwip220/api/sockets.c ****   LWIP_ASSERT("this should be checked internally", NETCONNTYPE_GROUP(netconn_type(sock->conn)) == N
 2237              		.loc 1 964 3 discriminator 1 view .LVU626
 2238 003a 4B4B     		ldr	r3, .L207
 2239              	.LVL206:
 964:ThirdPackage/lwip220/api/sockets.c ****   LWIP_ASSERT("this should be checked internally", NETCONNTYPE_GROUP(netconn_type(sock->conn)) == N
 2240              		.loc 1 964 3 is_stmt 0 discriminator 1 view .LVU627
 2241 003c 4FF47172 		mov	r2, #964
 2242              	.LVL207:
 964:ThirdPackage/lwip220/api/sockets.c ****   LWIP_ASSERT("this should be checked internally", NETCONNTYPE_GROUP(netconn_type(sock->conn)) == N
 2243              		.loc 1 964 3 discriminator 1 view .LVU628
 2244 0040 4A49     		ldr	r1, .L207+4
 2245              	.LVL208:
 964:ThirdPackage/lwip220/api/sockets.c ****   LWIP_ASSERT("this should be checked internally", NETCONNTYPE_GROUP(netconn_type(sock->conn)) == N
 2246              		.loc 1 964 3 discriminator 1 view .LVU629
 2247 0042 4B48     		ldr	r0, .L207+8
 2248              	.LVL209:
 964:ThirdPackage/lwip220/api/sockets.c ****   LWIP_ASSERT("this should be checked internally", NETCONNTYPE_GROUP(netconn_type(sock->conn)) == N
 2249              		.loc 1 964 3 discriminator 1 view .LVU630
 2250 0044 FFF7FEFF 		bl	printf
 2251              	.LVL210:
 2252 0048 E6E7     		b	.L174
 2253              	.L199:
 965:ThirdPackage/lwip220/api/sockets.c **** 
 2254              		.loc 1 965 3 is_stmt 1 discriminator 1 view .LVU631
 965:ThirdPackage/lwip220/api/sockets.c **** 
 2255              		.loc 1 965 3 discriminator 1 view .LVU632
 2256 004a 474B     		ldr	r3, .L207
 2257 004c 40F2C532 		movw	r2, #965
 2258 0050 4849     		ldr	r1, .L207+12
 2259 0052 4748     		ldr	r0, .L207+8
 2260 0054 FFF7FEFF 		bl	printf
 2261              	.LVL211:
 2262 0058 E5E7     		b	.L175
 2263              	.L195:
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 102


 968:ThirdPackage/lwip220/api/sockets.c ****   }
 2264              		.loc 1 968 14 is_stmt 0 view .LVU633
 2265 005a 4FF00C0A 		mov	r10, #12
 2266 005e E7E7     		b	.L176
 2267              	.LVL212:
 2268              	.L177:
 2269              	.LBB15:
 983:ThirdPackage/lwip220/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recv_tcp: netconn_recv err=%d, pbuf=%p\n",
 2270              		.loc 1 983 7 is_stmt 1 view .LVU634
 983:ThirdPackage/lwip220/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recv_tcp: netconn_recv err=%d, pbuf=%p\n",
 2271              		.loc 1 983 13 is_stmt 0 view .LVU635
 2272 0060 5246     		mov	r2, r10
 2273 0062 03A9     		add	r1, sp, #12
 2274 0064 D9F80000 		ldr	r0, [r9]
 2275 0068 FFF7FEFF 		bl	netconn_recv_tcp_pbuf_flags
 2276              	.LVL213:
 985:ThirdPackage/lwip220/api/sockets.c **** 
 2277              		.loc 1 985 51 is_stmt 1 view .LVU636
 987:ThirdPackage/lwip220/api/sockets.c ****         if (recvd > 0) {
 2278              		.loc 1 987 7 view .LVU637
 987:ThirdPackage/lwip220/api/sockets.c ****         if (recvd > 0) {
 2279              		.loc 1 987 10 is_stmt 0 view .LVU638
 2280 006c 0446     		mov	r4, r0
 2281 006e 28B9     		cbnz	r0, .L200
1003:ThirdPackage/lwip220/api/sockets.c ****       sock->lastdata.pbuf = p;
 2282              		.loc 1 1003 7 is_stmt 1 view .LVU639
1003:ThirdPackage/lwip220/api/sockets.c ****       sock->lastdata.pbuf = p;
 2283              		.loc 1 1003 7 view .LVU640
 2284 0070 039B     		ldr	r3, [sp, #12]
 2285 0072 EBB1     		cbz	r3, .L201
 2286              	.LVL214:
 2287              	.L185:
1003:ThirdPackage/lwip220/api/sockets.c ****       sock->lastdata.pbuf = p;
 2288              		.loc 1 1003 7 discriminator 3 view .LVU641
1003:ThirdPackage/lwip220/api/sockets.c ****       sock->lastdata.pbuf = p;
 2289              		.loc 1 1003 7 discriminator 3 view .LVU642
1004:ThirdPackage/lwip220/api/sockets.c ****     }
 2290              		.loc 1 1004 7 discriminator 3 view .LVU643
1004:ThirdPackage/lwip220/api/sockets.c ****     }
 2291              		.loc 1 1004 27 is_stmt 0 discriminator 3 view .LVU644
 2292 0074 039B     		ldr	r3, [sp, #12]
 2293 0076 C9F80430 		str	r3, [r9, #4]
 2294 007a 42E0     		b	.L178
 2295              	.LVL215:
 2296              	.L200:
 988:ThirdPackage/lwip220/api/sockets.c ****           /* already received data, return that (this trusts in getting the same error from
 2297              		.loc 1 988 9 is_stmt 1 view .LVU645
 988:ThirdPackage/lwip220/api/sockets.c ****           /* already received data, return that (this trusts in getting the same error from
 2298              		.loc 1 988 12 is_stmt 0 view .LVU646
 2299 007c 002E     		cmp	r6, #0
 2300 007e 08DD     		ble	.L202
 2301              	.LVL216:
 2302              	.L181:
 988:ThirdPackage/lwip220/api/sockets.c ****           /* already received data, return that (this trusts in getting the same error from
 2303              		.loc 1 988 12 view .LVU647
 2304              	.LBE15:
1050:ThirdPackage/lwip220/api/sockets.c ****     /* ensure window update after copying all data */
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 103


 2305              		.loc 1 1050 3 is_stmt 1 view .LVU648
1050:ThirdPackage/lwip220/api/sockets.c ****     /* ensure window update after copying all data */
 2306              		.loc 1 1050 6 is_stmt 0 view .LVU649
 2307 0080 002E     		cmp	r6, #0
 2308 0082 02DD     		ble	.L172
1050:ThirdPackage/lwip220/api/sockets.c ****     /* ensure window update after copying all data */
 2309              		.loc 1 1050 19 discriminator 1 view .LVU650
 2310 0084 18F0010F 		tst	r8, #1
 2311 0088 67D0     		beq	.L203
 2312              	.LVL217:
 2313              	.L172:
1056:ThirdPackage/lwip220/api/sockets.c **** #endif
 2314              		.loc 1 1056 1 view .LVU651
 2315 008a 3046     		mov	r0, r6
 2316 008c 05B0     		add	sp, sp, #20
 2317              	.LCFI38:
 2318              		.cfi_remember_state
 2319              		.cfi_def_cfa_offset 36
 2320              		@ sp needed
 2321 008e BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 2322              	.LVL218:
 2323              	.L202:
 2324              	.LCFI39:
 2325              		.cfi_restore_state
 2326              	.LBB16:
 995:ThirdPackage/lwip220/api/sockets.c ****         set_errno(err_to_errno(err));
 2327              		.loc 1 995 55 is_stmt 1 view .LVU652
 996:ThirdPackage/lwip220/api/sockets.c ****         if (err == ERR_CLSD) {
 2328              		.loc 1 996 9 view .LVU653
 996:ThirdPackage/lwip220/api/sockets.c ****         if (err == ERR_CLSD) {
 2329              		.loc 1 996 9 view .LVU654
 2330 0092 FFF7FEFF 		bl	err_to_errno
 2331              	.LVL219:
 996:ThirdPackage/lwip220/api/sockets.c ****         if (err == ERR_CLSD) {
 2332              		.loc 1 996 9 is_stmt 0 view .LVU655
 2333 0096 28B9     		cbnz	r0, .L204
 2334              	.L182:
 996:ThirdPackage/lwip220/api/sockets.c ****         if (err == ERR_CLSD) {
 2335              		.loc 1 996 9 is_stmt 1 discriminator 3 view .LVU656
 997:ThirdPackage/lwip220/api/sockets.c ****           return 0;
 2336              		.loc 1 997 9 discriminator 3 view .LVU657
 997:ThirdPackage/lwip220/api/sockets.c ****           return 0;
 2337              		.loc 1 997 12 is_stmt 0 discriminator 3 view .LVU658
 2338 0098 14F10F0F 		cmn	r4, #15
 2339 009c 5BD0     		beq	.L183
1000:ThirdPackage/lwip220/api/sockets.c ****         }
 2340              		.loc 1 1000 18 view .LVU659
 2341 009e 4FF0FF36 		mov	r6, #-1
 2342              	.LVL220:
1000:ThirdPackage/lwip220/api/sockets.c ****         }
 2343              		.loc 1 1000 18 view .LVU660
 2344 00a2 F2E7     		b	.L172
 2345              	.LVL221:
 2346              	.L204:
 996:ThirdPackage/lwip220/api/sockets.c ****         if (err == ERR_CLSD) {
 2347              		.loc 1 996 9 is_stmt 1 discriminator 1 view .LVU661
 2348 00a4 2046     		mov	r0, r4
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 104


 2349 00a6 FFF7FEFF 		bl	err_to_errno
 2350              	.LVL222:
 2351 00aa 334B     		ldr	r3, .L207+16
 2352 00ac 1860     		str	r0, [r3]
 2353 00ae F3E7     		b	.L182
 2354              	.LVL223:
 2355              	.L201:
1003:ThirdPackage/lwip220/api/sockets.c ****       sock->lastdata.pbuf = p;
 2356              		.loc 1 1003 7 discriminator 1 view .LVU662
1003:ThirdPackage/lwip220/api/sockets.c ****       sock->lastdata.pbuf = p;
 2357              		.loc 1 1003 7 discriminator 1 view .LVU663
 2358 00b0 2D4B     		ldr	r3, .L207
 2359 00b2 40F2EB32 		movw	r2, #1003
 2360 00b6 3149     		ldr	r1, .L207+20
 2361 00b8 2D48     		ldr	r0, .L207+8
 2362              	.LVL224:
1003:ThirdPackage/lwip220/api/sockets.c ****       sock->lastdata.pbuf = p;
 2363              		.loc 1 1003 7 is_stmt 0 discriminator 1 view .LVU664
 2364 00ba FFF7FEFF 		bl	printf
 2365              	.LVL225:
 2366 00be D9E7     		b	.L185
 2367              	.LVL226:
 2368              	.L205:
1027:ThirdPackage/lwip220/api/sockets.c ****     recv_left -= copylen;
 2369              		.loc 1 1027 5 is_stmt 1 discriminator 1 view .LVU665
1027:ThirdPackage/lwip220/api/sockets.c ****     recv_left -= copylen;
 2370              		.loc 1 1027 5 discriminator 1 view .LVU666
 2371 00c0 294B     		ldr	r3, .L207
 2372 00c2 40F20342 		movw	r2, #1027
 2373 00c6 2E49     		ldr	r1, .L207+24
 2374 00c8 2948     		ldr	r0, .L207+8
 2375 00ca FFF7FEFF 		bl	printf
 2376              	.LVL227:
 2377 00ce 2FE0     		b	.L188
 2378              	.L206:
1033:ThirdPackage/lwip220/api/sockets.c ****       if (p->tot_len - copylen > 0) {
 2379              		.loc 1 1033 7 discriminator 1 view .LVU667
1033:ThirdPackage/lwip220/api/sockets.c ****       if (p->tot_len - copylen > 0) {
 2380              		.loc 1 1033 7 discriminator 1 view .LVU668
 2381 00d0 254B     		ldr	r3, .L207
 2382 00d2 40F20942 		movw	r2, #1033
 2383 00d6 2B49     		ldr	r1, .L207+28
 2384 00d8 2548     		ldr	r0, .L207+8
 2385 00da FFF7FEFF 		bl	printf
 2386              	.LVL228:
 2387 00de 2FE0     		b	.L190
 2388              	.L191:
1040:ThirdPackage/lwip220/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recv_tcp: deleting pbuf=%p\n", (void *)p));
 2389              		.loc 1 1040 9 view .LVU669
1040:ThirdPackage/lwip220/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recv_tcp: deleting pbuf=%p\n", (void *)p));
 2390              		.loc 1 1040 29 is_stmt 0 view .LVU670
 2391 00e0 0023     		movs	r3, #0
 2392 00e2 C9F80430 		str	r3, [r9, #4]
1041:ThirdPackage/lwip220/api/sockets.c ****         pbuf_free(p);
 2393              		.loc 1 1041 85 is_stmt 1 view .LVU671
1042:ThirdPackage/lwip220/api/sockets.c ****       }
 2394              		.loc 1 1042 9 view .LVU672
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 105


 2395 00e6 FFF7FEFF 		bl	pbuf_free
 2396              	.LVL229:
 2397              	.L189:
1046:ThirdPackage/lwip220/api/sockets.c ****     /* @todo: do we need to support peeking more than one pbuf? */
 2398              		.loc 1 1046 5 view .LVU673
1046:ThirdPackage/lwip220/api/sockets.c ****     /* @todo: do we need to support peeking more than one pbuf? */
 2399              		.loc 1 1046 14 is_stmt 0 view .LVU674
 2400 00ea 4AF0140A 		orr	r10, r10, #20
 2401              	.LVL230:
1046:ThirdPackage/lwip220/api/sockets.c ****     /* @todo: do we need to support peeking more than one pbuf? */
 2402              		.loc 1 1046 14 view .LVU675
 2403              	.LBE16:
1048:ThirdPackage/lwip220/api/sockets.c **** lwip_recv_tcp_done:
 2404              		.loc 1 1048 11 is_stmt 1 view .LVU676
1048:ThirdPackage/lwip220/api/sockets.c **** lwip_recv_tcp_done:
 2405              		.loc 1 1048 3 is_stmt 0 view .LVU677
 2406 00ee 002D     		cmp	r5, #0
 2407 00f0 C6DD     		ble	.L181
1048:ThirdPackage/lwip220/api/sockets.c **** lwip_recv_tcp_done:
 2408              		.loc 1 1048 28 discriminator 1 view .LVU678
 2409 00f2 BBF1000F 		cmp	fp, #0
 2410 00f6 C3D1     		bne	.L181
 2411              	.LVL231:
 2412              	.L194:
 971:ThirdPackage/lwip220/api/sockets.c ****     struct pbuf *p;
 2413              		.loc 1 971 3 is_stmt 1 view .LVU679
 2414              	.LBB17:
 972:ThirdPackage/lwip220/api/sockets.c ****     err_t err;
 2415              		.loc 1 972 5 view .LVU680
 973:ThirdPackage/lwip220/api/sockets.c ****     u16_t copylen;
 2416              		.loc 1 973 5 view .LVU681
 974:ThirdPackage/lwip220/api/sockets.c **** 
 2417              		.loc 1 974 5 view .LVU682
 976:ThirdPackage/lwip220/api/sockets.c ****     /* Check if there is data left from the last recv operation. */
 2418              		.loc 1 976 110 view .LVU683
 978:ThirdPackage/lwip220/api/sockets.c ****       p = sock->lastdata.pbuf;
 2419              		.loc 1 978 5 view .LVU684
 978:ThirdPackage/lwip220/api/sockets.c ****       p = sock->lastdata.pbuf;
 2420              		.loc 1 978 23 is_stmt 0 view .LVU685
 2421 00f8 D9F80430 		ldr	r3, [r9, #4]
 978:ThirdPackage/lwip220/api/sockets.c ****       p = sock->lastdata.pbuf;
 2422              		.loc 1 978 8 view .LVU686
 2423 00fc 002B     		cmp	r3, #0
 2424 00fe AFD0     		beq	.L177
 979:ThirdPackage/lwip220/api/sockets.c ****     } else {
 2425              		.loc 1 979 7 is_stmt 1 view .LVU687
 979:ThirdPackage/lwip220/api/sockets.c ****     } else {
 2426              		.loc 1 979 9 is_stmt 0 view .LVU688
 2427 0100 0393     		str	r3, [sp, #12]
 2428              	.L178:
1008:ThirdPackage/lwip220/api/sockets.c **** 
 2429              		.loc 1 1008 73 is_stmt 1 view .LVU689
1010:ThirdPackage/lwip220/api/sockets.c ****       copylen = p->tot_len;
 2430              		.loc 1 1010 5 view .LVU690
1010:ThirdPackage/lwip220/api/sockets.c ****       copylen = p->tot_len;
 2431              		.loc 1 1010 22 is_stmt 0 view .LVU691
 2432 0102 0398     		ldr	r0, [sp, #12]
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 106


 2433 0104 0489     		ldrh	r4, [r0, #8]
1010:ThirdPackage/lwip220/api/sockets.c ****       copylen = p->tot_len;
 2434              		.loc 1 1010 8 view .LVU692
 2435 0106 AC42     		cmp	r4, r5
 2436 0108 00DB     		blt	.L186
1013:ThirdPackage/lwip220/api/sockets.c ****     }
 2437              		.loc 1 1013 7 is_stmt 1 view .LVU693
1013:ThirdPackage/lwip220/api/sockets.c ****     }
 2438              		.loc 1 1013 15 is_stmt 0 view .LVU694
 2439 010a ACB2     		uxth	r4, r5
 2440              	.LVL232:
 2441              	.L186:
1015:ThirdPackage/lwip220/api/sockets.c ****       /* overflow */
 2442              		.loc 1 1015 5 is_stmt 1 view .LVU695
1015:ThirdPackage/lwip220/api/sockets.c ****       /* overflow */
 2443              		.loc 1 1015 27 is_stmt 0 view .LVU696
 2444 010c 6FF00043 		mvn	r3, #-2147483648
 2445 0110 1B1B     		subs	r3, r3, r4
1015:ThirdPackage/lwip220/api/sockets.c ****       /* overflow */
 2446              		.loc 1 1015 8 view .LVU697
 2447 0112 B342     		cmp	r3, r6
 2448 0114 02DA     		bge	.L187
1017:ThirdPackage/lwip220/api/sockets.c ****     }
 2449              		.loc 1 1017 7 is_stmt 1 view .LVU698
1017:ThirdPackage/lwip220/api/sockets.c ****     }
 2450              		.loc 1 1017 17 is_stmt 0 view .LVU699
 2451 0116 B4B2     		uxth	r4, r6
 2452              	.LVL233:
1017:ThirdPackage/lwip220/api/sockets.c ****     }
 2453              		.loc 1 1017 15 view .LVU700
 2454 0118 E443     		mvns	r4, r4
 2455 011a A4B2     		uxth	r4, r4
 2456              	.LVL234:
 2457              	.L187:
1022:ThirdPackage/lwip220/api/sockets.c **** 
 2458              		.loc 1 1022 5 is_stmt 1 view .LVU701
 2459 011c 0023     		movs	r3, #0
 2460 011e 2246     		mov	r2, r4
 2461 0120 0199     		ldr	r1, [sp, #4]
 2462 0122 3144     		add	r1, r1, r6
 2463 0124 FFF7FEFF 		bl	pbuf_copy_partial
 2464              	.LVL235:
1024:ThirdPackage/lwip220/api/sockets.c **** 
 2465              		.loc 1 1024 5 view .LVU702
1024:ThirdPackage/lwip220/api/sockets.c **** 
 2466              		.loc 1 1024 11 is_stmt 0 view .LVU703
 2467 0128 2746     		mov	r7, r4
 2468 012a 2644     		add	r6, r6, r4
 2469              	.LVL236:
1027:ThirdPackage/lwip220/api/sockets.c ****     recv_left -= copylen;
 2470              		.loc 1 1027 5 is_stmt 1 view .LVU704
1027:ThirdPackage/lwip220/api/sockets.c ****     recv_left -= copylen;
 2471              		.loc 1 1027 5 view .LVU705
 2472 012c AC42     		cmp	r4, r5
 2473 012e C7DC     		bgt	.L205
 2474              	.L188:
1027:ThirdPackage/lwip220/api/sockets.c ****     recv_left -= copylen;
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 107


 2475              		.loc 1 1027 5 discriminator 3 view .LVU706
1027:ThirdPackage/lwip220/api/sockets.c ****     recv_left -= copylen;
 2476              		.loc 1 1027 5 discriminator 3 view .LVU707
1028:ThirdPackage/lwip220/api/sockets.c **** 
 2477              		.loc 1 1028 5 discriminator 3 view .LVU708
1028:ThirdPackage/lwip220/api/sockets.c **** 
 2478              		.loc 1 1028 15 is_stmt 0 discriminator 3 view .LVU709
 2479 0130 ED1B     		subs	r5, r5, r7
 2480              	.LVL237:
1031:ThirdPackage/lwip220/api/sockets.c ****       /* ... check if there is data left in the pbuf */
 2481              		.loc 1 1031 5 is_stmt 1 discriminator 3 view .LVU710
1031:ThirdPackage/lwip220/api/sockets.c ****       /* ... check if there is data left in the pbuf */
 2482              		.loc 1 1031 8 is_stmt 0 discriminator 3 view .LVU711
 2483 0132 18F0010B 		ands	fp, r8, #1
 2484 0136 D8D1     		bne	.L189
1033:ThirdPackage/lwip220/api/sockets.c ****       if (p->tot_len - copylen > 0) {
 2485              		.loc 1 1033 7 is_stmt 1 view .LVU712
1033:ThirdPackage/lwip220/api/sockets.c ****       if (p->tot_len - copylen > 0) {
 2486              		.loc 1 1033 7 view .LVU713
 2487 0138 039B     		ldr	r3, [sp, #12]
 2488 013a 1B89     		ldrh	r3, [r3, #8]
 2489 013c A342     		cmp	r3, r4
 2490 013e C7D3     		bcc	.L206
 2491              	.L190:
1033:ThirdPackage/lwip220/api/sockets.c ****       if (p->tot_len - copylen > 0) {
 2492              		.loc 1 1033 7 discriminator 3 view .LVU714
1033:ThirdPackage/lwip220/api/sockets.c ****       if (p->tot_len - copylen > 0) {
 2493              		.loc 1 1033 7 discriminator 3 view .LVU715
1034:ThirdPackage/lwip220/api/sockets.c ****         /* If so, it should be saved in the sock structure for the next recv call.
 2494              		.loc 1 1034 7 discriminator 3 view .LVU716
1034:ThirdPackage/lwip220/api/sockets.c ****         /* If so, it should be saved in the sock structure for the next recv call.
 2495              		.loc 1 1034 12 is_stmt 0 discriminator 3 view .LVU717
 2496 0140 0398     		ldr	r0, [sp, #12]
 2497 0142 0389     		ldrh	r3, [r0, #8]
1034:ThirdPackage/lwip220/api/sockets.c ****         /* If so, it should be saved in the sock structure for the next recv call.
 2498              		.loc 1 1034 22 discriminator 3 view .LVU718
 2499 0144 DF1B     		subs	r7, r3, r7
1034:ThirdPackage/lwip220/api/sockets.c ****         /* If so, it should be saved in the sock structure for the next recv call.
 2500              		.loc 1 1034 10 discriminator 3 view .LVU719
 2501 0146 002F     		cmp	r7, #0
 2502 0148 CADD     		ble	.L191
1037:ThirdPackage/lwip220/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recv_tcp: lastdata now pbuf=%p\n", (void *)sock->lastdata
 2503              		.loc 1 1037 9 is_stmt 1 view .LVU720
1037:ThirdPackage/lwip220/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recv_tcp: lastdata now pbuf=%p\n", (void *)sock->lastdata
 2504              		.loc 1 1037 31 is_stmt 0 view .LVU721
 2505 014a 2146     		mov	r1, r4
 2506 014c FFF7FEFF 		bl	pbuf_free_header
 2507              	.LVL238:
1037:ThirdPackage/lwip220/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recv_tcp: lastdata now pbuf=%p\n", (void *)sock->lastdata
 2508              		.loc 1 1037 29 view .LVU722
 2509 0150 C9F80400 		str	r0, [r9, #4]
1038:ThirdPackage/lwip220/api/sockets.c ****       } else {
 2510              		.loc 1 1038 107 is_stmt 1 view .LVU723
 2511 0154 C9E7     		b	.L189
 2512              	.LVL239:
 2513              	.L183:
 998:ThirdPackage/lwip220/api/sockets.c ****         } else {
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 108


 2514              		.loc 1 998 18 is_stmt 0 view .LVU724
 2515 0156 0026     		movs	r6, #0
 2516              	.LVL240:
 998:ThirdPackage/lwip220/api/sockets.c ****         } else {
 2517              		.loc 1 998 18 view .LVU725
 2518 0158 97E7     		b	.L172
 2519              	.LVL241:
 2520              	.L203:
 998:ThirdPackage/lwip220/api/sockets.c ****         } else {
 2521              		.loc 1 998 18 view .LVU726
 2522              	.LBE17:
1052:ThirdPackage/lwip220/api/sockets.c ****   }
 2523              		.loc 1 1052 5 is_stmt 1 view .LVU727
 2524 015a 3146     		mov	r1, r6
 2525 015c D9F80000 		ldr	r0, [r9]
 2526 0160 FFF7FEFF 		bl	netconn_tcp_recvd
 2527              	.LVL242:
 2528 0164 91E7     		b	.L172
 2529              	.L208:
 2530 0166 00BF     		.align	2
 2531              	.L207:
 2532 0168 00000000 		.word	.LC0
 2533 016c 00000000 		.word	.LC11
 2534 0170 3C000000 		.word	.LC2
 2535 0174 10000000 		.word	.LC12
 2536 0178 00000000 		.word	errno
 2537 017c 34000000 		.word	.LC13
 2538 0180 40000000 		.word	.LC14
 2539 0184 68000000 		.word	.LC15
 2540              		.cfi_endproc
 2541              	.LFE177:
 2543              		.section	.rodata.lwip_recvfrom_udp_raw.str1.4,"aMS",%progbits,1
 2544              		.align	2
 2545              	.LC16:
 2546 0000 62756620 		.ascii	"buf != NULL\000"
 2546      213D204E 
 2546      554C4C00 
 2547              		.section	.text.lwip_recvfrom_udp_raw,"ax",%progbits
 2548              		.align	1
 2549              		.syntax unified
 2550              		.thumb
 2551              		.thumb_func
 2553              	lwip_recvfrom_udp_raw:
 2554              	.LVL243:
 2555              	.LFB180:
1127:ThirdPackage/lwip220/api/sockets.c ****   struct netbuf *buf;
 2556              		.loc 1 1127 1 view -0
 2557              		.cfi_startproc
 2558              		@ args = 4, pretend = 0, frame = 8
 2559              		@ frame_needed = 0, uses_anonymous_args = 0
1127:ThirdPackage/lwip220/api/sockets.c ****   struct netbuf *buf;
 2560              		.loc 1 1127 1 is_stmt 0 view .LVU729
 2561 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 2562              	.LCFI40:
 2563              		.cfi_def_cfa_offset 36
 2564              		.cfi_offset 4, -36
 2565              		.cfi_offset 5, -32
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 109


 2566              		.cfi_offset 6, -28
 2567              		.cfi_offset 7, -24
 2568              		.cfi_offset 8, -20
 2569              		.cfi_offset 9, -16
 2570              		.cfi_offset 10, -12
 2571              		.cfi_offset 11, -8
 2572              		.cfi_offset 14, -4
 2573 0004 85B0     		sub	sp, sp, #20
 2574              	.LCFI41:
 2575              		.cfi_def_cfa_offset 56
 2576 0006 8146     		mov	r9, r0
 2577 0008 8846     		mov	r8, r1
 2578 000a 1646     		mov	r6, r2
 2579 000c 9A46     		mov	r10, r3
1128:ThirdPackage/lwip220/api/sockets.c ****   u8_t apiflags;
 2580              		.loc 1 1128 3 is_stmt 1 view .LVU730
1129:ThirdPackage/lwip220/api/sockets.c ****   err_t err;
 2581              		.loc 1 1129 3 view .LVU731
1130:ThirdPackage/lwip220/api/sockets.c ****   u16_t buflen, copylen, copied;
 2582              		.loc 1 1130 3 view .LVU732
1131:ThirdPackage/lwip220/api/sockets.c ****   msg_iovlen_t i;
 2583              		.loc 1 1131 3 view .LVU733
1132:ThirdPackage/lwip220/api/sockets.c **** 
 2584              		.loc 1 1132 3 view .LVU734
1134:ThirdPackage/lwip220/api/sockets.c ****   LWIP_ERROR("lwip_recvfrom_udp_raw: invalid arguments", (msg->msg_iov != NULL) || (msg->msg_iovlen
 2585              		.loc 1 1134 3 view .LVU735
1135:ThirdPackage/lwip220/api/sockets.c **** 
 2586              		.loc 1 1135 3 view .LVU736
1135:ThirdPackage/lwip220/api/sockets.c **** 
 2587              		.loc 1 1135 3 view .LVU737
 2588 000e 9368     		ldr	r3, [r2, #8]
 2589              	.LVL244:
1135:ThirdPackage/lwip220/api/sockets.c **** 
 2590              		.loc 1 1135 3 is_stmt 0 view .LVU738
 2591 0010 6BB1     		cbz	r3, .L226
 2592              	.L210:
1135:ThirdPackage/lwip220/api/sockets.c **** 
 2593              		.loc 1 1135 3 is_stmt 1 discriminator 4 view .LVU739
1135:ThirdPackage/lwip220/api/sockets.c **** 
 2594              		.loc 1 1135 3 discriminator 4 view .LVU740
1137:ThirdPackage/lwip220/api/sockets.c ****     apiflags = NETCONN_DONTBLOCK;
 2595              		.loc 1 1137 3 discriminator 4 view .LVU741
1137:ThirdPackage/lwip220/api/sockets.c ****     apiflags = NETCONN_DONTBLOCK;
 2596              		.loc 1 1137 6 is_stmt 0 discriminator 4 view .LVU742
 2597 0012 18F0080F 		tst	r8, #8
 2598 0016 10D0     		beq	.L223
1138:ThirdPackage/lwip220/api/sockets.c ****   } else {
 2599              		.loc 1 1138 14 view .LVU743
 2600 0018 0422     		movs	r2, #4
 2601              	.LVL245:
 2602              	.L212:
1143:ThirdPackage/lwip220/api/sockets.c ****   /* Check if there is data left from the last recv operation. */
 2603              		.loc 1 1143 121 is_stmt 1 view .LVU744
1145:ThirdPackage/lwip220/api/sockets.c ****   if (buf == NULL) {
 2604              		.loc 1 1145 3 view .LVU745
1145:ThirdPackage/lwip220/api/sockets.c ****   if (buf == NULL) {
 2605              		.loc 1 1145 23 is_stmt 0 view .LVU746
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 110


 2606 001a D9F80430 		ldr	r3, [r9, #4]
1145:ThirdPackage/lwip220/api/sockets.c ****   if (buf == NULL) {
 2607              		.loc 1 1145 7 view .LVU747
 2608 001e 0393     		str	r3, [sp, #12]
1146:ThirdPackage/lwip220/api/sockets.c ****     /* No data was left from the previous operation, so we try to get
 2609              		.loc 1 1146 3 is_stmt 1 view .LVU748
1146:ThirdPackage/lwip220/api/sockets.c ****     /* No data was left from the previous operation, so we try to get
 2610              		.loc 1 1146 6 is_stmt 0 view .LVU749
 2611 0020 6BB1     		cbz	r3, .L227
 2612              	.LVL246:
 2613              	.L213:
1159:ThirdPackage/lwip220/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom_udp_raw: buflen=%"U16_F"\n", buflen));
 2614              		.loc 1 1159 3 is_stmt 1 view .LVU750
1159:ThirdPackage/lwip220/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom_udp_raw: buflen=%"U16_F"\n", buflen));
 2615              		.loc 1 1159 15 is_stmt 0 view .LVU751
 2616 0022 039B     		ldr	r3, [sp, #12]
 2617 0024 1B68     		ldr	r3, [r3]
1159:ThirdPackage/lwip220/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom_udp_raw: buflen=%"U16_F"\n", buflen));
 2618              		.loc 1 1159 10 view .LVU752
 2619 0026 1F89     		ldrh	r7, [r3, #8]
 2620              	.LVL247:
1160:ThirdPackage/lwip220/api/sockets.c **** 
 2621              		.loc 1 1160 83 is_stmt 1 view .LVU753
1162:ThirdPackage/lwip220/api/sockets.c ****   /* copy the pbuf payload into the iovs */
 2622              		.loc 1 1162 3 view .LVU754
1164:ThirdPackage/lwip220/api/sockets.c ****     u16_t len_left = (u16_t)(buflen - copied);
 2623              		.loc 1 1164 3 view .LVU755
1164:ThirdPackage/lwip220/api/sockets.c ****     u16_t len_left = (u16_t)(buflen - copied);
 2624              		.loc 1 1164 10 is_stmt 0 view .LVU756
 2625 0028 0025     		movs	r5, #0
1162:ThirdPackage/lwip220/api/sockets.c ****   /* copy the pbuf payload into the iovs */
 2626              		.loc 1 1162 10 view .LVU757
 2627 002a AB46     		mov	fp, r5
1164:ThirdPackage/lwip220/api/sockets.c ****     u16_t len_left = (u16_t)(buflen - copied);
 2628              		.loc 1 1164 3 view .LVU758
 2629 002c 27E0     		b	.L215
 2630              	.LVL248:
 2631              	.L226:
1135:ThirdPackage/lwip220/api/sockets.c **** 
 2632              		.loc 1 1135 3 discriminator 1 view .LVU759
 2633 002e D368     		ldr	r3, [r2, #12]
 2634 0030 002B     		cmp	r3, #0
 2635 0032 EEDD     		ble	.L210
1135:ThirdPackage/lwip220/api/sockets.c **** 
 2636              		.loc 1 1135 3 view .LVU760
 2637 0034 6FF00F00 		mvn	r0, #15
 2638              	.LVL249:
1135:ThirdPackage/lwip220/api/sockets.c **** 
 2639              		.loc 1 1135 3 view .LVU761
 2640 0038 45E0     		b	.L211
 2641              	.LVL250:
 2642              	.L223:
1140:ThirdPackage/lwip220/api/sockets.c ****   }
 2643              		.loc 1 1140 14 view .LVU762
 2644 003a 0022     		movs	r2, #0
 2645              	.LVL251:
1140:ThirdPackage/lwip220/api/sockets.c ****   }
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 111


 2646              		.loc 1 1140 14 view .LVU763
 2647 003c EDE7     		b	.L212
 2648              	.LVL252:
 2649              	.L227:
1149:ThirdPackage/lwip220/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom_udp_raw[UDP/RAW]: netconn_recv err=%d, netbuf=%p\n",
 2650              		.loc 1 1149 5 is_stmt 1 view .LVU764
1149:ThirdPackage/lwip220/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom_udp_raw[UDP/RAW]: netconn_recv err=%d, netbuf=%p\n",
 2651              		.loc 1 1149 11 is_stmt 0 view .LVU765
 2652 003e 03A9     		add	r1, sp, #12
 2653              	.LVL253:
1149:ThirdPackage/lwip220/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom_udp_raw[UDP/RAW]: netconn_recv err=%d, netbuf=%p\n",
 2654              		.loc 1 1149 11 view .LVU766
 2655 0040 D9F80000 		ldr	r0, [r9]
 2656              	.LVL254:
1149:ThirdPackage/lwip220/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom_udp_raw[UDP/RAW]: netconn_recv err=%d, netbuf=%p\n",
 2657              		.loc 1 1149 11 view .LVU767
 2658 0044 FFF7FEFF 		bl	netconn_recv_udp_raw_netbuf_flags
 2659              	.LVL255:
1151:ThirdPackage/lwip220/api/sockets.c **** 
 2660              		.loc 1 1151 51 is_stmt 1 view .LVU768
1153:ThirdPackage/lwip220/api/sockets.c ****       return err;
 2661              		.loc 1 1153 5 view .LVU769
1153:ThirdPackage/lwip220/api/sockets.c ****       return err;
 2662              		.loc 1 1153 8 is_stmt 0 view .LVU770
 2663 0048 0028     		cmp	r0, #0
 2664 004a 3CD1     		bne	.L211
1156:ThirdPackage/lwip220/api/sockets.c ****     sock->lastdata.netbuf = buf;
 2665              		.loc 1 1156 5 is_stmt 1 view .LVU771
1156:ThirdPackage/lwip220/api/sockets.c ****     sock->lastdata.netbuf = buf;
 2666              		.loc 1 1156 5 view .LVU772
 2667 004c 039B     		ldr	r3, [sp, #12]
 2668 004e 1BB1     		cbz	r3, .L228
 2669              	.LVL256:
 2670              	.L214:
1156:ThirdPackage/lwip220/api/sockets.c ****     sock->lastdata.netbuf = buf;
 2671              		.loc 1 1156 5 discriminator 3 view .LVU773
1156:ThirdPackage/lwip220/api/sockets.c ****     sock->lastdata.netbuf = buf;
 2672              		.loc 1 1156 5 discriminator 3 view .LVU774
1157:ThirdPackage/lwip220/api/sockets.c ****   }
 2673              		.loc 1 1157 5 discriminator 3 view .LVU775
1157:ThirdPackage/lwip220/api/sockets.c ****   }
 2674              		.loc 1 1157 27 is_stmt 0 discriminator 3 view .LVU776
 2675 0050 039B     		ldr	r3, [sp, #12]
 2676 0052 C9F80430 		str	r3, [r9, #4]
 2677 0056 E4E7     		b	.L213
 2678              	.LVL257:
 2679              	.L228:
1156:ThirdPackage/lwip220/api/sockets.c ****     sock->lastdata.netbuf = buf;
 2680              		.loc 1 1156 5 is_stmt 1 discriminator 1 view .LVU777
1156:ThirdPackage/lwip220/api/sockets.c ****     sock->lastdata.netbuf = buf;
 2681              		.loc 1 1156 5 discriminator 1 view .LVU778
 2682 0058 264B     		ldr	r3, .L231
 2683 005a 40F28442 		movw	r2, #1156
 2684 005e 2649     		ldr	r1, .L231+4
 2685 0060 2648     		ldr	r0, .L231+8
 2686              	.LVL258:
1156:ThirdPackage/lwip220/api/sockets.c ****     sock->lastdata.netbuf = buf;
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 112


 2687              		.loc 1 1156 5 is_stmt 0 discriminator 1 view .LVU779
 2688 0062 FFF7FEFF 		bl	printf
 2689              	.LVL259:
 2690 0066 F3E7     		b	.L214
 2691              	.LVL260:
 2692              	.L216:
 2693              	.LBB18:
1174:ThirdPackage/lwip220/api/sockets.c ****     copied = (u16_t)(copied + copylen);
 2694              		.loc 1 1174 5 is_stmt 1 discriminator 2 view .LVU780
 2695 0068 5B46     		mov	r3, fp
 2696 006a 2246     		mov	r2, r4
 2697 006c 0958     		ldr	r1, [r1, r0]
 2698 006e 0398     		ldr	r0, [sp, #12]
 2699 0070 0068     		ldr	r0, [r0]
 2700 0072 FFF7FEFF 		bl	pbuf_copy_partial
 2701              	.LVL261:
1175:ThirdPackage/lwip220/api/sockets.c ****   }
 2702              		.loc 1 1175 5 discriminator 2 view .LVU781
1175:ThirdPackage/lwip220/api/sockets.c ****   }
 2703              		.loc 1 1175 12 is_stmt 0 discriminator 2 view .LVU782
 2704 0076 5C44     		add	r4, r4, fp
 2705              	.LVL262:
1175:ThirdPackage/lwip220/api/sockets.c ****   }
 2706              		.loc 1 1175 12 discriminator 2 view .LVU783
 2707 0078 1FFA84FB 		uxth	fp, r4
 2708              	.LVL263:
1175:ThirdPackage/lwip220/api/sockets.c ****   }
 2709              		.loc 1 1175 12 discriminator 2 view .LVU784
 2710              	.LBE18:
1164:ThirdPackage/lwip220/api/sockets.c ****     u16_t len_left = (u16_t)(buflen - copied);
 2711              		.loc 1 1164 59 is_stmt 1 discriminator 2 view .LVU785
1164:ThirdPackage/lwip220/api/sockets.c ****     u16_t len_left = (u16_t)(buflen - copied);
 2712              		.loc 1 1164 60 is_stmt 0 discriminator 2 view .LVU786
 2713 007c 0135     		adds	r5, r5, #1
 2714              	.LVL264:
 2715              	.L215:
1164:ThirdPackage/lwip220/api/sockets.c ****     u16_t len_left = (u16_t)(buflen - copied);
 2716              		.loc 1 1164 15 is_stmt 1 discriminator 1 view .LVU787
1164:ThirdPackage/lwip220/api/sockets.c ****     u16_t len_left = (u16_t)(buflen - copied);
 2717              		.loc 1 1164 23 is_stmt 0 discriminator 1 view .LVU788
 2718 007e F368     		ldr	r3, [r6, #12]
1164:ThirdPackage/lwip220/api/sockets.c ****     u16_t len_left = (u16_t)(buflen - copied);
 2719              		.loc 1 1164 3 discriminator 1 view .LVU789
 2720 0080 AB42     		cmp	r3, r5
 2721 0082 0DDD     		ble	.L217
1164:ThirdPackage/lwip220/api/sockets.c ****     u16_t len_left = (u16_t)(buflen - copied);
 2722              		.loc 1 1164 37 discriminator 3 view .LVU790
 2723 0084 BB45     		cmp	fp, r7
 2724 0086 0BD2     		bcs	.L217
 2725              	.LBB19:
1165:ThirdPackage/lwip220/api/sockets.c ****     if (msg->msg_iov[i].iov_len > len_left) {
 2726              		.loc 1 1165 5 is_stmt 1 view .LVU791
1165:ThirdPackage/lwip220/api/sockets.c ****     if (msg->msg_iov[i].iov_len > len_left) {
 2727              		.loc 1 1165 11 is_stmt 0 view .LVU792
 2728 0088 A7EB0B04 		sub	r4, r7, fp
 2729 008c A4B2     		uxth	r4, r4
 2730              	.LVL265:
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 113


1166:ThirdPackage/lwip220/api/sockets.c ****       copylen = len_left;
 2731              		.loc 1 1166 5 is_stmt 1 view .LVU793
1166:ThirdPackage/lwip220/api/sockets.c ****       copylen = len_left;
 2732              		.loc 1 1166 12 is_stmt 0 view .LVU794
 2733 008e B168     		ldr	r1, [r6, #8]
1166:ThirdPackage/lwip220/api/sockets.c ****       copylen = len_left;
 2734              		.loc 1 1166 21 view .LVU795
 2735 0090 E800     		lsls	r0, r5, #3
 2736 0092 01EBC503 		add	r3, r1, r5, lsl #3
1166:ThirdPackage/lwip220/api/sockets.c ****       copylen = len_left;
 2737              		.loc 1 1166 24 view .LVU796
 2738 0096 5B68     		ldr	r3, [r3, #4]
1166:ThirdPackage/lwip220/api/sockets.c ****       copylen = len_left;
 2739              		.loc 1 1166 8 view .LVU797
 2740 0098 A342     		cmp	r3, r4
 2741 009a E5D8     		bhi	.L216
1169:ThirdPackage/lwip220/api/sockets.c ****     }
 2742              		.loc 1 1169 7 is_stmt 1 view .LVU798
1169:ThirdPackage/lwip220/api/sockets.c ****     }
 2743              		.loc 1 1169 15 is_stmt 0 view .LVU799
 2744 009c 9CB2     		uxth	r4, r3
 2745              	.LVL266:
1169:ThirdPackage/lwip220/api/sockets.c ****     }
 2746              		.loc 1 1169 15 view .LVU800
 2747 009e E3E7     		b	.L216
 2748              	.LVL267:
 2749              	.L217:
1169:ThirdPackage/lwip220/api/sockets.c ****     }
 2750              		.loc 1 1169 15 view .LVU801
 2751              	.LBE19:
1180:ThirdPackage/lwip220/api/sockets.c **** #endif /* !SOCKETS_DEBUG */
 2752              		.loc 1 1180 3 is_stmt 1 view .LVU802
1180:ThirdPackage/lwip220/api/sockets.c **** #endif /* !SOCKETS_DEBUG */
 2753              		.loc 1 1180 10 is_stmt 0 view .LVU803
 2754 00a0 3368     		ldr	r3, [r6]
1180:ThirdPackage/lwip220/api/sockets.c **** #endif /* !SOCKETS_DEBUG */
 2755              		.loc 1 1180 6 view .LVU804
 2756 00a2 0BB1     		cbz	r3, .L219
1180:ThirdPackage/lwip220/api/sockets.c **** #endif /* !SOCKETS_DEBUG */
 2757              		.loc 1 1180 27 discriminator 1 view .LVU805
 2758 00a4 7268     		ldr	r2, [r6, #4]
1180:ThirdPackage/lwip220/api/sockets.c **** #endif /* !SOCKETS_DEBUG */
 2759              		.loc 1 1180 21 discriminator 1 view .LVU806
 2760 00a6 8AB9     		cbnz	r2, .L229
 2761              	.L219:
1193:ThirdPackage/lwip220/api/sockets.c **** 
 2762              		.loc 1 1193 3 is_stmt 1 view .LVU807
1193:ThirdPackage/lwip220/api/sockets.c **** 
 2763              		.loc 1 1193 18 is_stmt 0 view .LVU808
 2764 00a8 0023     		movs	r3, #0
 2765 00aa B361     		str	r3, [r6, #24]
1195:ThirdPackage/lwip220/api/sockets.c ****     u8_t wrote_msg = 0;
 2766              		.loc 1 1195 3 is_stmt 1 view .LVU809
1195:ThirdPackage/lwip220/api/sockets.c ****     u8_t wrote_msg = 0;
 2767              		.loc 1 1195 10 is_stmt 0 view .LVU810
 2768 00ac 3369     		ldr	r3, [r6, #16]
1195:ThirdPackage/lwip220/api/sockets.c ****     u8_t wrote_msg = 0;
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 114


 2769              		.loc 1 1195 6 view .LVU811
 2770 00ae 0BB1     		cbz	r3, .L220
 2771              	.LBB20:
1196:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_NETBUF_RECVINFO
 2772              		.loc 1 1196 5 is_stmt 1 view .LVU812
 2773              	.LVL268:
1220:ThirdPackage/lwip220/api/sockets.c ****       msg->msg_controllen = 0;
 2774              		.loc 1 1220 5 view .LVU813
1221:ThirdPackage/lwip220/api/sockets.c ****     }
 2775              		.loc 1 1221 7 view .LVU814
1221:ThirdPackage/lwip220/api/sockets.c ****     }
 2776              		.loc 1 1221 27 is_stmt 0 view .LVU815
 2777 00b0 0023     		movs	r3, #0
 2778 00b2 7361     		str	r3, [r6, #20]
 2779              	.LVL269:
 2780              	.L220:
1221:ThirdPackage/lwip220/api/sockets.c ****     }
 2781              		.loc 1 1221 27 view .LVU816
 2782              	.LBE20:
1226:ThirdPackage/lwip220/api/sockets.c ****     sock->lastdata.netbuf = NULL;
 2783              		.loc 1 1226 3 is_stmt 1 view .LVU817
1226:ThirdPackage/lwip220/api/sockets.c ****     sock->lastdata.netbuf = NULL;
 2784              		.loc 1 1226 6 is_stmt 0 view .LVU818
 2785 00b4 18F0010F 		tst	r8, #1
 2786 00b8 12D0     		beq	.L230
 2787              	.L221:
1230:ThirdPackage/lwip220/api/sockets.c ****     *datagram_len = buflen;
 2788              		.loc 1 1230 3 is_stmt 1 view .LVU819
1230:ThirdPackage/lwip220/api/sockets.c ****     *datagram_len = buflen;
 2789              		.loc 1 1230 6 is_stmt 0 view .LVU820
 2790 00ba BAF1000F 		cmp	r10, #0
 2791 00be 16D0     		beq	.L224
1231:ThirdPackage/lwip220/api/sockets.c ****   }
 2792              		.loc 1 1231 5 is_stmt 1 view .LVU821
1231:ThirdPackage/lwip220/api/sockets.c ****   }
 2793              		.loc 1 1231 19 is_stmt 0 view .LVU822
 2794 00c0 AAF80070 		strh	r7, [r10]	@ movhi
1233:ThirdPackage/lwip220/api/sockets.c **** }
 2795              		.loc 1 1233 10 view .LVU823
 2796 00c4 0020     		movs	r0, #0
 2797              	.LVL270:
 2798              	.L211:
1234:ThirdPackage/lwip220/api/sockets.c **** 
 2799              		.loc 1 1234 1 view .LVU824
 2800 00c6 05B0     		add	sp, sp, #20
 2801              	.LCFI42:
 2802              		.cfi_remember_state
 2803              		.cfi_def_cfa_offset 36
 2804              		@ sp needed
 2805 00c8 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 2806              	.LVL271:
 2807              	.L229:
 2808              	.LCFI43:
 2809              		.cfi_restore_state
1183:ThirdPackage/lwip220/api/sockets.c ****     ip_addr_debug_print_val(SOCKETS_DEBUG, *netbuf_fromaddr(buf));
 2810              		.loc 1 1183 77 is_stmt 1 view .LVU825
1184:ThirdPackage/lwip220/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, (" port=%"U16_F" len=%d\n", netbuf_fromport(buf), copied));
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 115


 2811              		.loc 1 1184 66 view .LVU826
1185:ThirdPackage/lwip220/api/sockets.c ****     if (msg->msg_name && msg->msg_namelen) {
 2812              		.loc 1 1185 90 view .LVU827
1186:ThirdPackage/lwip220/api/sockets.c ****       lwip_sock_make_addr(sock->conn, netbuf_fromaddr(buf), netbuf_fromport(buf),
 2813              		.loc 1 1186 5 view .LVU828
1187:ThirdPackage/lwip220/api/sockets.c ****                           (struct sockaddr *)msg->msg_name, &msg->msg_namelen);
 2814              		.loc 1 1187 7 view .LVU829
1187:ThirdPackage/lwip220/api/sockets.c ****                           (struct sockaddr *)msg->msg_name, &msg->msg_namelen);
 2815              		.loc 1 1187 39 is_stmt 0 view .LVU830
 2816 00cc 0399     		ldr	r1, [sp, #12]
1187:ThirdPackage/lwip220/api/sockets.c ****                           (struct sockaddr *)msg->msg_name, &msg->msg_namelen);
 2817              		.loc 1 1187 7 view .LVU831
 2818 00ce 8A89     		ldrh	r2, [r1, #12]
 2819 00d0 301D     		adds	r0, r6, #4
 2820 00d2 0090     		str	r0, [sp]
 2821 00d4 0831     		adds	r1, r1, #8
 2822 00d6 D9F80000 		ldr	r0, [r9]
 2823 00da FFF7FEFF 		bl	lwip_sock_make_addr
 2824              	.LVL272:
 2825 00de E3E7     		b	.L219
 2826              	.L230:
1227:ThirdPackage/lwip220/api/sockets.c ****     netbuf_delete(buf);
 2827              		.loc 1 1227 5 is_stmt 1 view .LVU832
1227:ThirdPackage/lwip220/api/sockets.c ****     netbuf_delete(buf);
 2828              		.loc 1 1227 27 is_stmt 0 view .LVU833
 2829 00e0 0023     		movs	r3, #0
 2830 00e2 C9F80430 		str	r3, [r9, #4]
1228:ThirdPackage/lwip220/api/sockets.c ****   }
 2831              		.loc 1 1228 5 is_stmt 1 view .LVU834
 2832 00e6 0398     		ldr	r0, [sp, #12]
 2833 00e8 FFF7FEFF 		bl	netbuf_delete
 2834              	.LVL273:
 2835 00ec E5E7     		b	.L221
 2836              	.L224:
1233:ThirdPackage/lwip220/api/sockets.c **** }
 2837              		.loc 1 1233 10 is_stmt 0 view .LVU835
 2838 00ee 0020     		movs	r0, #0
 2839 00f0 E9E7     		b	.L211
 2840              	.L232:
 2841 00f2 00BF     		.align	2
 2842              	.L231:
 2843 00f4 00000000 		.word	.LC0
 2844 00f8 00000000 		.word	.LC16
 2845 00fc 3C000000 		.word	.LC2
 2846              		.cfi_endproc
 2847              	.LFE180:
 2849              		.section	.text.select_check_waiters,"ax",%progbits
 2850              		.align	1
 2851              		.syntax unified
 2852              		.thumb
 2853              		.thumb_func
 2855              	select_check_waiters:
 2856              	.LVL274:
 2857              	.LFB200:
2622:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_select_cb *scb;
 2858              		.loc 1 2622 1 is_stmt 1 view -0
 2859              		.cfi_startproc
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 116


 2860              		@ args = 0, pretend = 0, frame = 0
 2861              		@ frame_needed = 0, uses_anonymous_args = 0
2622:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_select_cb *scb;
 2862              		.loc 1 2622 1 is_stmt 0 view .LVU837
 2863 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 2864              	.LCFI44:
 2865              		.cfi_def_cfa_offset 24
 2866              		.cfi_offset 4, -24
 2867              		.cfi_offset 5, -20
 2868              		.cfi_offset 6, -16
 2869              		.cfi_offset 7, -12
 2870              		.cfi_offset 8, -8
 2871              		.cfi_offset 14, -4
 2872 0004 82B0     		sub	sp, sp, #8
 2873              	.LCFI45:
 2874              		.cfi_def_cfa_offset 32
 2875 0006 0546     		mov	r5, r0
 2876 0008 0E46     		mov	r6, r1
 2877 000a 9046     		mov	r8, r2
 2878 000c 1F46     		mov	r7, r3
2623:ThirdPackage/lwip220/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
 2879              		.loc 1 2623 3 is_stmt 1 view .LVU838
2629:ThirdPackage/lwip220/api/sockets.c **** 
 2880              		.loc 1 2629 28 view .LVU839
2637:ThirdPackage/lwip220/api/sockets.c ****     if (scb->sem_signalled == 0) {
 2881              		.loc 1 2637 3 view .LVU840
2637:ThirdPackage/lwip220/api/sockets.c ****     if (scb->sem_signalled == 0) {
 2882              		.loc 1 2637 12 is_stmt 0 view .LVU841
 2883 000e 354B     		ldr	r3, .L253
 2884              	.LVL275:
2637:ThirdPackage/lwip220/api/sockets.c ****     if (scb->sem_signalled == 0) {
 2885              		.loc 1 2637 12 view .LVU842
 2886 0010 1C68     		ldr	r4, [r3]
 2887              	.LVL276:
2637:ThirdPackage/lwip220/api/sockets.c ****     if (scb->sem_signalled == 0) {
 2888              		.loc 1 2637 3 view .LVU843
 2889 0012 4DE0     		b	.L234
 2890              	.LVL277:
 2891              	.L236:
 2892              	.LBB21:
2652:ThirdPackage/lwip220/api/sockets.c ****           if (scb->readset && FD_ISSET(s, scb->readset)) {
 2893              		.loc 1 2652 9 is_stmt 1 view .LVU844
2652:ThirdPackage/lwip220/api/sockets.c ****           if (scb->readset && FD_ISSET(s, scb->readset)) {
 2894              		.loc 1 2652 12 is_stmt 0 view .LVU845
 2895 0014 BEB1     		cbz	r6, .L245
2653:ThirdPackage/lwip220/api/sockets.c ****             do_signal = 1;
 2896              		.loc 1 2653 11 is_stmt 1 view .LVU846
2653:ThirdPackage/lwip220/api/sockets.c ****             do_signal = 1;
 2897              		.loc 1 2653 18 is_stmt 0 view .LVU847
 2898 0016 A268     		ldr	r2, [r4, #8]
2653:ThirdPackage/lwip220/api/sockets.c ****             do_signal = 1;
 2899              		.loc 1 2653 14 view .LVU848
 2900 0018 B2B1     		cbz	r2, .L238
2653:ThirdPackage/lwip220/api/sockets.c ****             do_signal = 1;
 2901              		.loc 1 2653 31 discriminator 1 view .LVU849
 2902 001a 2B46     		mov	r3, r5
 2903 001c 002D     		cmp	r5, #0
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 117


 2904 001e 0FDB     		blt	.L249
 2905              	.L239:
2653:ThirdPackage/lwip220/api/sockets.c ****             do_signal = 1;
 2906              		.loc 1 2653 31 discriminator 1 view .LVU850
 2907 0020 5B11     		asrs	r3, r3, #5
 2908 0022 52F82330 		ldr	r3, [r2, r3, lsl #2]
 2909 0026 6942     		rsbs	r1, r5, #0
 2910 0028 05F01F02 		and	r2, r5, #31
 2911 002c 01F01F01 		and	r1, r1, #31
 2912 0030 58BF     		it	pl
 2913 0032 4A42     		rsbpl	r2, r1, #0
 2914 0034 D340     		lsrs	r3, r3, r2
2653:ThirdPackage/lwip220/api/sockets.c ****             do_signal = 1;
 2915              		.loc 1 2653 28 discriminator 1 view .LVU851
 2916 0036 13F0010F 		tst	r3, #1
 2917 003a 05D0     		beq	.L238
2654:ThirdPackage/lwip220/api/sockets.c ****           }
 2918              		.loc 1 2654 23 view .LVU852
 2919 003c 0120     		movs	r0, #1
 2920 003e 03E0     		b	.L238
 2921              	.LVL278:
 2922              	.L249:
2653:ThirdPackage/lwip220/api/sockets.c ****             do_signal = 1;
 2923              		.loc 1 2653 31 discriminator 1 view .LVU853
 2924 0040 05F11F03 		add	r3, r5, #31
 2925              	.LVL279:
2653:ThirdPackage/lwip220/api/sockets.c ****             do_signal = 1;
 2926              		.loc 1 2653 31 discriminator 1 view .LVU854
 2927 0044 ECE7     		b	.L239
 2928              	.L245:
2640:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_SOCKET_POLL
 2929              		.loc 1 2640 11 view .LVU855
 2930 0046 3046     		mov	r0, r6
 2931              	.L238:
 2932              	.LVL280:
2657:ThirdPackage/lwip220/api/sockets.c ****           if (!do_signal && scb->writeset && FD_ISSET(s, scb->writeset)) {
 2933              		.loc 1 2657 9 is_stmt 1 view .LVU856
2657:ThirdPackage/lwip220/api/sockets.c ****           if (!do_signal && scb->writeset && FD_ISSET(s, scb->writeset)) {
 2934              		.loc 1 2657 12 is_stmt 0 view .LVU857
 2935 0048 B8F1000F 		cmp	r8, #0
 2936 004c 14D0     		beq	.L240
2658:ThirdPackage/lwip220/api/sockets.c ****             do_signal = 1;
 2937              		.loc 1 2658 11 is_stmt 1 view .LVU858
2658:ThirdPackage/lwip220/api/sockets.c ****             do_signal = 1;
 2938              		.loc 1 2658 14 is_stmt 0 view .LVU859
 2939 004e 98B9     		cbnz	r0, .L240
2658:ThirdPackage/lwip220/api/sockets.c ****             do_signal = 1;
 2940              		.loc 1 2658 32 discriminator 1 view .LVU860
 2941 0050 E268     		ldr	r2, [r4, #12]
2658:ThirdPackage/lwip220/api/sockets.c ****             do_signal = 1;
 2942              		.loc 1 2658 26 discriminator 1 view .LVU861
 2943 0052 8AB1     		cbz	r2, .L240
2658:ThirdPackage/lwip220/api/sockets.c ****             do_signal = 1;
 2944              		.loc 1 2658 46 discriminator 2 view .LVU862
 2945 0054 2B46     		mov	r3, r5
 2946 0056 002D     		cmp	r5, #0
 2947 0058 3BDB     		blt	.L250
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 118


 2948              	.L241:
2658:ThirdPackage/lwip220/api/sockets.c ****             do_signal = 1;
 2949              		.loc 1 2658 46 discriminator 2 view .LVU863
 2950 005a 5B11     		asrs	r3, r3, #5
 2951 005c 52F82330 		ldr	r3, [r2, r3, lsl #2]
 2952 0060 6942     		rsbs	r1, r5, #0
 2953 0062 05F01F02 		and	r2, r5, #31
 2954 0066 01F01F01 		and	r1, r1, #31
 2955 006a 58BF     		it	pl
 2956 006c 4A42     		rsbpl	r2, r1, #0
 2957 006e D340     		lsrs	r3, r3, r2
2658:ThirdPackage/lwip220/api/sockets.c ****             do_signal = 1;
 2958              		.loc 1 2658 43 discriminator 2 view .LVU864
 2959 0070 13F0010F 		tst	r3, #1
 2960 0074 00D0     		beq	.L240
2659:ThirdPackage/lwip220/api/sockets.c ****           }
 2961              		.loc 1 2659 23 view .LVU865
 2962 0076 0120     		movs	r0, #1
 2963              	.LVL281:
 2964              	.L240:
2662:ThirdPackage/lwip220/api/sockets.c ****           if (!do_signal && scb->exceptset && FD_ISSET(s, scb->exceptset)) {
 2965              		.loc 1 2662 9 is_stmt 1 view .LVU866
2662:ThirdPackage/lwip220/api/sockets.c ****           if (!do_signal && scb->exceptset && FD_ISSET(s, scb->exceptset)) {
 2966              		.loc 1 2662 12 is_stmt 0 view .LVU867
 2967 0078 47B3     		cbz	r7, .L237
2663:ThirdPackage/lwip220/api/sockets.c ****             do_signal = 1;
 2968              		.loc 1 2663 11 is_stmt 1 view .LVU868
2663:ThirdPackage/lwip220/api/sockets.c ****             do_signal = 1;
 2969              		.loc 1 2663 14 is_stmt 0 view .LVU869
 2970 007a 38BB     		cbnz	r0, .L237
2663:ThirdPackage/lwip220/api/sockets.c ****             do_signal = 1;
 2971              		.loc 1 2663 32 discriminator 1 view .LVU870
 2972 007c 2269     		ldr	r2, [r4, #16]
2663:ThirdPackage/lwip220/api/sockets.c ****             do_signal = 1;
 2973              		.loc 1 2663 26 discriminator 1 view .LVU871
 2974 007e 2AB3     		cbz	r2, .L237
2663:ThirdPackage/lwip220/api/sockets.c ****             do_signal = 1;
 2975              		.loc 1 2663 47 discriminator 2 view .LVU872
 2976 0080 2B46     		mov	r3, r5
 2977 0082 002D     		cmp	r5, #0
 2978 0084 28DB     		blt	.L251
 2979              	.L242:
2663:ThirdPackage/lwip220/api/sockets.c ****             do_signal = 1;
 2980              		.loc 1 2663 47 discriminator 2 view .LVU873
 2981 0086 5B11     		asrs	r3, r3, #5
 2982 0088 52F82330 		ldr	r3, [r2, r3, lsl #2]
 2983 008c 6942     		rsbs	r1, r5, #0
 2984 008e 05F01F02 		and	r2, r5, #31
 2985 0092 01F01F01 		and	r1, r1, #31
 2986 0096 58BF     		it	pl
 2987 0098 4A42     		rsbpl	r2, r1, #0
 2988 009a D340     		lsrs	r3, r3, r2
2663:ThirdPackage/lwip220/api/sockets.c ****             do_signal = 1;
 2989              		.loc 1 2663 44 discriminator 2 view .LVU874
 2990 009c 13F0010F 		tst	r3, #1
 2991 00a0 14D0     		beq	.L237
 2992              	.L243:
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 119


 2993              	.LVL282:
2670:ThirdPackage/lwip220/api/sockets.c ****         /* For !LWIP_TCPIP_CORE_LOCKING, we don't call SYS_ARCH_UNPROTECT() before signaling
 2994              		.loc 1 2670 9 is_stmt 1 view .LVU875
2670:ThirdPackage/lwip220/api/sockets.c ****         /* For !LWIP_TCPIP_CORE_LOCKING, we don't call SYS_ARCH_UNPROTECT() before signaling
 2995              		.loc 1 2670 28 is_stmt 0 view .LVU876
 2996 00a2 0123     		movs	r3, #1
 2997 00a4 E361     		str	r3, [r4, #28]
2674:ThirdPackage/lwip220/api/sockets.c ****       }
 2998              		.loc 1 2674 9 is_stmt 1 view .LVU877
 2999 00a6 04F12000 		add	r0, r4, #32
 3000 00aa FFF7FEFF 		bl	sys_sem_signal
 3001              	.LVL283:
 3002              	.L235:
2674:ThirdPackage/lwip220/api/sockets.c ****       }
 3003              		.loc 1 2674 9 is_stmt 0 view .LVU878
 3004              	.LBE21:
2637:ThirdPackage/lwip220/api/sockets.c ****     if (scb->sem_signalled == 0) {
 3005              		.loc 1 2637 43 is_stmt 1 discriminator 2 view .LVU879
2637:ThirdPackage/lwip220/api/sockets.c ****     if (scb->sem_signalled == 0) {
 3006              		.loc 1 2637 47 is_stmt 0 discriminator 2 view .LVU880
 3007 00ae 2468     		ldr	r4, [r4]
 3008              	.LVL284:
 3009              	.L234:
2637:ThirdPackage/lwip220/api/sockets.c ****     if (scb->sem_signalled == 0) {
 3010              		.loc 1 2637 30 is_stmt 1 discriminator 1 view .LVU881
2637:ThirdPackage/lwip220/api/sockets.c ****     if (scb->sem_signalled == 0) {
 3011              		.loc 1 2637 3 is_stmt 0 discriminator 1 view .LVU882
 3012 00b0 ACB1     		cbz	r4, .L252
2638:ThirdPackage/lwip220/api/sockets.c ****       /* semaphore not signalled yet */
 3013              		.loc 1 2638 5 is_stmt 1 view .LVU883
2638:ThirdPackage/lwip220/api/sockets.c ****       /* semaphore not signalled yet */
 3014              		.loc 1 2638 12 is_stmt 0 view .LVU884
 3015 00b2 E069     		ldr	r0, [r4, #28]
2638:ThirdPackage/lwip220/api/sockets.c ****       /* semaphore not signalled yet */
 3016              		.loc 1 2638 8 view .LVU885
 3017 00b4 0028     		cmp	r0, #0
 3018 00b6 FAD1     		bne	.L235
 3019              	.LBB22:
2640:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_SOCKET_POLL
 3020              		.loc 1 2640 7 is_stmt 1 view .LVU886
 3021              	.LVL285:
2642:ThirdPackage/lwip220/api/sockets.c ****         do_signal = lwip_poll_should_wake(scb, s, has_recvevent, has_sendevent, has_errevent);
 3022              		.loc 1 2642 7 view .LVU887
2642:ThirdPackage/lwip220/api/sockets.c ****         do_signal = lwip_poll_should_wake(scb, s, has_recvevent, has_sendevent, has_errevent);
 3023              		.loc 1 2642 10 is_stmt 0 view .LVU888
 3024 00b8 6369     		ldr	r3, [r4, #20]
 3025 00ba 002B     		cmp	r3, #0
 3026 00bc AAD0     		beq	.L236
2643:ThirdPackage/lwip220/api/sockets.c ****       }
 3027              		.loc 1 2643 9 is_stmt 1 view .LVU889
2643:ThirdPackage/lwip220/api/sockets.c ****       }
 3028              		.loc 1 2643 21 is_stmt 0 view .LVU890
 3029 00be 0097     		str	r7, [sp]
 3030 00c0 4346     		mov	r3, r8
 3031 00c2 3246     		mov	r2, r6
 3032 00c4 2946     		mov	r1, r5
 3033 00c6 2046     		mov	r0, r4
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 120


 3034 00c8 FFF7FEFF 		bl	lwip_poll_should_wake
 3035              	.LVL286:
 3036              	.L237:
2669:ThirdPackage/lwip220/api/sockets.c ****         scb->sem_signalled = 1;
 3037              		.loc 1 2669 7 is_stmt 1 view .LVU891
2669:ThirdPackage/lwip220/api/sockets.c ****         scb->sem_signalled = 1;
 3038              		.loc 1 2669 10 is_stmt 0 view .LVU892
 3039 00cc 0028     		cmp	r0, #0
 3040 00ce EED0     		beq	.L235
2669:ThirdPackage/lwip220/api/sockets.c ****         scb->sem_signalled = 1;
 3041              		.loc 1 2669 10 view .LVU893
 3042 00d0 E7E7     		b	.L243
 3043              	.LVL287:
 3044              	.L250:
2658:ThirdPackage/lwip220/api/sockets.c ****             do_signal = 1;
 3045              		.loc 1 2658 46 discriminator 2 view .LVU894
 3046 00d2 05F11F03 		add	r3, r5, #31
 3047              	.LVL288:
2658:ThirdPackage/lwip220/api/sockets.c ****             do_signal = 1;
 3048              		.loc 1 2658 46 discriminator 2 view .LVU895
 3049 00d6 C0E7     		b	.L241
 3050              	.LVL289:
 3051              	.L251:
2663:ThirdPackage/lwip220/api/sockets.c ****             do_signal = 1;
 3052              		.loc 1 2663 47 discriminator 2 view .LVU896
 3053 00d8 05F11F03 		add	r3, r5, #31
 3054              	.LVL290:
2663:ThirdPackage/lwip220/api/sockets.c ****             do_signal = 1;
 3055              		.loc 1 2663 47 discriminator 2 view .LVU897
 3056 00dc D3E7     		b	.L242
 3057              	.LVL291:
 3058              	.L252:
2663:ThirdPackage/lwip220/api/sockets.c ****             do_signal = 1;
 3059              		.loc 1 2663 47 discriminator 2 view .LVU898
 3060              	.LBE22:
2693:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_SOCKET_SELECT || LWIP_SOCKET_POLL */
 3061              		.loc 1 2693 1 view .LVU899
 3062 00de 02B0     		add	sp, sp, #8
 3063              	.LCFI46:
 3064              		.cfi_def_cfa_offset 24
 3065              		@ sp needed
 3066 00e0 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 3067              	.LVL292:
 3068              	.L254:
2693:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_SOCKET_SELECT || LWIP_SOCKET_POLL */
 3069              		.loc 1 2693 1 view .LVU900
 3070              		.align	2
 3071              	.L253:
 3072 00e4 00000000 		.word	.LANCHOR1
 3073              		.cfi_endproc
 3074              	.LFE200:
 3076              		.section	.rodata.event_callback.str1.4,"aMS",%progbits,1
 3077              		.align	2
 3078              	.LC17:
 3079 0000 756E6B6E 		.ascii	"unknown event\000"
 3079      6F776E20 
 3079      6576656E 
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 121


 3079      7400
 3080              		.section	.text.event_callback,"ax",%progbits
 3081              		.align	1
 3082              		.syntax unified
 3083              		.thumb
 3084              		.thumb_func
 3086              	event_callback:
 3087              	.LVL293:
 3088              	.LFB199:
2523:ThirdPackage/lwip220/api/sockets.c ****   int s, check_waiters;
 3089              		.loc 1 2523 1 is_stmt 1 view -0
 3090              		.cfi_startproc
 3091              		@ args = 0, pretend = 0, frame = 0
 3092              		@ frame_needed = 0, uses_anonymous_args = 0
2524:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock;
 3093              		.loc 1 2524 3 view .LVU902
2525:ThirdPackage/lwip220/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
 3094              		.loc 1 2525 3 view .LVU903
2526:ThirdPackage/lwip220/api/sockets.c **** 
 3095              		.loc 1 2526 3 view .LVU904
2528:ThirdPackage/lwip220/api/sockets.c **** 
 3096              		.loc 1 2528 3 view .LVU905
2531:ThirdPackage/lwip220/api/sockets.c ****     s = conn->callback_arg.socket;
 3097              		.loc 1 2531 3 view .LVU906
2531:ThirdPackage/lwip220/api/sockets.c ****     s = conn->callback_arg.socket;
 3098              		.loc 1 2531 6 is_stmt 0 view .LVU907
 3099 0000 0028     		cmp	r0, #0
 3100 0002 6DD0     		beq	.L273
2523:ThirdPackage/lwip220/api/sockets.c ****   int s, check_waiters;
 3101              		.loc 1 2523 1 view .LVU908
 3102 0004 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 3103              	.LCFI47:
 3104              		.cfi_def_cfa_offset 24
 3105              		.cfi_offset 4, -24
 3106              		.cfi_offset 5, -20
 3107              		.cfi_offset 6, -16
 3108              		.cfi_offset 7, -12
 3109              		.cfi_offset 8, -8
 3110              		.cfi_offset 14, -4
 3111 0008 0C46     		mov	r4, r1
 3112 000a 0546     		mov	r5, r0
2532:ThirdPackage/lwip220/api/sockets.c ****     if (s < 0) {
 3113              		.loc 1 2532 5 is_stmt 1 view .LVU909
2532:ThirdPackage/lwip220/api/sockets.c ****     if (s < 0) {
 3114              		.loc 1 2532 7 is_stmt 0 view .LVU910
 3115 000c 8669     		ldr	r6, [r0, #24]
 3116              	.LVL294:
2533:ThirdPackage/lwip220/api/sockets.c ****       /* Data comes in right away after an accept, even though
 3117              		.loc 1 2533 5 is_stmt 1 view .LVU911
2533:ThirdPackage/lwip220/api/sockets.c ****       /* Data comes in right away after an accept, even though
 3118              		.loc 1 2533 8 is_stmt 0 view .LVU912
 3119 000e 002E     		cmp	r6, #0
 3120 0010 0EDB     		blt	.L276
 3121              	.LVL295:
 3122              	.L257:
2553:ThirdPackage/lwip220/api/sockets.c ****     if (!sock) {
 3123              		.loc 1 2553 5 is_stmt 1 view .LVU913
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 122


2553:ThirdPackage/lwip220/api/sockets.c ****     if (!sock) {
 3124              		.loc 1 2553 12 is_stmt 0 view .LVU914
 3125 0012 3046     		mov	r0, r6
 3126 0014 FFF7FEFF 		bl	get_socket
 3127              	.LVL296:
2554:ThirdPackage/lwip220/api/sockets.c ****       return;
 3128              		.loc 1 2554 5 is_stmt 1 view .LVU915
2554:ThirdPackage/lwip220/api/sockets.c ****       return;
 3129              		.loc 1 2554 8 is_stmt 0 view .LVU916
 3130 0018 0546     		mov	r5, r0
 3131              	.LVL297:
2554:ThirdPackage/lwip220/api/sockets.c ****       return;
 3132              		.loc 1 2554 8 view .LVU917
 3133 001a 68B3     		cbz	r0, .L255
2561:ThirdPackage/lwip220/api/sockets.c ****   SYS_ARCH_PROTECT(lev);
 3134              		.loc 1 2561 3 is_stmt 1 view .LVU918
 3135              	.LVL298:
2562:ThirdPackage/lwip220/api/sockets.c ****   /* Set event as required */
 3136              		.loc 1 2562 3 view .LVU919
 3137 001c FFF7FEFF 		bl	sys_arch_protect
 3138              	.LVL299:
2562:ThirdPackage/lwip220/api/sockets.c ****   /* Set event as required */
 3139              		.loc 1 2562 3 is_stmt 0 view .LVU920
 3140 0020 0746     		mov	r7, r0
 3141              	.LVL300:
2564:ThirdPackage/lwip220/api/sockets.c ****     case NETCONN_EVT_RCVPLUS:
 3142              		.loc 1 2564 3 is_stmt 1 view .LVU921
 3143 0022 042C     		cmp	r4, #4
 3144 0024 38D8     		bhi	.L260
 3145 0026 DFE804F0 		tbb	[pc, r4]
 3146              	.L262:
 3147 002a 11       		.byte	(.L266-.L262)/2
 3148 002b 1C       		.byte	(.L265-.L262)/2
 3149 002c 29       		.byte	(.L264-.L262)/2
 3150 002d 31       		.byte	(.L263-.L262)/2
 3151 002e 34       		.byte	(.L261-.L262)/2
 3152              	.LVL301:
 3153 002f 00       		.p2align 1
 3154              	.L276:
2539:ThirdPackage/lwip220/api/sockets.c ****       if (conn->callback_arg.socket < 0) {
 3155              		.loc 1 2539 7 view .LVU922
 3156 0030 FFF7FEFF 		bl	sys_arch_protect
 3157              	.LVL302:
2540:ThirdPackage/lwip220/api/sockets.c ****         if (evt == NETCONN_EVT_RCVPLUS) {
 3158              		.loc 1 2540 7 view .LVU923
2540:ThirdPackage/lwip220/api/sockets.c ****         if (evt == NETCONN_EVT_RCVPLUS) {
 3159              		.loc 1 2540 29 is_stmt 0 view .LVU924
 3160 0034 AE69     		ldr	r6, [r5, #24]
 3161              	.LVL303:
2540:ThirdPackage/lwip220/api/sockets.c ****         if (evt == NETCONN_EVT_RCVPLUS) {
 3162              		.loc 1 2540 10 view .LVU925
 3163 0036 002E     		cmp	r6, #0
 3164 0038 02DB     		blt	.L277
2549:ThirdPackage/lwip220/api/sockets.c ****       SYS_ARCH_UNPROTECT(lev);
 3165              		.loc 1 2549 7 is_stmt 1 view .LVU926
 3166              	.LVL304:
2550:ThirdPackage/lwip220/api/sockets.c ****     }
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 123


 3167              		.loc 1 2550 7 view .LVU927
 3168 003a FFF7FEFF 		bl	sys_arch_unprotect
 3169              	.LVL305:
2550:ThirdPackage/lwip220/api/sockets.c ****     }
 3170              		.loc 1 2550 7 is_stmt 0 view .LVU928
 3171 003e E8E7     		b	.L257
 3172              	.LVL306:
 3173              	.L277:
2541:ThirdPackage/lwip220/api/sockets.c ****           /* conn->socket is -1 on initialization
 3174              		.loc 1 2541 9 is_stmt 1 view .LVU929
2541:ThirdPackage/lwip220/api/sockets.c ****           /* conn->socket is -1 on initialization
 3175              		.loc 1 2541 12 is_stmt 0 view .LVU930
 3176 0040 0CB9     		cbnz	r4, .L259
2544:ThirdPackage/lwip220/api/sockets.c ****         }
 3177              		.loc 1 2544 11 is_stmt 1 view .LVU931
2544:ThirdPackage/lwip220/api/sockets.c ****         }
 3178              		.loc 1 2544 36 is_stmt 0 view .LVU932
 3179 0042 013E     		subs	r6, r6, #1
 3180 0044 AE61     		str	r6, [r5, #24]
 3181              	.L259:
2546:ThirdPackage/lwip220/api/sockets.c ****         return;
 3182              		.loc 1 2546 9 is_stmt 1 view .LVU933
 3183 0046 FFF7FEFF 		bl	sys_arch_unprotect
 3184              	.LVL307:
2547:ThirdPackage/lwip220/api/sockets.c ****       }
 3185              		.loc 1 2547 9 view .LVU934
 3186 004a 15E0     		b	.L255
 3187              	.LVL308:
 3188              	.L266:
2566:ThirdPackage/lwip220/api/sockets.c ****       if (sock->rcvevent > 1) {
 3189              		.loc 1 2566 7 view .LVU935
2566:ThirdPackage/lwip220/api/sockets.c ****       if (sock->rcvevent > 1) {
 3190              		.loc 1 2566 11 is_stmt 0 view .LVU936
 3191 004c B5F90830 		ldrsh	r3, [r5, #8]
2566:ThirdPackage/lwip220/api/sockets.c ****       if (sock->rcvevent > 1) {
 3192              		.loc 1 2566 21 view .LVU937
 3193 0050 0133     		adds	r3, r3, #1
 3194 0052 1BB2     		sxth	r3, r3
 3195 0054 2B81     		strh	r3, [r5, #8]	@ movhi
2567:ThirdPackage/lwip220/api/sockets.c ****         check_waiters = 0;
 3196              		.loc 1 2567 7 is_stmt 1 view .LVU938
2567:ThirdPackage/lwip220/api/sockets.c ****         check_waiters = 0;
 3197              		.loc 1 2567 10 is_stmt 0 view .LVU939
 3198 0056 012B     		cmp	r3, #1
 3199 0058 01DD     		ble	.L278
2568:ThirdPackage/lwip220/api/sockets.c ****       }
 3200              		.loc 1 2568 23 view .LVU940
 3201 005a 0023     		movs	r3, #0
 3202 005c 06E0     		b	.L267
 3203              	.L278:
2561:ThirdPackage/lwip220/api/sockets.c ****   SYS_ARCH_PROTECT(lev);
 3204              		.loc 1 2561 17 view .LVU941
 3205 005e 0123     		movs	r3, #1
 3206 0060 04E0     		b	.L267
 3207              	.L265:
2572:ThirdPackage/lwip220/api/sockets.c ****       check_waiters = 0;
 3208              		.loc 1 2572 7 is_stmt 1 view .LVU942
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 124


2572:ThirdPackage/lwip220/api/sockets.c ****       check_waiters = 0;
 3209              		.loc 1 2572 11 is_stmt 0 view .LVU943
 3210 0062 B5F90830 		ldrsh	r3, [r5, #8]
2572:ThirdPackage/lwip220/api/sockets.c ****       check_waiters = 0;
 3211              		.loc 1 2572 21 view .LVU944
 3212 0066 013B     		subs	r3, r3, #1
 3213 0068 2B81     		strh	r3, [r5, #8]	@ movhi
2573:ThirdPackage/lwip220/api/sockets.c ****       break;
 3214              		.loc 1 2573 7 is_stmt 1 view .LVU945
 3215              	.LVL309:
2574:ThirdPackage/lwip220/api/sockets.c ****     case NETCONN_EVT_SENDPLUS:
 3216              		.loc 1 2574 7 view .LVU946
2573:ThirdPackage/lwip220/api/sockets.c ****       break;
 3217              		.loc 1 2573 21 is_stmt 0 view .LVU947
 3218 006a 0023     		movs	r3, #0
 3219              	.LVL310:
 3220              	.L267:
2593:ThirdPackage/lwip220/api/sockets.c ****     /* Save which events are active */
 3221              		.loc 1 2593 3 is_stmt 1 view .LVU948
2593:ThirdPackage/lwip220/api/sockets.c ****     /* Save which events are active */
 3222              		.loc 1 2593 11 is_stmt 0 view .LVU949
 3223 006c AA7B     		ldrb	r2, [r5, #14]	@ zero_extendqisi2
2593:ThirdPackage/lwip220/api/sockets.c ****     /* Save which events are active */
 3224              		.loc 1 2593 6 view .LVU950
 3225 006e 02B1     		cbz	r2, .L269
2593:ThirdPackage/lwip220/api/sockets.c ****     /* Save which events are active */
 3226              		.loc 1 2593 28 discriminator 1 view .LVU951
 3227 0070 DBB9     		cbnz	r3, .L279
 3228              	.L269:
2603:ThirdPackage/lwip220/api/sockets.c ****   }
 3229              		.loc 1 2603 5 is_stmt 1 view .LVU952
 3230 0072 3846     		mov	r0, r7
 3231 0074 FFF7FEFF 		bl	sys_arch_unprotect
 3232              	.LVL311:
2605:ThirdPackage/lwip220/api/sockets.c **** }
 3233              		.loc 1 2605 20 view .LVU953
 3234              	.L255:
2606:ThirdPackage/lwip220/api/sockets.c **** 
 3235              		.loc 1 2606 1 is_stmt 0 view .LVU954
 3236 0078 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 3237              	.LVL312:
 3238              	.L264:
2576:ThirdPackage/lwip220/api/sockets.c ****         check_waiters = 0;
 3239              		.loc 1 2576 7 is_stmt 1 view .LVU955
2576:ThirdPackage/lwip220/api/sockets.c ****         check_waiters = 0;
 3240              		.loc 1 2576 15 is_stmt 0 view .LVU956
 3241 007c 6B89     		ldrh	r3, [r5, #10]
2576:ThirdPackage/lwip220/api/sockets.c ****         check_waiters = 0;
 3242              		.loc 1 2576 10 view .LVU957
 3243 007e 1BB9     		cbnz	r3, .L271
2561:ThirdPackage/lwip220/api/sockets.c ****   SYS_ARCH_PROTECT(lev);
 3244              		.loc 1 2561 17 view .LVU958
 3245 0080 0123     		movs	r3, #1
 3246              	.L268:
 3247              	.LVL313:
2579:ThirdPackage/lwip220/api/sockets.c ****       break;
 3248              		.loc 1 2579 7 is_stmt 1 view .LVU959
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 125


2579:ThirdPackage/lwip220/api/sockets.c ****       break;
 3249              		.loc 1 2579 23 is_stmt 0 view .LVU960
 3250 0082 0122     		movs	r2, #1
 3251 0084 6A81     		strh	r2, [r5, #10]	@ movhi
2580:ThirdPackage/lwip220/api/sockets.c ****     case NETCONN_EVT_SENDMINUS:
 3252              		.loc 1 2580 7 is_stmt 1 view .LVU961
 3253 0086 F1E7     		b	.L267
 3254              	.LVL314:
 3255              	.L271:
2577:ThirdPackage/lwip220/api/sockets.c ****       }
 3256              		.loc 1 2577 23 is_stmt 0 view .LVU962
 3257 0088 0023     		movs	r3, #0
 3258 008a FAE7     		b	.L268
 3259              	.L263:
2582:ThirdPackage/lwip220/api/sockets.c ****       check_waiters = 0;
 3260              		.loc 1 2582 7 is_stmt 1 view .LVU963
2582:ThirdPackage/lwip220/api/sockets.c ****       check_waiters = 0;
 3261              		.loc 1 2582 23 is_stmt 0 view .LVU964
 3262 008c 0023     		movs	r3, #0
 3263 008e 6B81     		strh	r3, [r5, #10]	@ movhi
2583:ThirdPackage/lwip220/api/sockets.c ****       break;
 3264              		.loc 1 2583 7 is_stmt 1 view .LVU965
 3265              	.LVL315:
2584:ThirdPackage/lwip220/api/sockets.c ****     case NETCONN_EVT_ERROR:
 3266              		.loc 1 2584 7 view .LVU966
 3267 0090 ECE7     		b	.L267
 3268              	.LVL316:
 3269              	.L261:
2586:ThirdPackage/lwip220/api/sockets.c ****       break;
 3270              		.loc 1 2586 7 view .LVU967
2586:ThirdPackage/lwip220/api/sockets.c ****       break;
 3271              		.loc 1 2586 22 is_stmt 0 view .LVU968
 3272 0092 0123     		movs	r3, #1
 3273 0094 AB81     		strh	r3, [r5, #12]	@ movhi
2587:ThirdPackage/lwip220/api/sockets.c ****     default:
 3274              		.loc 1 2587 7 is_stmt 1 view .LVU969
 3275 0096 E9E7     		b	.L267
 3276              	.L260:
2589:ThirdPackage/lwip220/api/sockets.c ****       break;
 3277              		.loc 1 2589 7 discriminator 1 view .LVU970
2589:ThirdPackage/lwip220/api/sockets.c ****       break;
 3278              		.loc 1 2589 7 discriminator 1 view .LVU971
2589:ThirdPackage/lwip220/api/sockets.c ****       break;
 3279              		.loc 1 2589 7 discriminator 1 view .LVU972
2589:ThirdPackage/lwip220/api/sockets.c ****       break;
 3280              		.loc 1 2589 7 discriminator 1 view .LVU973
 3281 0098 124B     		ldr	r3, .L280
 3282 009a 40F61D22 		movw	r2, #2589
 3283 009e 1249     		ldr	r1, .L280+4
 3284 00a0 1248     		ldr	r0, .L280+8
 3285              	.LVL317:
2589:ThirdPackage/lwip220/api/sockets.c ****       break;
 3286              		.loc 1 2589 7 is_stmt 0 discriminator 1 view .LVU974
 3287 00a2 FFF7FEFF 		bl	printf
 3288              	.LVL318:
2589:ThirdPackage/lwip220/api/sockets.c ****       break;
 3289              		.loc 1 2589 7 is_stmt 1 discriminator 1 view .LVU975
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 126


2589:ThirdPackage/lwip220/api/sockets.c ****       break;
 3290              		.loc 1 2589 7 discriminator 1 view .LVU976
2590:ThirdPackage/lwip220/api/sockets.c ****   }
 3291              		.loc 1 2590 7 discriminator 1 view .LVU977
2561:ThirdPackage/lwip220/api/sockets.c ****   SYS_ARCH_PROTECT(lev);
 3292              		.loc 1 2561 17 is_stmt 0 discriminator 1 view .LVU978
 3293 00a6 0123     		movs	r3, #1
2590:ThirdPackage/lwip220/api/sockets.c ****   }
 3294              		.loc 1 2590 7 discriminator 1 view .LVU979
 3295 00a8 E0E7     		b	.L267
 3296              	.LVL319:
 3297              	.L279:
 3298              	.LBB23:
2595:ThirdPackage/lwip220/api/sockets.c ****     has_recvevent = sock->rcvevent > 0;
 3299              		.loc 1 2595 5 is_stmt 1 view .LVU980
2596:ThirdPackage/lwip220/api/sockets.c ****     has_sendevent = sock->sendevent != 0;
 3300              		.loc 1 2596 5 view .LVU981
2596:ThirdPackage/lwip220/api/sockets.c ****     has_sendevent = sock->sendevent != 0;
 3301              		.loc 1 2596 25 is_stmt 0 view .LVU982
 3302 00aa B5F90840 		ldrsh	r4, [r5, #8]
2596:ThirdPackage/lwip220/api/sockets.c ****     has_sendevent = sock->sendevent != 0;
 3303              		.loc 1 2596 36 view .LVU983
 3304 00ae 002C     		cmp	r4, #0
 3305 00b0 D4BF     		ite	le
 3306 00b2 0024     		movle	r4, #0
 3307 00b4 0124     		movgt	r4, #1
 3308              	.LVL320:
2597:ThirdPackage/lwip220/api/sockets.c ****     has_errevent = sock->errevent != 0;
 3309              		.loc 1 2597 5 is_stmt 1 view .LVU984
2597:ThirdPackage/lwip220/api/sockets.c ****     has_errevent = sock->errevent != 0;
 3310              		.loc 1 2597 25 is_stmt 0 view .LVU985
 3311 00b6 B5F80A80 		ldrh	r8, [r5, #10]
2597:ThirdPackage/lwip220/api/sockets.c ****     has_errevent = sock->errevent != 0;
 3312              		.loc 1 2597 37 view .LVU986
 3313 00ba B8F10008 		subs	r8, r8, #0
 3314 00be 18BF     		it	ne
 3315 00c0 4FF00108 		movne	r8, #1
 3316              	.LVL321:
2598:ThirdPackage/lwip220/api/sockets.c ****     SYS_ARCH_UNPROTECT(lev);
 3317              		.loc 1 2598 5 is_stmt 1 view .LVU987
2598:ThirdPackage/lwip220/api/sockets.c ****     SYS_ARCH_UNPROTECT(lev);
 3318              		.loc 1 2598 24 is_stmt 0 view .LVU988
 3319 00c4 AD89     		ldrh	r5, [r5, #12]
 3320              	.LVL322:
2598:ThirdPackage/lwip220/api/sockets.c ****     SYS_ARCH_UNPROTECT(lev);
 3321              		.loc 1 2598 35 view .LVU989
 3322 00c6 003D     		subs	r5, r5, #0
 3323 00c8 18BF     		it	ne
 3324 00ca 0125     		movne	r5, #1
 3325              	.LVL323:
2599:ThirdPackage/lwip220/api/sockets.c ****     /* Check any select calls waiting on this socket */
 3326              		.loc 1 2599 5 is_stmt 1 view .LVU990
 3327 00cc 3846     		mov	r0, r7
 3328 00ce FFF7FEFF 		bl	sys_arch_unprotect
 3329              	.LVL324:
2601:ThirdPackage/lwip220/api/sockets.c ****   } else {
 3330              		.loc 1 2601 5 view .LVU991
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 127


 3331 00d2 2B46     		mov	r3, r5
 3332 00d4 4246     		mov	r2, r8
 3333 00d6 2146     		mov	r1, r4
 3334 00d8 3046     		mov	r0, r6
 3335 00da FFF7FEFF 		bl	select_check_waiters
 3336              	.LVL325:
 3337              	.LBE23:
2593:ThirdPackage/lwip220/api/sockets.c ****     /* Save which events are active */
 3338              		.loc 1 2593 46 is_stmt 0 view .LVU992
 3339 00de CBE7     		b	.L255
 3340              	.LVL326:
 3341              	.L273:
 3342              	.LCFI48:
 3343              		.cfi_def_cfa_offset 0
 3344              		.cfi_restore 4
 3345              		.cfi_restore 5
 3346              		.cfi_restore 6
 3347              		.cfi_restore 7
 3348              		.cfi_restore 8
 3349              		.cfi_restore 14
2593:ThirdPackage/lwip220/api/sockets.c ****     /* Save which events are active */
 3350              		.loc 1 2593 46 view .LVU993
 3351 00e0 7047     		bx	lr
 3352              	.L281:
 3353 00e2 00BF     		.align	2
 3354              	.L280:
 3355 00e4 00000000 		.word	.LC0
 3356 00e8 00000000 		.word	.LC17
 3357 00ec 3C000000 		.word	.LC2
 3358              		.cfi_endproc
 3359              	.LFE199:
 3361              		.section	.text.lwip_getsockopt_impl,"ax",%progbits
 3362              		.align	1
 3363              		.syntax unified
 3364              		.thumb
 3365              		.thumb_func
 3367              	lwip_getsockopt_impl:
 3368              	.LVL327:
 3369              	.LFB207:
2922:ThirdPackage/lwip220/api/sockets.c **** 
2923:ThirdPackage/lwip220/api/sockets.c **** /** lwip_getsockopt_impl: the actual implementation of getsockopt:
2924:ThirdPackage/lwip220/api/sockets.c ****  * same argument as lwip_getsockopt, either called directly or through callback
2925:ThirdPackage/lwip220/api/sockets.c ****  */
2926:ThirdPackage/lwip220/api/sockets.c **** static int
2927:ThirdPackage/lwip220/api/sockets.c **** lwip_getsockopt_impl(int s, int level, int optname, void *optval, socklen_t *optlen)
2928:ThirdPackage/lwip220/api/sockets.c **** {
 3370              		.loc 1 2928 1 is_stmt 1 view -0
 3371              		.cfi_startproc
 3372              		@ args = 4, pretend = 0, frame = 0
 3373              		@ frame_needed = 0, uses_anonymous_args = 0
 3374              		.loc 1 2928 1 is_stmt 0 view .LVU995
 3375 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 3376              	.LCFI49:
 3377              		.cfi_def_cfa_offset 24
 3378              		.cfi_offset 3, -24
 3379              		.cfi_offset 4, -20
 3380              		.cfi_offset 5, -16
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 128


 3381              		.cfi_offset 6, -12
 3382              		.cfi_offset 7, -8
 3383              		.cfi_offset 14, -4
 3384 0002 0C46     		mov	r4, r1
 3385 0004 1546     		mov	r5, r2
 3386 0006 1E46     		mov	r6, r3
2929:ThirdPackage/lwip220/api/sockets.c ****   int err = 0;
 3387              		.loc 1 2929 3 is_stmt 1 view .LVU996
 3388              	.LVL328:
2930:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 3389              		.loc 1 2930 3 view .LVU997
 3390              		.loc 1 2930 28 is_stmt 0 view .LVU998
 3391 0008 FFF7FEFF 		bl	tryget_socket
 3392              	.LVL329:
2931:ThirdPackage/lwip220/api/sockets.c ****   if (!sock) {
 3393              		.loc 1 2931 3 is_stmt 1 view .LVU999
 3394              		.loc 1 2931 6 is_stmt 0 view .LVU1000
 3395 000c 0028     		cmp	r0, #0
 3396 000e 00F0E680 		beq	.L302
 3397 0012 0746     		mov	r7, r0
2932:ThirdPackage/lwip220/api/sockets.c ****     return EBADF;
2933:ThirdPackage/lwip220/api/sockets.c ****   }
2934:ThirdPackage/lwip220/api/sockets.c **** 
2935:ThirdPackage/lwip220/api/sockets.c **** #ifdef LWIP_HOOK_SOCKETS_GETSOCKOPT
2936:ThirdPackage/lwip220/api/sockets.c ****   if (LWIP_HOOK_SOCKETS_GETSOCKOPT(s, sock, level, optname, optval, optlen, &err)) {
2937:ThirdPackage/lwip220/api/sockets.c ****     return err;
2938:ThirdPackage/lwip220/api/sockets.c ****   }
2939:ThirdPackage/lwip220/api/sockets.c **** #endif
2940:ThirdPackage/lwip220/api/sockets.c **** 
2941:ThirdPackage/lwip220/api/sockets.c ****   switch (level) {
 3398              		.loc 1 2941 3 is_stmt 1 view .LVU1001
 3399 0014 062C     		cmp	r4, #6
 3400 0016 00F0BF80 		beq	.L284
 3401 001a 40F6FF73 		movw	r3, #4095
 3402 001e 9C42     		cmp	r4, r3
 3403 0020 04D0     		beq	.L285
 3404 0022 002C     		cmp	r4, #0
 3405 0024 00F09880 		beq	.L286
 3406 0028 5C20     		movs	r0, #92
 3407              	.LVL330:
 3408              	.L282:
2942:ThirdPackage/lwip220/api/sockets.c **** 
2943:ThirdPackage/lwip220/api/sockets.c ****     /* Level: SOL_SOCKET */
2944:ThirdPackage/lwip220/api/sockets.c ****     case SOL_SOCKET:
2945:ThirdPackage/lwip220/api/sockets.c ****       switch (optname) {
2946:ThirdPackage/lwip220/api/sockets.c **** 
2947:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_TCP
2948:ThirdPackage/lwip220/api/sockets.c ****         case SO_ACCEPTCONN:
2949:ThirdPackage/lwip220/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, *optlen, int);
2950:ThirdPackage/lwip220/api/sockets.c ****           if (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_TCP) {
2951:ThirdPackage/lwip220/api/sockets.c ****             done_socket(sock);
2952:ThirdPackage/lwip220/api/sockets.c ****             return ENOPROTOOPT;
2953:ThirdPackage/lwip220/api/sockets.c ****           }
2954:ThirdPackage/lwip220/api/sockets.c ****           if ((sock->conn->pcb.tcp != NULL) && (sock->conn->pcb.tcp->state == LISTEN)) {
2955:ThirdPackage/lwip220/api/sockets.c ****             *(int *)optval = 1;
2956:ThirdPackage/lwip220/api/sockets.c ****           } else {
2957:ThirdPackage/lwip220/api/sockets.c ****             *(int *)optval = 0;
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 129


2958:ThirdPackage/lwip220/api/sockets.c ****           }
2959:ThirdPackage/lwip220/api/sockets.c ****           break;
2960:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_TCP */
2961:ThirdPackage/lwip220/api/sockets.c **** 
2962:ThirdPackage/lwip220/api/sockets.c ****         /* The option flags */
2963:ThirdPackage/lwip220/api/sockets.c ****         case SO_BROADCAST:
2964:ThirdPackage/lwip220/api/sockets.c ****         case SO_KEEPALIVE:
2965:ThirdPackage/lwip220/api/sockets.c **** #if SO_REUSE
2966:ThirdPackage/lwip220/api/sockets.c ****         case SO_REUSEADDR:
2967:ThirdPackage/lwip220/api/sockets.c **** #endif /* SO_REUSE */
2968:ThirdPackage/lwip220/api/sockets.c ****           if ((optname == SO_BROADCAST) &&
2969:ThirdPackage/lwip220/api/sockets.c ****               (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_UDP)) {
2970:ThirdPackage/lwip220/api/sockets.c ****             done_socket(sock);
2971:ThirdPackage/lwip220/api/sockets.c ****             return ENOPROTOOPT;
2972:ThirdPackage/lwip220/api/sockets.c ****           }
2973:ThirdPackage/lwip220/api/sockets.c **** 
2974:ThirdPackage/lwip220/api/sockets.c ****           optname = lwip_sockopt_to_ipopt(optname);
2975:ThirdPackage/lwip220/api/sockets.c **** 
2976:ThirdPackage/lwip220/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, *optlen, int);
2977:ThirdPackage/lwip220/api/sockets.c ****           *(int *)optval = ip_get_option(sock->conn->pcb.ip, optname);
2978:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, SOL_SOCKET, optname=0x%x, ..) = %s\n",
2979:ThirdPackage/lwip220/api/sockets.c ****                                       s, optname, (*(int *)optval ? "on" : "off")));
2980:ThirdPackage/lwip220/api/sockets.c ****           break;
2981:ThirdPackage/lwip220/api/sockets.c **** 
2982:ThirdPackage/lwip220/api/sockets.c ****         case SO_TYPE:
2983:ThirdPackage/lwip220/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN(sock, *optlen, int);
2984:ThirdPackage/lwip220/api/sockets.c ****           switch (NETCONNTYPE_GROUP(netconn_type(sock->conn))) {
2985:ThirdPackage/lwip220/api/sockets.c ****             case NETCONN_RAW:
2986:ThirdPackage/lwip220/api/sockets.c ****               *(int *)optval = SOCK_RAW;
2987:ThirdPackage/lwip220/api/sockets.c ****               break;
2988:ThirdPackage/lwip220/api/sockets.c ****             case NETCONN_TCP:
2989:ThirdPackage/lwip220/api/sockets.c ****               *(int *)optval = SOCK_STREAM;
2990:ThirdPackage/lwip220/api/sockets.c ****               break;
2991:ThirdPackage/lwip220/api/sockets.c ****             case NETCONN_UDP:
2992:ThirdPackage/lwip220/api/sockets.c ****               *(int *)optval = SOCK_DGRAM;
2993:ThirdPackage/lwip220/api/sockets.c ****               break;
2994:ThirdPackage/lwip220/api/sockets.c ****             default: /* unrecognized socket type */
2995:ThirdPackage/lwip220/api/sockets.c ****               *(int *)optval = netconn_type(sock->conn);
2996:ThirdPackage/lwip220/api/sockets.c ****               LWIP_DEBUGF(SOCKETS_DEBUG,
2997:ThirdPackage/lwip220/api/sockets.c ****                           ("lwip_getsockopt(%d, SOL_SOCKET, SO_TYPE): unrecognized socket type %d\n
2998:ThirdPackage/lwip220/api/sockets.c ****                            s, *(int *)optval));
2999:ThirdPackage/lwip220/api/sockets.c ****           }  /* switch (netconn_type(sock->conn)) */
3000:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, SOL_SOCKET, SO_TYPE) = %d\n",
3001:ThirdPackage/lwip220/api/sockets.c ****                                       s, *(int *)optval));
3002:ThirdPackage/lwip220/api/sockets.c ****           break;
3003:ThirdPackage/lwip220/api/sockets.c **** 
3004:ThirdPackage/lwip220/api/sockets.c ****         case SO_ERROR:
3005:ThirdPackage/lwip220/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN(sock, *optlen, int);
3006:ThirdPackage/lwip220/api/sockets.c ****           *(int *)optval = err_to_errno(netconn_err(sock->conn));
3007:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, SOL_SOCKET, SO_ERROR) = %d\n",
3008:ThirdPackage/lwip220/api/sockets.c ****                                       s, *(int *)optval));
3009:ThirdPackage/lwip220/api/sockets.c ****           break;
3010:ThirdPackage/lwip220/api/sockets.c **** 
3011:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_SO_SNDTIMEO
3012:ThirdPackage/lwip220/api/sockets.c ****         case SO_SNDTIMEO:
3013:ThirdPackage/lwip220/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN(sock, *optlen, LWIP_SO_SNDRCVTIMEO_OPTTYPE);
3014:ThirdPackage/lwip220/api/sockets.c ****           LWIP_SO_SNDRCVTIMEO_SET(optval, netconn_get_sendtimeout(sock->conn));
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 130


3015:ThirdPackage/lwip220/api/sockets.c ****           break;
3016:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_SO_SNDTIMEO */
3017:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_SO_RCVTIMEO
3018:ThirdPackage/lwip220/api/sockets.c ****         case SO_RCVTIMEO:
3019:ThirdPackage/lwip220/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN(sock, *optlen, LWIP_SO_SNDRCVTIMEO_OPTTYPE);
3020:ThirdPackage/lwip220/api/sockets.c ****           LWIP_SO_SNDRCVTIMEO_SET(optval, netconn_get_recvtimeout(sock->conn));
3021:ThirdPackage/lwip220/api/sockets.c ****           break;
3022:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_SO_RCVTIMEO */
3023:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_SO_RCVBUF
3024:ThirdPackage/lwip220/api/sockets.c ****         case SO_RCVBUF:
3025:ThirdPackage/lwip220/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN(sock, *optlen, int);
3026:ThirdPackage/lwip220/api/sockets.c ****           *(int *)optval = netconn_get_recvbufsize(sock->conn);
3027:ThirdPackage/lwip220/api/sockets.c ****           break;
3028:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_SO_RCVBUF */
3029:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_SO_LINGER
3030:ThirdPackage/lwip220/api/sockets.c ****         case SO_LINGER: {
3031:ThirdPackage/lwip220/api/sockets.c ****           s16_t conn_linger;
3032:ThirdPackage/lwip220/api/sockets.c ****           struct linger *linger = (struct linger *)optval;
3033:ThirdPackage/lwip220/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN(sock, *optlen, struct linger);
3034:ThirdPackage/lwip220/api/sockets.c ****           conn_linger = sock->conn->linger;
3035:ThirdPackage/lwip220/api/sockets.c ****           if (conn_linger >= 0) {
3036:ThirdPackage/lwip220/api/sockets.c ****             linger->l_onoff = 1;
3037:ThirdPackage/lwip220/api/sockets.c ****             linger->l_linger = (int)conn_linger;
3038:ThirdPackage/lwip220/api/sockets.c ****           } else {
3039:ThirdPackage/lwip220/api/sockets.c ****             linger->l_onoff = 0;
3040:ThirdPackage/lwip220/api/sockets.c ****             linger->l_linger = 0;
3041:ThirdPackage/lwip220/api/sockets.c ****           }
3042:ThirdPackage/lwip220/api/sockets.c ****         }
3043:ThirdPackage/lwip220/api/sockets.c ****         break;
3044:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_SO_LINGER */
3045:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_UDP
3046:ThirdPackage/lwip220/api/sockets.c ****         case SO_NO_CHECK:
3047:ThirdPackage/lwip220/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB_TYPE(sock, *optlen, int, NETCONN_UDP);
3048:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_UDPLITE
3049:ThirdPackage/lwip220/api/sockets.c ****           if (udp_is_flag_set(sock->conn->pcb.udp, UDP_FLAGS_UDPLITE)) {
3050:ThirdPackage/lwip220/api/sockets.c ****             /* this flag is only available for UDP, not for UDP lite */
3051:ThirdPackage/lwip220/api/sockets.c ****             done_socket(sock);
3052:ThirdPackage/lwip220/api/sockets.c ****             return EAFNOSUPPORT;
3053:ThirdPackage/lwip220/api/sockets.c ****           }
3054:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_UDPLITE */
3055:ThirdPackage/lwip220/api/sockets.c ****           *(int *)optval = udp_is_flag_set(sock->conn->pcb.udp, UDP_FLAGS_NOCHKSUM) ? 1 : 0;
3056:ThirdPackage/lwip220/api/sockets.c ****           break;
3057:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_UDP*/
3058:ThirdPackage/lwip220/api/sockets.c ****         default:
3059:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, SOL_SOCKET, UNIMPL: optname=0x%x, ..)\n"
3060:ThirdPackage/lwip220/api/sockets.c ****                                       s, optname));
3061:ThirdPackage/lwip220/api/sockets.c ****           err = ENOPROTOOPT;
3062:ThirdPackage/lwip220/api/sockets.c ****           break;
3063:ThirdPackage/lwip220/api/sockets.c ****       }  /* switch (optname) */
3064:ThirdPackage/lwip220/api/sockets.c ****       break;
3065:ThirdPackage/lwip220/api/sockets.c **** 
3066:ThirdPackage/lwip220/api/sockets.c ****     /* Level: IPPROTO_IP */
3067:ThirdPackage/lwip220/api/sockets.c ****     case IPPROTO_IP:
3068:ThirdPackage/lwip220/api/sockets.c ****       switch (optname) {
3069:ThirdPackage/lwip220/api/sockets.c ****         case IP_TTL:
3070:ThirdPackage/lwip220/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, *optlen, int);
3071:ThirdPackage/lwip220/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->ttl;
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 131


3072:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_IP, IP_TTL) = %d\n",
3073:ThirdPackage/lwip220/api/sockets.c ****                                       s, *(int *)optval));
3074:ThirdPackage/lwip220/api/sockets.c ****           break;
3075:ThirdPackage/lwip220/api/sockets.c ****         case IP_TOS:
3076:ThirdPackage/lwip220/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, *optlen, int);
3077:ThirdPackage/lwip220/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->tos;
3078:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_IP, IP_TOS) = %d\n",
3079:ThirdPackage/lwip220/api/sockets.c ****                                       s, *(int *)optval));
3080:ThirdPackage/lwip220/api/sockets.c ****           break;
3081:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_IPV4 && LWIP_MULTICAST_TX_OPTIONS && LWIP_UDP
3082:ThirdPackage/lwip220/api/sockets.c ****         case IP_MULTICAST_TTL:
3083:ThirdPackage/lwip220/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, *optlen, u8_t);
3084:ThirdPackage/lwip220/api/sockets.c ****           if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) != NETCONN_UDP) {
3085:ThirdPackage/lwip220/api/sockets.c ****             done_socket(sock);
3086:ThirdPackage/lwip220/api/sockets.c ****             return ENOPROTOOPT;
3087:ThirdPackage/lwip220/api/sockets.c ****           }
3088:ThirdPackage/lwip220/api/sockets.c ****           *(u8_t *)optval = udp_get_multicast_ttl(sock->conn->pcb.udp);
3089:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_IP, IP_MULTICAST_TTL) = %d\n",
3090:ThirdPackage/lwip220/api/sockets.c ****                                       s, *(int *)optval));
3091:ThirdPackage/lwip220/api/sockets.c ****           break;
3092:ThirdPackage/lwip220/api/sockets.c ****         case IP_MULTICAST_IF:
3093:ThirdPackage/lwip220/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, *optlen, struct in_addr);
3094:ThirdPackage/lwip220/api/sockets.c ****           if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) != NETCONN_UDP) {
3095:ThirdPackage/lwip220/api/sockets.c ****             done_socket(sock);
3096:ThirdPackage/lwip220/api/sockets.c ****             return ENOPROTOOPT;
3097:ThirdPackage/lwip220/api/sockets.c ****           }
3098:ThirdPackage/lwip220/api/sockets.c ****           inet_addr_from_ip4addr((struct in_addr *)optval, udp_get_multicast_netif_addr(sock->conn-
3099:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_IP, IP_MULTICAST_IF) = 0x%"X32_F
3100:ThirdPackage/lwip220/api/sockets.c ****                                       s, *(u32_t *)optval));
3101:ThirdPackage/lwip220/api/sockets.c ****           break;
3102:ThirdPackage/lwip220/api/sockets.c ****         case IP_MULTICAST_LOOP:
3103:ThirdPackage/lwip220/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, *optlen, u8_t);
3104:ThirdPackage/lwip220/api/sockets.c ****           if ((sock->conn->pcb.udp->flags & UDP_FLAGS_MULTICAST_LOOP) != 0) {
3105:ThirdPackage/lwip220/api/sockets.c ****             *(u8_t *)optval = 1;
3106:ThirdPackage/lwip220/api/sockets.c ****           } else {
3107:ThirdPackage/lwip220/api/sockets.c ****             *(u8_t *)optval = 0;
3108:ThirdPackage/lwip220/api/sockets.c ****           }
3109:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_IP, IP_MULTICAST_LOOP) = %d\n",
3110:ThirdPackage/lwip220/api/sockets.c ****                                       s, *(int *)optval));
3111:ThirdPackage/lwip220/api/sockets.c ****           break;
3112:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_IPV4 && LWIP_MULTICAST_TX_OPTIONS && LWIP_UDP */
3113:ThirdPackage/lwip220/api/sockets.c ****         default:
3114:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_IP, UNIMPL: optname=0x%x, ..)\n"
3115:ThirdPackage/lwip220/api/sockets.c ****                                       s, optname));
3116:ThirdPackage/lwip220/api/sockets.c ****           err = ENOPROTOOPT;
3117:ThirdPackage/lwip220/api/sockets.c ****           break;
3118:ThirdPackage/lwip220/api/sockets.c ****       }  /* switch (optname) */
3119:ThirdPackage/lwip220/api/sockets.c ****       break;
3120:ThirdPackage/lwip220/api/sockets.c **** 
3121:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_TCP
3122:ThirdPackage/lwip220/api/sockets.c ****     /* Level: IPPROTO_TCP */
3123:ThirdPackage/lwip220/api/sockets.c ****     case IPPROTO_TCP:
3124:ThirdPackage/lwip220/api/sockets.c ****       /* Special case: all IPPROTO_TCP option take an int */
3125:ThirdPackage/lwip220/api/sockets.c ****       LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB_TYPE(sock, *optlen, int, NETCONN_TCP);
3126:ThirdPackage/lwip220/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
3127:ThirdPackage/lwip220/api/sockets.c ****         done_socket(sock);
3128:ThirdPackage/lwip220/api/sockets.c ****         return EINVAL;
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 132


3129:ThirdPackage/lwip220/api/sockets.c ****       }
3130:ThirdPackage/lwip220/api/sockets.c ****       switch (optname) {
3131:ThirdPackage/lwip220/api/sockets.c ****         case TCP_NODELAY:
3132:ThirdPackage/lwip220/api/sockets.c ****           *(int *)optval = tcp_nagle_disabled(sock->conn->pcb.tcp);
3133:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_TCP, TCP_NODELAY) = %s\n",
3134:ThirdPackage/lwip220/api/sockets.c ****                                       s, (*(int *)optval) ? "on" : "off") );
3135:ThirdPackage/lwip220/api/sockets.c ****           break;
3136:ThirdPackage/lwip220/api/sockets.c ****         case TCP_KEEPALIVE:
3137:ThirdPackage/lwip220/api/sockets.c ****           *(int *)optval = (int)sock->conn->pcb.tcp->keep_idle;
3138:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_TCP, TCP_KEEPALIVE) = %d\n",
3139:ThirdPackage/lwip220/api/sockets.c ****                                       s, *(int *)optval));
3140:ThirdPackage/lwip220/api/sockets.c ****           break;
3141:ThirdPackage/lwip220/api/sockets.c **** 
3142:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_TCP_KEEPALIVE
3143:ThirdPackage/lwip220/api/sockets.c ****         case TCP_KEEPIDLE:
3144:ThirdPackage/lwip220/api/sockets.c ****           *(int *)optval = (int)(sock->conn->pcb.tcp->keep_idle / 1000);
3145:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_TCP, TCP_KEEPIDLE) = %d\n",
3146:ThirdPackage/lwip220/api/sockets.c ****                                       s, *(int *)optval));
3147:ThirdPackage/lwip220/api/sockets.c ****           break;
3148:ThirdPackage/lwip220/api/sockets.c ****         case TCP_KEEPINTVL:
3149:ThirdPackage/lwip220/api/sockets.c ****           *(int *)optval = (int)(sock->conn->pcb.tcp->keep_intvl / 1000);
3150:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_TCP, TCP_KEEPINTVL) = %d\n",
3151:ThirdPackage/lwip220/api/sockets.c ****                                       s, *(int *)optval));
3152:ThirdPackage/lwip220/api/sockets.c ****           break;
3153:ThirdPackage/lwip220/api/sockets.c ****         case TCP_KEEPCNT:
3154:ThirdPackage/lwip220/api/sockets.c ****           *(int *)optval = (int)sock->conn->pcb.tcp->keep_cnt;
3155:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_TCP, TCP_KEEPCNT) = %d\n",
3156:ThirdPackage/lwip220/api/sockets.c ****                                       s, *(int *)optval));
3157:ThirdPackage/lwip220/api/sockets.c ****           break;
3158:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_TCP_KEEPALIVE */
3159:ThirdPackage/lwip220/api/sockets.c ****         default:
3160:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_TCP, UNIMPL: optname=0x%x, ..)\n
3161:ThirdPackage/lwip220/api/sockets.c ****                                       s, optname));
3162:ThirdPackage/lwip220/api/sockets.c ****           err = ENOPROTOOPT;
3163:ThirdPackage/lwip220/api/sockets.c ****           break;
3164:ThirdPackage/lwip220/api/sockets.c ****       }  /* switch (optname) */
3165:ThirdPackage/lwip220/api/sockets.c ****       break;
3166:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_TCP */
3167:ThirdPackage/lwip220/api/sockets.c **** 
3168:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_IPV6
3169:ThirdPackage/lwip220/api/sockets.c ****     /* Level: IPPROTO_IPV6 */
3170:ThirdPackage/lwip220/api/sockets.c ****     case IPPROTO_IPV6:
3171:ThirdPackage/lwip220/api/sockets.c ****       switch (optname) {
3172:ThirdPackage/lwip220/api/sockets.c ****         case IPV6_V6ONLY:
3173:ThirdPackage/lwip220/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN(sock, *optlen, int);
3174:ThirdPackage/lwip220/api/sockets.c ****           *(int *)optval = (netconn_get_ipv6only(sock->conn) ? 1 : 0);
3175:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_IPV6, IPV6_V6ONLY) = %d\n",
3176:ThirdPackage/lwip220/api/sockets.c ****                                       s, *(int *)optval));
3177:ThirdPackage/lwip220/api/sockets.c ****           break;
3178:ThirdPackage/lwip220/api/sockets.c ****         default:
3179:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_IPV6, UNIMPL: optname=0x%x, ..)\
3180:ThirdPackage/lwip220/api/sockets.c ****                                       s, optname));
3181:ThirdPackage/lwip220/api/sockets.c ****           err = ENOPROTOOPT;
3182:ThirdPackage/lwip220/api/sockets.c ****           break;
3183:ThirdPackage/lwip220/api/sockets.c ****       }  /* switch (optname) */
3184:ThirdPackage/lwip220/api/sockets.c ****       break;
3185:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_IPV6 */
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 133


3186:ThirdPackage/lwip220/api/sockets.c **** 
3187:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_UDP && LWIP_UDPLITE
3188:ThirdPackage/lwip220/api/sockets.c ****     /* Level: IPPROTO_UDPLITE */
3189:ThirdPackage/lwip220/api/sockets.c ****     case IPPROTO_UDPLITE:
3190:ThirdPackage/lwip220/api/sockets.c ****       /* Special case: all IPPROTO_UDPLITE option take an int */
3191:ThirdPackage/lwip220/api/sockets.c ****       LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, *optlen, int);
3192:ThirdPackage/lwip220/api/sockets.c ****       /* If this is no UDP lite socket, ignore any options. */
3193:ThirdPackage/lwip220/api/sockets.c ****       if (!NETCONNTYPE_ISUDPLITE(netconn_type(sock->conn))) {
3194:ThirdPackage/lwip220/api/sockets.c ****         done_socket(sock);
3195:ThirdPackage/lwip220/api/sockets.c ****         return ENOPROTOOPT;
3196:ThirdPackage/lwip220/api/sockets.c ****       }
3197:ThirdPackage/lwip220/api/sockets.c ****       switch (optname) {
3198:ThirdPackage/lwip220/api/sockets.c ****         case UDPLITE_SEND_CSCOV:
3199:ThirdPackage/lwip220/api/sockets.c ****           *(int *)optval = sock->conn->pcb.udp->chksum_len_tx;
3200:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_UDPLITE, UDPLITE_SEND_CSCOV) = %
3201:ThirdPackage/lwip220/api/sockets.c ****                                       s, (*(int *)optval)) );
3202:ThirdPackage/lwip220/api/sockets.c ****           break;
3203:ThirdPackage/lwip220/api/sockets.c ****         case UDPLITE_RECV_CSCOV:
3204:ThirdPackage/lwip220/api/sockets.c ****           *(int *)optval = sock->conn->pcb.udp->chksum_len_rx;
3205:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_UDPLITE, UDPLITE_RECV_CSCOV) = %
3206:ThirdPackage/lwip220/api/sockets.c ****                                       s, (*(int *)optval)) );
3207:ThirdPackage/lwip220/api/sockets.c ****           break;
3208:ThirdPackage/lwip220/api/sockets.c ****         default:
3209:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_UDPLITE, UNIMPL: optname=0x%x, .
3210:ThirdPackage/lwip220/api/sockets.c ****                                       s, optname));
3211:ThirdPackage/lwip220/api/sockets.c ****           err = ENOPROTOOPT;
3212:ThirdPackage/lwip220/api/sockets.c ****           break;
3213:ThirdPackage/lwip220/api/sockets.c ****       }  /* switch (optname) */
3214:ThirdPackage/lwip220/api/sockets.c ****       break;
3215:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_UDP */
3216:ThirdPackage/lwip220/api/sockets.c ****     /* Level: IPPROTO_RAW */
3217:ThirdPackage/lwip220/api/sockets.c ****     case IPPROTO_RAW:
3218:ThirdPackage/lwip220/api/sockets.c ****       switch (optname) {
3219:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_IPV6 && LWIP_RAW
3220:ThirdPackage/lwip220/api/sockets.c ****         case IPV6_CHECKSUM:
3221:ThirdPackage/lwip220/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB_TYPE(sock, *optlen, int, NETCONN_RAW);
3222:ThirdPackage/lwip220/api/sockets.c ****           if (sock->conn->pcb.raw->chksum_reqd == 0) {
3223:ThirdPackage/lwip220/api/sockets.c ****             *(int *)optval = -1;
3224:ThirdPackage/lwip220/api/sockets.c ****           } else {
3225:ThirdPackage/lwip220/api/sockets.c ****             *(int *)optval = sock->conn->pcb.raw->chksum_offset;
3226:ThirdPackage/lwip220/api/sockets.c ****           }
3227:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_RAW, IPV6_CHECKSUM) = %d\n",
3228:ThirdPackage/lwip220/api/sockets.c ****                                       s, (*(int *)optval)) );
3229:ThirdPackage/lwip220/api/sockets.c ****           break;
3230:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_IPV6 && LWIP_RAW */
3231:ThirdPackage/lwip220/api/sockets.c ****         default:
3232:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_RAW, UNIMPL: optname=0x%x, ..)\n
3233:ThirdPackage/lwip220/api/sockets.c ****                                       s, optname));
3234:ThirdPackage/lwip220/api/sockets.c ****           err = ENOPROTOOPT;
3235:ThirdPackage/lwip220/api/sockets.c ****           break;
3236:ThirdPackage/lwip220/api/sockets.c ****       }  /* switch (optname) */
3237:ThirdPackage/lwip220/api/sockets.c ****       break;
3238:ThirdPackage/lwip220/api/sockets.c ****     default:
3239:ThirdPackage/lwip220/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, level=0x%x, UNIMPL: optname=0x%x, ..)\n",
3240:ThirdPackage/lwip220/api/sockets.c ****                                   s, level, optname));
3241:ThirdPackage/lwip220/api/sockets.c ****       err = ENOPROTOOPT;
3242:ThirdPackage/lwip220/api/sockets.c ****       break;
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 134


3243:ThirdPackage/lwip220/api/sockets.c ****   } /* switch (level) */
3244:ThirdPackage/lwip220/api/sockets.c **** 
3245:ThirdPackage/lwip220/api/sockets.c ****   done_socket(sock);
3246:ThirdPackage/lwip220/api/sockets.c ****   return err;
3247:ThirdPackage/lwip220/api/sockets.c **** }
 3409              		.loc 1 3247 1 is_stmt 0 view .LVU1002
 3410 002a F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 3411              	.LVL331:
 3412              	.L285:
2945:ThirdPackage/lwip220/api/sockets.c **** 
 3413              		.loc 1 2945 7 is_stmt 1 view .LVU1003
 3414 002c 41F20703 		movw	r3, #4103
 3415 0030 9D42     		cmp	r5, r3
 3416 0032 00F08580 		beq	.L287
 3417 0036 20DC     		bgt	.L288
 3418 0038 082D     		cmp	r5, #8
 3419 003a 44D0     		beq	.L289
 3420 003c 202D     		cmp	r5, #32
 3421 003e 42D0     		beq	.L289
 3422 0040 022D     		cmp	r5, #2
 3423 0042 18D1     		bne	.L332
2949:ThirdPackage/lwip220/api/sockets.c ****           if (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_TCP) {
 3424              		.loc 1 2949 11 view .LVU1004
2949:ThirdPackage/lwip220/api/sockets.c ****           if (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_TCP) {
 3425              		.loc 1 2949 11 view .LVU1005
2949:ThirdPackage/lwip220/api/sockets.c ****           if (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_TCP) {
 3426              		.loc 1 2949 11 view .LVU1006
 3427 0044 069B     		ldr	r3, [sp, #24]
 3428 0046 1B68     		ldr	r3, [r3]
 3429 0048 032B     		cmp	r3, #3
 3430 004a 40F2CA80 		bls	.L303
2949:ThirdPackage/lwip220/api/sockets.c ****           if (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_TCP) {
 3431              		.loc 1 2949 11 discriminator 2 view .LVU1007
2949:ThirdPackage/lwip220/api/sockets.c ****           if (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_TCP) {
 3432              		.loc 1 2949 11 discriminator 2 view .LVU1008
 3433 004e 0368     		ldr	r3, [r0]
 3434 0050 002B     		cmp	r3, #0
 3435 0052 00F0C880 		beq	.L304
2949:ThirdPackage/lwip220/api/sockets.c ****           if (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_TCP) {
 3436              		.loc 1 2949 11 is_stmt 0 discriminator 4 view .LVU1009
 3437 0056 5A68     		ldr	r2, [r3, #4]
 3438 0058 002A     		cmp	r2, #0
 3439 005a 00F0C680 		beq	.L305
2949:ThirdPackage/lwip220/api/sockets.c ****           if (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_TCP) {
 3440              		.loc 1 2949 11 is_stmt 1 discriminator 6 view .LVU1010
2950:ThirdPackage/lwip220/api/sockets.c ****             done_socket(sock);
 3441              		.loc 1 2950 11 discriminator 6 view .LVU1011
2950:ThirdPackage/lwip220/api/sockets.c ****             done_socket(sock);
 3442              		.loc 1 2950 15 is_stmt 0 discriminator 6 view .LVU1012
 3443 005e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
2950:ThirdPackage/lwip220/api/sockets.c ****             done_socket(sock);
 3444              		.loc 1 2950 14 discriminator 6 view .LVU1013
 3445 0060 03F0F003 		and	r3, r3, #240
 3446 0064 102B     		cmp	r3, #16
 3447 0066 40F0C280 		bne	.L306
2954:ThirdPackage/lwip220/api/sockets.c ****             *(int *)optval = 1;
 3448              		.loc 1 2954 11 is_stmt 1 discriminator 1 view .LVU1014
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 135


2954:ThirdPackage/lwip220/api/sockets.c ****             *(int *)optval = 1;
 3449              		.loc 1 2954 68 is_stmt 0 discriminator 1 view .LVU1015
 3450 006a 137D     		ldrb	r3, [r2, #20]	@ zero_extendqisi2
2954:ThirdPackage/lwip220/api/sockets.c ****             *(int *)optval = 1;
 3451              		.loc 1 2954 45 discriminator 1 view .LVU1016
 3452 006c 012B     		cmp	r3, #1
 3453 006e 27D0     		beq	.L333
2957:ThirdPackage/lwip220/api/sockets.c ****           }
 3454              		.loc 1 2957 13 is_stmt 1 view .LVU1017
2957:ThirdPackage/lwip220/api/sockets.c ****           }
 3455              		.loc 1 2957 28 is_stmt 0 view .LVU1018
 3456 0070 0020     		movs	r0, #0
 3457              	.LVL332:
2957:ThirdPackage/lwip220/api/sockets.c ****           }
 3458              		.loc 1 2957 28 view .LVU1019
 3459 0072 3060     		str	r0, [r6]
 3460 0074 D9E7     		b	.L282
 3461              	.LVL333:
 3462              	.L332:
2957:ThirdPackage/lwip220/api/sockets.c ****           }
 3463              		.loc 1 2957 28 view .LVU1020
 3464 0076 5C20     		movs	r0, #92
 3465              	.LVL334:
2957:ThirdPackage/lwip220/api/sockets.c ****           }
 3466              		.loc 1 2957 28 view .LVU1021
 3467 0078 D7E7     		b	.L282
 3468              	.LVL335:
 3469              	.L288:
2957:ThirdPackage/lwip220/api/sockets.c ****           }
 3470              		.loc 1 2957 28 view .LVU1022
 3471 007a 41F20803 		movw	r3, #4104
 3472 007e 9D42     		cmp	r5, r3
 3473 0080 3FD0     		beq	.L291
 3474 0082 41F20A03 		movw	r3, #4106
 3475 0086 9D42     		cmp	r5, r3
 3476 0088 18D1     		bne	.L334
3047:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_UDPLITE
 3477              		.loc 1 3047 11 is_stmt 1 view .LVU1023
3047:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_UDPLITE
 3478              		.loc 1 3047 11 view .LVU1024
3047:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_UDPLITE
 3479              		.loc 1 3047 11 view .LVU1025
3047:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_UDPLITE
 3480              		.loc 1 3047 11 view .LVU1026
 3481 008a 069B     		ldr	r3, [sp, #24]
 3482 008c 1B68     		ldr	r3, [r3]
 3483 008e 032B     		cmp	r3, #3
 3484 0090 40F2BD80 		bls	.L314
3047:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_UDPLITE
 3485              		.loc 1 3047 11 discriminator 2 view .LVU1027
3047:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_UDPLITE
 3486              		.loc 1 3047 11 discriminator 2 view .LVU1028
 3487 0094 0368     		ldr	r3, [r0]
 3488 0096 002B     		cmp	r3, #0
 3489 0098 00F0BB80 		beq	.L315
3047:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_UDPLITE
 3490              		.loc 1 3047 11 is_stmt 0 discriminator 4 view .LVU1029
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 136


 3491 009c 5A68     		ldr	r2, [r3, #4]
 3492 009e 002A     		cmp	r2, #0
 3493 00a0 00F0B980 		beq	.L316
3047:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_UDPLITE
 3494              		.loc 1 3047 11 is_stmt 1 discriminator 6 view .LVU1030
3047:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_UDPLITE
 3495              		.loc 1 3047 11 discriminator 6 view .LVU1031
 3496 00a4 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3497 00a6 03F0F003 		and	r3, r3, #240
 3498 00aa 202B     		cmp	r3, #32
 3499 00ac 40F0B580 		bne	.L317
3047:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_UDPLITE
 3500              		.loc 1 3047 11 discriminator 8 view .LVU1032
3055:ThirdPackage/lwip220/api/sockets.c ****           break;
 3501              		.loc 1 3055 11 discriminator 8 view .LVU1033
3055:ThirdPackage/lwip220/api/sockets.c ****           break;
 3502              		.loc 1 3055 28 is_stmt 0 discriminator 8 view .LVU1034
 3503 00b0 137C     		ldrb	r3, [r2, #16]	@ zero_extendqisi2
3055:ThirdPackage/lwip220/api/sockets.c ****           break;
 3504              		.loc 1 3055 89 discriminator 8 view .LVU1035
 3505 00b2 03F00103 		and	r3, r3, #1
3055:ThirdPackage/lwip220/api/sockets.c ****           break;
 3506              		.loc 1 3055 26 discriminator 8 view .LVU1036
 3507 00b6 3360     		str	r3, [r6]
3056:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_UDP*/
 3508              		.loc 1 3056 11 is_stmt 1 discriminator 8 view .LVU1037
2929:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 3509              		.loc 1 2929 7 is_stmt 0 discriminator 8 view .LVU1038
 3510 00b8 0020     		movs	r0, #0
 3511              	.LVL336:
3056:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_UDP*/
 3512              		.loc 1 3056 11 discriminator 8 view .LVU1039
 3513 00ba B6E7     		b	.L282
 3514              	.LVL337:
 3515              	.L334:
3056:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_UDP*/
 3516              		.loc 1 3056 11 discriminator 8 view .LVU1040
 3517 00bc 5C20     		movs	r0, #92
 3518              	.LVL338:
3056:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_UDP*/
 3519              		.loc 1 3056 11 discriminator 8 view .LVU1041
 3520 00be B4E7     		b	.L282
 3521              	.LVL339:
 3522              	.L333:
2955:ThirdPackage/lwip220/api/sockets.c ****           } else {
 3523              		.loc 1 2955 13 is_stmt 1 view .LVU1042
2955:ThirdPackage/lwip220/api/sockets.c ****           } else {
 3524              		.loc 1 2955 28 is_stmt 0 view .LVU1043
 3525 00c0 3360     		str	r3, [r6]
2929:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 3526              		.loc 1 2929 7 view .LVU1044
 3527 00c2 0020     		movs	r0, #0
 3528              	.LVL340:
2955:ThirdPackage/lwip220/api/sockets.c ****           } else {
 3529              		.loc 1 2955 28 view .LVU1045
 3530 00c4 B1E7     		b	.L282
 3531              	.LVL341:
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 137


 3532              	.L289:
2968:ThirdPackage/lwip220/api/sockets.c ****               (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_UDP)) {
 3533              		.loc 1 2968 11 is_stmt 1 view .LVU1046
2968:ThirdPackage/lwip220/api/sockets.c ****               (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_UDP)) {
 3534              		.loc 1 2968 14 is_stmt 0 view .LVU1047
 3535 00c6 202D     		cmp	r5, #32
 3536 00c8 06D1     		bne	.L294
2969:ThirdPackage/lwip220/api/sockets.c ****             done_socket(sock);
 3537              		.loc 1 2969 16 discriminator 1 view .LVU1048
 3538 00ca 3B68     		ldr	r3, [r7]
 3539 00cc 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
2968:ThirdPackage/lwip220/api/sockets.c ****               (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_UDP)) {
 3540              		.loc 1 2968 41 discriminator 1 view .LVU1049
 3541 00ce 03F0F003 		and	r3, r3, #240
 3542 00d2 202B     		cmp	r3, #32
 3543 00d4 40F08D80 		bne	.L307
 3544              	.L294:
2974:ThirdPackage/lwip220/api/sockets.c **** 
 3545              		.loc 1 2974 11 is_stmt 1 view .LVU1050
2974:ThirdPackage/lwip220/api/sockets.c **** 
 3546              		.loc 1 2974 21 is_stmt 0 view .LVU1051
 3547 00d8 2846     		mov	r0, r5
 3548              	.LVL342:
2974:ThirdPackage/lwip220/api/sockets.c **** 
 3549              		.loc 1 2974 21 view .LVU1052
 3550 00da FFF7FEFF 		bl	lwip_sockopt_to_ipopt
 3551              	.LVL343:
2976:ThirdPackage/lwip220/api/sockets.c ****           *(int *)optval = ip_get_option(sock->conn->pcb.ip, optname);
 3552              		.loc 1 2976 11 is_stmt 1 view .LVU1053
2976:ThirdPackage/lwip220/api/sockets.c ****           *(int *)optval = ip_get_option(sock->conn->pcb.ip, optname);
 3553              		.loc 1 2976 11 view .LVU1054
2976:ThirdPackage/lwip220/api/sockets.c ****           *(int *)optval = ip_get_option(sock->conn->pcb.ip, optname);
 3554              		.loc 1 2976 11 view .LVU1055
 3555 00de 069B     		ldr	r3, [sp, #24]
 3556 00e0 1B68     		ldr	r3, [r3]
 3557 00e2 032B     		cmp	r3, #3
 3558 00e4 40F28780 		bls	.L308
2976:ThirdPackage/lwip220/api/sockets.c ****           *(int *)optval = ip_get_option(sock->conn->pcb.ip, optname);
 3559              		.loc 1 2976 11 discriminator 2 view .LVU1056
2976:ThirdPackage/lwip220/api/sockets.c ****           *(int *)optval = ip_get_option(sock->conn->pcb.ip, optname);
 3560              		.loc 1 2976 11 discriminator 2 view .LVU1057
 3561 00e8 3B68     		ldr	r3, [r7]
 3562 00ea 002B     		cmp	r3, #0
 3563 00ec 00F08580 		beq	.L309
2976:ThirdPackage/lwip220/api/sockets.c ****           *(int *)optval = ip_get_option(sock->conn->pcb.ip, optname);
 3564              		.loc 1 2976 11 is_stmt 0 discriminator 4 view .LVU1058
 3565 00f0 5B68     		ldr	r3, [r3, #4]
 3566 00f2 002B     		cmp	r3, #0
 3567 00f4 00F08380 		beq	.L310
2976:ThirdPackage/lwip220/api/sockets.c ****           *(int *)optval = ip_get_option(sock->conn->pcb.ip, optname);
 3568              		.loc 1 2976 11 is_stmt 1 discriminator 6 view .LVU1059
2977:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, SOL_SOCKET, optname=0x%x, ..) = %s\n",
 3569              		.loc 1 2977 11 discriminator 6 view .LVU1060
2977:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, SOL_SOCKET, optname=0x%x, ..) = %s\n",
 3570              		.loc 1 2977 28 is_stmt 0 discriminator 6 view .LVU1061
 3571 00f8 5B7A     		ldrb	r3, [r3, #9]	@ zero_extendqisi2
 3572 00fa 1840     		ands	r0, r0, r3
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 138


 3573              	.LVL344:
2977:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, SOL_SOCKET, optname=0x%x, ..) = %s\n",
 3574              		.loc 1 2977 26 discriminator 6 view .LVU1062
 3575 00fc 3060     		str	r0, [r6]
2979:ThirdPackage/lwip220/api/sockets.c ****           break;
 3576              		.loc 1 2979 84 is_stmt 1 discriminator 6 view .LVU1063
2980:ThirdPackage/lwip220/api/sockets.c **** 
 3577              		.loc 1 2980 11 discriminator 6 view .LVU1064
2929:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 3578              		.loc 1 2929 7 is_stmt 0 discriminator 6 view .LVU1065
 3579 00fe 0020     		movs	r0, #0
2980:ThirdPackage/lwip220/api/sockets.c **** 
 3580              		.loc 1 2980 11 discriminator 6 view .LVU1066
 3581 0100 93E7     		b	.L282
 3582              	.LVL345:
 3583              	.L291:
2983:ThirdPackage/lwip220/api/sockets.c ****           switch (NETCONNTYPE_GROUP(netconn_type(sock->conn))) {
 3584              		.loc 1 2983 11 is_stmt 1 view .LVU1067
2983:ThirdPackage/lwip220/api/sockets.c ****           switch (NETCONNTYPE_GROUP(netconn_type(sock->conn))) {
 3585              		.loc 1 2983 11 view .LVU1068
2983:ThirdPackage/lwip220/api/sockets.c ****           switch (NETCONNTYPE_GROUP(netconn_type(sock->conn))) {
 3586              		.loc 1 2983 11 view .LVU1069
 3587 0102 069B     		ldr	r3, [sp, #24]
 3588 0104 1B68     		ldr	r3, [r3]
 3589 0106 032B     		cmp	r3, #3
 3590 0108 7BD9     		bls	.L311
2983:ThirdPackage/lwip220/api/sockets.c ****           switch (NETCONNTYPE_GROUP(netconn_type(sock->conn))) {
 3591              		.loc 1 2983 11 discriminator 2 view .LVU1070
2983:ThirdPackage/lwip220/api/sockets.c ****           switch (NETCONNTYPE_GROUP(netconn_type(sock->conn))) {
 3592              		.loc 1 2983 11 discriminator 2 view .LVU1071
 3593 010a 0368     		ldr	r3, [r0]
 3594 010c 002B     		cmp	r3, #0
 3595 010e 7AD0     		beq	.L312
2983:ThirdPackage/lwip220/api/sockets.c ****           switch (NETCONNTYPE_GROUP(netconn_type(sock->conn))) {
 3596              		.loc 1 2983 11 discriminator 4 view .LVU1072
2984:ThirdPackage/lwip220/api/sockets.c ****             case NETCONN_RAW:
 3597              		.loc 1 2984 11 discriminator 4 view .LVU1073
2984:ThirdPackage/lwip220/api/sockets.c ****             case NETCONN_RAW:
 3598              		.loc 1 2984 19 is_stmt 0 discriminator 4 view .LVU1074
 3599 0110 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 3600 0112 02F0F003 		and	r3, r2, #240
 3601 0116 202B     		cmp	r3, #32
 3602 0118 0ED0     		beq	.L295
 3603 011a 402B     		cmp	r3, #64
 3604 011c 04D0     		beq	.L296
 3605 011e 102B     		cmp	r3, #16
 3606 0120 06D0     		beq	.L335
2995:ThirdPackage/lwip220/api/sockets.c ****               LWIP_DEBUGF(SOCKETS_DEBUG,
 3607              		.loc 1 2995 15 is_stmt 1 view .LVU1075
2995:ThirdPackage/lwip220/api/sockets.c ****               LWIP_DEBUGF(SOCKETS_DEBUG,
 3608              		.loc 1 2995 30 is_stmt 0 view .LVU1076
 3609 0122 3260     		str	r2, [r6]
2929:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 3610              		.loc 1 2929 7 view .LVU1077
 3611 0124 0020     		movs	r0, #0
 3612              	.LVL346:
2929:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 139


 3613              		.loc 1 2929 7 view .LVU1078
 3614 0126 80E7     		b	.L282
 3615              	.LVL347:
 3616              	.L296:
2986:ThirdPackage/lwip220/api/sockets.c ****               break;
 3617              		.loc 1 2986 15 is_stmt 1 view .LVU1079
2986:ThirdPackage/lwip220/api/sockets.c ****               break;
 3618              		.loc 1 2986 30 is_stmt 0 view .LVU1080
 3619 0128 0323     		movs	r3, #3
 3620 012a 3360     		str	r3, [r6]
2987:ThirdPackage/lwip220/api/sockets.c ****             case NETCONN_TCP:
 3621              		.loc 1 2987 15 is_stmt 1 view .LVU1081
2929:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 3622              		.loc 1 2929 7 is_stmt 0 view .LVU1082
 3623 012c 0020     		movs	r0, #0
 3624              	.LVL348:
2987:ThirdPackage/lwip220/api/sockets.c ****             case NETCONN_TCP:
 3625              		.loc 1 2987 15 view .LVU1083
 3626 012e 7CE7     		b	.L282
 3627              	.LVL349:
 3628              	.L335:
2989:ThirdPackage/lwip220/api/sockets.c ****               break;
 3629              		.loc 1 2989 15 is_stmt 1 view .LVU1084
2989:ThirdPackage/lwip220/api/sockets.c ****               break;
 3630              		.loc 1 2989 30 is_stmt 0 view .LVU1085
 3631 0130 0123     		movs	r3, #1
 3632 0132 3360     		str	r3, [r6]
2990:ThirdPackage/lwip220/api/sockets.c ****             case NETCONN_UDP:
 3633              		.loc 1 2990 15 is_stmt 1 view .LVU1086
2929:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 3634              		.loc 1 2929 7 is_stmt 0 view .LVU1087
 3635 0134 0020     		movs	r0, #0
 3636              	.LVL350:
2990:ThirdPackage/lwip220/api/sockets.c ****             case NETCONN_UDP:
 3637              		.loc 1 2990 15 view .LVU1088
 3638 0136 78E7     		b	.L282
 3639              	.LVL351:
 3640              	.L295:
2992:ThirdPackage/lwip220/api/sockets.c ****               break;
 3641              		.loc 1 2992 15 is_stmt 1 view .LVU1089
2992:ThirdPackage/lwip220/api/sockets.c ****               break;
 3642              		.loc 1 2992 30 is_stmt 0 view .LVU1090
 3643 0138 0223     		movs	r3, #2
 3644 013a 3360     		str	r3, [r6]
2993:ThirdPackage/lwip220/api/sockets.c ****             default: /* unrecognized socket type */
 3645              		.loc 1 2993 15 is_stmt 1 view .LVU1091
2929:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 3646              		.loc 1 2929 7 is_stmt 0 view .LVU1092
 3647 013c 0020     		movs	r0, #0
 3648              	.LVL352:
2993:ThirdPackage/lwip220/api/sockets.c ****             default: /* unrecognized socket type */
 3649              		.loc 1 2993 15 view .LVU1093
 3650 013e 74E7     		b	.L282
 3651              	.LVL353:
 3652              	.L287:
3005:ThirdPackage/lwip220/api/sockets.c ****           *(int *)optval = err_to_errno(netconn_err(sock->conn));
 3653              		.loc 1 3005 11 is_stmt 1 view .LVU1094
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 140


3005:ThirdPackage/lwip220/api/sockets.c ****           *(int *)optval = err_to_errno(netconn_err(sock->conn));
 3654              		.loc 1 3005 11 view .LVU1095
 3655 0140 069B     		ldr	r3, [sp, #24]
 3656 0142 1B68     		ldr	r3, [r3]
 3657 0144 032B     		cmp	r3, #3
 3658 0146 60D9     		bls	.L313
3005:ThirdPackage/lwip220/api/sockets.c ****           *(int *)optval = err_to_errno(netconn_err(sock->conn));
 3659              		.loc 1 3005 11 discriminator 2 view .LVU1096
3006:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, SOL_SOCKET, SO_ERROR) = %d\n",
 3660              		.loc 1 3006 11 discriminator 2 view .LVU1097
3006:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, SOL_SOCKET, SO_ERROR) = %d\n",
 3661              		.loc 1 3006 28 is_stmt 0 discriminator 2 view .LVU1098
 3662 0148 0068     		ldr	r0, [r0]
 3663              	.LVL354:
3006:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, SOL_SOCKET, SO_ERROR) = %d\n",
 3664              		.loc 1 3006 28 discriminator 2 view .LVU1099
 3665 014a FFF7FEFF 		bl	netconn_err
 3666              	.LVL355:
 3667 014e FFF7FEFF 		bl	err_to_errno
 3668              	.LVL356:
3006:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, SOL_SOCKET, SO_ERROR) = %d\n",
 3669              		.loc 1 3006 26 discriminator 2 view .LVU1100
 3670 0152 3060     		str	r0, [r6]
3008:ThirdPackage/lwip220/api/sockets.c ****           break;
 3671              		.loc 1 3008 58 is_stmt 1 discriminator 2 view .LVU1101
3009:ThirdPackage/lwip220/api/sockets.c **** 
 3672              		.loc 1 3009 11 discriminator 2 view .LVU1102
2929:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 3673              		.loc 1 2929 7 is_stmt 0 discriminator 2 view .LVU1103
 3674 0154 0020     		movs	r0, #0
3009:ThirdPackage/lwip220/api/sockets.c **** 
 3675              		.loc 1 3009 11 discriminator 2 view .LVU1104
 3676 0156 68E7     		b	.L282
 3677              	.LVL357:
 3678              	.L286:
3068:ThirdPackage/lwip220/api/sockets.c ****         case IP_TTL:
 3679              		.loc 1 3068 7 is_stmt 1 view .LVU1105
 3680 0158 012D     		cmp	r5, #1
 3681 015a 0FD0     		beq	.L299
 3682 015c 022D     		cmp	r5, #2
 3683 015e 5ED1     		bne	.L318
3070:ThirdPackage/lwip220/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->ttl;
 3684              		.loc 1 3070 11 view .LVU1106
3070:ThirdPackage/lwip220/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->ttl;
 3685              		.loc 1 3070 11 view .LVU1107
3070:ThirdPackage/lwip220/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->ttl;
 3686              		.loc 1 3070 11 view .LVU1108
 3687 0160 069B     		ldr	r3, [sp, #24]
 3688 0162 1B68     		ldr	r3, [r3]
 3689 0164 032B     		cmp	r3, #3
 3690 0166 5CD9     		bls	.L319
3070:ThirdPackage/lwip220/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->ttl;
 3691              		.loc 1 3070 11 discriminator 2 view .LVU1109
3070:ThirdPackage/lwip220/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->ttl;
 3692              		.loc 1 3070 11 discriminator 2 view .LVU1110
 3693 0168 0368     		ldr	r3, [r0]
 3694 016a 002B     		cmp	r3, #0
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 141


 3695 016c 5BD0     		beq	.L320
3070:ThirdPackage/lwip220/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->ttl;
 3696              		.loc 1 3070 11 is_stmt 0 discriminator 4 view .LVU1111
 3697 016e 5B68     		ldr	r3, [r3, #4]
 3698 0170 002B     		cmp	r3, #0
 3699 0172 5AD0     		beq	.L321
3070:ThirdPackage/lwip220/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->ttl;
 3700              		.loc 1 3070 11 is_stmt 1 discriminator 6 view .LVU1112
3071:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_IP, IP_TTL) = %d\n",
 3701              		.loc 1 3071 11 discriminator 6 view .LVU1113
3071:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_IP, IP_TTL) = %d\n",
 3702              		.loc 1 3071 46 is_stmt 0 discriminator 6 view .LVU1114
 3703 0174 DB7A     		ldrb	r3, [r3, #11]	@ zero_extendqisi2
3071:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_IP, IP_TTL) = %d\n",
 3704              		.loc 1 3071 26 discriminator 6 view .LVU1115
 3705 0176 3360     		str	r3, [r6]
3073:ThirdPackage/lwip220/api/sockets.c ****           break;
 3706              		.loc 1 3073 58 is_stmt 1 discriminator 6 view .LVU1116
3074:ThirdPackage/lwip220/api/sockets.c ****         case IP_TOS:
 3707              		.loc 1 3074 11 discriminator 6 view .LVU1117
2929:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 3708              		.loc 1 2929 7 is_stmt 0 discriminator 6 view .LVU1118
 3709 0178 2046     		mov	r0, r4
 3710              	.LVL358:
3074:ThirdPackage/lwip220/api/sockets.c ****         case IP_TOS:
 3711              		.loc 1 3074 11 discriminator 6 view .LVU1119
 3712 017a 56E7     		b	.L282
 3713              	.LVL359:
 3714              	.L299:
3076:ThirdPackage/lwip220/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->tos;
 3715              		.loc 1 3076 11 is_stmt 1 view .LVU1120
3076:ThirdPackage/lwip220/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->tos;
 3716              		.loc 1 3076 11 view .LVU1121
3076:ThirdPackage/lwip220/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->tos;
 3717              		.loc 1 3076 11 view .LVU1122
 3718 017c 069B     		ldr	r3, [sp, #24]
 3719 017e 1B68     		ldr	r3, [r3]
 3720 0180 032B     		cmp	r3, #3
 3721 0182 54D9     		bls	.L322
3076:ThirdPackage/lwip220/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->tos;
 3722              		.loc 1 3076 11 discriminator 2 view .LVU1123
3076:ThirdPackage/lwip220/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->tos;
 3723              		.loc 1 3076 11 discriminator 2 view .LVU1124
 3724 0184 0368     		ldr	r3, [r0]
 3725 0186 002B     		cmp	r3, #0
 3726 0188 53D0     		beq	.L323
3076:ThirdPackage/lwip220/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->tos;
 3727              		.loc 1 3076 11 is_stmt 0 discriminator 4 view .LVU1125
 3728 018a 5B68     		ldr	r3, [r3, #4]
 3729 018c 002B     		cmp	r3, #0
 3730 018e 52D0     		beq	.L324
3076:ThirdPackage/lwip220/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->tos;
 3731              		.loc 1 3076 11 is_stmt 1 discriminator 6 view .LVU1126
3077:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_IP, IP_TOS) = %d\n",
 3732              		.loc 1 3077 11 discriminator 6 view .LVU1127
3077:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_IP, IP_TOS) = %d\n",
 3733              		.loc 1 3077 46 is_stmt 0 discriminator 6 view .LVU1128
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 142


 3734 0190 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
3077:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_IP, IP_TOS) = %d\n",
 3735              		.loc 1 3077 26 discriminator 6 view .LVU1129
 3736 0192 3360     		str	r3, [r6]
3079:ThirdPackage/lwip220/api/sockets.c ****           break;
 3737              		.loc 1 3079 58 is_stmt 1 discriminator 6 view .LVU1130
3080:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_IPV4 && LWIP_MULTICAST_TX_OPTIONS && LWIP_UDP
 3738              		.loc 1 3080 11 discriminator 6 view .LVU1131
2929:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 3739              		.loc 1 2929 7 is_stmt 0 discriminator 6 view .LVU1132
 3740 0194 2046     		mov	r0, r4
 3741              	.LVL360:
3080:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_IPV4 && LWIP_MULTICAST_TX_OPTIONS && LWIP_UDP
 3742              		.loc 1 3080 11 discriminator 6 view .LVU1133
 3743 0196 48E7     		b	.L282
 3744              	.LVL361:
 3745              	.L284:
3125:ThirdPackage/lwip220/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 3746              		.loc 1 3125 7 is_stmt 1 view .LVU1134
3125:ThirdPackage/lwip220/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 3747              		.loc 1 3125 7 view .LVU1135
3125:ThirdPackage/lwip220/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 3748              		.loc 1 3125 7 view .LVU1136
3125:ThirdPackage/lwip220/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 3749              		.loc 1 3125 7 view .LVU1137
 3750 0198 069B     		ldr	r3, [sp, #24]
 3751 019a 1B68     		ldr	r3, [r3]
 3752 019c 032B     		cmp	r3, #3
 3753 019e 4CD9     		bls	.L325
3125:ThirdPackage/lwip220/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 3754              		.loc 1 3125 7 discriminator 2 view .LVU1138
3125:ThirdPackage/lwip220/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 3755              		.loc 1 3125 7 discriminator 2 view .LVU1139
 3756 01a0 0368     		ldr	r3, [r0]
 3757 01a2 002B     		cmp	r3, #0
 3758 01a4 4BD0     		beq	.L326
3125:ThirdPackage/lwip220/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 3759              		.loc 1 3125 7 is_stmt 0 discriminator 4 view .LVU1140
 3760 01a6 5A68     		ldr	r2, [r3, #4]
 3761 01a8 002A     		cmp	r2, #0
 3762 01aa 4AD0     		beq	.L327
3125:ThirdPackage/lwip220/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 3763              		.loc 1 3125 7 is_stmt 1 discriminator 6 view .LVU1141
3125:ThirdPackage/lwip220/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 3764              		.loc 1 3125 7 discriminator 6 view .LVU1142
 3765 01ac 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3766 01ae 03F0F003 		and	r3, r3, #240
 3767 01b2 102B     		cmp	r3, #16
 3768 01b4 47D1     		bne	.L328
3125:ThirdPackage/lwip220/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 3769              		.loc 1 3125 7 discriminator 8 view .LVU1143
3126:ThirdPackage/lwip220/api/sockets.c ****         done_socket(sock);
 3770              		.loc 1 3126 7 discriminator 8 view .LVU1144
3126:ThirdPackage/lwip220/api/sockets.c ****         done_socket(sock);
 3771              		.loc 1 3126 30 is_stmt 0 discriminator 8 view .LVU1145
 3772 01b6 137D     		ldrb	r3, [r2, #20]	@ zero_extendqisi2
3126:ThirdPackage/lwip220/api/sockets.c ****         done_socket(sock);
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 143


 3773              		.loc 1 3126 10 discriminator 8 view .LVU1146
 3774 01b8 012B     		cmp	r3, #1
 3775 01ba 46D0     		beq	.L329
3130:ThirdPackage/lwip220/api/sockets.c ****         case TCP_NODELAY:
 3776              		.loc 1 3130 7 is_stmt 1 view .LVU1147
 3777 01bc 012D     		cmp	r5, #1
 3778 01be 03D0     		beq	.L300
 3779 01c0 022D     		cmp	r5, #2
 3780 01c2 07D0     		beq	.L301
 3781 01c4 5C20     		movs	r0, #92
 3782              	.LVL362:
3130:ThirdPackage/lwip220/api/sockets.c ****         case TCP_NODELAY:
 3783              		.loc 1 3130 7 is_stmt 0 view .LVU1148
 3784 01c6 30E7     		b	.L282
 3785              	.LVL363:
 3786              	.L300:
3132:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_TCP, TCP_NODELAY) = %s\n",
 3787              		.loc 1 3132 11 is_stmt 1 view .LVU1149
3132:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_TCP, TCP_NODELAY) = %s\n",
 3788              		.loc 1 3132 28 is_stmt 0 view .LVU1150
 3789 01c8 538B     		ldrh	r3, [r2, #26]
 3790 01ca C3F38013 		ubfx	r3, r3, #6, #1
3132:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_TCP, TCP_NODELAY) = %s\n",
 3791              		.loc 1 3132 26 view .LVU1151
 3792 01ce 3360     		str	r3, [r6]
3134:ThirdPackage/lwip220/api/sockets.c ****           break;
 3793              		.loc 1 3134 76 is_stmt 1 view .LVU1152
3135:ThirdPackage/lwip220/api/sockets.c ****         case TCP_KEEPALIVE:
 3794              		.loc 1 3135 11 view .LVU1153
2929:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 3795              		.loc 1 2929 7 is_stmt 0 view .LVU1154
 3796 01d0 0020     		movs	r0, #0
 3797              	.LVL364:
3135:ThirdPackage/lwip220/api/sockets.c ****         case TCP_KEEPALIVE:
 3798              		.loc 1 3135 11 view .LVU1155
 3799 01d2 2AE7     		b	.L282
 3800              	.LVL365:
 3801              	.L301:
3137:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_TCP, TCP_KEEPALIVE) = %d\n",
 3802              		.loc 1 3137 11 is_stmt 1 view .LVU1156
3137:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_TCP, TCP_KEEPALIVE) = %d\n",
 3803              		.loc 1 3137 52 is_stmt 0 view .LVU1157
 3804 01d4 D2F89430 		ldr	r3, [r2, #148]
3137:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_TCP, TCP_KEEPALIVE) = %d\n",
 3805              		.loc 1 3137 26 view .LVU1158
 3806 01d8 3360     		str	r3, [r6]
3139:ThirdPackage/lwip220/api/sockets.c ****           break;
 3807              		.loc 1 3139 58 is_stmt 1 view .LVU1159
3140:ThirdPackage/lwip220/api/sockets.c **** 
 3808              		.loc 1 3140 11 view .LVU1160
2929:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 3809              		.loc 1 2929 7 is_stmt 0 view .LVU1161
 3810 01da 0020     		movs	r0, #0
 3811              	.LVL366:
3140:ThirdPackage/lwip220/api/sockets.c **** 
 3812              		.loc 1 3140 11 view .LVU1162
 3813 01dc 25E7     		b	.L282
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 144


 3814              	.LVL367:
 3815              	.L302:
2932:ThirdPackage/lwip220/api/sockets.c ****   }
 3816              		.loc 1 2932 12 view .LVU1163
 3817 01de 0920     		movs	r0, #9
 3818              	.LVL368:
2932:ThirdPackage/lwip220/api/sockets.c ****   }
 3819              		.loc 1 2932 12 view .LVU1164
 3820 01e0 23E7     		b	.L282
 3821              	.LVL369:
 3822              	.L303:
2949:ThirdPackage/lwip220/api/sockets.c ****           if (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_TCP) {
 3823              		.loc 1 2949 11 view .LVU1165
 3824 01e2 1620     		movs	r0, #22
 3825              	.LVL370:
2949:ThirdPackage/lwip220/api/sockets.c ****           if (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_TCP) {
 3826              		.loc 1 2949 11 view .LVU1166
 3827 01e4 21E7     		b	.L282
 3828              	.LVL371:
 3829              	.L304:
2949:ThirdPackage/lwip220/api/sockets.c ****           if (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_TCP) {
 3830              		.loc 1 2949 11 view .LVU1167
 3831 01e6 1620     		movs	r0, #22
 3832              	.LVL372:
2949:ThirdPackage/lwip220/api/sockets.c ****           if (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_TCP) {
 3833              		.loc 1 2949 11 view .LVU1168
 3834 01e8 1FE7     		b	.L282
 3835              	.LVL373:
 3836              	.L305:
2949:ThirdPackage/lwip220/api/sockets.c ****           if (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_TCP) {
 3837              		.loc 1 2949 11 view .LVU1169
 3838 01ea 1620     		movs	r0, #22
 3839              	.LVL374:
2949:ThirdPackage/lwip220/api/sockets.c ****           if (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_TCP) {
 3840              		.loc 1 2949 11 view .LVU1170
 3841 01ec 1DE7     		b	.L282
 3842              	.LVL375:
 3843              	.L306:
2952:ThirdPackage/lwip220/api/sockets.c ****           }
 3844              		.loc 1 2952 20 view .LVU1171
 3845 01ee 5C20     		movs	r0, #92
 3846              	.LVL376:
2952:ThirdPackage/lwip220/api/sockets.c ****           }
 3847              		.loc 1 2952 20 view .LVU1172
 3848 01f0 1BE7     		b	.L282
 3849              	.LVL377:
 3850              	.L307:
2971:ThirdPackage/lwip220/api/sockets.c ****           }
 3851              		.loc 1 2971 20 view .LVU1173
 3852 01f2 5C20     		movs	r0, #92
 3853              	.LVL378:
2971:ThirdPackage/lwip220/api/sockets.c ****           }
 3854              		.loc 1 2971 20 view .LVU1174
 3855 01f4 19E7     		b	.L282
 3856              	.LVL379:
 3857              	.L308:
2976:ThirdPackage/lwip220/api/sockets.c ****           *(int *)optval = ip_get_option(sock->conn->pcb.ip, optname);
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 145


 3858              		.loc 1 2976 11 view .LVU1175
 3859 01f6 1620     		movs	r0, #22
 3860              	.LVL380:
2976:ThirdPackage/lwip220/api/sockets.c ****           *(int *)optval = ip_get_option(sock->conn->pcb.ip, optname);
 3861              		.loc 1 2976 11 view .LVU1176
 3862 01f8 17E7     		b	.L282
 3863              	.LVL381:
 3864              	.L309:
2976:ThirdPackage/lwip220/api/sockets.c ****           *(int *)optval = ip_get_option(sock->conn->pcb.ip, optname);
 3865              		.loc 1 2976 11 view .LVU1177
 3866 01fa 1620     		movs	r0, #22
 3867              	.LVL382:
2976:ThirdPackage/lwip220/api/sockets.c ****           *(int *)optval = ip_get_option(sock->conn->pcb.ip, optname);
 3868              		.loc 1 2976 11 view .LVU1178
 3869 01fc 15E7     		b	.L282
 3870              	.LVL383:
 3871              	.L310:
2976:ThirdPackage/lwip220/api/sockets.c ****           *(int *)optval = ip_get_option(sock->conn->pcb.ip, optname);
 3872              		.loc 1 2976 11 view .LVU1179
 3873 01fe 1620     		movs	r0, #22
 3874              	.LVL384:
2976:ThirdPackage/lwip220/api/sockets.c ****           *(int *)optval = ip_get_option(sock->conn->pcb.ip, optname);
 3875              		.loc 1 2976 11 view .LVU1180
 3876 0200 13E7     		b	.L282
 3877              	.LVL385:
 3878              	.L311:
2983:ThirdPackage/lwip220/api/sockets.c ****           switch (NETCONNTYPE_GROUP(netconn_type(sock->conn))) {
 3879              		.loc 1 2983 11 view .LVU1181
 3880 0202 1620     		movs	r0, #22
 3881              	.LVL386:
2983:ThirdPackage/lwip220/api/sockets.c ****           switch (NETCONNTYPE_GROUP(netconn_type(sock->conn))) {
 3882              		.loc 1 2983 11 view .LVU1182
 3883 0204 11E7     		b	.L282
 3884              	.LVL387:
 3885              	.L312:
2983:ThirdPackage/lwip220/api/sockets.c ****           switch (NETCONNTYPE_GROUP(netconn_type(sock->conn))) {
 3886              		.loc 1 2983 11 view .LVU1183
 3887 0206 1620     		movs	r0, #22
 3888              	.LVL388:
2983:ThirdPackage/lwip220/api/sockets.c ****           switch (NETCONNTYPE_GROUP(netconn_type(sock->conn))) {
 3889              		.loc 1 2983 11 view .LVU1184
 3890 0208 0FE7     		b	.L282
 3891              	.LVL389:
 3892              	.L313:
3005:ThirdPackage/lwip220/api/sockets.c ****           *(int *)optval = err_to_errno(netconn_err(sock->conn));
 3893              		.loc 1 3005 11 view .LVU1185
 3894 020a 1620     		movs	r0, #22
 3895              	.LVL390:
3005:ThirdPackage/lwip220/api/sockets.c ****           *(int *)optval = err_to_errno(netconn_err(sock->conn));
 3896              		.loc 1 3005 11 view .LVU1186
 3897 020c 0DE7     		b	.L282
 3898              	.LVL391:
 3899              	.L314:
3047:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_UDPLITE
 3900              		.loc 1 3047 11 view .LVU1187
 3901 020e 1620     		movs	r0, #22
 3902              	.LVL392:
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 146


3047:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_UDPLITE
 3903              		.loc 1 3047 11 view .LVU1188
 3904 0210 0BE7     		b	.L282
 3905              	.LVL393:
 3906              	.L315:
3047:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_UDPLITE
 3907              		.loc 1 3047 11 view .LVU1189
 3908 0212 1620     		movs	r0, #22
 3909              	.LVL394:
3047:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_UDPLITE
 3910              		.loc 1 3047 11 view .LVU1190
 3911 0214 09E7     		b	.L282
 3912              	.LVL395:
 3913              	.L316:
3047:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_UDPLITE
 3914              		.loc 1 3047 11 view .LVU1191
 3915 0216 1620     		movs	r0, #22
 3916              	.LVL396:
3047:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_UDPLITE
 3917              		.loc 1 3047 11 view .LVU1192
 3918 0218 07E7     		b	.L282
 3919              	.LVL397:
 3920              	.L317:
3047:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_UDPLITE
 3921              		.loc 1 3047 11 view .LVU1193
 3922 021a 5C20     		movs	r0, #92
 3923              	.LVL398:
3047:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_UDPLITE
 3924              		.loc 1 3047 11 view .LVU1194
 3925 021c 05E7     		b	.L282
 3926              	.LVL399:
 3927              	.L318:
3047:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_UDPLITE
 3928              		.loc 1 3047 11 view .LVU1195
 3929 021e 5C20     		movs	r0, #92
 3930              	.LVL400:
3047:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_UDPLITE
 3931              		.loc 1 3047 11 view .LVU1196
 3932 0220 03E7     		b	.L282
 3933              	.LVL401:
 3934              	.L319:
3070:ThirdPackage/lwip220/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->ttl;
 3935              		.loc 1 3070 11 view .LVU1197
 3936 0222 1620     		movs	r0, #22
 3937              	.LVL402:
3070:ThirdPackage/lwip220/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->ttl;
 3938              		.loc 1 3070 11 view .LVU1198
 3939 0224 01E7     		b	.L282
 3940              	.LVL403:
 3941              	.L320:
3070:ThirdPackage/lwip220/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->ttl;
 3942              		.loc 1 3070 11 view .LVU1199
 3943 0226 1620     		movs	r0, #22
 3944              	.LVL404:
3070:ThirdPackage/lwip220/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->ttl;
 3945              		.loc 1 3070 11 view .LVU1200
 3946 0228 FFE6     		b	.L282
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 147


 3947              	.LVL405:
 3948              	.L321:
3070:ThirdPackage/lwip220/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->ttl;
 3949              		.loc 1 3070 11 view .LVU1201
 3950 022a 1620     		movs	r0, #22
 3951              	.LVL406:
3070:ThirdPackage/lwip220/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->ttl;
 3952              		.loc 1 3070 11 view .LVU1202
 3953 022c FDE6     		b	.L282
 3954              	.LVL407:
 3955              	.L322:
3076:ThirdPackage/lwip220/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->tos;
 3956              		.loc 1 3076 11 view .LVU1203
 3957 022e 1620     		movs	r0, #22
 3958              	.LVL408:
3076:ThirdPackage/lwip220/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->tos;
 3959              		.loc 1 3076 11 view .LVU1204
 3960 0230 FBE6     		b	.L282
 3961              	.LVL409:
 3962              	.L323:
3076:ThirdPackage/lwip220/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->tos;
 3963              		.loc 1 3076 11 view .LVU1205
 3964 0232 1620     		movs	r0, #22
 3965              	.LVL410:
3076:ThirdPackage/lwip220/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->tos;
 3966              		.loc 1 3076 11 view .LVU1206
 3967 0234 F9E6     		b	.L282
 3968              	.LVL411:
 3969              	.L324:
3076:ThirdPackage/lwip220/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->tos;
 3970              		.loc 1 3076 11 view .LVU1207
 3971 0236 1620     		movs	r0, #22
 3972              	.LVL412:
3076:ThirdPackage/lwip220/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->tos;
 3973              		.loc 1 3076 11 view .LVU1208
 3974 0238 F7E6     		b	.L282
 3975              	.LVL413:
 3976              	.L325:
3125:ThirdPackage/lwip220/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 3977              		.loc 1 3125 7 view .LVU1209
 3978 023a 1620     		movs	r0, #22
 3979              	.LVL414:
3125:ThirdPackage/lwip220/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 3980              		.loc 1 3125 7 view .LVU1210
 3981 023c F5E6     		b	.L282
 3982              	.LVL415:
 3983              	.L326:
3125:ThirdPackage/lwip220/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 3984              		.loc 1 3125 7 view .LVU1211
 3985 023e 1620     		movs	r0, #22
 3986              	.LVL416:
3125:ThirdPackage/lwip220/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 3987              		.loc 1 3125 7 view .LVU1212
 3988 0240 F3E6     		b	.L282
 3989              	.LVL417:
 3990              	.L327:
3125:ThirdPackage/lwip220/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 148


 3991              		.loc 1 3125 7 view .LVU1213
 3992 0242 1620     		movs	r0, #22
 3993              	.LVL418:
3125:ThirdPackage/lwip220/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 3994              		.loc 1 3125 7 view .LVU1214
 3995 0244 F1E6     		b	.L282
 3996              	.LVL419:
 3997              	.L328:
3125:ThirdPackage/lwip220/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 3998              		.loc 1 3125 7 view .LVU1215
 3999 0246 5C20     		movs	r0, #92
 4000              	.LVL420:
3125:ThirdPackage/lwip220/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4001              		.loc 1 3125 7 view .LVU1216
 4002 0248 EFE6     		b	.L282
 4003              	.LVL421:
 4004              	.L329:
3128:ThirdPackage/lwip220/api/sockets.c ****       }
 4005              		.loc 1 3128 16 view .LVU1217
 4006 024a 1620     		movs	r0, #22
 4007              	.LVL422:
3128:ThirdPackage/lwip220/api/sockets.c ****       }
 4008              		.loc 1 3128 16 view .LVU1218
 4009 024c EDE6     		b	.L282
 4010              		.cfi_endproc
 4011              	.LFE207:
 4013              		.section	.rodata.lwip_setsockopt_impl.str1.4,"aMS",%progbits,1
 4014              		.align	2
 4015              	.LC18:
 4016 0000 556E6861 		.ascii	"Unhandled netconn type in SO_BINDTODEVICE\000"
 4016      6E646C65 
 4016      64206E65 
 4016      74636F6E 
 4016      6E207479 
 4017              		.section	.text.lwip_setsockopt_impl,"ax",%progbits
 4018              		.align	1
 4019              		.syntax unified
 4020              		.thumb
 4021              		.thumb_func
 4023              	lwip_setsockopt_impl:
 4024              	.LVL423:
 4025              	.LFB209:
3248:ThirdPackage/lwip220/api/sockets.c **** 
3249:ThirdPackage/lwip220/api/sockets.c **** int
3250:ThirdPackage/lwip220/api/sockets.c **** lwip_setsockopt(int s, int level, int optname, const void *optval, socklen_t optlen)
3251:ThirdPackage/lwip220/api/sockets.c **** {
3252:ThirdPackage/lwip220/api/sockets.c ****   int err = 0;
3253:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock = get_socket(s);
3254:ThirdPackage/lwip220/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
3255:ThirdPackage/lwip220/api/sockets.c ****   err_t cberr;
3256:ThirdPackage/lwip220/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_DECLARE(data);
3257:ThirdPackage/lwip220/api/sockets.c **** #endif /* !LWIP_TCPIP_CORE_LOCKING */
3258:ThirdPackage/lwip220/api/sockets.c **** 
3259:ThirdPackage/lwip220/api/sockets.c ****   if (!sock) {
3260:ThirdPackage/lwip220/api/sockets.c ****     return -1;
3261:ThirdPackage/lwip220/api/sockets.c ****   }
3262:ThirdPackage/lwip220/api/sockets.c **** 
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 149


3263:ThirdPackage/lwip220/api/sockets.c ****   if (NULL == optval) {
3264:ThirdPackage/lwip220/api/sockets.c ****     set_errno(EFAULT);
3265:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
3266:ThirdPackage/lwip220/api/sockets.c ****     return -1;
3267:ThirdPackage/lwip220/api/sockets.c ****   }
3268:ThirdPackage/lwip220/api/sockets.c **** 
3269:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_TCPIP_CORE_LOCKING
3270:ThirdPackage/lwip220/api/sockets.c ****   /* core-locking can just call the -impl function */
3271:ThirdPackage/lwip220/api/sockets.c ****   LOCK_TCPIP_CORE();
3272:ThirdPackage/lwip220/api/sockets.c ****   err = lwip_setsockopt_impl(s, level, optname, optval, optlen);
3273:ThirdPackage/lwip220/api/sockets.c ****   UNLOCK_TCPIP_CORE();
3274:ThirdPackage/lwip220/api/sockets.c **** 
3275:ThirdPackage/lwip220/api/sockets.c **** #else /* LWIP_TCPIP_CORE_LOCKING */
3276:ThirdPackage/lwip220/api/sockets.c **** 
3277:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_MPU_COMPATIBLE
3278:ThirdPackage/lwip220/api/sockets.c ****   /* MPU_COMPATIBLE copies the optval data, so check for max size here */
3279:ThirdPackage/lwip220/api/sockets.c ****   if (optlen > LWIP_SETGETSOCKOPT_MAXOPTLEN) {
3280:ThirdPackage/lwip220/api/sockets.c ****     set_errno(ENOBUFS);
3281:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
3282:ThirdPackage/lwip220/api/sockets.c ****     return -1;
3283:ThirdPackage/lwip220/api/sockets.c ****   }
3284:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_MPU_COMPATIBLE */
3285:ThirdPackage/lwip220/api/sockets.c **** 
3286:ThirdPackage/lwip220/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_ALLOC(data, sock);
3287:ThirdPackage/lwip220/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).s = s;
3288:ThirdPackage/lwip220/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).level = level;
3289:ThirdPackage/lwip220/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).optname = optname;
3290:ThirdPackage/lwip220/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).optlen = optlen;
3291:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_MPU_COMPATIBLE
3292:ThirdPackage/lwip220/api/sockets.c ****   MEMCPY(LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).optval, optval, optlen);
3293:ThirdPackage/lwip220/api/sockets.c **** #else /* LWIP_MPU_COMPATIBLE */
3294:ThirdPackage/lwip220/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).optval.pc = (const void *)optval;
3295:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_MPU_COMPATIBLE */
3296:ThirdPackage/lwip220/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).err = 0;
3297:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
3298:ThirdPackage/lwip220/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).completed_sem = LWIP_NETCONN_THREAD_SEM_GET();
3299:ThirdPackage/lwip220/api/sockets.c **** #else
3300:ThirdPackage/lwip220/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).completed_sem = &sock->conn->op_completed;
3301:ThirdPackage/lwip220/api/sockets.c **** #endif
3302:ThirdPackage/lwip220/api/sockets.c ****   cberr = tcpip_callback(lwip_setsockopt_callback, &LWIP_SETGETSOCKOPT_DATA_VAR_REF(data));
3303:ThirdPackage/lwip220/api/sockets.c ****   if (cberr != ERR_OK) {
3304:ThirdPackage/lwip220/api/sockets.c ****     LWIP_SETGETSOCKOPT_DATA_VAR_FREE(data);
3305:ThirdPackage/lwip220/api/sockets.c ****     set_errno(err_to_errno(cberr));
3306:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
3307:ThirdPackage/lwip220/api/sockets.c ****     return -1;
3308:ThirdPackage/lwip220/api/sockets.c ****   }
3309:ThirdPackage/lwip220/api/sockets.c ****   sys_arch_sem_wait((sys_sem_t *)(LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).completed_sem), 0);
3310:ThirdPackage/lwip220/api/sockets.c **** 
3311:ThirdPackage/lwip220/api/sockets.c ****   /* maybe lwip_setsockopt_impl has changed err */
3312:ThirdPackage/lwip220/api/sockets.c ****   err = LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).err;
3313:ThirdPackage/lwip220/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_FREE(data);
3314:ThirdPackage/lwip220/api/sockets.c **** #endif  /* LWIP_TCPIP_CORE_LOCKING */
3315:ThirdPackage/lwip220/api/sockets.c **** 
3316:ThirdPackage/lwip220/api/sockets.c ****   set_errno(err);
3317:ThirdPackage/lwip220/api/sockets.c ****   done_socket(sock);
3318:ThirdPackage/lwip220/api/sockets.c ****   return err ? -1 : 0;
3319:ThirdPackage/lwip220/api/sockets.c **** }
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 150


3320:ThirdPackage/lwip220/api/sockets.c **** 
3321:ThirdPackage/lwip220/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
3322:ThirdPackage/lwip220/api/sockets.c **** /** lwip_setsockopt_callback: only used without CORE_LOCKING
3323:ThirdPackage/lwip220/api/sockets.c ****  * to get into the tcpip_thread
3324:ThirdPackage/lwip220/api/sockets.c ****  */
3325:ThirdPackage/lwip220/api/sockets.c **** static void
3326:ThirdPackage/lwip220/api/sockets.c **** lwip_setsockopt_callback(void *arg)
3327:ThirdPackage/lwip220/api/sockets.c **** {
3328:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_setgetsockopt_data *data;
3329:ThirdPackage/lwip220/api/sockets.c ****   LWIP_ASSERT("arg != NULL", arg != NULL);
3330:ThirdPackage/lwip220/api/sockets.c ****   data = (struct lwip_setgetsockopt_data *)arg;
3331:ThirdPackage/lwip220/api/sockets.c **** 
3332:ThirdPackage/lwip220/api/sockets.c ****   data->err = lwip_setsockopt_impl(data->s, data->level, data->optname,
3333:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_MPU_COMPATIBLE
3334:ThirdPackage/lwip220/api/sockets.c ****                                    data->optval,
3335:ThirdPackage/lwip220/api/sockets.c **** #else /* LWIP_MPU_COMPATIBLE */
3336:ThirdPackage/lwip220/api/sockets.c ****                                    data->optval.pc,
3337:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_MPU_COMPATIBLE */
3338:ThirdPackage/lwip220/api/sockets.c ****                                    data->optlen);
3339:ThirdPackage/lwip220/api/sockets.c **** 
3340:ThirdPackage/lwip220/api/sockets.c ****   sys_sem_signal((sys_sem_t *)(data->completed_sem));
3341:ThirdPackage/lwip220/api/sockets.c **** }
3342:ThirdPackage/lwip220/api/sockets.c **** #endif  /* LWIP_TCPIP_CORE_LOCKING */
3343:ThirdPackage/lwip220/api/sockets.c **** 
3344:ThirdPackage/lwip220/api/sockets.c **** /** lwip_setsockopt_impl: the actual implementation of setsockopt:
3345:ThirdPackage/lwip220/api/sockets.c ****  * same argument as lwip_setsockopt, either called directly or through callback
3346:ThirdPackage/lwip220/api/sockets.c ****  */
3347:ThirdPackage/lwip220/api/sockets.c **** static int
3348:ThirdPackage/lwip220/api/sockets.c **** lwip_setsockopt_impl(int s, int level, int optname, const void *optval, socklen_t optlen)
3349:ThirdPackage/lwip220/api/sockets.c **** {
 4026              		.loc 1 3349 1 is_stmt 1 view -0
 4027              		.cfi_startproc
 4028              		@ args = 4, pretend = 0, frame = 0
 4029              		@ frame_needed = 0, uses_anonymous_args = 0
 4030              		.loc 1 3349 1 is_stmt 0 view .LVU1220
 4031 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 4032              	.LCFI50:
 4033              		.cfi_def_cfa_offset 24
 4034              		.cfi_offset 3, -24
 4035              		.cfi_offset 4, -20
 4036              		.cfi_offset 5, -16
 4037              		.cfi_offset 6, -12
 4038              		.cfi_offset 7, -8
 4039              		.cfi_offset 14, -4
 4040 0002 0C46     		mov	r4, r1
 4041 0004 1546     		mov	r5, r2
 4042 0006 1E46     		mov	r6, r3
3350:ThirdPackage/lwip220/api/sockets.c ****   int err = 0;
 4043              		.loc 1 3350 3 is_stmt 1 view .LVU1221
 4044              	.LVL424:
3351:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 4045              		.loc 1 3351 3 view .LVU1222
 4046              		.loc 1 3351 28 is_stmt 0 view .LVU1223
 4047 0008 FFF7FEFF 		bl	tryget_socket
 4048              	.LVL425:
3352:ThirdPackage/lwip220/api/sockets.c ****   if (!sock) {
 4049              		.loc 1 3352 3 is_stmt 1 view .LVU1224
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 151


 4050              		.loc 1 3352 6 is_stmt 0 view .LVU1225
 4051 000c 0028     		cmp	r0, #0
 4052 000e 00F0D680 		beq	.L356
 4053 0012 0746     		mov	r7, r0
3353:ThirdPackage/lwip220/api/sockets.c ****     return EBADF;
3354:ThirdPackage/lwip220/api/sockets.c ****   }
3355:ThirdPackage/lwip220/api/sockets.c **** 
3356:ThirdPackage/lwip220/api/sockets.c **** #ifdef LWIP_HOOK_SOCKETS_SETSOCKOPT
3357:ThirdPackage/lwip220/api/sockets.c ****   if (LWIP_HOOK_SOCKETS_SETSOCKOPT(s, sock, level, optname, optval, optlen, &err)) {
3358:ThirdPackage/lwip220/api/sockets.c ****     return err;
3359:ThirdPackage/lwip220/api/sockets.c ****   }
3360:ThirdPackage/lwip220/api/sockets.c **** #endif
3361:ThirdPackage/lwip220/api/sockets.c **** 
3362:ThirdPackage/lwip220/api/sockets.c ****   switch (level) {
 4054              		.loc 1 3362 3 is_stmt 1 view .LVU1226
 4055 0014 062C     		cmp	r4, #6
 4056 0016 00F0A980 		beq	.L338
 4057 001a 40F6FF73 		movw	r3, #4095
 4058 001e 9C42     		cmp	r4, r3
 4059 0020 04D0     		beq	.L339
 4060 0022 002C     		cmp	r4, #0
 4061 0024 00F08480 		beq	.L340
 4062 0028 5C20     		movs	r0, #92
 4063              	.LVL426:
 4064              	.L336:
3363:ThirdPackage/lwip220/api/sockets.c **** 
3364:ThirdPackage/lwip220/api/sockets.c ****     /* Level: SOL_SOCKET */
3365:ThirdPackage/lwip220/api/sockets.c ****     case SOL_SOCKET:
3366:ThirdPackage/lwip220/api/sockets.c ****       switch (optname) {
3367:ThirdPackage/lwip220/api/sockets.c **** 
3368:ThirdPackage/lwip220/api/sockets.c ****         /* SO_ACCEPTCONN is get-only */
3369:ThirdPackage/lwip220/api/sockets.c **** 
3370:ThirdPackage/lwip220/api/sockets.c ****         /* The option flags */
3371:ThirdPackage/lwip220/api/sockets.c ****         case SO_BROADCAST:
3372:ThirdPackage/lwip220/api/sockets.c ****         case SO_KEEPALIVE:
3373:ThirdPackage/lwip220/api/sockets.c **** #if SO_REUSE
3374:ThirdPackage/lwip220/api/sockets.c ****         case SO_REUSEADDR:
3375:ThirdPackage/lwip220/api/sockets.c **** #endif /* SO_REUSE */
3376:ThirdPackage/lwip220/api/sockets.c ****           if ((optname == SO_BROADCAST) &&
3377:ThirdPackage/lwip220/api/sockets.c ****               (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_UDP)) {
3378:ThirdPackage/lwip220/api/sockets.c ****             done_socket(sock);
3379:ThirdPackage/lwip220/api/sockets.c ****             return ENOPROTOOPT;
3380:ThirdPackage/lwip220/api/sockets.c ****           }
3381:ThirdPackage/lwip220/api/sockets.c **** 
3382:ThirdPackage/lwip220/api/sockets.c ****           optname = lwip_sockopt_to_ipopt(optname);
3383:ThirdPackage/lwip220/api/sockets.c **** 
3384:ThirdPackage/lwip220/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, optlen, int);
3385:ThirdPackage/lwip220/api/sockets.c ****           if (*(const int *)optval) {
3386:ThirdPackage/lwip220/api/sockets.c ****             ip_set_option(sock->conn->pcb.ip, optname);
3387:ThirdPackage/lwip220/api/sockets.c ****           } else {
3388:ThirdPackage/lwip220/api/sockets.c ****             ip_reset_option(sock->conn->pcb.ip, optname);
3389:ThirdPackage/lwip220/api/sockets.c ****           }
3390:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, SOL_SOCKET, optname=0x%x, ..) -> %s\n",
3391:ThirdPackage/lwip220/api/sockets.c ****                                       s, optname, (*(const int *)optval ? "on" : "off")));
3392:ThirdPackage/lwip220/api/sockets.c ****           break;
3393:ThirdPackage/lwip220/api/sockets.c **** 
3394:ThirdPackage/lwip220/api/sockets.c ****           /* SO_TYPE is get-only */
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 152


3395:ThirdPackage/lwip220/api/sockets.c ****           /* SO_ERROR is get-only */
3396:ThirdPackage/lwip220/api/sockets.c **** 
3397:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_SO_SNDTIMEO
3398:ThirdPackage/lwip220/api/sockets.c ****         case SO_SNDTIMEO: {
3399:ThirdPackage/lwip220/api/sockets.c ****           long ms_long;
3400:ThirdPackage/lwip220/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN(sock, optlen, LWIP_SO_SNDRCVTIMEO_OPTTYPE);
3401:ThirdPackage/lwip220/api/sockets.c ****           ms_long = LWIP_SO_SNDRCVTIMEO_GET_MS(optval);
3402:ThirdPackage/lwip220/api/sockets.c ****           if (ms_long < 0) {
3403:ThirdPackage/lwip220/api/sockets.c ****             done_socket(sock);
3404:ThirdPackage/lwip220/api/sockets.c ****             return EINVAL;
3405:ThirdPackage/lwip220/api/sockets.c ****           }
3406:ThirdPackage/lwip220/api/sockets.c ****           netconn_set_sendtimeout(sock->conn, ms_long);
3407:ThirdPackage/lwip220/api/sockets.c ****           break;
3408:ThirdPackage/lwip220/api/sockets.c ****         }
3409:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_SO_SNDTIMEO */
3410:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_SO_RCVTIMEO
3411:ThirdPackage/lwip220/api/sockets.c ****         case SO_RCVTIMEO: {
3412:ThirdPackage/lwip220/api/sockets.c ****           long ms_long;
3413:ThirdPackage/lwip220/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN(sock, optlen, LWIP_SO_SNDRCVTIMEO_OPTTYPE);
3414:ThirdPackage/lwip220/api/sockets.c ****           ms_long = LWIP_SO_SNDRCVTIMEO_GET_MS(optval);
3415:ThirdPackage/lwip220/api/sockets.c ****           if (ms_long < 0) {
3416:ThirdPackage/lwip220/api/sockets.c ****             done_socket(sock);
3417:ThirdPackage/lwip220/api/sockets.c ****             return EINVAL;
3418:ThirdPackage/lwip220/api/sockets.c ****           }
3419:ThirdPackage/lwip220/api/sockets.c ****           netconn_set_recvtimeout(sock->conn, (u32_t)ms_long);
3420:ThirdPackage/lwip220/api/sockets.c ****           break;
3421:ThirdPackage/lwip220/api/sockets.c ****         }
3422:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_SO_RCVTIMEO */
3423:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_SO_RCVBUF
3424:ThirdPackage/lwip220/api/sockets.c ****         case SO_RCVBUF:
3425:ThirdPackage/lwip220/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN(sock, optlen, int);
3426:ThirdPackage/lwip220/api/sockets.c ****           netconn_set_recvbufsize(sock->conn, *(const int *)optval);
3427:ThirdPackage/lwip220/api/sockets.c ****           break;
3428:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_SO_RCVBUF */
3429:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_SO_LINGER
3430:ThirdPackage/lwip220/api/sockets.c ****         case SO_LINGER: {
3431:ThirdPackage/lwip220/api/sockets.c ****           const struct linger *linger = (const struct linger *)optval;
3432:ThirdPackage/lwip220/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN(sock, optlen, struct linger);
3433:ThirdPackage/lwip220/api/sockets.c ****           if (linger->l_onoff) {
3434:ThirdPackage/lwip220/api/sockets.c ****             int lingersec = linger->l_linger;
3435:ThirdPackage/lwip220/api/sockets.c ****             if (lingersec < 0) {
3436:ThirdPackage/lwip220/api/sockets.c ****               done_socket(sock);
3437:ThirdPackage/lwip220/api/sockets.c ****               return EINVAL;
3438:ThirdPackage/lwip220/api/sockets.c ****             }
3439:ThirdPackage/lwip220/api/sockets.c ****             if (lingersec > 0xFFFF) {
3440:ThirdPackage/lwip220/api/sockets.c ****               lingersec = 0xFFFF;
3441:ThirdPackage/lwip220/api/sockets.c ****             }
3442:ThirdPackage/lwip220/api/sockets.c ****             sock->conn->linger = (s16_t)lingersec;
3443:ThirdPackage/lwip220/api/sockets.c ****           } else {
3444:ThirdPackage/lwip220/api/sockets.c ****             sock->conn->linger = -1;
3445:ThirdPackage/lwip220/api/sockets.c ****           }
3446:ThirdPackage/lwip220/api/sockets.c ****         }
3447:ThirdPackage/lwip220/api/sockets.c ****         break;
3448:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_SO_LINGER */
3449:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_UDP
3450:ThirdPackage/lwip220/api/sockets.c ****         case SO_NO_CHECK:
3451:ThirdPackage/lwip220/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB_TYPE(sock, optlen, int, NETCONN_UDP);
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 153


3452:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_UDPLITE
3453:ThirdPackage/lwip220/api/sockets.c ****           if (udp_is_flag_set(sock->conn->pcb.udp, UDP_FLAGS_UDPLITE)) {
3454:ThirdPackage/lwip220/api/sockets.c ****             /* this flag is only available for UDP, not for UDP lite */
3455:ThirdPackage/lwip220/api/sockets.c ****             done_socket(sock);
3456:ThirdPackage/lwip220/api/sockets.c ****             return EAFNOSUPPORT;
3457:ThirdPackage/lwip220/api/sockets.c ****           }
3458:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_UDPLITE */
3459:ThirdPackage/lwip220/api/sockets.c ****           if (*(const int *)optval) {
3460:ThirdPackage/lwip220/api/sockets.c ****             udp_set_flags(sock->conn->pcb.udp, UDP_FLAGS_NOCHKSUM);
3461:ThirdPackage/lwip220/api/sockets.c ****           } else {
3462:ThirdPackage/lwip220/api/sockets.c ****             udp_clear_flags(sock->conn->pcb.udp, UDP_FLAGS_NOCHKSUM);
3463:ThirdPackage/lwip220/api/sockets.c ****           }
3464:ThirdPackage/lwip220/api/sockets.c ****           break;
3465:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_UDP */
3466:ThirdPackage/lwip220/api/sockets.c ****         case SO_BINDTODEVICE: {
3467:ThirdPackage/lwip220/api/sockets.c ****           const struct ifreq *iface;
3468:ThirdPackage/lwip220/api/sockets.c ****           struct netif *n = NULL;
3469:ThirdPackage/lwip220/api/sockets.c **** 
3470:ThirdPackage/lwip220/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN(sock, optlen, struct ifreq);
3471:ThirdPackage/lwip220/api/sockets.c **** 
3472:ThirdPackage/lwip220/api/sockets.c ****           iface = (const struct ifreq *)optval;
3473:ThirdPackage/lwip220/api/sockets.c ****           if (iface->ifr_name[0] != 0) {
3474:ThirdPackage/lwip220/api/sockets.c ****             n = netif_find(iface->ifr_name);
3475:ThirdPackage/lwip220/api/sockets.c ****             if (n == NULL) {
3476:ThirdPackage/lwip220/api/sockets.c ****               done_socket(sock);
3477:ThirdPackage/lwip220/api/sockets.c ****               return ENODEV;
3478:ThirdPackage/lwip220/api/sockets.c ****             }
3479:ThirdPackage/lwip220/api/sockets.c ****           }
3480:ThirdPackage/lwip220/api/sockets.c **** 
3481:ThirdPackage/lwip220/api/sockets.c ****           switch (NETCONNTYPE_GROUP(netconn_type(sock->conn))) {
3482:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_TCP
3483:ThirdPackage/lwip220/api/sockets.c ****             case NETCONN_TCP:
3484:ThirdPackage/lwip220/api/sockets.c ****               tcp_bind_netif(sock->conn->pcb.tcp, n);
3485:ThirdPackage/lwip220/api/sockets.c ****               break;
3486:ThirdPackage/lwip220/api/sockets.c **** #endif
3487:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_UDP
3488:ThirdPackage/lwip220/api/sockets.c ****             case NETCONN_UDP:
3489:ThirdPackage/lwip220/api/sockets.c ****               udp_bind_netif(sock->conn->pcb.udp, n);
3490:ThirdPackage/lwip220/api/sockets.c ****               break;
3491:ThirdPackage/lwip220/api/sockets.c **** #endif
3492:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_RAW
3493:ThirdPackage/lwip220/api/sockets.c ****             case NETCONN_RAW:
3494:ThirdPackage/lwip220/api/sockets.c ****               raw_bind_netif(sock->conn->pcb.raw, n);
3495:ThirdPackage/lwip220/api/sockets.c ****               break;
3496:ThirdPackage/lwip220/api/sockets.c **** #endif
3497:ThirdPackage/lwip220/api/sockets.c ****             default:
3498:ThirdPackage/lwip220/api/sockets.c ****               LWIP_ASSERT("Unhandled netconn type in SO_BINDTODEVICE", 0);
3499:ThirdPackage/lwip220/api/sockets.c ****               break;
3500:ThirdPackage/lwip220/api/sockets.c ****           }
3501:ThirdPackage/lwip220/api/sockets.c ****         }
3502:ThirdPackage/lwip220/api/sockets.c ****         break;
3503:ThirdPackage/lwip220/api/sockets.c ****         default:
3504:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, SOL_SOCKET, UNIMPL: optname=0x%x, ..)\n"
3505:ThirdPackage/lwip220/api/sockets.c ****                                       s, optname));
3506:ThirdPackage/lwip220/api/sockets.c ****           err = ENOPROTOOPT;
3507:ThirdPackage/lwip220/api/sockets.c ****           break;
3508:ThirdPackage/lwip220/api/sockets.c ****       }  /* switch (optname) */
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 154


3509:ThirdPackage/lwip220/api/sockets.c ****       break;
3510:ThirdPackage/lwip220/api/sockets.c **** 
3511:ThirdPackage/lwip220/api/sockets.c ****     /* Level: IPPROTO_IP */
3512:ThirdPackage/lwip220/api/sockets.c ****     case IPPROTO_IP:
3513:ThirdPackage/lwip220/api/sockets.c ****       switch (optname) {
3514:ThirdPackage/lwip220/api/sockets.c ****         case IP_TTL:
3515:ThirdPackage/lwip220/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, optlen, int);
3516:ThirdPackage/lwip220/api/sockets.c ****           sock->conn->pcb.ip->ttl = (u8_t)(*(const int *)optval);
3517:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_IP, IP_TTL, ..) -> %d\n",
3518:ThirdPackage/lwip220/api/sockets.c ****                                       s, sock->conn->pcb.ip->ttl));
3519:ThirdPackage/lwip220/api/sockets.c ****           break;
3520:ThirdPackage/lwip220/api/sockets.c ****         case IP_TOS:
3521:ThirdPackage/lwip220/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, optlen, int);
3522:ThirdPackage/lwip220/api/sockets.c ****           sock->conn->pcb.ip->tos = (u8_t)(*(const int *)optval);
3523:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_IP, IP_TOS, ..)-> %d\n",
3524:ThirdPackage/lwip220/api/sockets.c ****                                       s, sock->conn->pcb.ip->tos));
3525:ThirdPackage/lwip220/api/sockets.c ****           break;
3526:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_NETBUF_RECVINFO
3527:ThirdPackage/lwip220/api/sockets.c ****         case IP_PKTINFO:
3528:ThirdPackage/lwip220/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB_TYPE(sock, optlen, int, NETCONN_UDP);
3529:ThirdPackage/lwip220/api/sockets.c ****           if (*(const int *)optval) {
3530:ThirdPackage/lwip220/api/sockets.c ****             sock->conn->flags |= NETCONN_FLAG_PKTINFO;
3531:ThirdPackage/lwip220/api/sockets.c ****           } else {
3532:ThirdPackage/lwip220/api/sockets.c ****             sock->conn->flags &= ~NETCONN_FLAG_PKTINFO;
3533:ThirdPackage/lwip220/api/sockets.c ****           }
3534:ThirdPackage/lwip220/api/sockets.c ****           break;
3535:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_NETBUF_RECVINFO */
3536:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_IPV4 && LWIP_MULTICAST_TX_OPTIONS && LWIP_UDP
3537:ThirdPackage/lwip220/api/sockets.c ****         case IP_MULTICAST_TTL:
3538:ThirdPackage/lwip220/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB_TYPE(sock, optlen, u8_t, NETCONN_UDP);
3539:ThirdPackage/lwip220/api/sockets.c ****           udp_set_multicast_ttl(sock->conn->pcb.udp, (u8_t)(*(const u8_t *)optval));
3540:ThirdPackage/lwip220/api/sockets.c ****           break;
3541:ThirdPackage/lwip220/api/sockets.c ****         case IP_MULTICAST_IF: {
3542:ThirdPackage/lwip220/api/sockets.c ****           ip4_addr_t if_addr;
3543:ThirdPackage/lwip220/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB_TYPE(sock, optlen, struct in_addr, NETCONN_UDP);
3544:ThirdPackage/lwip220/api/sockets.c ****           inet_addr_to_ip4addr(&if_addr, (const struct in_addr *)optval);
3545:ThirdPackage/lwip220/api/sockets.c ****           udp_set_multicast_netif_addr(sock->conn->pcb.udp, &if_addr);
3546:ThirdPackage/lwip220/api/sockets.c ****         }
3547:ThirdPackage/lwip220/api/sockets.c ****         break;
3548:ThirdPackage/lwip220/api/sockets.c ****         case IP_MULTICAST_LOOP:
3549:ThirdPackage/lwip220/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB_TYPE(sock, optlen, u8_t, NETCONN_UDP);
3550:ThirdPackage/lwip220/api/sockets.c ****           if (*(const u8_t *)optval) {
3551:ThirdPackage/lwip220/api/sockets.c ****             udp_set_flags(sock->conn->pcb.udp, UDP_FLAGS_MULTICAST_LOOP);
3552:ThirdPackage/lwip220/api/sockets.c ****           } else {
3553:ThirdPackage/lwip220/api/sockets.c ****             udp_clear_flags(sock->conn->pcb.udp, UDP_FLAGS_MULTICAST_LOOP);
3554:ThirdPackage/lwip220/api/sockets.c ****           }
3555:ThirdPackage/lwip220/api/sockets.c ****           break;
3556:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_IPV4 && LWIP_MULTICAST_TX_OPTIONS && LWIP_UDP */
3557:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_IGMP
3558:ThirdPackage/lwip220/api/sockets.c ****         case IP_ADD_MEMBERSHIP:
3559:ThirdPackage/lwip220/api/sockets.c ****         case IP_DROP_MEMBERSHIP: {
3560:ThirdPackage/lwip220/api/sockets.c ****           /* If this is a TCP or a RAW socket, ignore these options. */
3561:ThirdPackage/lwip220/api/sockets.c ****           err_t igmp_err;
3562:ThirdPackage/lwip220/api/sockets.c ****           const struct ip_mreq *imr = (const struct ip_mreq *)optval;
3563:ThirdPackage/lwip220/api/sockets.c ****           ip4_addr_t if_addr;
3564:ThirdPackage/lwip220/api/sockets.c ****           ip4_addr_t multi_addr;
3565:ThirdPackage/lwip220/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB_TYPE(sock, optlen, struct ip_mreq, NETCONN_UDP);
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 155


3566:ThirdPackage/lwip220/api/sockets.c ****           inet_addr_to_ip4addr(&if_addr, &imr->imr_interface);
3567:ThirdPackage/lwip220/api/sockets.c ****           inet_addr_to_ip4addr(&multi_addr, &imr->imr_multiaddr);
3568:ThirdPackage/lwip220/api/sockets.c ****           if (optname == IP_ADD_MEMBERSHIP) {
3569:ThirdPackage/lwip220/api/sockets.c ****             if (!lwip_socket_register_membership(s, &if_addr, &multi_addr)) {
3570:ThirdPackage/lwip220/api/sockets.c ****               /* cannot track membership (out of memory) */
3571:ThirdPackage/lwip220/api/sockets.c ****               err = ENOMEM;
3572:ThirdPackage/lwip220/api/sockets.c ****               igmp_err = ERR_OK;
3573:ThirdPackage/lwip220/api/sockets.c ****             } else {
3574:ThirdPackage/lwip220/api/sockets.c ****               igmp_err = igmp_joingroup(&if_addr, &multi_addr);
3575:ThirdPackage/lwip220/api/sockets.c ****             }
3576:ThirdPackage/lwip220/api/sockets.c ****           } else {
3577:ThirdPackage/lwip220/api/sockets.c ****             igmp_err = igmp_leavegroup(&if_addr, &multi_addr);
3578:ThirdPackage/lwip220/api/sockets.c ****             lwip_socket_unregister_membership(s, &if_addr, &multi_addr);
3579:ThirdPackage/lwip220/api/sockets.c ****           }
3580:ThirdPackage/lwip220/api/sockets.c ****           if (igmp_err != ERR_OK) {
3581:ThirdPackage/lwip220/api/sockets.c ****             err = EADDRNOTAVAIL;
3582:ThirdPackage/lwip220/api/sockets.c ****           }
3583:ThirdPackage/lwip220/api/sockets.c ****         }
3584:ThirdPackage/lwip220/api/sockets.c ****         break;
3585:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_IGMP */
3586:ThirdPackage/lwip220/api/sockets.c ****         default:
3587:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_IP, UNIMPL: optname=0x%x, ..)\n"
3588:ThirdPackage/lwip220/api/sockets.c ****                                       s, optname));
3589:ThirdPackage/lwip220/api/sockets.c ****           err = ENOPROTOOPT;
3590:ThirdPackage/lwip220/api/sockets.c ****           break;
3591:ThirdPackage/lwip220/api/sockets.c ****       }  /* switch (optname) */
3592:ThirdPackage/lwip220/api/sockets.c ****       break;
3593:ThirdPackage/lwip220/api/sockets.c **** 
3594:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_TCP
3595:ThirdPackage/lwip220/api/sockets.c ****     /* Level: IPPROTO_TCP */
3596:ThirdPackage/lwip220/api/sockets.c ****     case IPPROTO_TCP:
3597:ThirdPackage/lwip220/api/sockets.c ****       /* Special case: all IPPROTO_TCP option take an int */
3598:ThirdPackage/lwip220/api/sockets.c ****       LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB_TYPE(sock, optlen, int, NETCONN_TCP);
3599:ThirdPackage/lwip220/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
3600:ThirdPackage/lwip220/api/sockets.c ****         done_socket(sock);
3601:ThirdPackage/lwip220/api/sockets.c ****         return EINVAL;
3602:ThirdPackage/lwip220/api/sockets.c ****       }
3603:ThirdPackage/lwip220/api/sockets.c ****       switch (optname) {
3604:ThirdPackage/lwip220/api/sockets.c ****         case TCP_NODELAY:
3605:ThirdPackage/lwip220/api/sockets.c ****           if (*(const int *)optval) {
3606:ThirdPackage/lwip220/api/sockets.c ****             tcp_nagle_disable(sock->conn->pcb.tcp);
3607:ThirdPackage/lwip220/api/sockets.c ****           } else {
3608:ThirdPackage/lwip220/api/sockets.c ****             tcp_nagle_enable(sock->conn->pcb.tcp);
3609:ThirdPackage/lwip220/api/sockets.c ****           }
3610:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_TCP, TCP_NODELAY) -> %s\n",
3611:ThirdPackage/lwip220/api/sockets.c ****                                       s, (*(const int *)optval) ? "on" : "off") );
3612:ThirdPackage/lwip220/api/sockets.c ****           break;
3613:ThirdPackage/lwip220/api/sockets.c ****         case TCP_KEEPALIVE:
3614:ThirdPackage/lwip220/api/sockets.c ****           sock->conn->pcb.tcp->keep_idle = (u32_t)(*(const int *)optval);
3615:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_TCP, TCP_KEEPALIVE) -> %"U32_F"\
3616:ThirdPackage/lwip220/api/sockets.c ****                                       s, sock->conn->pcb.tcp->keep_idle));
3617:ThirdPackage/lwip220/api/sockets.c ****           break;
3618:ThirdPackage/lwip220/api/sockets.c **** 
3619:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_TCP_KEEPALIVE
3620:ThirdPackage/lwip220/api/sockets.c ****         case TCP_KEEPIDLE:
3621:ThirdPackage/lwip220/api/sockets.c ****           sock->conn->pcb.tcp->keep_idle = 1000 * (u32_t)(*(const int *)optval);
3622:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_TCP, TCP_KEEPIDLE) -> %"U32_F"\n
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 156


3623:ThirdPackage/lwip220/api/sockets.c ****                                       s, sock->conn->pcb.tcp->keep_idle));
3624:ThirdPackage/lwip220/api/sockets.c ****           break;
3625:ThirdPackage/lwip220/api/sockets.c ****         case TCP_KEEPINTVL:
3626:ThirdPackage/lwip220/api/sockets.c ****           sock->conn->pcb.tcp->keep_intvl = 1000 * (u32_t)(*(const int *)optval);
3627:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_TCP, TCP_KEEPINTVL) -> %"U32_F"\
3628:ThirdPackage/lwip220/api/sockets.c ****                                       s, sock->conn->pcb.tcp->keep_intvl));
3629:ThirdPackage/lwip220/api/sockets.c ****           break;
3630:ThirdPackage/lwip220/api/sockets.c ****         case TCP_KEEPCNT:
3631:ThirdPackage/lwip220/api/sockets.c ****           sock->conn->pcb.tcp->keep_cnt = (u32_t)(*(const int *)optval);
3632:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_TCP, TCP_KEEPCNT) -> %"U32_F"\n"
3633:ThirdPackage/lwip220/api/sockets.c ****                                       s, sock->conn->pcb.tcp->keep_cnt));
3634:ThirdPackage/lwip220/api/sockets.c ****           break;
3635:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_TCP_KEEPALIVE */
3636:ThirdPackage/lwip220/api/sockets.c ****         default:
3637:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_TCP, UNIMPL: optname=0x%x, ..)\n
3638:ThirdPackage/lwip220/api/sockets.c ****                                       s, optname));
3639:ThirdPackage/lwip220/api/sockets.c ****           err = ENOPROTOOPT;
3640:ThirdPackage/lwip220/api/sockets.c ****           break;
3641:ThirdPackage/lwip220/api/sockets.c ****       }  /* switch (optname) */
3642:ThirdPackage/lwip220/api/sockets.c ****       break;
3643:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_TCP*/
3644:ThirdPackage/lwip220/api/sockets.c **** 
3645:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_IPV6
3646:ThirdPackage/lwip220/api/sockets.c ****     /* Level: IPPROTO_IPV6 */
3647:ThirdPackage/lwip220/api/sockets.c ****     case IPPROTO_IPV6:
3648:ThirdPackage/lwip220/api/sockets.c ****       switch (optname) {
3649:ThirdPackage/lwip220/api/sockets.c ****         case IPV6_V6ONLY:
3650:ThirdPackage/lwip220/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, optlen, int);
3651:ThirdPackage/lwip220/api/sockets.c ****           if (*(const int *)optval) {
3652:ThirdPackage/lwip220/api/sockets.c ****             netconn_set_ipv6only(sock->conn, 1);
3653:ThirdPackage/lwip220/api/sockets.c ****           } else {
3654:ThirdPackage/lwip220/api/sockets.c ****             netconn_set_ipv6only(sock->conn, 0);
3655:ThirdPackage/lwip220/api/sockets.c ****           }
3656:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_IPV6, IPV6_V6ONLY, ..) -> %d\n",
3657:ThirdPackage/lwip220/api/sockets.c ****                                       s, (netconn_get_ipv6only(sock->conn) ? 1 : 0)));
3658:ThirdPackage/lwip220/api/sockets.c ****           break;
3659:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_IPV6_MLD
3660:ThirdPackage/lwip220/api/sockets.c ****         case IPV6_JOIN_GROUP:
3661:ThirdPackage/lwip220/api/sockets.c ****         case IPV6_LEAVE_GROUP: {
3662:ThirdPackage/lwip220/api/sockets.c ****           /* If this is a TCP or a RAW socket, ignore these options. */
3663:ThirdPackage/lwip220/api/sockets.c ****           err_t mld6_err;
3664:ThirdPackage/lwip220/api/sockets.c ****           struct netif *netif;
3665:ThirdPackage/lwip220/api/sockets.c ****           ip6_addr_t multi_addr;
3666:ThirdPackage/lwip220/api/sockets.c ****           const struct ipv6_mreq *imr = (const struct ipv6_mreq *)optval;
3667:ThirdPackage/lwip220/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB_TYPE(sock, optlen, struct ipv6_mreq, NETCONN_UDP);
3668:ThirdPackage/lwip220/api/sockets.c ****           inet6_addr_to_ip6addr(&multi_addr, &imr->ipv6mr_multiaddr);
3669:ThirdPackage/lwip220/api/sockets.c ****           LWIP_ASSERT("Invalid netif index", imr->ipv6mr_interface <= 0xFFu);
3670:ThirdPackage/lwip220/api/sockets.c ****           netif = netif_get_by_index((u8_t)imr->ipv6mr_interface);
3671:ThirdPackage/lwip220/api/sockets.c ****           if (netif == NULL) {
3672:ThirdPackage/lwip220/api/sockets.c ****             err = EADDRNOTAVAIL;
3673:ThirdPackage/lwip220/api/sockets.c ****             break;
3674:ThirdPackage/lwip220/api/sockets.c ****           }
3675:ThirdPackage/lwip220/api/sockets.c **** 
3676:ThirdPackage/lwip220/api/sockets.c ****           if (optname == IPV6_JOIN_GROUP) {
3677:ThirdPackage/lwip220/api/sockets.c ****             if (!lwip_socket_register_mld6_membership(s, imr->ipv6mr_interface, &multi_addr)) {
3678:ThirdPackage/lwip220/api/sockets.c ****               /* cannot track membership (out of memory) */
3679:ThirdPackage/lwip220/api/sockets.c ****               err = ENOMEM;
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 157


3680:ThirdPackage/lwip220/api/sockets.c ****               mld6_err = ERR_OK;
3681:ThirdPackage/lwip220/api/sockets.c ****             } else {
3682:ThirdPackage/lwip220/api/sockets.c ****               mld6_err = mld6_joingroup_netif(netif, &multi_addr);
3683:ThirdPackage/lwip220/api/sockets.c ****             }
3684:ThirdPackage/lwip220/api/sockets.c ****           } else {
3685:ThirdPackage/lwip220/api/sockets.c ****             mld6_err = mld6_leavegroup_netif(netif, &multi_addr);
3686:ThirdPackage/lwip220/api/sockets.c ****             lwip_socket_unregister_mld6_membership(s, imr->ipv6mr_interface, &multi_addr);
3687:ThirdPackage/lwip220/api/sockets.c ****           }
3688:ThirdPackage/lwip220/api/sockets.c ****           if (mld6_err != ERR_OK) {
3689:ThirdPackage/lwip220/api/sockets.c ****             err = EADDRNOTAVAIL;
3690:ThirdPackage/lwip220/api/sockets.c ****           }
3691:ThirdPackage/lwip220/api/sockets.c ****         }
3692:ThirdPackage/lwip220/api/sockets.c ****         break;
3693:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_IPV6_MLD */
3694:ThirdPackage/lwip220/api/sockets.c ****         default:
3695:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_IPV6, UNIMPL: optname=0x%x, ..)\
3696:ThirdPackage/lwip220/api/sockets.c ****                                       s, optname));
3697:ThirdPackage/lwip220/api/sockets.c ****           err = ENOPROTOOPT;
3698:ThirdPackage/lwip220/api/sockets.c ****           break;
3699:ThirdPackage/lwip220/api/sockets.c ****       }  /* switch (optname) */
3700:ThirdPackage/lwip220/api/sockets.c ****       break;
3701:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_IPV6 */
3702:ThirdPackage/lwip220/api/sockets.c **** 
3703:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_UDP && LWIP_UDPLITE
3704:ThirdPackage/lwip220/api/sockets.c ****     /* Level: IPPROTO_UDPLITE */
3705:ThirdPackage/lwip220/api/sockets.c ****     case IPPROTO_UDPLITE:
3706:ThirdPackage/lwip220/api/sockets.c ****       /* Special case: all IPPROTO_UDPLITE option take an int */
3707:ThirdPackage/lwip220/api/sockets.c ****       LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, optlen, int);
3708:ThirdPackage/lwip220/api/sockets.c ****       /* If this is no UDP lite socket, ignore any options. */
3709:ThirdPackage/lwip220/api/sockets.c ****       if (!NETCONNTYPE_ISUDPLITE(netconn_type(sock->conn))) {
3710:ThirdPackage/lwip220/api/sockets.c ****         done_socket(sock);
3711:ThirdPackage/lwip220/api/sockets.c ****         return ENOPROTOOPT;
3712:ThirdPackage/lwip220/api/sockets.c ****       }
3713:ThirdPackage/lwip220/api/sockets.c ****       switch (optname) {
3714:ThirdPackage/lwip220/api/sockets.c ****         case UDPLITE_SEND_CSCOV:
3715:ThirdPackage/lwip220/api/sockets.c ****           if ((*(const int *)optval != 0) && ((*(const int *)optval < 8) || (*(const int *)optval >
3716:ThirdPackage/lwip220/api/sockets.c ****             /* don't allow illegal values! */
3717:ThirdPackage/lwip220/api/sockets.c ****             sock->conn->pcb.udp->chksum_len_tx = 8;
3718:ThirdPackage/lwip220/api/sockets.c ****           } else {
3719:ThirdPackage/lwip220/api/sockets.c ****             sock->conn->pcb.udp->chksum_len_tx = (u16_t) * (const int *)optval;
3720:ThirdPackage/lwip220/api/sockets.c ****           }
3721:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_UDPLITE, UDPLITE_SEND_CSCOV) -> 
3722:ThirdPackage/lwip220/api/sockets.c ****                                       s, (*(const int *)optval)) );
3723:ThirdPackage/lwip220/api/sockets.c ****           break;
3724:ThirdPackage/lwip220/api/sockets.c ****         case UDPLITE_RECV_CSCOV:
3725:ThirdPackage/lwip220/api/sockets.c ****           if ((*(const int *)optval != 0) && ((*(const int *)optval < 8) || (*(const int *)optval >
3726:ThirdPackage/lwip220/api/sockets.c ****             /* don't allow illegal values! */
3727:ThirdPackage/lwip220/api/sockets.c ****             sock->conn->pcb.udp->chksum_len_rx = 8;
3728:ThirdPackage/lwip220/api/sockets.c ****           } else {
3729:ThirdPackage/lwip220/api/sockets.c ****             sock->conn->pcb.udp->chksum_len_rx = (u16_t) * (const int *)optval;
3730:ThirdPackage/lwip220/api/sockets.c ****           }
3731:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_UDPLITE, UDPLITE_RECV_CSCOV) -> 
3732:ThirdPackage/lwip220/api/sockets.c ****                                       s, (*(const int *)optval)) );
3733:ThirdPackage/lwip220/api/sockets.c ****           break;
3734:ThirdPackage/lwip220/api/sockets.c ****         default:
3735:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_UDPLITE, UNIMPL: optname=0x%x, .
3736:ThirdPackage/lwip220/api/sockets.c ****                                       s, optname));
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 158


3737:ThirdPackage/lwip220/api/sockets.c ****           err = ENOPROTOOPT;
3738:ThirdPackage/lwip220/api/sockets.c ****           break;
3739:ThirdPackage/lwip220/api/sockets.c ****       }  /* switch (optname) */
3740:ThirdPackage/lwip220/api/sockets.c ****       break;
3741:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_UDP */
3742:ThirdPackage/lwip220/api/sockets.c ****     /* Level: IPPROTO_RAW */
3743:ThirdPackage/lwip220/api/sockets.c ****     case IPPROTO_RAW:
3744:ThirdPackage/lwip220/api/sockets.c ****       switch (optname) {
3745:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_IPV6 && LWIP_RAW
3746:ThirdPackage/lwip220/api/sockets.c ****         case IPV6_CHECKSUM:
3747:ThirdPackage/lwip220/api/sockets.c ****           /* It should not be possible to disable the checksum generation with ICMPv6
3748:ThirdPackage/lwip220/api/sockets.c ****            * as per RFC 3542 chapter 3.1 */
3749:ThirdPackage/lwip220/api/sockets.c ****           if (sock->conn->pcb.raw->protocol == IPPROTO_ICMPV6) {
3750:ThirdPackage/lwip220/api/sockets.c ****             done_socket(sock);
3751:ThirdPackage/lwip220/api/sockets.c ****             return EINVAL;
3752:ThirdPackage/lwip220/api/sockets.c ****           }
3753:ThirdPackage/lwip220/api/sockets.c **** 
3754:ThirdPackage/lwip220/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB_TYPE(sock, optlen, int, NETCONN_RAW);
3755:ThirdPackage/lwip220/api/sockets.c ****           if (*(const int *)optval < 0) {
3756:ThirdPackage/lwip220/api/sockets.c ****             sock->conn->pcb.raw->chksum_reqd = 0;
3757:ThirdPackage/lwip220/api/sockets.c ****           } else if (*(const int *)optval & 1) {
3758:ThirdPackage/lwip220/api/sockets.c ****             /* Per RFC3542, odd offsets are not allowed */
3759:ThirdPackage/lwip220/api/sockets.c ****             done_socket(sock);
3760:ThirdPackage/lwip220/api/sockets.c ****             return EINVAL;
3761:ThirdPackage/lwip220/api/sockets.c ****           } else {
3762:ThirdPackage/lwip220/api/sockets.c ****             sock->conn->pcb.raw->chksum_reqd = 1;
3763:ThirdPackage/lwip220/api/sockets.c ****             sock->conn->pcb.raw->chksum_offset = (u16_t) * (const int *)optval;
3764:ThirdPackage/lwip220/api/sockets.c ****           }
3765:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_RAW, IPV6_CHECKSUM, ..) -> %d\n"
3766:ThirdPackage/lwip220/api/sockets.c ****                                       s, sock->conn->pcb.raw->chksum_reqd));
3767:ThirdPackage/lwip220/api/sockets.c ****           break;
3768:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_IPV6 && LWIP_RAW */
3769:ThirdPackage/lwip220/api/sockets.c ****         default:
3770:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_RAW, UNIMPL: optname=0x%x, ..)\n
3771:ThirdPackage/lwip220/api/sockets.c ****                                       s, optname));
3772:ThirdPackage/lwip220/api/sockets.c ****           err = ENOPROTOOPT;
3773:ThirdPackage/lwip220/api/sockets.c ****           break;
3774:ThirdPackage/lwip220/api/sockets.c ****       }  /* switch (optname) */
3775:ThirdPackage/lwip220/api/sockets.c ****       break;
3776:ThirdPackage/lwip220/api/sockets.c ****     default:
3777:ThirdPackage/lwip220/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, level=0x%x, UNIMPL: optname=0x%x, ..)\n",
3778:ThirdPackage/lwip220/api/sockets.c ****                                   s, level, optname));
3779:ThirdPackage/lwip220/api/sockets.c ****       err = ENOPROTOOPT;
3780:ThirdPackage/lwip220/api/sockets.c ****       break;
3781:ThirdPackage/lwip220/api/sockets.c ****   }  /* switch (level) */
3782:ThirdPackage/lwip220/api/sockets.c **** 
3783:ThirdPackage/lwip220/api/sockets.c ****   done_socket(sock);
3784:ThirdPackage/lwip220/api/sockets.c ****   return err;
3785:ThirdPackage/lwip220/api/sockets.c **** }
 4065              		.loc 1 3785 1 is_stmt 0 view .LVU1227
 4066 002a F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 4067              	.LVL427:
 4068              	.L339:
3366:ThirdPackage/lwip220/api/sockets.c **** 
 4069              		.loc 1 3366 7 is_stmt 1 view .LVU1228
 4070 002c 41F20A03 		movw	r3, #4106
 4071 0030 9D42     		cmp	r5, r3
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 159


 4072 0032 50D0     		beq	.L341
 4073 0034 26DC     		bgt	.L342
 4074 0036 082D     		cmp	r5, #8
 4075 0038 01D0     		beq	.L343
 4076 003a 202D     		cmp	r5, #32
 4077 003c 20D1     		bne	.L383
 4078              	.L343:
3376:ThirdPackage/lwip220/api/sockets.c ****               (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_UDP)) {
 4079              		.loc 1 3376 11 view .LVU1229
3376:ThirdPackage/lwip220/api/sockets.c ****               (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_UDP)) {
 4080              		.loc 1 3376 14 is_stmt 0 view .LVU1230
 4081 003e 202D     		cmp	r5, #32
 4082 0040 06D1     		bne	.L345
3377:ThirdPackage/lwip220/api/sockets.c ****             done_socket(sock);
 4083              		.loc 1 3377 16 discriminator 1 view .LVU1231
 4084 0042 3B68     		ldr	r3, [r7]
 4085 0044 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
3376:ThirdPackage/lwip220/api/sockets.c ****               (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_UDP)) {
 4086              		.loc 1 3376 41 discriminator 1 view .LVU1232
 4087 0046 03F0F003 		and	r3, r3, #240
 4088 004a 202B     		cmp	r3, #32
 4089 004c 40F0B980 		bne	.L357
 4090              	.L345:
3382:ThirdPackage/lwip220/api/sockets.c **** 
 4091              		.loc 1 3382 11 is_stmt 1 view .LVU1233
3382:ThirdPackage/lwip220/api/sockets.c **** 
 4092              		.loc 1 3382 21 is_stmt 0 view .LVU1234
 4093 0050 2846     		mov	r0, r5
 4094              	.LVL428:
3382:ThirdPackage/lwip220/api/sockets.c **** 
 4095              		.loc 1 3382 21 view .LVU1235
 4096 0052 FFF7FEFF 		bl	lwip_sockopt_to_ipopt
 4097              	.LVL429:
 4098 0056 0346     		mov	r3, r0
 4099              	.LVL430:
3384:ThirdPackage/lwip220/api/sockets.c ****           if (*(const int *)optval) {
 4100              		.loc 1 3384 11 is_stmt 1 view .LVU1236
3384:ThirdPackage/lwip220/api/sockets.c ****           if (*(const int *)optval) {
 4101              		.loc 1 3384 11 view .LVU1237
3384:ThirdPackage/lwip220/api/sockets.c ****           if (*(const int *)optval) {
 4102              		.loc 1 3384 11 view .LVU1238
 4103 0058 069A     		ldr	r2, [sp, #24]
 4104 005a 032A     		cmp	r2, #3
 4105 005c 40F2B380 		bls	.L358
3384:ThirdPackage/lwip220/api/sockets.c ****           if (*(const int *)optval) {
 4106              		.loc 1 3384 11 discriminator 2 view .LVU1239
3384:ThirdPackage/lwip220/api/sockets.c ****           if (*(const int *)optval) {
 4107              		.loc 1 3384 11 discriminator 2 view .LVU1240
 4108 0060 3A68     		ldr	r2, [r7]
 4109 0062 002A     		cmp	r2, #0
 4110 0064 00F0B180 		beq	.L359
3384:ThirdPackage/lwip220/api/sockets.c ****           if (*(const int *)optval) {
 4111              		.loc 1 3384 11 is_stmt 0 discriminator 4 view .LVU1241
 4112 0068 5268     		ldr	r2, [r2, #4]
 4113 006a 002A     		cmp	r2, #0
 4114 006c 00F0AF80 		beq	.L360
3384:ThirdPackage/lwip220/api/sockets.c ****           if (*(const int *)optval) {
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 160


 4115              		.loc 1 3384 11 is_stmt 1 discriminator 6 view .LVU1242
3385:ThirdPackage/lwip220/api/sockets.c ****             ip_set_option(sock->conn->pcb.ip, optname);
 4116              		.loc 1 3385 11 discriminator 6 view .LVU1243
3385:ThirdPackage/lwip220/api/sockets.c ****             ip_set_option(sock->conn->pcb.ip, optname);
 4117              		.loc 1 3385 15 is_stmt 0 discriminator 6 view .LVU1244
 4118 0070 3068     		ldr	r0, [r6]
 4119              	.LVL431:
3385:ThirdPackage/lwip220/api/sockets.c ****             ip_set_option(sock->conn->pcb.ip, optname);
 4120              		.loc 1 3385 14 discriminator 6 view .LVU1245
 4121 0072 50B3     		cbz	r0, .L346
3386:ThirdPackage/lwip220/api/sockets.c ****           } else {
 4122              		.loc 1 3386 13 is_stmt 1 view .LVU1246
 4123 0074 92F90910 		ldrsb	r1, [r2, #9]
 4124 0078 0B43     		orrs	r3, r3, r1
 4125              	.LVL432:
3386:ThirdPackage/lwip220/api/sockets.c ****           } else {
 4126              		.loc 1 3386 13 is_stmt 0 view .LVU1247
 4127 007a 5372     		strb	r3, [r2, #9]
3350:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 4128              		.loc 1 3350 7 view .LVU1248
 4129 007c 0020     		movs	r0, #0
 4130 007e D4E7     		b	.L336
 4131              	.LVL433:
 4132              	.L383:
3350:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 4133              		.loc 1 3350 7 view .LVU1249
 4134 0080 5C20     		movs	r0, #92
 4135              	.LVL434:
3350:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 4136              		.loc 1 3350 7 view .LVU1250
 4137 0082 D2E7     		b	.L336
 4138              	.LVL435:
 4139              	.L342:
3350:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 4140              		.loc 1 3350 7 view .LVU1251
 4141 0084 41F20B03 		movw	r3, #4107
 4142 0088 9D42     		cmp	r5, r3
 4143 008a 1CD1     		bne	.L384
 4144              	.LBB24:
3467:ThirdPackage/lwip220/api/sockets.c ****           struct netif *n = NULL;
 4145              		.loc 1 3467 11 is_stmt 1 view .LVU1252
3468:ThirdPackage/lwip220/api/sockets.c **** 
 4146              		.loc 1 3468 11 view .LVU1253
 4147              	.LVL436:
3470:ThirdPackage/lwip220/api/sockets.c **** 
 4148              		.loc 1 3470 11 view .LVU1254
3470:ThirdPackage/lwip220/api/sockets.c **** 
 4149              		.loc 1 3470 11 view .LVU1255
3470:ThirdPackage/lwip220/api/sockets.c **** 
 4150              		.loc 1 3470 11 view .LVU1256
 4151 008c 069B     		ldr	r3, [sp, #24]
 4152 008e 052B     		cmp	r3, #5
 4153 0090 40F2A780 		bls	.L365
3470:ThirdPackage/lwip220/api/sockets.c **** 
 4154              		.loc 1 3470 11 discriminator 2 view .LVU1257
3470:ThirdPackage/lwip220/api/sockets.c **** 
 4155              		.loc 1 3470 11 discriminator 2 view .LVU1258
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 161


 4156 0094 0368     		ldr	r3, [r0]
 4157 0096 002B     		cmp	r3, #0
 4158 0098 00F0A580 		beq	.L366
3470:ThirdPackage/lwip220/api/sockets.c **** 
 4159              		.loc 1 3470 11 discriminator 4 view .LVU1259
3472:ThirdPackage/lwip220/api/sockets.c ****           if (iface->ifr_name[0] != 0) {
 4160              		.loc 1 3472 11 discriminator 4 view .LVU1260
 4161              	.LVL437:
3473:ThirdPackage/lwip220/api/sockets.c ****             n = netif_find(iface->ifr_name);
 4162              		.loc 1 3473 11 discriminator 4 view .LVU1261
3473:ThirdPackage/lwip220/api/sockets.c ****             n = netif_find(iface->ifr_name);
 4163              		.loc 1 3473 30 is_stmt 0 discriminator 4 view .LVU1262
 4164 009c 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
3473:ThirdPackage/lwip220/api/sockets.c ****             n = netif_find(iface->ifr_name);
 4165              		.loc 1 3473 14 discriminator 4 view .LVU1263
 4166 009e 002B     		cmp	r3, #0
 4167 00a0 34D1     		bne	.L385
3468:ThirdPackage/lwip220/api/sockets.c **** 
 4168              		.loc 1 3468 25 view .LVU1264
 4169 00a2 0021     		movs	r1, #0
 4170              	.LVL438:
 4171              	.L348:
3481:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_TCP
 4172              		.loc 1 3481 11 is_stmt 1 view .LVU1265
3481:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_TCP
 4173              		.loc 1 3481 19 is_stmt 0 view .LVU1266
 4174 00a4 3A68     		ldr	r2, [r7]
 4175 00a6 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 4176 00a8 03F0F003 		and	r3, r3, #240
 4177 00ac 102B     		cmp	r3, #16
 4178 00ae 35D0     		beq	.L349
 4179 00b0 202B     		cmp	r3, #32
 4180 00b2 38D0     		beq	.L350
3498:ThirdPackage/lwip220/api/sockets.c ****               break;
 4181              		.loc 1 3498 15 is_stmt 1 discriminator 1 view .LVU1267
3498:ThirdPackage/lwip220/api/sockets.c ****               break;
 4182              		.loc 1 3498 15 discriminator 1 view .LVU1268
3498:ThirdPackage/lwip220/api/sockets.c ****               break;
 4183              		.loc 1 3498 15 discriminator 1 view .LVU1269
3498:ThirdPackage/lwip220/api/sockets.c ****               break;
 4184              		.loc 1 3498 15 discriminator 1 view .LVU1270
 4185 00b4 594B     		ldr	r3, .L386
 4186 00b6 40F6AA52 		movw	r2, #3498
 4187 00ba 5949     		ldr	r1, .L386+4
 4188              	.LVL439:
3498:ThirdPackage/lwip220/api/sockets.c ****               break;
 4189              		.loc 1 3498 15 is_stmt 0 discriminator 1 view .LVU1271
 4190 00bc 5948     		ldr	r0, .L386+8
 4191 00be FFF7FEFF 		bl	printf
 4192              	.LVL440:
3498:ThirdPackage/lwip220/api/sockets.c ****               break;
 4193              		.loc 1 3498 15 is_stmt 1 discriminator 1 view .LVU1272
3498:ThirdPackage/lwip220/api/sockets.c ****               break;
 4194              		.loc 1 3498 15 discriminator 1 view .LVU1273
3499:ThirdPackage/lwip220/api/sockets.c ****           }
 4195              		.loc 1 3499 15 discriminator 1 view .LVU1274
 4196              	.LBE24:
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 162


3350:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 4197              		.loc 1 3350 7 is_stmt 0 discriminator 1 view .LVU1275
 4198 00c2 0020     		movs	r0, #0
 4199              	.LBB25:
3499:ThirdPackage/lwip220/api/sockets.c ****           }
 4200              		.loc 1 3499 15 discriminator 1 view .LVU1276
 4201 00c4 B1E7     		b	.L336
 4202              	.LVL441:
 4203              	.L384:
3499:ThirdPackage/lwip220/api/sockets.c ****           }
 4204              		.loc 1 3499 15 discriminator 1 view .LVU1277
 4205              	.LBE25:
 4206 00c6 5C20     		movs	r0, #92
 4207              	.LVL442:
3499:ThirdPackage/lwip220/api/sockets.c ****           }
 4208              		.loc 1 3499 15 discriminator 1 view .LVU1278
 4209 00c8 AFE7     		b	.L336
 4210              	.LVL443:
 4211              	.L346:
3388:ThirdPackage/lwip220/api/sockets.c ****           }
 4212              		.loc 1 3388 13 is_stmt 1 view .LVU1279
 4213 00ca 92F90910 		ldrsb	r1, [r2, #9]
 4214 00ce 21EA0303 		bic	r3, r1, r3
 4215              	.LVL444:
3388:ThirdPackage/lwip220/api/sockets.c ****           }
 4216              		.loc 1 3388 13 is_stmt 0 view .LVU1280
 4217 00d2 5372     		strb	r3, [r2, #9]
 4218 00d4 A9E7     		b	.L336
 4219              	.LVL445:
 4220              	.L341:
3451:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_UDPLITE
 4221              		.loc 1 3451 11 is_stmt 1 view .LVU1281
3451:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_UDPLITE
 4222              		.loc 1 3451 11 view .LVU1282
3451:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_UDPLITE
 4223              		.loc 1 3451 11 view .LVU1283
3451:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_UDPLITE
 4224              		.loc 1 3451 11 view .LVU1284
 4225 00d6 069B     		ldr	r3, [sp, #24]
 4226 00d8 032B     		cmp	r3, #3
 4227 00da 7AD9     		bls	.L361
3451:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_UDPLITE
 4228              		.loc 1 3451 11 discriminator 2 view .LVU1285
3451:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_UDPLITE
 4229              		.loc 1 3451 11 discriminator 2 view .LVU1286
 4230 00dc 0368     		ldr	r3, [r0]
 4231 00de 002B     		cmp	r3, #0
 4232 00e0 79D0     		beq	.L362
3451:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_UDPLITE
 4233              		.loc 1 3451 11 is_stmt 0 discriminator 4 view .LVU1287
 4234 00e2 5A68     		ldr	r2, [r3, #4]
 4235 00e4 002A     		cmp	r2, #0
 4236 00e6 78D0     		beq	.L363
3451:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_UDPLITE
 4237              		.loc 1 3451 11 is_stmt 1 discriminator 6 view .LVU1288
3451:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_UDPLITE
 4238              		.loc 1 3451 11 discriminator 6 view .LVU1289
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 163


 4239 00e8 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4240 00ea 03F0F003 		and	r3, r3, #240
 4241 00ee 202B     		cmp	r3, #32
 4242 00f0 75D1     		bne	.L364
3451:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_UDPLITE
 4243              		.loc 1 3451 11 discriminator 8 view .LVU1290
3459:ThirdPackage/lwip220/api/sockets.c ****             udp_set_flags(sock->conn->pcb.udp, UDP_FLAGS_NOCHKSUM);
 4244              		.loc 1 3459 11 discriminator 8 view .LVU1291
3459:ThirdPackage/lwip220/api/sockets.c ****             udp_set_flags(sock->conn->pcb.udp, UDP_FLAGS_NOCHKSUM);
 4245              		.loc 1 3459 15 is_stmt 0 discriminator 8 view .LVU1292
 4246 00f2 3068     		ldr	r0, [r6]
 4247              	.LVL446:
3459:ThirdPackage/lwip220/api/sockets.c ****             udp_set_flags(sock->conn->pcb.udp, UDP_FLAGS_NOCHKSUM);
 4248              		.loc 1 3459 14 discriminator 8 view .LVU1293
 4249 00f4 28B1     		cbz	r0, .L347
3460:ThirdPackage/lwip220/api/sockets.c ****           } else {
 4250              		.loc 1 3460 13 is_stmt 1 view .LVU1294
3460:ThirdPackage/lwip220/api/sockets.c ****           } else {
 4251              		.loc 1 3460 13 view .LVU1295
 4252 00f6 137C     		ldrb	r3, [r2, #16]	@ zero_extendqisi2
 4253 00f8 43F00103 		orr	r3, r3, #1
 4254 00fc 1374     		strb	r3, [r2, #16]
3460:ThirdPackage/lwip220/api/sockets.c ****           } else {
 4255              		.loc 1 3460 13 view .LVU1296
3350:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 4256              		.loc 1 3350 7 is_stmt 0 view .LVU1297
 4257 00fe 0020     		movs	r0, #0
 4258 0100 93E7     		b	.L336
 4259              	.L347:
3462:ThirdPackage/lwip220/api/sockets.c ****           }
 4260              		.loc 1 3462 13 is_stmt 1 view .LVU1298
3462:ThirdPackage/lwip220/api/sockets.c ****           }
 4261              		.loc 1 3462 13 view .LVU1299
 4262 0102 137C     		ldrb	r3, [r2, #16]	@ zero_extendqisi2
 4263 0104 03F0FE03 		and	r3, r3, #254
 4264 0108 1374     		strb	r3, [r2, #16]
 4265 010a 8EE7     		b	.L336
 4266              	.LVL447:
 4267              	.L385:
 4268              	.LBB26:
3474:ThirdPackage/lwip220/api/sockets.c ****             if (n == NULL) {
 4269              		.loc 1 3474 13 view .LVU1300
3474:ThirdPackage/lwip220/api/sockets.c ****             if (n == NULL) {
 4270              		.loc 1 3474 17 is_stmt 0 view .LVU1301
 4271 010c 3046     		mov	r0, r6
 4272              	.LVL448:
3474:ThirdPackage/lwip220/api/sockets.c ****             if (n == NULL) {
 4273              		.loc 1 3474 17 view .LVU1302
 4274 010e FFF7FEFF 		bl	netif_find
 4275              	.LVL449:
3475:ThirdPackage/lwip220/api/sockets.c ****               done_socket(sock);
 4276              		.loc 1 3475 13 is_stmt 1 view .LVU1303
3475:ThirdPackage/lwip220/api/sockets.c ****               done_socket(sock);
 4277              		.loc 1 3475 16 is_stmt 0 view .LVU1304
 4278 0112 0146     		mov	r1, r0
 4279 0114 0028     		cmp	r0, #0
 4280 0116 C5D1     		bne	.L348
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 164


3477:ThirdPackage/lwip220/api/sockets.c ****             }
 4281              		.loc 1 3477 22 view .LVU1305
 4282 0118 1320     		movs	r0, #19
 4283              	.LVL450:
3477:ThirdPackage/lwip220/api/sockets.c ****             }
 4284              		.loc 1 3477 22 view .LVU1306
 4285 011a 86E7     		b	.L336
 4286              	.L349:
3484:ThirdPackage/lwip220/api/sockets.c ****               break;
 4287              		.loc 1 3484 15 is_stmt 1 view .LVU1307
 4288 011c 5068     		ldr	r0, [r2, #4]
 4289 011e FFF7FEFF 		bl	tcp_bind_netif
 4290              	.LVL451:
3485:ThirdPackage/lwip220/api/sockets.c **** #endif
 4291              		.loc 1 3485 15 view .LVU1308
 4292              	.LBE26:
3350:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 4293              		.loc 1 3350 7 is_stmt 0 view .LVU1309
 4294 0122 0020     		movs	r0, #0
 4295              	.LBB27:
3485:ThirdPackage/lwip220/api/sockets.c **** #endif
 4296              		.loc 1 3485 15 view .LVU1310
 4297 0124 81E7     		b	.L336
 4298              	.LVL452:
 4299              	.L350:
3489:ThirdPackage/lwip220/api/sockets.c ****               break;
 4300              		.loc 1 3489 15 is_stmt 1 view .LVU1311
 4301 0126 5068     		ldr	r0, [r2, #4]
 4302 0128 FFF7FEFF 		bl	udp_bind_netif
 4303              	.LVL453:
3490:ThirdPackage/lwip220/api/sockets.c **** #endif
 4304              		.loc 1 3490 15 view .LVU1312
 4305              	.LBE27:
3350:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 4306              		.loc 1 3350 7 is_stmt 0 view .LVU1313
 4307 012c 0020     		movs	r0, #0
 4308              	.LBB28:
3490:ThirdPackage/lwip220/api/sockets.c **** #endif
 4309              		.loc 1 3490 15 view .LVU1314
 4310 012e 7CE7     		b	.L336
 4311              	.LVL454:
 4312              	.L340:
3490:ThirdPackage/lwip220/api/sockets.c **** #endif
 4313              		.loc 1 3490 15 view .LVU1315
 4314              	.LBE28:
3513:ThirdPackage/lwip220/api/sockets.c ****         case IP_TTL:
 4315              		.loc 1 3513 7 is_stmt 1 view .LVU1316
 4316 0130 012D     		cmp	r5, #1
 4317 0132 0ED0     		beq	.L352
 4318 0134 022D     		cmp	r5, #2
 4319 0136 58D1     		bne	.L369
3515:ThirdPackage/lwip220/api/sockets.c ****           sock->conn->pcb.ip->ttl = (u8_t)(*(const int *)optval);
 4320              		.loc 1 3515 11 view .LVU1317
3515:ThirdPackage/lwip220/api/sockets.c ****           sock->conn->pcb.ip->ttl = (u8_t)(*(const int *)optval);
 4321              		.loc 1 3515 11 view .LVU1318
3515:ThirdPackage/lwip220/api/sockets.c ****           sock->conn->pcb.ip->ttl = (u8_t)(*(const int *)optval);
 4322              		.loc 1 3515 11 view .LVU1319
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 165


 4323 0138 069B     		ldr	r3, [sp, #24]
 4324 013a 032B     		cmp	r3, #3
 4325 013c 57D9     		bls	.L370
3515:ThirdPackage/lwip220/api/sockets.c ****           sock->conn->pcb.ip->ttl = (u8_t)(*(const int *)optval);
 4326              		.loc 1 3515 11 discriminator 2 view .LVU1320
3515:ThirdPackage/lwip220/api/sockets.c ****           sock->conn->pcb.ip->ttl = (u8_t)(*(const int *)optval);
 4327              		.loc 1 3515 11 discriminator 2 view .LVU1321
 4328 013e 0368     		ldr	r3, [r0]
 4329 0140 002B     		cmp	r3, #0
 4330 0142 56D0     		beq	.L371
3515:ThirdPackage/lwip220/api/sockets.c ****           sock->conn->pcb.ip->ttl = (u8_t)(*(const int *)optval);
 4331              		.loc 1 3515 11 is_stmt 0 discriminator 4 view .LVU1322
 4332 0144 5B68     		ldr	r3, [r3, #4]
 4333 0146 002B     		cmp	r3, #0
 4334 0148 55D0     		beq	.L372
3515:ThirdPackage/lwip220/api/sockets.c ****           sock->conn->pcb.ip->ttl = (u8_t)(*(const int *)optval);
 4335              		.loc 1 3515 11 is_stmt 1 discriminator 6 view .LVU1323
3516:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_IP, IP_TTL, ..) -> %d\n",
 4336              		.loc 1 3516 11 discriminator 6 view .LVU1324
3516:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_IP, IP_TTL, ..) -> %d\n",
 4337              		.loc 1 3516 37 is_stmt 0 discriminator 6 view .LVU1325
 4338 014a 3278     		ldrb	r2, [r6]	@ zero_extendqisi2
3516:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_IP, IP_TTL, ..) -> %d\n",
 4339              		.loc 1 3516 35 discriminator 6 view .LVU1326
 4340 014c DA72     		strb	r2, [r3, #11]
3518:ThirdPackage/lwip220/api/sockets.c ****           break;
 4341              		.loc 1 3518 67 is_stmt 1 discriminator 6 view .LVU1327
3519:ThirdPackage/lwip220/api/sockets.c ****         case IP_TOS:
 4342              		.loc 1 3519 11 discriminator 6 view .LVU1328
3350:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 4343              		.loc 1 3350 7 is_stmt 0 discriminator 6 view .LVU1329
 4344 014e 2046     		mov	r0, r4
 4345              	.LVL455:
3519:ThirdPackage/lwip220/api/sockets.c ****         case IP_TOS:
 4346              		.loc 1 3519 11 discriminator 6 view .LVU1330
 4347 0150 6BE7     		b	.L336
 4348              	.LVL456:
 4349              	.L352:
3521:ThirdPackage/lwip220/api/sockets.c ****           sock->conn->pcb.ip->tos = (u8_t)(*(const int *)optval);
 4350              		.loc 1 3521 11 is_stmt 1 view .LVU1331
3521:ThirdPackage/lwip220/api/sockets.c ****           sock->conn->pcb.ip->tos = (u8_t)(*(const int *)optval);
 4351              		.loc 1 3521 11 view .LVU1332
3521:ThirdPackage/lwip220/api/sockets.c ****           sock->conn->pcb.ip->tos = (u8_t)(*(const int *)optval);
 4352              		.loc 1 3521 11 view .LVU1333
 4353 0152 069B     		ldr	r3, [sp, #24]
 4354 0154 032B     		cmp	r3, #3
 4355 0156 50D9     		bls	.L373
3521:ThirdPackage/lwip220/api/sockets.c ****           sock->conn->pcb.ip->tos = (u8_t)(*(const int *)optval);
 4356              		.loc 1 3521 11 discriminator 2 view .LVU1334
3521:ThirdPackage/lwip220/api/sockets.c ****           sock->conn->pcb.ip->tos = (u8_t)(*(const int *)optval);
 4357              		.loc 1 3521 11 discriminator 2 view .LVU1335
 4358 0158 0368     		ldr	r3, [r0]
 4359 015a 002B     		cmp	r3, #0
 4360 015c 4FD0     		beq	.L374
3521:ThirdPackage/lwip220/api/sockets.c ****           sock->conn->pcb.ip->tos = (u8_t)(*(const int *)optval);
 4361              		.loc 1 3521 11 is_stmt 0 discriminator 4 view .LVU1336
 4362 015e 5B68     		ldr	r3, [r3, #4]
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 166


 4363 0160 002B     		cmp	r3, #0
 4364 0162 4ED0     		beq	.L375
3521:ThirdPackage/lwip220/api/sockets.c ****           sock->conn->pcb.ip->tos = (u8_t)(*(const int *)optval);
 4365              		.loc 1 3521 11 is_stmt 1 discriminator 6 view .LVU1337
3522:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_IP, IP_TOS, ..)-> %d\n",
 4366              		.loc 1 3522 11 discriminator 6 view .LVU1338
3522:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_IP, IP_TOS, ..)-> %d\n",
 4367              		.loc 1 3522 37 is_stmt 0 discriminator 6 view .LVU1339
 4368 0164 3278     		ldrb	r2, [r6]	@ zero_extendqisi2
3522:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_IP, IP_TOS, ..)-> %d\n",
 4369              		.loc 1 3522 35 discriminator 6 view .LVU1340
 4370 0166 9A72     		strb	r2, [r3, #10]
3524:ThirdPackage/lwip220/api/sockets.c ****           break;
 4371              		.loc 1 3524 67 is_stmt 1 discriminator 6 view .LVU1341
3525:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_NETBUF_RECVINFO
 4372              		.loc 1 3525 11 discriminator 6 view .LVU1342
3350:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 4373              		.loc 1 3350 7 is_stmt 0 discriminator 6 view .LVU1343
 4374 0168 2046     		mov	r0, r4
 4375              	.LVL457:
3525:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_NETBUF_RECVINFO
 4376              		.loc 1 3525 11 discriminator 6 view .LVU1344
 4377 016a 5EE7     		b	.L336
 4378              	.LVL458:
 4379              	.L338:
3598:ThirdPackage/lwip220/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4380              		.loc 1 3598 7 is_stmt 1 view .LVU1345
3598:ThirdPackage/lwip220/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4381              		.loc 1 3598 7 view .LVU1346
3598:ThirdPackage/lwip220/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4382              		.loc 1 3598 7 view .LVU1347
3598:ThirdPackage/lwip220/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4383              		.loc 1 3598 7 view .LVU1348
 4384 016c 069B     		ldr	r3, [sp, #24]
 4385 016e 032B     		cmp	r3, #3
 4386 0170 49D9     		bls	.L376
3598:ThirdPackage/lwip220/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4387              		.loc 1 3598 7 discriminator 2 view .LVU1349
3598:ThirdPackage/lwip220/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4388              		.loc 1 3598 7 discriminator 2 view .LVU1350
 4389 0172 0368     		ldr	r3, [r0]
 4390 0174 002B     		cmp	r3, #0
 4391 0176 48D0     		beq	.L377
3598:ThirdPackage/lwip220/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4392              		.loc 1 3598 7 is_stmt 0 discriminator 4 view .LVU1351
 4393 0178 5A68     		ldr	r2, [r3, #4]
 4394 017a 002A     		cmp	r2, #0
 4395 017c 47D0     		beq	.L378
3598:ThirdPackage/lwip220/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4396              		.loc 1 3598 7 is_stmt 1 discriminator 6 view .LVU1352
3598:ThirdPackage/lwip220/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4397              		.loc 1 3598 7 discriminator 6 view .LVU1353
 4398 017e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4399 0180 03F0F003 		and	r3, r3, #240
 4400 0184 102B     		cmp	r3, #16
 4401 0186 44D1     		bne	.L379
3598:ThirdPackage/lwip220/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 167


 4402              		.loc 1 3598 7 discriminator 8 view .LVU1354
3599:ThirdPackage/lwip220/api/sockets.c ****         done_socket(sock);
 4403              		.loc 1 3599 7 discriminator 8 view .LVU1355
3599:ThirdPackage/lwip220/api/sockets.c ****         done_socket(sock);
 4404              		.loc 1 3599 30 is_stmt 0 discriminator 8 view .LVU1356
 4405 0188 137D     		ldrb	r3, [r2, #20]	@ zero_extendqisi2
3599:ThirdPackage/lwip220/api/sockets.c ****         done_socket(sock);
 4406              		.loc 1 3599 10 discriminator 8 view .LVU1357
 4407 018a 012B     		cmp	r3, #1
 4408 018c 43D0     		beq	.L380
3603:ThirdPackage/lwip220/api/sockets.c ****         case TCP_NODELAY:
 4409              		.loc 1 3603 7 is_stmt 1 view .LVU1358
 4410 018e 012D     		cmp	r5, #1
 4411 0190 03D0     		beq	.L353
 4412 0192 022D     		cmp	r5, #2
 4413 0194 0ED0     		beq	.L354
 4414 0196 5C20     		movs	r0, #92
 4415              	.LVL459:
3603:ThirdPackage/lwip220/api/sockets.c ****         case TCP_NODELAY:
 4416              		.loc 1 3603 7 is_stmt 0 view .LVU1359
 4417 0198 47E7     		b	.L336
 4418              	.LVL460:
 4419              	.L353:
3605:ThirdPackage/lwip220/api/sockets.c ****             tcp_nagle_disable(sock->conn->pcb.tcp);
 4420              		.loc 1 3605 11 is_stmt 1 view .LVU1360
3605:ThirdPackage/lwip220/api/sockets.c ****             tcp_nagle_disable(sock->conn->pcb.tcp);
 4421              		.loc 1 3605 15 is_stmt 0 view .LVU1361
 4422 019a 3068     		ldr	r0, [r6]
 4423              	.LVL461:
3605:ThirdPackage/lwip220/api/sockets.c ****             tcp_nagle_disable(sock->conn->pcb.tcp);
 4424              		.loc 1 3605 14 view .LVU1362
 4425 019c 28B1     		cbz	r0, .L355
3606:ThirdPackage/lwip220/api/sockets.c ****           } else {
 4426              		.loc 1 3606 13 is_stmt 1 view .LVU1363
3606:ThirdPackage/lwip220/api/sockets.c ****           } else {
 4427              		.loc 1 3606 13 view .LVU1364
 4428 019e 538B     		ldrh	r3, [r2, #26]
 4429 01a0 43F04003 		orr	r3, r3, #64
 4430 01a4 5383     		strh	r3, [r2, #26]	@ movhi
3606:ThirdPackage/lwip220/api/sockets.c ****           } else {
 4431              		.loc 1 3606 13 view .LVU1365
3350:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 4432              		.loc 1 3350 7 is_stmt 0 view .LVU1366
 4433 01a6 0020     		movs	r0, #0
 4434 01a8 3FE7     		b	.L336
 4435              	.L355:
3608:ThirdPackage/lwip220/api/sockets.c ****           }
 4436              		.loc 1 3608 13 is_stmt 1 view .LVU1367
3608:ThirdPackage/lwip220/api/sockets.c ****           }
 4437              		.loc 1 3608 13 view .LVU1368
 4438 01aa 538B     		ldrh	r3, [r2, #26]
 4439 01ac 23F04003 		bic	r3, r3, #64
 4440 01b0 5383     		strh	r3, [r2, #26]	@ movhi
 4441 01b2 3AE7     		b	.L336
 4442              	.LVL462:
 4443              	.L354:
3614:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_TCP, TCP_KEEPALIVE) -> %"U32_F"\
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 168


 4444              		.loc 1 3614 11 view .LVU1369
3614:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_TCP, TCP_KEEPALIVE) -> %"U32_F"\
 4445              		.loc 1 3614 52 is_stmt 0 view .LVU1370
 4446 01b4 3368     		ldr	r3, [r6]
3614:ThirdPackage/lwip220/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_TCP, TCP_KEEPALIVE) -> %"U32_F"\
 4447              		.loc 1 3614 42 view .LVU1371
 4448 01b6 C2F89430 		str	r3, [r2, #148]
3616:ThirdPackage/lwip220/api/sockets.c ****           break;
 4449              		.loc 1 3616 74 is_stmt 1 view .LVU1372
3617:ThirdPackage/lwip220/api/sockets.c **** 
 4450              		.loc 1 3617 11 view .LVU1373
3350:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 4451              		.loc 1 3350 7 is_stmt 0 view .LVU1374
 4452 01ba 0020     		movs	r0, #0
 4453              	.LVL463:
3617:ThirdPackage/lwip220/api/sockets.c **** 
 4454              		.loc 1 3617 11 view .LVU1375
 4455 01bc 35E7     		b	.L336
 4456              	.LVL464:
 4457              	.L356:
3353:ThirdPackage/lwip220/api/sockets.c ****   }
 4458              		.loc 1 3353 12 view .LVU1376
 4459 01be 0920     		movs	r0, #9
 4460              	.LVL465:
3353:ThirdPackage/lwip220/api/sockets.c ****   }
 4461              		.loc 1 3353 12 view .LVU1377
 4462 01c0 33E7     		b	.L336
 4463              	.LVL466:
 4464              	.L357:
3379:ThirdPackage/lwip220/api/sockets.c ****           }
 4465              		.loc 1 3379 20 view .LVU1378
 4466 01c2 5C20     		movs	r0, #92
 4467              	.LVL467:
3379:ThirdPackage/lwip220/api/sockets.c ****           }
 4468              		.loc 1 3379 20 view .LVU1379
 4469 01c4 31E7     		b	.L336
 4470              	.LVL468:
 4471              	.L358:
3384:ThirdPackage/lwip220/api/sockets.c ****           if (*(const int *)optval) {
 4472              		.loc 1 3384 11 view .LVU1380
 4473 01c6 1620     		movs	r0, #22
 4474              	.LVL469:
3384:ThirdPackage/lwip220/api/sockets.c ****           if (*(const int *)optval) {
 4475              		.loc 1 3384 11 view .LVU1381
 4476 01c8 2FE7     		b	.L336
 4477              	.LVL470:
 4478              	.L359:
3384:ThirdPackage/lwip220/api/sockets.c ****           if (*(const int *)optval) {
 4479              		.loc 1 3384 11 view .LVU1382
 4480 01ca 1620     		movs	r0, #22
 4481              	.LVL471:
3384:ThirdPackage/lwip220/api/sockets.c ****           if (*(const int *)optval) {
 4482              		.loc 1 3384 11 view .LVU1383
 4483 01cc 2DE7     		b	.L336
 4484              	.LVL472:
 4485              	.L360:
3384:ThirdPackage/lwip220/api/sockets.c ****           if (*(const int *)optval) {
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 169


 4486              		.loc 1 3384 11 view .LVU1384
 4487 01ce 1620     		movs	r0, #22
 4488              	.LVL473:
3384:ThirdPackage/lwip220/api/sockets.c ****           if (*(const int *)optval) {
 4489              		.loc 1 3384 11 view .LVU1385
 4490 01d0 2BE7     		b	.L336
 4491              	.LVL474:
 4492              	.L361:
3451:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_UDPLITE
 4493              		.loc 1 3451 11 view .LVU1386
 4494 01d2 1620     		movs	r0, #22
 4495              	.LVL475:
3451:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_UDPLITE
 4496              		.loc 1 3451 11 view .LVU1387
 4497 01d4 29E7     		b	.L336
 4498              	.LVL476:
 4499              	.L362:
3451:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_UDPLITE
 4500              		.loc 1 3451 11 view .LVU1388
 4501 01d6 1620     		movs	r0, #22
 4502              	.LVL477:
3451:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_UDPLITE
 4503              		.loc 1 3451 11 view .LVU1389
 4504 01d8 27E7     		b	.L336
 4505              	.LVL478:
 4506              	.L363:
3451:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_UDPLITE
 4507              		.loc 1 3451 11 view .LVU1390
 4508 01da 1620     		movs	r0, #22
 4509              	.LVL479:
3451:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_UDPLITE
 4510              		.loc 1 3451 11 view .LVU1391
 4511 01dc 25E7     		b	.L336
 4512              	.LVL480:
 4513              	.L364:
3451:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_UDPLITE
 4514              		.loc 1 3451 11 view .LVU1392
 4515 01de 5C20     		movs	r0, #92
 4516              	.LVL481:
3451:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_UDPLITE
 4517              		.loc 1 3451 11 view .LVU1393
 4518 01e0 23E7     		b	.L336
 4519              	.LVL482:
 4520              	.L365:
 4521              	.LBB29:
3470:ThirdPackage/lwip220/api/sockets.c **** 
 4522              		.loc 1 3470 11 view .LVU1394
 4523 01e2 1620     		movs	r0, #22
 4524              	.LVL483:
3470:ThirdPackage/lwip220/api/sockets.c **** 
 4525              		.loc 1 3470 11 view .LVU1395
 4526 01e4 21E7     		b	.L336
 4527              	.LVL484:
 4528              	.L366:
3470:ThirdPackage/lwip220/api/sockets.c **** 
 4529              		.loc 1 3470 11 view .LVU1396
 4530 01e6 1620     		movs	r0, #22
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 170


 4531              	.LVL485:
3470:ThirdPackage/lwip220/api/sockets.c **** 
 4532              		.loc 1 3470 11 view .LVU1397
 4533 01e8 1FE7     		b	.L336
 4534              	.LVL486:
 4535              	.L369:
3470:ThirdPackage/lwip220/api/sockets.c **** 
 4536              		.loc 1 3470 11 view .LVU1398
 4537              	.LBE29:
 4538 01ea 5C20     		movs	r0, #92
 4539              	.LVL487:
3470:ThirdPackage/lwip220/api/sockets.c **** 
 4540              		.loc 1 3470 11 view .LVU1399
 4541 01ec 1DE7     		b	.L336
 4542              	.LVL488:
 4543              	.L370:
3515:ThirdPackage/lwip220/api/sockets.c ****           sock->conn->pcb.ip->ttl = (u8_t)(*(const int *)optval);
 4544              		.loc 1 3515 11 view .LVU1400
 4545 01ee 1620     		movs	r0, #22
 4546              	.LVL489:
3515:ThirdPackage/lwip220/api/sockets.c ****           sock->conn->pcb.ip->ttl = (u8_t)(*(const int *)optval);
 4547              		.loc 1 3515 11 view .LVU1401
 4548 01f0 1BE7     		b	.L336
 4549              	.LVL490:
 4550              	.L371:
3515:ThirdPackage/lwip220/api/sockets.c ****           sock->conn->pcb.ip->ttl = (u8_t)(*(const int *)optval);
 4551              		.loc 1 3515 11 view .LVU1402
 4552 01f2 1620     		movs	r0, #22
 4553              	.LVL491:
3515:ThirdPackage/lwip220/api/sockets.c ****           sock->conn->pcb.ip->ttl = (u8_t)(*(const int *)optval);
 4554              		.loc 1 3515 11 view .LVU1403
 4555 01f4 19E7     		b	.L336
 4556              	.LVL492:
 4557              	.L372:
3515:ThirdPackage/lwip220/api/sockets.c ****           sock->conn->pcb.ip->ttl = (u8_t)(*(const int *)optval);
 4558              		.loc 1 3515 11 view .LVU1404
 4559 01f6 1620     		movs	r0, #22
 4560              	.LVL493:
3515:ThirdPackage/lwip220/api/sockets.c ****           sock->conn->pcb.ip->ttl = (u8_t)(*(const int *)optval);
 4561              		.loc 1 3515 11 view .LVU1405
 4562 01f8 17E7     		b	.L336
 4563              	.LVL494:
 4564              	.L373:
3521:ThirdPackage/lwip220/api/sockets.c ****           sock->conn->pcb.ip->tos = (u8_t)(*(const int *)optval);
 4565              		.loc 1 3521 11 view .LVU1406
 4566 01fa 1620     		movs	r0, #22
 4567              	.LVL495:
3521:ThirdPackage/lwip220/api/sockets.c ****           sock->conn->pcb.ip->tos = (u8_t)(*(const int *)optval);
 4568              		.loc 1 3521 11 view .LVU1407
 4569 01fc 15E7     		b	.L336
 4570              	.LVL496:
 4571              	.L374:
3521:ThirdPackage/lwip220/api/sockets.c ****           sock->conn->pcb.ip->tos = (u8_t)(*(const int *)optval);
 4572              		.loc 1 3521 11 view .LVU1408
 4573 01fe 1620     		movs	r0, #22
 4574              	.LVL497:
3521:ThirdPackage/lwip220/api/sockets.c ****           sock->conn->pcb.ip->tos = (u8_t)(*(const int *)optval);
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 171


 4575              		.loc 1 3521 11 view .LVU1409
 4576 0200 13E7     		b	.L336
 4577              	.LVL498:
 4578              	.L375:
3521:ThirdPackage/lwip220/api/sockets.c ****           sock->conn->pcb.ip->tos = (u8_t)(*(const int *)optval);
 4579              		.loc 1 3521 11 view .LVU1410
 4580 0202 1620     		movs	r0, #22
 4581              	.LVL499:
3521:ThirdPackage/lwip220/api/sockets.c ****           sock->conn->pcb.ip->tos = (u8_t)(*(const int *)optval);
 4582              		.loc 1 3521 11 view .LVU1411
 4583 0204 11E7     		b	.L336
 4584              	.LVL500:
 4585              	.L376:
3598:ThirdPackage/lwip220/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4586              		.loc 1 3598 7 view .LVU1412
 4587 0206 1620     		movs	r0, #22
 4588              	.LVL501:
3598:ThirdPackage/lwip220/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4589              		.loc 1 3598 7 view .LVU1413
 4590 0208 0FE7     		b	.L336
 4591              	.LVL502:
 4592              	.L377:
3598:ThirdPackage/lwip220/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4593              		.loc 1 3598 7 view .LVU1414
 4594 020a 1620     		movs	r0, #22
 4595              	.LVL503:
3598:ThirdPackage/lwip220/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4596              		.loc 1 3598 7 view .LVU1415
 4597 020c 0DE7     		b	.L336
 4598              	.LVL504:
 4599              	.L378:
3598:ThirdPackage/lwip220/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4600              		.loc 1 3598 7 view .LVU1416
 4601 020e 1620     		movs	r0, #22
 4602              	.LVL505:
3598:ThirdPackage/lwip220/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4603              		.loc 1 3598 7 view .LVU1417
 4604 0210 0BE7     		b	.L336
 4605              	.LVL506:
 4606              	.L379:
3598:ThirdPackage/lwip220/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4607              		.loc 1 3598 7 view .LVU1418
 4608 0212 5C20     		movs	r0, #92
 4609              	.LVL507:
3598:ThirdPackage/lwip220/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4610              		.loc 1 3598 7 view .LVU1419
 4611 0214 09E7     		b	.L336
 4612              	.LVL508:
 4613              	.L380:
3601:ThirdPackage/lwip220/api/sockets.c ****       }
 4614              		.loc 1 3601 16 view .LVU1420
 4615 0216 1620     		movs	r0, #22
 4616              	.LVL509:
3601:ThirdPackage/lwip220/api/sockets.c ****       }
 4617              		.loc 1 3601 16 view .LVU1421
 4618 0218 07E7     		b	.L336
 4619              	.L387:
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 172


 4620 021a 00BF     		.align	2
 4621              	.L386:
 4622 021c 00000000 		.word	.LC0
 4623 0220 00000000 		.word	.LC18
 4624 0224 3C000000 		.word	.LC2
 4625              		.cfi_endproc
 4626              	.LFE209:
 4628              		.section	.text.lwip_socket_thread_init,"ax",%progbits
 4629              		.align	1
 4630              		.global	lwip_socket_thread_init
 4631              		.syntax unified
 4632              		.thumb
 4633              		.thumb_func
 4635              	lwip_socket_thread_init:
 4636              	.LFB160:
 360:ThirdPackage/lwip220/api/sockets.c ****   netconn_thread_init();
 4637              		.loc 1 360 1 is_stmt 1 view -0
 4638              		.cfi_startproc
 4639              		@ args = 0, pretend = 0, frame = 0
 4640              		@ frame_needed = 0, uses_anonymous_args = 0
 4641              		@ link register save eliminated.
 361:ThirdPackage/lwip220/api/sockets.c **** }
 4642              		.loc 1 361 24 view .LVU1423
 362:ThirdPackage/lwip220/api/sockets.c **** 
 4643              		.loc 1 362 1 is_stmt 0 view .LVU1424
 4644 0000 7047     		bx	lr
 4645              		.cfi_endproc
 4646              	.LFE160:
 4648              		.section	.text.lwip_socket_thread_cleanup,"ax",%progbits
 4649              		.align	1
 4650              		.global	lwip_socket_thread_cleanup
 4651              		.syntax unified
 4652              		.thumb
 4653              		.thumb_func
 4655              	lwip_socket_thread_cleanup:
 4656              	.LFB161:
 367:ThirdPackage/lwip220/api/sockets.c ****   netconn_thread_cleanup();
 4657              		.loc 1 367 1 is_stmt 1 view -0
 4658              		.cfi_startproc
 4659              		@ args = 0, pretend = 0, frame = 0
 4660              		@ frame_needed = 0, uses_anonymous_args = 0
 4661              		@ link register save eliminated.
 368:ThirdPackage/lwip220/api/sockets.c **** }
 4662              		.loc 1 368 27 view .LVU1426
 369:ThirdPackage/lwip220/api/sockets.c **** 
 4663              		.loc 1 369 1 is_stmt 0 view .LVU1427
 4664 0000 7047     		bx	lr
 4665              		.cfi_endproc
 4666              	.LFE161:
 4668              		.section	.text.lwip_socket_dbg_get_socket,"ax",%progbits
 4669              		.align	1
 4670              		.global	lwip_socket_dbg_get_socket
 4671              		.syntax unified
 4672              		.thumb
 4673              		.thumb_func
 4675              	lwip_socket_dbg_get_socket:
 4676              	.LVL510:
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 173


 4677              	.LFB163:
 462:ThirdPackage/lwip220/api/sockets.c ****   return tryget_socket_unconn_nouse(fd);
 4678              		.loc 1 462 1 is_stmt 1 view -0
 4679              		.cfi_startproc
 4680              		@ args = 0, pretend = 0, frame = 0
 4681              		@ frame_needed = 0, uses_anonymous_args = 0
 462:ThirdPackage/lwip220/api/sockets.c ****   return tryget_socket_unconn_nouse(fd);
 4682              		.loc 1 462 1 is_stmt 0 view .LVU1429
 4683 0000 08B5     		push	{r3, lr}
 4684              	.LCFI51:
 4685              		.cfi_def_cfa_offset 8
 4686              		.cfi_offset 3, -8
 4687              		.cfi_offset 14, -4
 463:ThirdPackage/lwip220/api/sockets.c **** }
 4688              		.loc 1 463 3 is_stmt 1 view .LVU1430
 463:ThirdPackage/lwip220/api/sockets.c **** }
 4689              		.loc 1 463 10 is_stmt 0 view .LVU1431
 4690 0002 FFF7FEFF 		bl	tryget_socket_unconn_nouse
 4691              	.LVL511:
 464:ThirdPackage/lwip220/api/sockets.c **** 
 4692              		.loc 1 464 1 view .LVU1432
 4693 0006 08BD     		pop	{r3, pc}
 4694              		.cfi_endproc
 4695              	.LFE163:
 4697              		.section	.rodata.lwip_accept.str1.4,"aMS",%progbits,1
 4698              		.align	2
 4699              	.LC19:
 4700 0000 6E657763 		.ascii	"newconn != NULL\000"
 4700      6F6E6E20 
 4700      213D204E 
 4700      554C4C00 
 4701              		.align	2
 4702              	.LC20:
 4703 0010 696E7661 		.ascii	"invalid socket index\000"
 4703      6C696420 
 4703      736F636B 
 4703      65742069 
 4703      6E646578 
 4704              		.section	.text.lwip_accept,"ax",%progbits
 4705              		.align	1
 4706              		.global	lwip_accept
 4707              		.syntax unified
 4708              		.thumb
 4709              		.thumb_func
 4711              	lwip_accept:
 4712              	.LVL512:
 4713              	.LFB172:
 660:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock, *nsock;
 4714              		.loc 1 660 1 is_stmt 1 view -0
 4715              		.cfi_startproc
 4716              		@ args = 0, pretend = 0, frame = 32
 4717              		@ frame_needed = 0, uses_anonymous_args = 0
 660:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock, *nsock;
 4718              		.loc 1 660 1 is_stmt 0 view .LVU1434
 4719 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 4720              	.LCFI52:
 4721              		.cfi_def_cfa_offset 24
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 174


 4722              		.cfi_offset 4, -24
 4723              		.cfi_offset 5, -20
 4724              		.cfi_offset 6, -16
 4725              		.cfi_offset 7, -12
 4726              		.cfi_offset 8, -8
 4727              		.cfi_offset 14, -4
 4728 0004 88B0     		sub	sp, sp, #32
 4729              	.LCFI53:
 4730              		.cfi_def_cfa_offset 56
 4731 0006 0F46     		mov	r7, r1
 4732 0008 1646     		mov	r6, r2
 661:ThirdPackage/lwip220/api/sockets.c ****   struct netconn *newconn;
 4733              		.loc 1 661 3 is_stmt 1 view .LVU1435
 662:ThirdPackage/lwip220/api/sockets.c ****   ip_addr_t naddr;
 4734              		.loc 1 662 3 view .LVU1436
 663:ThirdPackage/lwip220/api/sockets.c ****   u16_t port = 0;
 4735              		.loc 1 663 3 view .LVU1437
 664:ThirdPackage/lwip220/api/sockets.c ****   int newsock;
 4736              		.loc 1 664 3 view .LVU1438
 664:ThirdPackage/lwip220/api/sockets.c ****   int newsock;
 4737              		.loc 1 664 9 is_stmt 0 view .LVU1439
 4738 000a 0023     		movs	r3, #0
 4739 000c ADF81630 		strh	r3, [sp, #22]	@ movhi
 665:ThirdPackage/lwip220/api/sockets.c ****   err_t err;
 4740              		.loc 1 665 3 is_stmt 1 view .LVU1440
 666:ThirdPackage/lwip220/api/sockets.c ****   int recvevent;
 4741              		.loc 1 666 3 view .LVU1441
 667:ThirdPackage/lwip220/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
 4742              		.loc 1 667 3 view .LVU1442
 668:ThirdPackage/lwip220/api/sockets.c **** 
 4743              		.loc 1 668 3 view .LVU1443
 670:ThirdPackage/lwip220/api/sockets.c ****   sock = get_socket(s);
 4744              		.loc 1 670 58 view .LVU1444
 671:ThirdPackage/lwip220/api/sockets.c ****   if (!sock) {
 4745              		.loc 1 671 3 view .LVU1445
 671:ThirdPackage/lwip220/api/sockets.c ****   if (!sock) {
 4746              		.loc 1 671 10 is_stmt 0 view .LVU1446
 4747 0010 FFF7FEFF 		bl	get_socket
 4748              	.LVL513:
 672:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 4749              		.loc 1 672 3 is_stmt 1 view .LVU1447
 672:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 4750              		.loc 1 672 6 is_stmt 0 view .LVU1448
 4751 0014 0028     		cmp	r0, #0
 4752 0016 00F0A380 		beq	.L407
 4753 001a 0446     		mov	r4, r0
 677:ThirdPackage/lwip220/api/sockets.c ****   if (err != ERR_OK) {
 4754              		.loc 1 677 3 is_stmt 1 view .LVU1449
 677:ThirdPackage/lwip220/api/sockets.c ****   if (err != ERR_OK) {
 4755              		.loc 1 677 9 is_stmt 0 view .LVU1450
 4756 001c 07A9     		add	r1, sp, #28
 4757 001e 0068     		ldr	r0, [r0]
 4758              	.LVL514:
 677:ThirdPackage/lwip220/api/sockets.c ****   if (err != ERR_OK) {
 4759              		.loc 1 677 9 view .LVU1451
 4760 0020 FFF7FEFF 		bl	netconn_accept
 4761              	.LVL515:
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 175


 678:ThirdPackage/lwip220/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_accept(%d): netconn_acept failed, err=%d\n", s, err));
 4762              		.loc 1 678 3 is_stmt 1 view .LVU1452
 678:ThirdPackage/lwip220/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_accept(%d): netconn_acept failed, err=%d\n", s, err));
 4763              		.loc 1 678 6 is_stmt 0 view .LVU1453
 4764 0024 0546     		mov	r5, r0
 4765 0026 00BB     		cbnz	r0, .L409
 690:ThirdPackage/lwip220/api/sockets.c **** 
 4766              		.loc 1 690 3 is_stmt 1 view .LVU1454
 690:ThirdPackage/lwip220/api/sockets.c **** 
 4767              		.loc 1 690 3 view .LVU1455
 4768 0028 079B     		ldr	r3, [sp, #28]
 4769 002a 002B     		cmp	r3, #0
 4770 002c 3AD0     		beq	.L410
 4771              	.LVL516:
 4772              	.L398:
 690:ThirdPackage/lwip220/api/sockets.c **** 
 4773              		.loc 1 690 3 discriminator 3 view .LVU1456
 690:ThirdPackage/lwip220/api/sockets.c **** 
 4774              		.loc 1 690 3 discriminator 3 view .LVU1457
 692:ThirdPackage/lwip220/api/sockets.c ****   if (newsock == -1) {
 4775              		.loc 1 692 3 discriminator 3 view .LVU1458
 692:ThirdPackage/lwip220/api/sockets.c ****   if (newsock == -1) {
 4776              		.loc 1 692 13 is_stmt 0 discriminator 3 view .LVU1459
 4777 002e 0121     		movs	r1, #1
 4778 0030 0798     		ldr	r0, [sp, #28]
 4779 0032 FFF7FEFF 		bl	alloc_socket
 4780              	.LVL517:
 4781 0036 0546     		mov	r5, r0
 4782              	.LVL518:
 693:ThirdPackage/lwip220/api/sockets.c ****     netconn_delete(newconn);
 4783              		.loc 1 693 3 is_stmt 1 discriminator 3 view .LVU1460
 693:ThirdPackage/lwip220/api/sockets.c ****     netconn_delete(newconn);
 4784              		.loc 1 693 6 is_stmt 0 discriminator 3 view .LVU1461
 4785 0038 B0F1FF3F 		cmp	r0, #-1
 4786 003c 3AD0     		beq	.L411
 699:ThirdPackage/lwip220/api/sockets.c ****   nsock = &sockets[newsock - LWIP_SOCKET_OFFSET];
 4787              		.loc 1 699 3 is_stmt 1 view .LVU1462
 699:ThirdPackage/lwip220/api/sockets.c ****   nsock = &sockets[newsock - LWIP_SOCKET_OFFSET];
 4788              		.loc 1 699 3 view .LVU1463
 4789 003e 0328     		cmp	r0, #3
 4790 0040 3FD8     		bhi	.L412
 4791              	.LVL519:
 4792              	.L400:
 699:ThirdPackage/lwip220/api/sockets.c ****   nsock = &sockets[newsock - LWIP_SOCKET_OFFSET];
 4793              		.loc 1 699 3 discriminator 3 view .LVU1464
 699:ThirdPackage/lwip220/api/sockets.c ****   nsock = &sockets[newsock - LWIP_SOCKET_OFFSET];
 4794              		.loc 1 699 3 discriminator 3 view .LVU1465
 700:ThirdPackage/lwip220/api/sockets.c **** 
 4795              		.loc 1 700 3 discriminator 3 view .LVU1466
 700:ThirdPackage/lwip220/api/sockets.c **** 
 4796              		.loc 1 700 9 is_stmt 0 discriminator 3 view .LVU1467
 4797 0042 494B     		ldr	r3, .L415
 4798 0044 03EB0518 		add	r8, r3, r5, lsl #4
 4799              	.LVL520:
 707:ThirdPackage/lwip220/api/sockets.c ****   recvevent = (s16_t)(-1 - newconn->callback_arg.socket);
 4800              		.loc 1 707 3 is_stmt 1 discriminator 3 view .LVU1468
 4801 0048 FFF7FEFF 		bl	sys_arch_protect
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 176


 4802              	.LVL521:
 708:ThirdPackage/lwip220/api/sockets.c ****   newconn->callback_arg.socket = newsock;
 4803              		.loc 1 708 3 discriminator 3 view .LVU1469
 708:ThirdPackage/lwip220/api/sockets.c ****   newconn->callback_arg.socket = newsock;
 4804              		.loc 1 708 35 is_stmt 0 discriminator 3 view .LVU1470
 4805 004c 079B     		ldr	r3, [sp, #28]
 708:ThirdPackage/lwip220/api/sockets.c ****   newconn->callback_arg.socket = newsock;
 4806              		.loc 1 708 26 discriminator 3 view .LVU1471
 4807 004e B3F91840 		ldrsh	r4, [r3, #24]
 4808              	.LVL522:
 708:ThirdPackage/lwip220/api/sockets.c ****   newconn->callback_arg.socket = newsock;
 4809              		.loc 1 708 15 discriminator 3 view .LVU1472
 4810 0052 E443     		mvns	r4, r4
 4811              	.LVL523:
 709:ThirdPackage/lwip220/api/sockets.c ****   SYS_ARCH_UNPROTECT(lev);
 4812              		.loc 1 709 3 is_stmt 1 discriminator 3 view .LVU1473
 709:ThirdPackage/lwip220/api/sockets.c ****   SYS_ARCH_UNPROTECT(lev);
 4813              		.loc 1 709 32 is_stmt 0 discriminator 3 view .LVU1474
 4814 0054 9D61     		str	r5, [r3, #24]
 710:ThirdPackage/lwip220/api/sockets.c **** 
 4815              		.loc 1 710 3 is_stmt 1 discriminator 3 view .LVU1475
 4816 0056 FFF7FEFF 		bl	sys_arch_unprotect
 4817              	.LVL524:
 712:ThirdPackage/lwip220/api/sockets.c ****     LOCK_TCPIP_CORE();
 4818              		.loc 1 712 3 discriminator 3 view .LVU1476
 712:ThirdPackage/lwip220/api/sockets.c ****     LOCK_TCPIP_CORE();
 4819              		.loc 1 712 14 is_stmt 0 discriminator 3 view .LVU1477
 4820 005a 079B     		ldr	r3, [sp, #28]
 4821 005c 5B6A     		ldr	r3, [r3, #36]
 712:ThirdPackage/lwip220/api/sockets.c ****     LOCK_TCPIP_CORE();
 4822              		.loc 1 712 6 discriminator 3 view .LVU1478
 4823 005e 002B     		cmp	r3, #0
 4824 0060 42D0     		beq	.L401
 713:ThirdPackage/lwip220/api/sockets.c ****     while (recvevent > 0) {
 4825              		.loc 1 713 5 is_stmt 1 view .LVU1479
 4826 0062 4248     		ldr	r0, .L415+4
 4827 0064 FFF7FEFF 		bl	sys_mutex_lock
 4828              	.LVL525:
 714:ThirdPackage/lwip220/api/sockets.c ****       recvevent--;
 4829              		.loc 1 714 5 view .LVU1480
 714:ThirdPackage/lwip220/api/sockets.c ****       recvevent--;
 4830              		.loc 1 714 11 is_stmt 0 view .LVU1481
 4831 0068 39E0     		b	.L402
 4832              	.LVL526:
 4833              	.L409:
 679:ThirdPackage/lwip220/api/sockets.c ****     if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) != NETCONN_TCP) {
 4834              		.loc 1 679 92 is_stmt 1 view .LVU1482
 680:ThirdPackage/lwip220/api/sockets.c ****       set_errno(EOPNOTSUPP);
 4835              		.loc 1 680 5 view .LVU1483
 680:ThirdPackage/lwip220/api/sockets.c ****       set_errno(EOPNOTSUPP);
 4836              		.loc 1 680 9 is_stmt 0 view .LVU1484
 4837 006a 2368     		ldr	r3, [r4]
 4838 006c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 680:ThirdPackage/lwip220/api/sockets.c ****       set_errno(EOPNOTSUPP);
 4839              		.loc 1 680 8 view .LVU1485
 4840 006e 03F0F003 		and	r3, r3, #240
 4841 0072 102B     		cmp	r3, #16
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 177


 4842 0074 05D0     		beq	.L395
 681:ThirdPackage/lwip220/api/sockets.c ****     } else if (err == ERR_CLSD) {
 4843              		.loc 1 681 7 is_stmt 1 discriminator 1 view .LVU1486
 681:ThirdPackage/lwip220/api/sockets.c ****     } else if (err == ERR_CLSD) {
 4844              		.loc 1 681 7 discriminator 1 view .LVU1487
 681:ThirdPackage/lwip220/api/sockets.c ****     } else if (err == ERR_CLSD) {
 4845              		.loc 1 681 7 discriminator 1 view .LVU1488
 4846 0076 3E4B     		ldr	r3, .L415+8
 4847 0078 5F22     		movs	r2, #95
 4848 007a 1A60     		str	r2, [r3]
 681:ThirdPackage/lwip220/api/sockets.c ****     } else if (err == ERR_CLSD) {
 4849              		.loc 1 681 7 discriminator 1 view .LVU1489
 4850              	.LVL527:
 4851              	.L396:
 685:ThirdPackage/lwip220/api/sockets.c ****     }
 4852              		.loc 1 685 7 discriminator 3 view .LVU1490
 687:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 4853              		.loc 1 687 22 discriminator 3 view .LVU1491
 688:ThirdPackage/lwip220/api/sockets.c ****   }
 4854              		.loc 1 688 5 discriminator 3 view .LVU1492
 688:ThirdPackage/lwip220/api/sockets.c ****   }
 4855              		.loc 1 688 12 is_stmt 0 discriminator 3 view .LVU1493
 4856 007c 4FF0FF35 		mov	r5, #-1
 4857 0080 59E0     		b	.L392
 4858              	.LVL528:
 4859              	.L395:
 682:ThirdPackage/lwip220/api/sockets.c ****       set_errno(EINVAL);
 4860              		.loc 1 682 12 is_stmt 1 view .LVU1494
 682:ThirdPackage/lwip220/api/sockets.c ****       set_errno(EINVAL);
 4861              		.loc 1 682 15 is_stmt 0 view .LVU1495
 4862 0082 10F10F0F 		cmn	r0, #15
 4863 0086 03D1     		bne	.L397
 683:ThirdPackage/lwip220/api/sockets.c ****     } else {
 4864              		.loc 1 683 7 is_stmt 1 discriminator 1 view .LVU1496
 683:ThirdPackage/lwip220/api/sockets.c ****     } else {
 4865              		.loc 1 683 7 discriminator 1 view .LVU1497
 683:ThirdPackage/lwip220/api/sockets.c ****     } else {
 4866              		.loc 1 683 7 discriminator 1 view .LVU1498
 4867 0088 394B     		ldr	r3, .L415+8
 4868 008a 1622     		movs	r2, #22
 4869 008c 1A60     		str	r2, [r3]
 683:ThirdPackage/lwip220/api/sockets.c ****     } else {
 4870              		.loc 1 683 7 discriminator 1 view .LVU1499
 4871 008e F5E7     		b	.L396
 4872              	.L397:
 685:ThirdPackage/lwip220/api/sockets.c ****     }
 4873              		.loc 1 685 7 view .LVU1500
 685:ThirdPackage/lwip220/api/sockets.c ****     }
 4874              		.loc 1 685 7 view .LVU1501
 4875 0090 FFF7FEFF 		bl	err_to_errno
 4876              	.LVL529:
 685:ThirdPackage/lwip220/api/sockets.c ****     }
 4877              		.loc 1 685 7 is_stmt 0 view .LVU1502
 4878 0094 0028     		cmp	r0, #0
 4879 0096 F1D0     		beq	.L396
 685:ThirdPackage/lwip220/api/sockets.c ****     }
 4880              		.loc 1 685 7 is_stmt 1 discriminator 1 view .LVU1503
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 178


 4881 0098 2846     		mov	r0, r5
 4882 009a FFF7FEFF 		bl	err_to_errno
 4883              	.LVL530:
 4884 009e 344B     		ldr	r3, .L415+8
 4885 00a0 1860     		str	r0, [r3]
 4886 00a2 EBE7     		b	.L396
 4887              	.LVL531:
 4888              	.L410:
 690:ThirdPackage/lwip220/api/sockets.c **** 
 4889              		.loc 1 690 3 discriminator 1 view .LVU1504
 690:ThirdPackage/lwip220/api/sockets.c **** 
 4890              		.loc 1 690 3 discriminator 1 view .LVU1505
 4891 00a4 334B     		ldr	r3, .L415+12
 4892 00a6 40F2B222 		movw	r2, #690
 4893 00aa 3349     		ldr	r1, .L415+16
 4894 00ac 3348     		ldr	r0, .L415+20
 4895              	.LVL532:
 690:ThirdPackage/lwip220/api/sockets.c **** 
 4896              		.loc 1 690 3 is_stmt 0 discriminator 1 view .LVU1506
 4897 00ae FFF7FEFF 		bl	printf
 4898              	.LVL533:
 4899 00b2 BCE7     		b	.L398
 4900              	.LVL534:
 4901              	.L411:
 694:ThirdPackage/lwip220/api/sockets.c ****     set_errno(ENFILE);
 4902              		.loc 1 694 5 is_stmt 1 view .LVU1507
 4903 00b4 0798     		ldr	r0, [sp, #28]
 4904              	.LVL535:
 694:ThirdPackage/lwip220/api/sockets.c ****     set_errno(ENFILE);
 4905              		.loc 1 694 5 is_stmt 0 view .LVU1508
 4906 00b6 FFF7FEFF 		bl	netconn_delete
 4907              	.LVL536:
 695:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
 4908              		.loc 1 695 5 is_stmt 1 view .LVU1509
 695:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
 4909              		.loc 1 695 5 view .LVU1510
 695:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
 4910              		.loc 1 695 5 view .LVU1511
 4911 00ba 2D4B     		ldr	r3, .L415+8
 4912 00bc 1722     		movs	r2, #23
 4913 00be 1A60     		str	r2, [r3]
 695:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
 4914              		.loc 1 695 5 view .LVU1512
 696:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 4915              		.loc 1 696 22 view .LVU1513
 697:ThirdPackage/lwip220/api/sockets.c ****   }
 4916              		.loc 1 697 5 view .LVU1514
 697:ThirdPackage/lwip220/api/sockets.c ****   }
 4917              		.loc 1 697 12 is_stmt 0 view .LVU1515
 4918 00c0 39E0     		b	.L392
 4919              	.LVL537:
 4920              	.L412:
 699:ThirdPackage/lwip220/api/sockets.c ****   nsock = &sockets[newsock - LWIP_SOCKET_OFFSET];
 4921              		.loc 1 699 3 is_stmt 1 discriminator 1 view .LVU1516
 699:ThirdPackage/lwip220/api/sockets.c ****   nsock = &sockets[newsock - LWIP_SOCKET_OFFSET];
 4922              		.loc 1 699 3 discriminator 1 view .LVU1517
 4923 00c2 2C4B     		ldr	r3, .L415+12
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 179


 4924 00c4 40F2BB22 		movw	r2, #699
 4925 00c8 2D49     		ldr	r1, .L415+24
 4926 00ca 2C48     		ldr	r0, .L415+20
 4927              	.LVL538:
 699:ThirdPackage/lwip220/api/sockets.c ****   nsock = &sockets[newsock - LWIP_SOCKET_OFFSET];
 4928              		.loc 1 699 3 is_stmt 0 discriminator 1 view .LVU1518
 4929 00cc FFF7FEFF 		bl	printf
 4930              	.LVL539:
 4931 00d0 B7E7     		b	.L400
 4932              	.LVL540:
 4933              	.L403:
 715:ThirdPackage/lwip220/api/sockets.c ****       newconn->callback(newconn, NETCONN_EVT_RCVPLUS, 0);
 4934              		.loc 1 715 7 is_stmt 1 view .LVU1519
 715:ThirdPackage/lwip220/api/sockets.c ****       newconn->callback(newconn, NETCONN_EVT_RCVPLUS, 0);
 4935              		.loc 1 715 16 is_stmt 0 view .LVU1520
 4936 00d2 013C     		subs	r4, r4, #1
 4937              	.LVL541:
 716:ThirdPackage/lwip220/api/sockets.c ****     }
 4938              		.loc 1 716 7 is_stmt 1 view .LVU1521
 716:ThirdPackage/lwip220/api/sockets.c ****     }
 4939              		.loc 1 716 14 is_stmt 0 view .LVU1522
 4940 00d4 0798     		ldr	r0, [sp, #28]
 4941 00d6 436A     		ldr	r3, [r0, #36]
 716:ThirdPackage/lwip220/api/sockets.c ****     }
 4942              		.loc 1 716 7 view .LVU1523
 4943 00d8 0022     		movs	r2, #0
 4944 00da 1146     		mov	r1, r2
 4945 00dc 9847     		blx	r3
 4946              	.LVL542:
 4947              	.L402:
 714:ThirdPackage/lwip220/api/sockets.c ****       recvevent--;
 4948              		.loc 1 714 11 is_stmt 1 view .LVU1524
 4949 00de 002C     		cmp	r4, #0
 4950 00e0 F7DC     		bgt	.L403
 718:ThirdPackage/lwip220/api/sockets.c ****   }
 4951              		.loc 1 718 5 view .LVU1525
 4952 00e2 2248     		ldr	r0, .L415+4
 4953 00e4 FFF7FEFF 		bl	sys_mutex_unlock
 4954              	.LVL543:
 4955              	.L401:
 724:ThirdPackage/lwip220/api/sockets.c ****     union sockaddr_aligned tempaddr;
 4956              		.loc 1 724 3 view .LVU1526
 724:ThirdPackage/lwip220/api/sockets.c ****     union sockaddr_aligned tempaddr;
 4957              		.loc 1 724 6 is_stmt 0 view .LVU1527
 4958 00e8 2FB3     		cbz	r7, .L392
 724:ThirdPackage/lwip220/api/sockets.c ****     union sockaddr_aligned tempaddr;
 4959              		.loc 1 724 22 discriminator 1 view .LVU1528
 4960 00ea 26B3     		cbz	r6, .L392
 4961              	.LBB30:
 725:ThirdPackage/lwip220/api/sockets.c ****     /* get the IP address and port of the remote host */
 4962              		.loc 1 725 5 is_stmt 1 view .LVU1529
 727:ThirdPackage/lwip220/api/sockets.c ****     if (err != ERR_OK) {
 4963              		.loc 1 727 5 view .LVU1530
 727:ThirdPackage/lwip220/api/sockets.c ****     if (err != ERR_OK) {
 4964              		.loc 1 727 11 is_stmt 0 view .LVU1531
 4965 00ec 0023     		movs	r3, #0
 4966 00ee 0DF11602 		add	r2, sp, #22
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 180


 4967 00f2 06A9     		add	r1, sp, #24
 4968 00f4 0798     		ldr	r0, [sp, #28]
 4969 00f6 FFF7FEFF 		bl	netconn_getaddr
 4970              	.LVL544:
 728:ThirdPackage/lwip220/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_accept(%d): netconn_peer failed, err=%d\n", s, err));
 4971              		.loc 1 728 5 is_stmt 1 view .LVU1532
 728:ThirdPackage/lwip220/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_accept(%d): netconn_peer failed, err=%d\n", s, err));
 4972              		.loc 1 728 8 is_stmt 0 view .LVU1533
 4973 00fa 0446     		mov	r4, r0
 4974              	.LVL545:
 728:ThirdPackage/lwip220/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_accept(%d): netconn_peer failed, err=%d\n", s, err));
 4975              		.loc 1 728 8 view .LVU1534
 4976 00fc F8B9     		cbnz	r0, .L413
 736:ThirdPackage/lwip220/api/sockets.c ****     if (*addrlen > IPADDR_SOCKADDR_GET_LEN(&tempaddr)) {
 4977              		.loc 1 736 5 is_stmt 1 view .LVU1535
 736:ThirdPackage/lwip220/api/sockets.c ****     if (*addrlen > IPADDR_SOCKADDR_GET_LEN(&tempaddr)) {
 4978              		.loc 1 736 5 view .LVU1536
 4979 00fe 1023     		movs	r3, #16
 4980 0100 8DF80430 		strb	r3, [sp, #4]
 736:ThirdPackage/lwip220/api/sockets.c ****     if (*addrlen > IPADDR_SOCKADDR_GET_LEN(&tempaddr)) {
 4981              		.loc 1 736 5 view .LVU1537
 4982 0104 0223     		movs	r3, #2
 4983 0106 8DF80530 		strb	r3, [sp, #5]
 736:ThirdPackage/lwip220/api/sockets.c ****     if (*addrlen > IPADDR_SOCKADDR_GET_LEN(&tempaddr)) {
 4984              		.loc 1 736 5 view .LVU1538
 4985 010a BDF81600 		ldrh	r0, [sp, #22]
 4986              	.LVL546:
 736:ThirdPackage/lwip220/api/sockets.c ****     if (*addrlen > IPADDR_SOCKADDR_GET_LEN(&tempaddr)) {
 4987              		.loc 1 736 5 is_stmt 0 view .LVU1539
 4988 010e FFF7FEFF 		bl	lwip_htons
 4989              	.LVL547:
 4990 0112 ADF80600 		strh	r0, [sp, #6]	@ movhi
 736:ThirdPackage/lwip220/api/sockets.c ****     if (*addrlen > IPADDR_SOCKADDR_GET_LEN(&tempaddr)) {
 4991              		.loc 1 736 5 is_stmt 1 view .LVU1540
 4992 0116 069B     		ldr	r3, [sp, #24]
 4993 0118 0293     		str	r3, [sp, #8]
 736:ThirdPackage/lwip220/api/sockets.c ****     if (*addrlen > IPADDR_SOCKADDR_GET_LEN(&tempaddr)) {
 4994              		.loc 1 736 5 view .LVU1541
 4995 011a 0023     		movs	r3, #0
 4996 011c 0393     		str	r3, [sp, #12]
 4997 011e 0493     		str	r3, [sp, #16]
 736:ThirdPackage/lwip220/api/sockets.c ****     if (*addrlen > IPADDR_SOCKADDR_GET_LEN(&tempaddr)) {
 4998              		.loc 1 736 5 view .LVU1542
 737:ThirdPackage/lwip220/api/sockets.c ****       *addrlen = IPADDR_SOCKADDR_GET_LEN(&tempaddr);
 4999              		.loc 1 737 5 view .LVU1543
 737:ThirdPackage/lwip220/api/sockets.c ****       *addrlen = IPADDR_SOCKADDR_GET_LEN(&tempaddr);
 5000              		.loc 1 737 9 is_stmt 0 view .LVU1544
 5001 0120 3268     		ldr	r2, [r6]
 737:ThirdPackage/lwip220/api/sockets.c ****       *addrlen = IPADDR_SOCKADDR_GET_LEN(&tempaddr);
 5002              		.loc 1 737 20 view .LVU1545
 5003 0122 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
 737:ThirdPackage/lwip220/api/sockets.c ****       *addrlen = IPADDR_SOCKADDR_GET_LEN(&tempaddr);
 5004              		.loc 1 737 8 view .LVU1546
 5005 0126 9A42     		cmp	r2, r3
 5006 0128 00D9     		bls	.L406
 738:ThirdPackage/lwip220/api/sockets.c ****     }
 5007              		.loc 1 738 7 is_stmt 1 view .LVU1547
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 181


 738:ThirdPackage/lwip220/api/sockets.c ****     }
 5008              		.loc 1 738 16 is_stmt 0 view .LVU1548
 5009 012a 3360     		str	r3, [r6]
 5010              	.L406:
 740:ThirdPackage/lwip220/api/sockets.c **** 
 5011              		.loc 1 740 5 is_stmt 1 view .LVU1549
 5012 012c 3268     		ldr	r2, [r6]
 5013 012e 01A9     		add	r1, sp, #4
 5014 0130 3846     		mov	r0, r7
 5015 0132 FFF7FEFF 		bl	memcpy
 5016              	.LVL548:
 742:ThirdPackage/lwip220/api/sockets.c ****     ip_addr_debug_print_val(SOCKETS_DEBUG, naddr);
 5017              		.loc 1 742 92 view .LVU1550
 743:ThirdPackage/lwip220/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, (" port=%"U16_F"\n", port));
 5018              		.loc 1 743 50 view .LVU1551
 744:ThirdPackage/lwip220/api/sockets.c ****   } else {
 5019              		.loc 1 744 59 view .LVU1552
 5020              	.L392:
 744:ThirdPackage/lwip220/api/sockets.c ****   } else {
 5021              		.loc 1 744 59 is_stmt 0 view .LVU1553
 5022              	.LBE30:
 753:ThirdPackage/lwip220/api/sockets.c **** 
 5023              		.loc 1 753 1 view .LVU1554
 5024 0136 2846     		mov	r0, r5
 5025 0138 08B0     		add	sp, sp, #32
 5026              	.LCFI54:
 5027              		.cfi_remember_state
 5028              		.cfi_def_cfa_offset 24
 5029              		@ sp needed
 5030 013a BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 5031              	.LVL549:
 5032              	.L413:
 5033              	.LCFI55:
 5034              		.cfi_restore_state
 5035              	.LBB31:
 729:ThirdPackage/lwip220/api/sockets.c ****       free_socket(nsock, 1);
 5036              		.loc 1 729 93 is_stmt 1 view .LVU1555
 730:ThirdPackage/lwip220/api/sockets.c ****       set_errno(err_to_errno(err));
 5037              		.loc 1 730 7 view .LVU1556
 5038 013e 0121     		movs	r1, #1
 5039 0140 4046     		mov	r0, r8
 5040              	.LVL550:
 730:ThirdPackage/lwip220/api/sockets.c ****       set_errno(err_to_errno(err));
 5041              		.loc 1 730 7 is_stmt 0 view .LVU1557
 5042 0142 FFF7FEFF 		bl	free_socket
 5043              	.LVL551:
 731:ThirdPackage/lwip220/api/sockets.c ****       done_socket(sock);
 5044              		.loc 1 731 7 is_stmt 1 view .LVU1558
 731:ThirdPackage/lwip220/api/sockets.c ****       done_socket(sock);
 5045              		.loc 1 731 7 view .LVU1559
 5046 0146 2046     		mov	r0, r4
 5047 0148 FFF7FEFF 		bl	err_to_errno
 5048              	.LVL552:
 5049 014c 10B9     		cbnz	r0, .L414
 5050              	.L405:
 731:ThirdPackage/lwip220/api/sockets.c ****       done_socket(sock);
 5051              		.loc 1 731 7 discriminator 3 view .LVU1560
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 182


 732:ThirdPackage/lwip220/api/sockets.c ****       return -1;
 5052              		.loc 1 732 24 discriminator 3 view .LVU1561
 733:ThirdPackage/lwip220/api/sockets.c ****     }
 5053              		.loc 1 733 7 discriminator 3 view .LVU1562
 733:ThirdPackage/lwip220/api/sockets.c ****     }
 5054              		.loc 1 733 14 is_stmt 0 discriminator 3 view .LVU1563
 5055 014e 4FF0FF35 		mov	r5, #-1
 5056              	.LVL553:
 733:ThirdPackage/lwip220/api/sockets.c ****     }
 5057              		.loc 1 733 14 discriminator 3 view .LVU1564
 5058 0152 F0E7     		b	.L392
 5059              	.LVL554:
 5060              	.L414:
 731:ThirdPackage/lwip220/api/sockets.c ****       done_socket(sock);
 5061              		.loc 1 731 7 is_stmt 1 discriminator 1 view .LVU1565
 5062 0154 2046     		mov	r0, r4
 5063 0156 FFF7FEFF 		bl	err_to_errno
 5064              	.LVL555:
 5065 015a 054B     		ldr	r3, .L415+8
 5066 015c 1860     		str	r0, [r3]
 5067 015e F6E7     		b	.L405
 5068              	.LVL556:
 5069              	.L407:
 731:ThirdPackage/lwip220/api/sockets.c ****       done_socket(sock);
 5070              		.loc 1 731 7 is_stmt 0 discriminator 1 view .LVU1566
 5071              	.LBE31:
 673:ThirdPackage/lwip220/api/sockets.c ****   }
 5072              		.loc 1 673 12 view .LVU1567
 5073 0160 4FF0FF35 		mov	r5, #-1
 5074 0164 E7E7     		b	.L392
 5075              	.L416:
 5076 0166 00BF     		.align	2
 5077              	.L415:
 5078 0168 00000000 		.word	.LANCHOR0
 5079 016c 00000000 		.word	lock_tcpip_core
 5080 0170 00000000 		.word	errno
 5081 0174 00000000 		.word	.LC0
 5082 0178 00000000 		.word	.LC19
 5083 017c 3C000000 		.word	.LC2
 5084 0180 10000000 		.word	.LC20
 5085              		.cfi_endproc
 5086              	.LFE172:
 5088              		.section	.text.lwip_bind,"ax",%progbits
 5089              		.align	1
 5090              		.global	lwip_bind
 5091              		.syntax unified
 5092              		.thumb
 5093              		.thumb_func
 5095              	lwip_bind:
 5096              	.LVL557:
 5097              	.LFB173:
 757:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock;
 5098              		.loc 1 757 1 is_stmt 1 view -0
 5099              		.cfi_startproc
 5100              		@ args = 0, pretend = 0, frame = 8
 5101              		@ frame_needed = 0, uses_anonymous_args = 0
 757:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock;
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 183


 5102              		.loc 1 757 1 is_stmt 0 view .LVU1569
 5103 0000 70B5     		push	{r4, r5, r6, lr}
 5104              	.LCFI56:
 5105              		.cfi_def_cfa_offset 16
 5106              		.cfi_offset 4, -16
 5107              		.cfi_offset 5, -12
 5108              		.cfi_offset 6, -8
 5109              		.cfi_offset 14, -4
 5110 0002 82B0     		sub	sp, sp, #8
 5111              	.LCFI57:
 5112              		.cfi_def_cfa_offset 24
 5113 0004 0C46     		mov	r4, r1
 5114 0006 1546     		mov	r5, r2
 758:ThirdPackage/lwip220/api/sockets.c ****   ip_addr_t local_addr;
 5115              		.loc 1 758 3 is_stmt 1 view .LVU1570
 759:ThirdPackage/lwip220/api/sockets.c ****   u16_t local_port;
 5116              		.loc 1 759 3 view .LVU1571
 760:ThirdPackage/lwip220/api/sockets.c ****   err_t err;
 5117              		.loc 1 760 3 view .LVU1572
 761:ThirdPackage/lwip220/api/sockets.c **** 
 5118              		.loc 1 761 3 view .LVU1573
 763:ThirdPackage/lwip220/api/sockets.c ****   if (!sock) {
 5119              		.loc 1 763 3 view .LVU1574
 763:ThirdPackage/lwip220/api/sockets.c ****   if (!sock) {
 5120              		.loc 1 763 10 is_stmt 0 view .LVU1575
 5121 0008 FFF7FEFF 		bl	get_socket
 5122              	.LVL558:
 764:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 5123              		.loc 1 764 3 is_stmt 1 view .LVU1576
 764:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 5124              		.loc 1 764 6 is_stmt 0 view .LVU1577
 5125 000c 90B3     		cbz	r0, .L423
 5126 000e 0646     		mov	r6, r0
 768:ThirdPackage/lwip220/api/sockets.c ****     /* sockaddr does not match socket type (IPv4/IPv6) */
 5127              		.loc 1 768 3 is_stmt 1 view .LVU1578
 776:ThirdPackage/lwip220/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5128              		.loc 1 776 3 view .LVU1579
 776:ThirdPackage/lwip220/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5129              		.loc 1 776 3 view .LVU1580
 5130 0010 102D     		cmp	r5, #16
 5131 0012 14D1     		bne	.L419
 776:ThirdPackage/lwip220/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5132              		.loc 1 776 3 is_stmt 0 discriminator 2 view .LVU1581
 5133 0014 6378     		ldrb	r3, [r4, #1]	@ zero_extendqisi2
 5134 0016 022B     		cmp	r3, #2
 5135 0018 11D1     		bne	.L419
 776:ThirdPackage/lwip220/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5136              		.loc 1 776 3 discriminator 4 view .LVU1582
 5137 001a 14F0030F 		tst	r4, #3
 5138 001e 0ED1     		bne	.L419
 776:ThirdPackage/lwip220/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5139              		.loc 1 776 3 is_stmt 1 discriminator 6 view .LVU1583
 776:ThirdPackage/lwip220/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5140              		.loc 1 776 3 discriminator 6 view .LVU1584
 779:ThirdPackage/lwip220/api/sockets.c **** 
 5141              		.loc 1 779 3 discriminator 6 view .LVU1585
 781:ThirdPackage/lwip220/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_bind(%d, addr=", s));
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 184


 5142              		.loc 1 781 3 discriminator 6 view .LVU1586
 781:ThirdPackage/lwip220/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_bind(%d, addr=", s));
 5143              		.loc 1 781 3 discriminator 6 view .LVU1587
 5144 0020 6368     		ldr	r3, [r4, #4]
 5145 0022 0193     		str	r3, [sp, #4]
 781:ThirdPackage/lwip220/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_bind(%d, addr=", s));
 5146              		.loc 1 781 3 discriminator 6 view .LVU1588
 5147 0024 6088     		ldrh	r0, [r4, #2]
 5148              	.LVL559:
 781:ThirdPackage/lwip220/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_bind(%d, addr=", s));
 5149              		.loc 1 781 3 is_stmt 0 discriminator 6 view .LVU1589
 5150 0026 FFF7FEFF 		bl	lwip_htons
 5151              	.LVL560:
 5152 002a 0246     		mov	r2, r0
 5153              	.LVL561:
 781:ThirdPackage/lwip220/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_bind(%d, addr=", s));
 5154              		.loc 1 781 3 is_stmt 1 discriminator 6 view .LVU1590
 782:ThirdPackage/lwip220/api/sockets.c ****   ip_addr_debug_print_val(SOCKETS_DEBUG, local_addr);
 5155              		.loc 1 782 57 discriminator 6 view .LVU1591
 783:ThirdPackage/lwip220/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, (" port=%"U16_F")\n", local_port));
 5156              		.loc 1 783 53 discriminator 6 view .LVU1592
 784:ThirdPackage/lwip220/api/sockets.c **** 
 5157              		.loc 1 784 64 discriminator 6 view .LVU1593
 794:ThirdPackage/lwip220/api/sockets.c **** 
 5158              		.loc 1 794 3 discriminator 6 view .LVU1594
 794:ThirdPackage/lwip220/api/sockets.c **** 
 5159              		.loc 1 794 9 is_stmt 0 discriminator 6 view .LVU1595
 5160 002c 01A9     		add	r1, sp, #4
 5161 002e 3068     		ldr	r0, [r6]
 5162 0030 FFF7FEFF 		bl	netconn_bind
 5163              	.LVL562:
 796:ThirdPackage/lwip220/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_bind(%d) failed, err=%d\n", s, err));
 5164              		.loc 1 796 3 is_stmt 1 discriminator 6 view .LVU1596
 796:ThirdPackage/lwip220/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_bind(%d) failed, err=%d\n", s, err));
 5165              		.loc 1 796 6 is_stmt 0 discriminator 6 view .LVU1597
 5166 0034 0446     		mov	r4, r0
 5167              	.LVL563:
 796:ThirdPackage/lwip220/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_bind(%d) failed, err=%d\n", s, err));
 5168              		.loc 1 796 6 discriminator 6 view .LVU1598
 5169 0036 88B9     		cbnz	r0, .L426
 806:ThirdPackage/lwip220/api/sockets.c **** }
 5170              		.loc 1 806 10 view .LVU1599
 5171 0038 0020     		movs	r0, #0
 5172              	.LVL564:
 5173              	.L417:
 807:ThirdPackage/lwip220/api/sockets.c **** 
 5174              		.loc 1 807 1 view .LVU1600
 5175 003a 02B0     		add	sp, sp, #8
 5176              	.LCFI58:
 5177              		.cfi_remember_state
 5178              		.cfi_def_cfa_offset 16
 5179              		@ sp needed
 5180 003c 70BD     		pop	{r4, r5, r6, pc}
 5181              	.LVL565:
 5182              	.L419:
 5183              	.LCFI59:
 5184              		.cfi_restore_state
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 185


 776:ThirdPackage/lwip220/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5185              		.loc 1 776 3 is_stmt 1 discriminator 5 view .LVU1601
 776:ThirdPackage/lwip220/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5186              		.loc 1 776 3 discriminator 5 view .LVU1602
 776:ThirdPackage/lwip220/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5187              		.loc 1 776 3 discriminator 5 view .LVU1603
 5188 003e 6FF00F00 		mvn	r0, #15
 5189              	.LVL566:
 776:ThirdPackage/lwip220/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5190              		.loc 1 776 3 is_stmt 0 discriminator 5 view .LVU1604
 5191 0042 FFF7FEFF 		bl	err_to_errno
 5192              	.LVL567:
 5193 0046 10B9     		cbnz	r0, .L427
 5194              	.L421:
 776:ThirdPackage/lwip220/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5195              		.loc 1 776 3 is_stmt 1 discriminator 9 view .LVU1605
 776:ThirdPackage/lwip220/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5196              		.loc 1 776 3 discriminator 9 view .LVU1606
 776:ThirdPackage/lwip220/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5197              		.loc 1 776 3 discriminator 9 view .LVU1607
 5198 0048 4FF0FF30 		mov	r0, #-1
 5199 004c F5E7     		b	.L417
 5200              	.L427:
 776:ThirdPackage/lwip220/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5201              		.loc 1 776 3 discriminator 7 view .LVU1608
 5202 004e 6FF00F00 		mvn	r0, #15
 5203 0052 FFF7FEFF 		bl	err_to_errno
 5204              	.LVL568:
 5205 0056 094B     		ldr	r3, .L429
 5206 0058 1860     		str	r0, [r3]
 5207 005a F5E7     		b	.L421
 5208              	.LVL569:
 5209              	.L426:
 797:ThirdPackage/lwip220/api/sockets.c ****     set_errno(err_to_errno(err));
 5210              		.loc 1 797 75 view .LVU1609
 798:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
 5211              		.loc 1 798 5 view .LVU1610
 798:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
 5212              		.loc 1 798 5 view .LVU1611
 5213 005c FFF7FEFF 		bl	err_to_errno
 5214              	.LVL570:
 798:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
 5215              		.loc 1 798 5 is_stmt 0 view .LVU1612
 5216 0060 10B9     		cbnz	r0, .L428
 5217              	.L422:
 798:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
 5218              		.loc 1 798 5 is_stmt 1 discriminator 3 view .LVU1613
 799:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 5219              		.loc 1 799 22 discriminator 3 view .LVU1614
 800:ThirdPackage/lwip220/api/sockets.c ****   }
 5220              		.loc 1 800 5 discriminator 3 view .LVU1615
 800:ThirdPackage/lwip220/api/sockets.c ****   }
 5221              		.loc 1 800 12 is_stmt 0 discriminator 3 view .LVU1616
 5222 0062 4FF0FF30 		mov	r0, #-1
 5223 0066 E8E7     		b	.L417
 5224              	.L428:
 798:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 186


 5225              		.loc 1 798 5 is_stmt 1 discriminator 1 view .LVU1617
 5226 0068 2046     		mov	r0, r4
 5227 006a FFF7FEFF 		bl	err_to_errno
 5228              	.LVL571:
 5229 006e 034B     		ldr	r3, .L429
 5230 0070 1860     		str	r0, [r3]
 5231 0072 F6E7     		b	.L422
 5232              	.LVL572:
 5233              	.L423:
 765:ThirdPackage/lwip220/api/sockets.c ****   }
 5234              		.loc 1 765 12 is_stmt 0 view .LVU1618
 5235 0074 4FF0FF30 		mov	r0, #-1
 5236              	.LVL573:
 765:ThirdPackage/lwip220/api/sockets.c ****   }
 5237              		.loc 1 765 12 view .LVU1619
 5238 0078 DFE7     		b	.L417
 5239              	.L430:
 5240 007a 00BF     		.align	2
 5241              	.L429:
 5242 007c 00000000 		.word	errno
 5243              		.cfi_endproc
 5244              	.LFE173:
 5246              		.section	.rodata.lwip_close.str1.4,"aMS",%progbits,1
 5247              		.align	2
 5248              	.LC21:
 5249 0000 736F636B 		.ascii	"sock->lastdata == NULL\000"
 5249      2D3E6C61 
 5249      73746461 
 5249      7461203D 
 5249      3D204E55 
 5250              		.section	.text.lwip_close,"ax",%progbits
 5251              		.align	1
 5252              		.global	lwip_close
 5253              		.syntax unified
 5254              		.thumb
 5255              		.thumb_func
 5257              	lwip_close:
 5258              	.LVL574:
 5259              	.LFB174:
 811:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock;
 5260              		.loc 1 811 1 is_stmt 1 view -0
 5261              		.cfi_startproc
 5262              		@ args = 0, pretend = 0, frame = 0
 5263              		@ frame_needed = 0, uses_anonymous_args = 0
 811:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock;
 5264              		.loc 1 811 1 is_stmt 0 view .LVU1621
 5265 0000 70B5     		push	{r4, r5, r6, lr}
 5266              	.LCFI60:
 5267              		.cfi_def_cfa_offset 16
 5268              		.cfi_offset 4, -16
 5269              		.cfi_offset 5, -12
 5270              		.cfi_offset 6, -8
 5271              		.cfi_offset 14, -4
 812:ThirdPackage/lwip220/api/sockets.c ****   int is_tcp = 0;
 5272              		.loc 1 812 3 is_stmt 1 view .LVU1622
 813:ThirdPackage/lwip220/api/sockets.c ****   err_t err;
 5273              		.loc 1 813 3 view .LVU1623
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 187


 5274              	.LVL575:
 814:ThirdPackage/lwip220/api/sockets.c **** 
 5275              		.loc 1 814 3 view .LVU1624
 816:ThirdPackage/lwip220/api/sockets.c **** 
 5276              		.loc 1 816 54 view .LVU1625
 818:ThirdPackage/lwip220/api/sockets.c ****   if (!sock) {
 5277              		.loc 1 818 3 view .LVU1626
 818:ThirdPackage/lwip220/api/sockets.c ****   if (!sock) {
 5278              		.loc 1 818 10 is_stmt 0 view .LVU1627
 5279 0002 FFF7FEFF 		bl	get_socket
 5280              	.LVL576:
 819:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 5281              		.loc 1 819 3 is_stmt 1 view .LVU1628
 819:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 5282              		.loc 1 819 6 is_stmt 0 view .LVU1629
 5283 0006 68B3     		cbz	r0, .L437
 5284 0008 0546     		mov	r5, r0
 823:ThirdPackage/lwip220/api/sockets.c ****     is_tcp = NETCONNTYPE_GROUP(netconn_type(sock->conn)) == NETCONN_TCP;
 5285              		.loc 1 823 3 is_stmt 1 view .LVU1630
 823:ThirdPackage/lwip220/api/sockets.c ****     is_tcp = NETCONNTYPE_GROUP(netconn_type(sock->conn)) == NETCONN_TCP;
 5286              		.loc 1 823 11 is_stmt 0 view .LVU1631
 5287 000a 0368     		ldr	r3, [r0]
 823:ThirdPackage/lwip220/api/sockets.c ****     is_tcp = NETCONNTYPE_GROUP(netconn_type(sock->conn)) == NETCONN_TCP;
 5288              		.loc 1 823 6 view .LVU1632
 5289 000c 8BB1     		cbz	r3, .L433
 824:ThirdPackage/lwip220/api/sockets.c ****   } else {
 5290              		.loc 1 824 5 is_stmt 1 view .LVU1633
 824:ThirdPackage/lwip220/api/sockets.c ****   } else {
 5291              		.loc 1 824 14 is_stmt 0 view .LVU1634
 5292 000e 1C78     		ldrb	r4, [r3]	@ zero_extendqisi2
 824:ThirdPackage/lwip220/api/sockets.c ****   } else {
 5293              		.loc 1 824 58 view .LVU1635
 5294 0010 04F0F004 		and	r4, r4, #240
 5295 0014 102C     		cmp	r4, #16
 5296 0016 14BF     		ite	ne
 5297 0018 0024     		movne	r4, #0
 5298 001a 0124     		moveq	r4, #1
 5299              	.LVL577:
 5300              	.L434:
 826:ThirdPackage/lwip220/api/sockets.c ****   }
 5301              		.loc 1 826 5 is_stmt 1 discriminator 3 view .LVU1636
 826:ThirdPackage/lwip220/api/sockets.c ****   }
 5302              		.loc 1 826 5 discriminator 3 view .LVU1637
 838:ThirdPackage/lwip220/api/sockets.c ****   if (err != ERR_OK) {
 5303              		.loc 1 838 3 discriminator 3 view .LVU1638
 838:ThirdPackage/lwip220/api/sockets.c ****   if (err != ERR_OK) {
 5304              		.loc 1 838 9 is_stmt 0 discriminator 3 view .LVU1639
 5305 001c 2868     		ldr	r0, [r5]
 5306 001e FFF7FEFF 		bl	netconn_prepare_delete
 5307              	.LVL578:
 839:ThirdPackage/lwip220/api/sockets.c ****     set_errno(err_to_errno(err));
 5308              		.loc 1 839 3 is_stmt 1 discriminator 3 view .LVU1640
 839:ThirdPackage/lwip220/api/sockets.c ****     set_errno(err_to_errno(err));
 5309              		.loc 1 839 6 is_stmt 0 discriminator 3 view .LVU1641
 5310 0022 0646     		mov	r6, r0
 5311 0024 90B9     		cbnz	r0, .L440
 845:ThirdPackage/lwip220/api/sockets.c ****   set_errno(0);
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 188


 5312              		.loc 1 845 3 is_stmt 1 view .LVU1642
 5313 0026 2146     		mov	r1, r4
 5314 0028 2846     		mov	r0, r5
 5315              	.LVL579:
 845:ThirdPackage/lwip220/api/sockets.c ****   set_errno(0);
 5316              		.loc 1 845 3 is_stmt 0 view .LVU1643
 5317 002a FFF7FEFF 		bl	free_socket
 5318              	.LVL580:
 846:ThirdPackage/lwip220/api/sockets.c ****   return 0;
 5319              		.loc 1 846 3 is_stmt 1 view .LVU1644
 846:ThirdPackage/lwip220/api/sockets.c ****   return 0;
 5320              		.loc 1 846 3 view .LVU1645
 846:ThirdPackage/lwip220/api/sockets.c ****   return 0;
 5321              		.loc 1 846 3 view .LVU1646
 847:ThirdPackage/lwip220/api/sockets.c **** }
 5322              		.loc 1 847 3 view .LVU1647
 847:ThirdPackage/lwip220/api/sockets.c **** }
 5323              		.loc 1 847 10 is_stmt 0 view .LVU1648
 5324 002e 0020     		movs	r0, #0
 5325              	.LVL581:
 5326              	.L431:
 848:ThirdPackage/lwip220/api/sockets.c **** 
 5327              		.loc 1 848 1 view .LVU1649
 5328 0030 70BD     		pop	{r4, r5, r6, pc}
 5329              	.LVL582:
 5330              	.L433:
 826:ThirdPackage/lwip220/api/sockets.c ****   }
 5331              		.loc 1 826 5 is_stmt 1 view .LVU1650
 826:ThirdPackage/lwip220/api/sockets.c ****   }
 5332              		.loc 1 826 5 view .LVU1651
 5333 0032 4368     		ldr	r3, [r0, #4]
 5334 0034 43B1     		cbz	r3, .L438
 826:ThirdPackage/lwip220/api/sockets.c ****   }
 5335              		.loc 1 826 5 discriminator 1 view .LVU1652
 826:ThirdPackage/lwip220/api/sockets.c ****   }
 5336              		.loc 1 826 5 discriminator 1 view .LVU1653
 5337 0036 0D4B     		ldr	r3, .L442
 5338 0038 40F23A32 		movw	r2, #826
 5339 003c 0C49     		ldr	r1, .L442+4
 5340 003e 0D48     		ldr	r0, .L442+8
 5341              	.LVL583:
 826:ThirdPackage/lwip220/api/sockets.c ****   }
 5342              		.loc 1 826 5 is_stmt 0 discriminator 1 view .LVU1654
 5343 0040 FFF7FEFF 		bl	printf
 5344              	.LVL584:
 813:ThirdPackage/lwip220/api/sockets.c ****   err_t err;
 5345              		.loc 1 813 7 discriminator 1 view .LVU1655
 5346 0044 0024     		movs	r4, #0
 5347 0046 E9E7     		b	.L434
 5348              	.LVL585:
 5349              	.L438:
 813:ThirdPackage/lwip220/api/sockets.c ****   err_t err;
 5350              		.loc 1 813 7 view .LVU1656
 5351 0048 0024     		movs	r4, #0
 5352 004a E7E7     		b	.L434
 5353              	.LVL586:
 5354              	.L440:
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 189


 840:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
 5355              		.loc 1 840 5 is_stmt 1 view .LVU1657
 840:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
 5356              		.loc 1 840 5 view .LVU1658
 5357 004c FFF7FEFF 		bl	err_to_errno
 5358              	.LVL587:
 840:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
 5359              		.loc 1 840 5 is_stmt 0 view .LVU1659
 5360 0050 10B9     		cbnz	r0, .L441
 5361              	.L436:
 840:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
 5362              		.loc 1 840 5 is_stmt 1 discriminator 3 view .LVU1660
 841:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 5363              		.loc 1 841 22 discriminator 3 view .LVU1661
 842:ThirdPackage/lwip220/api/sockets.c ****   }
 5364              		.loc 1 842 5 discriminator 3 view .LVU1662
 842:ThirdPackage/lwip220/api/sockets.c ****   }
 5365              		.loc 1 842 12 is_stmt 0 discriminator 3 view .LVU1663
 5366 0052 4FF0FF30 		mov	r0, #-1
 5367 0056 EBE7     		b	.L431
 5368              	.L441:
 840:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
 5369              		.loc 1 840 5 is_stmt 1 discriminator 1 view .LVU1664
 5370 0058 3046     		mov	r0, r6
 5371 005a FFF7FEFF 		bl	err_to_errno
 5372              	.LVL588:
 5373 005e 064B     		ldr	r3, .L442+12
 5374 0060 1860     		str	r0, [r3]
 5375 0062 F6E7     		b	.L436
 5376              	.LVL589:
 5377              	.L437:
 820:ThirdPackage/lwip220/api/sockets.c ****   }
 5378              		.loc 1 820 12 is_stmt 0 view .LVU1665
 5379 0064 4FF0FF30 		mov	r0, #-1
 5380              	.LVL590:
 820:ThirdPackage/lwip220/api/sockets.c ****   }
 5381              		.loc 1 820 12 view .LVU1666
 5382 0068 E2E7     		b	.L431
 5383              	.L443:
 5384 006a 00BF     		.align	2
 5385              	.L442:
 5386 006c 00000000 		.word	.LC0
 5387 0070 00000000 		.word	.LC21
 5388 0074 3C000000 		.word	.LC2
 5389 0078 00000000 		.word	errno
 5390              		.cfi_endproc
 5391              	.LFE174:
 5393              		.section	.text.lwip_connect,"ax",%progbits
 5394              		.align	1
 5395              		.global	lwip_connect
 5396              		.syntax unified
 5397              		.thumb
 5398              		.thumb_func
 5400              	lwip_connect:
 5401              	.LVL591:
 5402              	.LFB175:
 852:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock;
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 190


 5403              		.loc 1 852 1 is_stmt 1 view -0
 5404              		.cfi_startproc
 5405              		@ args = 0, pretend = 0, frame = 8
 5406              		@ frame_needed = 0, uses_anonymous_args = 0
 852:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock;
 5407              		.loc 1 852 1 is_stmt 0 view .LVU1668
 5408 0000 70B5     		push	{r4, r5, r6, lr}
 5409              	.LCFI61:
 5410              		.cfi_def_cfa_offset 16
 5411              		.cfi_offset 4, -16
 5412              		.cfi_offset 5, -12
 5413              		.cfi_offset 6, -8
 5414              		.cfi_offset 14, -4
 5415 0002 82B0     		sub	sp, sp, #8
 5416              	.LCFI62:
 5417              		.cfi_def_cfa_offset 24
 5418 0004 0C46     		mov	r4, r1
 5419 0006 1546     		mov	r5, r2
 853:ThirdPackage/lwip220/api/sockets.c ****   err_t err;
 5420              		.loc 1 853 3 is_stmt 1 view .LVU1669
 854:ThirdPackage/lwip220/api/sockets.c **** 
 5421              		.loc 1 854 3 view .LVU1670
 856:ThirdPackage/lwip220/api/sockets.c ****   if (!sock) {
 5422              		.loc 1 856 3 view .LVU1671
 856:ThirdPackage/lwip220/api/sockets.c ****   if (!sock) {
 5423              		.loc 1 856 10 is_stmt 0 view .LVU1672
 5424 0008 FFF7FEFF 		bl	get_socket
 5425              	.LVL592:
 857:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 5426              		.loc 1 857 3 is_stmt 1 view .LVU1673
 857:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 5427              		.loc 1 857 6 is_stmt 0 view .LVU1674
 5428 000c 0028     		cmp	r0, #0
 5429 000e 39D0     		beq	.L452
 5430 0010 0646     		mov	r6, r0
 861:ThirdPackage/lwip220/api/sockets.c ****     /* sockaddr does not match socket type (IPv4/IPv6) */
 5431              		.loc 1 861 3 is_stmt 1 view .LVU1675
 868:ThirdPackage/lwip220/api/sockets.c ****   if (name->sa_family == AF_UNSPEC) {
 5432              		.loc 1 868 3 view .LVU1676
 869:ThirdPackage/lwip220/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_connect(%d, AF_UNSPEC)\n", s));
 5433              		.loc 1 869 3 view .LVU1677
 869:ThirdPackage/lwip220/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_connect(%d, AF_UNSPEC)\n", s));
 5434              		.loc 1 869 11 is_stmt 0 view .LVU1678
 5435 0012 6378     		ldrb	r3, [r4, #1]	@ zero_extendqisi2
 869:ThirdPackage/lwip220/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_connect(%d, AF_UNSPEC)\n", s));
 5436              		.loc 1 869 6 view .LVU1679
 5437 0014 ABB1     		cbz	r3, .L455
 5438              	.LBB32:
 873:ThirdPackage/lwip220/api/sockets.c ****     u16_t remote_port;
 5439              		.loc 1 873 5 is_stmt 1 view .LVU1680
 874:ThirdPackage/lwip220/api/sockets.c **** 
 5440              		.loc 1 874 5 view .LVU1681
 877:ThirdPackage/lwip220/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5441              		.loc 1 877 5 view .LVU1682
 877:ThirdPackage/lwip220/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5442              		.loc 1 877 5 view .LVU1683
 5443 0016 102D     		cmp	r5, #16
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 191


 5444 0018 18D1     		bne	.L448
 877:ThirdPackage/lwip220/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5445              		.loc 1 877 5 is_stmt 0 discriminator 3 view .LVU1684
 5446 001a 022B     		cmp	r3, #2
 5447 001c 16D1     		bne	.L448
 877:ThirdPackage/lwip220/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5448              		.loc 1 877 5 discriminator 6 view .LVU1685
 5449 001e 14F0030F 		tst	r4, #3
 5450 0022 13D1     		bne	.L448
 877:ThirdPackage/lwip220/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5451              		.loc 1 877 5 is_stmt 1 discriminator 8 view .LVU1686
 877:ThirdPackage/lwip220/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5452              		.loc 1 877 5 discriminator 8 view .LVU1687
 881:ThirdPackage/lwip220/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_connect(%d, addr=", s));
 5453              		.loc 1 881 5 discriminator 8 view .LVU1688
 881:ThirdPackage/lwip220/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_connect(%d, addr=", s));
 5454              		.loc 1 881 5 discriminator 8 view .LVU1689
 5455 0024 6368     		ldr	r3, [r4, #4]
 5456 0026 0193     		str	r3, [sp, #4]
 881:ThirdPackage/lwip220/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_connect(%d, addr=", s));
 5457              		.loc 1 881 5 discriminator 8 view .LVU1690
 5458 0028 6088     		ldrh	r0, [r4, #2]
 5459              	.LVL593:
 881:ThirdPackage/lwip220/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_connect(%d, addr=", s));
 5460              		.loc 1 881 5 is_stmt 0 discriminator 8 view .LVU1691
 5461 002a FFF7FEFF 		bl	lwip_htons
 5462              	.LVL594:
 5463 002e 0246     		mov	r2, r0
 5464              	.LVL595:
 881:ThirdPackage/lwip220/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_connect(%d, addr=", s));
 5465              		.loc 1 881 5 is_stmt 1 discriminator 8 view .LVU1692
 882:ThirdPackage/lwip220/api/sockets.c ****     ip_addr_debug_print_val(SOCKETS_DEBUG, remote_addr);
 5466              		.loc 1 882 62 discriminator 8 view .LVU1693
 883:ThirdPackage/lwip220/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, (" port=%"U16_F")\n", remote_port));
 5467              		.loc 1 883 56 discriminator 8 view .LVU1694
 884:ThirdPackage/lwip220/api/sockets.c **** 
 5468              		.loc 1 884 67 discriminator 8 view .LVU1695
 894:ThirdPackage/lwip220/api/sockets.c ****   }
 5469              		.loc 1 894 5 discriminator 8 view .LVU1696
 894:ThirdPackage/lwip220/api/sockets.c ****   }
 5470              		.loc 1 894 11 is_stmt 0 discriminator 8 view .LVU1697
 5471 0030 01A9     		add	r1, sp, #4
 5472 0032 3068     		ldr	r0, [r6]
 5473 0034 FFF7FEFF 		bl	netconn_connect
 5474              	.LVL596:
 894:ThirdPackage/lwip220/api/sockets.c ****   }
 5475              		.loc 1 894 11 discriminator 8 view .LVU1698
 5476 0038 0446     		mov	r4, r0
 5477              	.LVL597:
 5478              	.L447:
 894:ThirdPackage/lwip220/api/sockets.c ****   }
 5479              		.loc 1 894 11 discriminator 8 view .LVU1699
 5480              	.LBE32:
 897:ThirdPackage/lwip220/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_connect(%d) failed, err=%d\n", s, err));
 5481              		.loc 1 897 3 is_stmt 1 view .LVU1700
 897:ThirdPackage/lwip220/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_connect(%d) failed, err=%d\n", s, err));
 5482              		.loc 1 897 6 is_stmt 0 view .LVU1701
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 192


 5483 003a B4B9     		cbnz	r4, .L456
 907:ThirdPackage/lwip220/api/sockets.c **** }
 5484              		.loc 1 907 10 view .LVU1702
 5485 003c 0020     		movs	r0, #0
 5486              	.LVL598:
 5487              	.L444:
 908:ThirdPackage/lwip220/api/sockets.c **** 
 5488              		.loc 1 908 1 view .LVU1703
 5489 003e 02B0     		add	sp, sp, #8
 5490              	.LCFI63:
 5491              		.cfi_remember_state
 5492              		.cfi_def_cfa_offset 16
 5493              		@ sp needed
 5494 0040 70BD     		pop	{r4, r5, r6, pc}
 5495              	.LVL599:
 5496              	.L455:
 5497              	.LCFI64:
 5498              		.cfi_restore_state
 870:ThirdPackage/lwip220/api/sockets.c ****     err = netconn_disconnect(sock->conn);
 5499              		.loc 1 870 69 is_stmt 1 view .LVU1704
 871:ThirdPackage/lwip220/api/sockets.c ****   } else {
 5500              		.loc 1 871 5 view .LVU1705
 871:ThirdPackage/lwip220/api/sockets.c ****   } else {
 5501              		.loc 1 871 11 is_stmt 0 view .LVU1706
 5502 0042 0068     		ldr	r0, [r0]
 5503              	.LVL600:
 871:ThirdPackage/lwip220/api/sockets.c ****   } else {
 5504              		.loc 1 871 11 view .LVU1707
 5505 0044 FFF7FEFF 		bl	netconn_disconnect
 5506              	.LVL601:
 5507 0048 0446     		mov	r4, r0
 5508              	.LVL602:
 871:ThirdPackage/lwip220/api/sockets.c ****   } else {
 5509              		.loc 1 871 11 view .LVU1708
 5510 004a F6E7     		b	.L447
 5511              	.LVL603:
 5512              	.L448:
 5513              	.LBB33:
 877:ThirdPackage/lwip220/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5514              		.loc 1 877 5 is_stmt 1 discriminator 7 view .LVU1709
 877:ThirdPackage/lwip220/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5515              		.loc 1 877 5 discriminator 7 view .LVU1710
 877:ThirdPackage/lwip220/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5516              		.loc 1 877 5 discriminator 7 view .LVU1711
 5517 004c 6FF00F00 		mvn	r0, #15
 5518              	.LVL604:
 877:ThirdPackage/lwip220/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5519              		.loc 1 877 5 is_stmt 0 discriminator 7 view .LVU1712
 5520 0050 FFF7FEFF 		bl	err_to_errno
 5521              	.LVL605:
 5522 0054 10B9     		cbnz	r0, .L457
 5523              	.L450:
 877:ThirdPackage/lwip220/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5524              		.loc 1 877 5 is_stmt 1 discriminator 11 view .LVU1713
 877:ThirdPackage/lwip220/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5525              		.loc 1 877 5 discriminator 11 view .LVU1714
 877:ThirdPackage/lwip220/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 193


 5526              		.loc 1 877 5 discriminator 11 view .LVU1715
 5527 0056 4FF0FF30 		mov	r0, #-1
 5528 005a F0E7     		b	.L444
 5529              	.L457:
 877:ThirdPackage/lwip220/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5530              		.loc 1 877 5 discriminator 9 view .LVU1716
 5531 005c 6FF00F00 		mvn	r0, #15
 5532 0060 FFF7FEFF 		bl	err_to_errno
 5533              	.LVL606:
 5534 0064 094B     		ldr	r3, .L459
 5535 0066 1860     		str	r0, [r3]
 5536 0068 F5E7     		b	.L450
 5537              	.LVL607:
 5538              	.L456:
 877:ThirdPackage/lwip220/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5539              		.loc 1 877 5 is_stmt 0 discriminator 9 view .LVU1717
 5540              	.LBE33:
 898:ThirdPackage/lwip220/api/sockets.c ****     set_errno(err_to_errno(err));
 5541              		.loc 1 898 78 is_stmt 1 view .LVU1718
 899:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
 5542              		.loc 1 899 5 view .LVU1719
 899:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
 5543              		.loc 1 899 5 view .LVU1720
 5544 006a 2046     		mov	r0, r4
 5545 006c FFF7FEFF 		bl	err_to_errno
 5546              	.LVL608:
 5547 0070 10B9     		cbnz	r0, .L458
 5548              	.L451:
 899:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
 5549              		.loc 1 899 5 discriminator 3 view .LVU1721
 900:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 5550              		.loc 1 900 22 discriminator 3 view .LVU1722
 901:ThirdPackage/lwip220/api/sockets.c ****   }
 5551              		.loc 1 901 5 discriminator 3 view .LVU1723
 901:ThirdPackage/lwip220/api/sockets.c ****   }
 5552              		.loc 1 901 12 is_stmt 0 discriminator 3 view .LVU1724
 5553 0072 4FF0FF30 		mov	r0, #-1
 5554 0076 E2E7     		b	.L444
 5555              	.L458:
 899:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
 5556              		.loc 1 899 5 is_stmt 1 discriminator 1 view .LVU1725
 5557 0078 2046     		mov	r0, r4
 5558 007a FFF7FEFF 		bl	err_to_errno
 5559              	.LVL609:
 5560 007e 034B     		ldr	r3, .L459
 5561 0080 1860     		str	r0, [r3]
 5562 0082 F6E7     		b	.L451
 5563              	.LVL610:
 5564              	.L452:
 858:ThirdPackage/lwip220/api/sockets.c ****   }
 5565              		.loc 1 858 12 is_stmt 0 view .LVU1726
 5566 0084 4FF0FF30 		mov	r0, #-1
 5567              	.LVL611:
 858:ThirdPackage/lwip220/api/sockets.c ****   }
 5568              		.loc 1 858 12 view .LVU1727
 5569 0088 D9E7     		b	.L444
 5570              	.L460:
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 194


 5571 008a 00BF     		.align	2
 5572              	.L459:
 5573 008c 00000000 		.word	errno
 5574              		.cfi_endproc
 5575              	.LFE175:
 5577              		.section	.text.lwip_listen,"ax",%progbits
 5578              		.align	1
 5579              		.global	lwip_listen
 5580              		.syntax unified
 5581              		.thumb
 5582              		.thumb_func
 5584              	lwip_listen:
 5585              	.LVL612:
 5586              	.LFB176:
 920:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock;
 5587              		.loc 1 920 1 is_stmt 1 view -0
 5588              		.cfi_startproc
 5589              		@ args = 0, pretend = 0, frame = 0
 5590              		@ frame_needed = 0, uses_anonymous_args = 0
 920:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock;
 5591              		.loc 1 920 1 is_stmt 0 view .LVU1729
 5592 0000 38B5     		push	{r3, r4, r5, lr}
 5593              	.LCFI65:
 5594              		.cfi_def_cfa_offset 16
 5595              		.cfi_offset 3, -16
 5596              		.cfi_offset 4, -12
 5597              		.cfi_offset 5, -8
 5598              		.cfi_offset 14, -4
 5599 0002 0C46     		mov	r4, r1
 921:ThirdPackage/lwip220/api/sockets.c ****   err_t err;
 5600              		.loc 1 921 3 is_stmt 1 view .LVU1730
 922:ThirdPackage/lwip220/api/sockets.c **** 
 5601              		.loc 1 922 3 view .LVU1731
 924:ThirdPackage/lwip220/api/sockets.c **** 
 5602              		.loc 1 924 76 view .LVU1732
 926:ThirdPackage/lwip220/api/sockets.c ****   if (!sock) {
 5603              		.loc 1 926 3 view .LVU1733
 926:ThirdPackage/lwip220/api/sockets.c ****   if (!sock) {
 5604              		.loc 1 926 10 is_stmt 0 view .LVU1734
 5605 0004 FFF7FEFF 		bl	get_socket
 5606              	.LVL613:
 927:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 5607              		.loc 1 927 3 is_stmt 1 view .LVU1735
 927:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 5608              		.loc 1 927 6 is_stmt 0 view .LVU1736
 5609 0008 20B3     		cbz	r0, .L466
 5610 000a 0546     		mov	r5, r0
 932:ThirdPackage/lwip220/api/sockets.c **** 
 5611              		.loc 1 932 3 is_stmt 1 view .LVU1737
 932:ThirdPackage/lwip220/api/sockets.c **** 
 5612              		.loc 1 932 13 is_stmt 0 view .LVU1738
 5613 000c FE2C     		cmp	r4, #254
 5614 000e 02DC     		bgt	.L467
 932:ThirdPackage/lwip220/api/sockets.c **** 
 5615              		.loc 1 932 13 discriminator 1 view .LVU1739
 5616 0010 24EAE471 		bic	r1, r4, r4, asr #31
 5617 0014 00E0     		b	.L463
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 195


 5618              	.L467:
 932:ThirdPackage/lwip220/api/sockets.c **** 
 5619              		.loc 1 932 13 view .LVU1740
 5620 0016 FF21     		movs	r1, #255
 5621              	.L463:
 5622              	.LVL614:
 934:ThirdPackage/lwip220/api/sockets.c **** 
 5623              		.loc 1 934 3 is_stmt 1 discriminator 4 view .LVU1741
 934:ThirdPackage/lwip220/api/sockets.c **** 
 5624              		.loc 1 934 9 is_stmt 0 discriminator 4 view .LVU1742
 5625 0018 C9B2     		uxtb	r1, r1
 5626              	.LVL615:
 934:ThirdPackage/lwip220/api/sockets.c **** 
 5627              		.loc 1 934 9 discriminator 4 view .LVU1743
 5628 001a 2868     		ldr	r0, [r5]
 5629              	.LVL616:
 934:ThirdPackage/lwip220/api/sockets.c **** 
 5630              		.loc 1 934 9 discriminator 4 view .LVU1744
 5631 001c FFF7FEFF 		bl	netconn_listen_with_backlog
 5632              	.LVL617:
 936:ThirdPackage/lwip220/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_listen(%d) failed, err=%d\n", s, err));
 5633              		.loc 1 936 3 is_stmt 1 discriminator 4 view .LVU1745
 936:ThirdPackage/lwip220/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_listen(%d) failed, err=%d\n", s, err));
 5634              		.loc 1 936 6 is_stmt 0 discriminator 4 view .LVU1746
 5635 0020 0446     		mov	r4, r0
 5636 0022 08B9     		cbnz	r0, .L470
 949:ThirdPackage/lwip220/api/sockets.c **** }
 5637              		.loc 1 949 10 view .LVU1747
 5638 0024 0020     		movs	r0, #0
 5639              	.LVL618:
 5640              	.L461:
 950:ThirdPackage/lwip220/api/sockets.c **** 
 5641              		.loc 1 950 1 view .LVU1748
 5642 0026 38BD     		pop	{r3, r4, r5, pc}
 5643              	.LVL619:
 5644              	.L470:
 937:ThirdPackage/lwip220/api/sockets.c ****     if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) != NETCONN_TCP) {
 5645              		.loc 1 937 77 is_stmt 1 view .LVU1749
 938:ThirdPackage/lwip220/api/sockets.c ****       set_errno(EOPNOTSUPP);
 5646              		.loc 1 938 5 view .LVU1750
 938:ThirdPackage/lwip220/api/sockets.c ****       set_errno(EOPNOTSUPP);
 5647              		.loc 1 938 9 is_stmt 0 view .LVU1751
 5648 0028 2B68     		ldr	r3, [r5]
 5649 002a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 938:ThirdPackage/lwip220/api/sockets.c ****       set_errno(EOPNOTSUPP);
 5650              		.loc 1 938 8 view .LVU1752
 5651 002c 03F0F003 		and	r3, r3, #240
 5652 0030 102B     		cmp	r3, #16
 5653 0032 05D0     		beq	.L464
 939:ThirdPackage/lwip220/api/sockets.c ****     } else {
 5654              		.loc 1 939 7 is_stmt 1 discriminator 1 view .LVU1753
 939:ThirdPackage/lwip220/api/sockets.c ****     } else {
 5655              		.loc 1 939 7 discriminator 1 view .LVU1754
 939:ThirdPackage/lwip220/api/sockets.c ****     } else {
 5656              		.loc 1 939 7 discriminator 1 view .LVU1755
 5657 0034 094B     		ldr	r3, .L471
 5658 0036 5F22     		movs	r2, #95
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 196


 5659 0038 1A60     		str	r2, [r3]
 939:ThirdPackage/lwip220/api/sockets.c ****     } else {
 5660              		.loc 1 939 7 discriminator 1 view .LVU1756
 5661              	.LVL620:
 5662              	.L465:
 941:ThirdPackage/lwip220/api/sockets.c ****     }
 5663              		.loc 1 941 7 discriminator 3 view .LVU1757
 943:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 5664              		.loc 1 943 22 discriminator 3 view .LVU1758
 944:ThirdPackage/lwip220/api/sockets.c ****   }
 5665              		.loc 1 944 5 discriminator 3 view .LVU1759
 944:ThirdPackage/lwip220/api/sockets.c ****   }
 5666              		.loc 1 944 12 is_stmt 0 discriminator 3 view .LVU1760
 5667 003a 4FF0FF30 		mov	r0, #-1
 5668 003e F2E7     		b	.L461
 5669              	.LVL621:
 5670              	.L464:
 941:ThirdPackage/lwip220/api/sockets.c ****     }
 5671              		.loc 1 941 7 is_stmt 1 view .LVU1761
 941:ThirdPackage/lwip220/api/sockets.c ****     }
 5672              		.loc 1 941 7 view .LVU1762
 5673 0040 FFF7FEFF 		bl	err_to_errno
 5674              	.LVL622:
 941:ThirdPackage/lwip220/api/sockets.c ****     }
 5675              		.loc 1 941 7 is_stmt 0 view .LVU1763
 5676 0044 0028     		cmp	r0, #0
 5677 0046 F8D0     		beq	.L465
 941:ThirdPackage/lwip220/api/sockets.c ****     }
 5678              		.loc 1 941 7 is_stmt 1 discriminator 1 view .LVU1764
 5679 0048 2046     		mov	r0, r4
 5680 004a FFF7FEFF 		bl	err_to_errno
 5681              	.LVL623:
 5682 004e 034B     		ldr	r3, .L471
 5683 0050 1860     		str	r0, [r3]
 5684 0052 F2E7     		b	.L465
 5685              	.LVL624:
 5686              	.L466:
 928:ThirdPackage/lwip220/api/sockets.c ****   }
 5687              		.loc 1 928 12 is_stmt 0 view .LVU1765
 5688 0054 4FF0FF30 		mov	r0, #-1
 5689              	.LVL625:
 928:ThirdPackage/lwip220/api/sockets.c ****   }
 5690              		.loc 1 928 12 view .LVU1766
 5691 0058 E5E7     		b	.L461
 5692              	.L472:
 5693 005a 00BF     		.align	2
 5694              	.L471:
 5695 005c 00000000 		.word	errno
 5696              		.cfi_endproc
 5697              	.LFE176:
 5699              		.section	.rodata.lwip_recvfrom.str1.4,"aMS",%progbits,1
 5700              		.align	2
 5701              	.LC22:
 5702 0000 6C776970 		.ascii	"lwip_recvfrom\000"
 5702      5F726563 
 5702      7666726F 
 5702      6D00
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 197


 5703              		.section	.text.lwip_recvfrom,"ax",%progbits
 5704              		.align	1
 5705              		.global	lwip_recvfrom
 5706              		.syntax unified
 5707              		.thumb
 5708              		.thumb_func
 5710              	lwip_recvfrom:
 5711              	.LVL626:
 5712              	.LFB181:
1239:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock;
 5713              		.loc 1 1239 1 is_stmt 1 view -0
 5714              		.cfi_startproc
 5715              		@ args = 8, pretend = 0, frame = 40
 5716              		@ frame_needed = 0, uses_anonymous_args = 0
1239:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock;
 5717              		.loc 1 1239 1 is_stmt 0 view .LVU1768
 5718 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 5719              	.LCFI66:
 5720              		.cfi_def_cfa_offset 28
 5721              		.cfi_offset 4, -28
 5722              		.cfi_offset 5, -24
 5723              		.cfi_offset 6, -20
 5724              		.cfi_offset 7, -16
 5725              		.cfi_offset 8, -12
 5726              		.cfi_offset 9, -8
 5727              		.cfi_offset 14, -4
 5728 0004 8DB0     		sub	sp, sp, #52
 5729              	.LCFI67:
 5730              		.cfi_def_cfa_offset 80
 5731 0006 0746     		mov	r7, r0
 5732 0008 8946     		mov	r9, r1
 5733 000a 1446     		mov	r4, r2
 5734 000c 1E46     		mov	r6, r3
 5735 000e 159D     		ldr	r5, [sp, #84]
1240:ThirdPackage/lwip220/api/sockets.c ****   ssize_t ret;
 5736              		.loc 1 1240 3 is_stmt 1 view .LVU1769
1241:ThirdPackage/lwip220/api/sockets.c **** 
 5737              		.loc 1 1241 3 view .LVU1770
1243:ThirdPackage/lwip220/api/sockets.c ****   sock = get_socket(s);
 5738              		.loc 1 1243 98 view .LVU1771
1244:ThirdPackage/lwip220/api/sockets.c ****   if (!sock) {
 5739              		.loc 1 1244 3 view .LVU1772
1244:ThirdPackage/lwip220/api/sockets.c ****   if (!sock) {
 5740              		.loc 1 1244 10 is_stmt 0 view .LVU1773
 5741 0010 FFF7FEFF 		bl	get_socket
 5742              	.LVL627:
1245:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 5743              		.loc 1 1245 3 is_stmt 1 view .LVU1774
1245:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 5744              		.loc 1 1245 6 is_stmt 0 view .LVU1775
 5745 0014 0028     		cmp	r0, #0
 5746 0016 53D0     		beq	.L481
 5747 0018 8046     		mov	r8, r0
1249:ThirdPackage/lwip220/api/sockets.c ****     ret = lwip_recv_tcp(sock, mem, len, flags);
 5748              		.loc 1 1249 3 is_stmt 1 view .LVU1776
1249:ThirdPackage/lwip220/api/sockets.c ****     ret = lwip_recv_tcp(sock, mem, len, flags);
 5749              		.loc 1 1249 7 is_stmt 0 view .LVU1777
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 198


 5750 001a 0368     		ldr	r3, [r0]
 5751 001c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
1249:ThirdPackage/lwip220/api/sockets.c ****     ret = lwip_recv_tcp(sock, mem, len, flags);
 5752              		.loc 1 1249 6 view .LVU1778
 5753 001e 03F0F003 		and	r3, r3, #240
 5754 0022 102B     		cmp	r3, #16
 5755 0024 26D0     		beq	.L485
 5756              	.LBB34:
1257:ThirdPackage/lwip220/api/sockets.c ****     struct iovec vec;
 5757              		.loc 1 1257 5 is_stmt 1 view .LVU1779
1257:ThirdPackage/lwip220/api/sockets.c ****     struct iovec vec;
 5758              		.loc 1 1257 11 is_stmt 0 view .LVU1780
 5759 0026 0022     		movs	r2, #0
 5760 0028 ADF80A20 		strh	r2, [sp, #10]	@ movhi
1258:ThirdPackage/lwip220/api/sockets.c ****     struct msghdr msg;
 5761              		.loc 1 1258 5 is_stmt 1 view .LVU1781
1259:ThirdPackage/lwip220/api/sockets.c ****     err_t err;
 5762              		.loc 1 1259 5 view .LVU1782
1260:ThirdPackage/lwip220/api/sockets.c ****     vec.iov_base = mem;
 5763              		.loc 1 1260 5 view .LVU1783
1261:ThirdPackage/lwip220/api/sockets.c ****     vec.iov_len = len;
 5764              		.loc 1 1261 5 view .LVU1784
1261:ThirdPackage/lwip220/api/sockets.c ****     vec.iov_len = len;
 5765              		.loc 1 1261 18 is_stmt 0 view .LVU1785
 5766 002c CDF80C90 		str	r9, [sp, #12]
1262:ThirdPackage/lwip220/api/sockets.c ****     msg.msg_control = NULL;
 5767              		.loc 1 1262 5 is_stmt 1 view .LVU1786
1262:ThirdPackage/lwip220/api/sockets.c ****     msg.msg_control = NULL;
 5768              		.loc 1 1262 17 is_stmt 0 view .LVU1787
 5769 0030 0494     		str	r4, [sp, #16]
1263:ThirdPackage/lwip220/api/sockets.c ****     msg.msg_controllen = 0;
 5770              		.loc 1 1263 5 is_stmt 1 view .LVU1788
1263:ThirdPackage/lwip220/api/sockets.c ****     msg.msg_controllen = 0;
 5771              		.loc 1 1263 21 is_stmt 0 view .LVU1789
 5772 0032 0992     		str	r2, [sp, #36]
1264:ThirdPackage/lwip220/api/sockets.c ****     msg.msg_flags = 0;
 5773              		.loc 1 1264 5 is_stmt 1 view .LVU1790
1264:ThirdPackage/lwip220/api/sockets.c ****     msg.msg_flags = 0;
 5774              		.loc 1 1264 24 is_stmt 0 view .LVU1791
 5775 0034 0A92     		str	r2, [sp, #40]
1265:ThirdPackage/lwip220/api/sockets.c ****     msg.msg_iov = &vec;
 5776              		.loc 1 1265 5 is_stmt 1 view .LVU1792
1265:ThirdPackage/lwip220/api/sockets.c ****     msg.msg_iov = &vec;
 5777              		.loc 1 1265 19 is_stmt 0 view .LVU1793
 5778 0036 0B92     		str	r2, [sp, #44]
1266:ThirdPackage/lwip220/api/sockets.c ****     msg.msg_iovlen = 1;
 5779              		.loc 1 1266 5 is_stmt 1 view .LVU1794
1266:ThirdPackage/lwip220/api/sockets.c ****     msg.msg_iovlen = 1;
 5780              		.loc 1 1266 17 is_stmt 0 view .LVU1795
 5781 0038 03AB     		add	r3, sp, #12
 5782 003a 0793     		str	r3, [sp, #28]
1267:ThirdPackage/lwip220/api/sockets.c ****     msg.msg_name = from;
 5783              		.loc 1 1267 5 is_stmt 1 view .LVU1796
1267:ThirdPackage/lwip220/api/sockets.c ****     msg.msg_name = from;
 5784              		.loc 1 1267 20 is_stmt 0 view .LVU1797
 5785 003c 0123     		movs	r3, #1
 5786 003e 0893     		str	r3, [sp, #32]
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 199


1268:ThirdPackage/lwip220/api/sockets.c ****     msg.msg_namelen = (fromlen ? *fromlen : 0);
 5787              		.loc 1 1268 5 is_stmt 1 view .LVU1798
1268:ThirdPackage/lwip220/api/sockets.c ****     msg.msg_namelen = (fromlen ? *fromlen : 0);
 5788              		.loc 1 1268 18 is_stmt 0 view .LVU1799
 5789 0040 149B     		ldr	r3, [sp, #80]
 5790 0042 0593     		str	r3, [sp, #20]
1269:ThirdPackage/lwip220/api/sockets.c ****     err = lwip_recvfrom_udp_raw(sock, flags, &msg, &datagram_len, s);
 5791              		.loc 1 1269 5 is_stmt 1 view .LVU1800
1269:ThirdPackage/lwip220/api/sockets.c ****     err = lwip_recvfrom_udp_raw(sock, flags, &msg, &datagram_len, s);
 5792              		.loc 1 1269 43 is_stmt 0 view .LVU1801
 5793 0044 2DB3     		cbz	r5, .L482
1269:ThirdPackage/lwip220/api/sockets.c ****     err = lwip_recvfrom_udp_raw(sock, flags, &msg, &datagram_len, s);
 5794              		.loc 1 1269 43 discriminator 1 view .LVU1802
 5795 0046 2B68     		ldr	r3, [r5]
 5796              	.L476:
1269:ThirdPackage/lwip220/api/sockets.c ****     err = lwip_recvfrom_udp_raw(sock, flags, &msg, &datagram_len, s);
 5797              		.loc 1 1269 21 discriminator 4 view .LVU1803
 5798 0048 0693     		str	r3, [sp, #24]
1270:ThirdPackage/lwip220/api/sockets.c ****     if (err != ERR_OK) {
 5799              		.loc 1 1270 5 is_stmt 1 discriminator 4 view .LVU1804
1270:ThirdPackage/lwip220/api/sockets.c ****     if (err != ERR_OK) {
 5800              		.loc 1 1270 11 is_stmt 0 discriminator 4 view .LVU1805
 5801 004a 0097     		str	r7, [sp]
 5802 004c 0DF10A03 		add	r3, sp, #10
 5803 0050 05AA     		add	r2, sp, #20
 5804 0052 3146     		mov	r1, r6
 5805 0054 4046     		mov	r0, r8
 5806              	.LVL628:
1270:ThirdPackage/lwip220/api/sockets.c ****     if (err != ERR_OK) {
 5807              		.loc 1 1270 11 discriminator 4 view .LVU1806
 5808 0056 FFF7FEFF 		bl	lwip_recvfrom_udp_raw
 5809              	.LVL629:
1271:ThirdPackage/lwip220/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom[UDP/RAW](%d): buf == NULL, error is \"%s\"!\n",
 5810              		.loc 1 1271 5 is_stmt 1 discriminator 4 view .LVU1807
1271:ThirdPackage/lwip220/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom[UDP/RAW](%d): buf == NULL, error is \"%s\"!\n",
 5811              		.loc 1 1271 8 is_stmt 0 discriminator 4 view .LVU1808
 5812 005a 0646     		mov	r6, r0
 5813              	.LVL630:
1271:ThirdPackage/lwip220/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom[UDP/RAW](%d): buf == NULL, error is \"%s\"!\n",
 5814              		.loc 1 1271 8 discriminator 4 view .LVU1809
 5815 005c D8B9     		cbnz	r0, .L486
1278:ThirdPackage/lwip220/api/sockets.c ****     if (fromlen) {
 5816              		.loc 1 1278 5 is_stmt 1 view .LVU1810
1278:ThirdPackage/lwip220/api/sockets.c ****     if (fromlen) {
 5817              		.loc 1 1278 20 is_stmt 0 view .LVU1811
 5818 005e BDF80A00 		ldrh	r0, [sp, #10]
 5819              	.LVL631:
1278:ThirdPackage/lwip220/api/sockets.c ****     if (fromlen) {
 5820              		.loc 1 1278 20 view .LVU1812
 5821 0062 A042     		cmp	r0, r4
 5822 0064 28BF     		it	cs
 5823 0066 2046     		movcs	r0, r4
1278:ThirdPackage/lwip220/api/sockets.c ****     if (fromlen) {
 5824              		.loc 1 1278 11 view .LVU1813
 5825 0068 6FF00043 		mvn	r3, #-2147483648
 5826 006c 9842     		cmp	r0, r3
 5827 006e 1ED2     		bcs	.L483
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 200


1278:ThirdPackage/lwip220/api/sockets.c ****     if (fromlen) {
 5828              		.loc 1 1278 11 discriminator 1 view .LVU1814
 5829 0070 0446     		mov	r4, r0
 5830              	.LVL632:
1278:ThirdPackage/lwip220/api/sockets.c ****     if (fromlen) {
 5831              		.loc 1 1278 11 discriminator 1 view .LVU1815
 5832 0072 1EE0     		b	.L479
 5833              	.LVL633:
 5834              	.L485:
1278:ThirdPackage/lwip220/api/sockets.c ****     if (fromlen) {
 5835              		.loc 1 1278 11 discriminator 1 view .LVU1816
 5836              	.LBE34:
1250:ThirdPackage/lwip220/api/sockets.c ****     lwip_recv_tcp_from(sock, from, fromlen, "lwip_recvfrom", s, ret);
 5837              		.loc 1 1250 5 is_stmt 1 view .LVU1817
1250:ThirdPackage/lwip220/api/sockets.c ****     lwip_recv_tcp_from(sock, from, fromlen, "lwip_recvfrom", s, ret);
 5838              		.loc 1 1250 11 is_stmt 0 view .LVU1818
 5839 0074 3346     		mov	r3, r6
 5840 0076 2246     		mov	r2, r4
 5841 0078 4946     		mov	r1, r9
 5842 007a FFF7FEFF 		bl	lwip_recv_tcp
 5843              	.LVL634:
1250:ThirdPackage/lwip220/api/sockets.c ****     lwip_recv_tcp_from(sock, from, fromlen, "lwip_recvfrom", s, ret);
 5844              		.loc 1 1250 11 view .LVU1819
 5845 007e 0446     		mov	r4, r0
 5846              	.LVL635:
1251:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
 5847              		.loc 1 1251 5 is_stmt 1 view .LVU1820
 5848 0080 0190     		str	r0, [sp, #4]
 5849 0082 0097     		str	r7, [sp]
 5850 0084 104B     		ldr	r3, .L488
 5851 0086 2A46     		mov	r2, r5
 5852 0088 1499     		ldr	r1, [sp, #80]
 5853 008a 4046     		mov	r0, r8
 5854              	.LVL636:
1251:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
 5855              		.loc 1 1251 5 is_stmt 0 view .LVU1821
 5856 008c FFF7FEFF 		bl	lwip_recv_tcp_from
 5857              	.LVL637:
1252:ThirdPackage/lwip220/api/sockets.c ****     return ret;
 5858              		.loc 1 1252 22 is_stmt 1 view .LVU1822
1253:ThirdPackage/lwip220/api/sockets.c ****   } else
 5859              		.loc 1 1253 5 view .LVU1823
1253:ThirdPackage/lwip220/api/sockets.c ****   } else
 5860              		.loc 1 1253 12 is_stmt 0 view .LVU1824
 5861 0090 12E0     		b	.L473
 5862              	.LVL638:
 5863              	.L482:
 5864              	.LBB35:
1269:ThirdPackage/lwip220/api/sockets.c ****     err = lwip_recvfrom_udp_raw(sock, flags, &msg, &datagram_len, s);
 5865              		.loc 1 1269 43 view .LVU1825
 5866 0092 0023     		movs	r3, #0
 5867 0094 D8E7     		b	.L476
 5868              	.LVL639:
 5869              	.L486:
1273:ThirdPackage/lwip220/api/sockets.c ****       set_errno(err_to_errno(err));
 5870              		.loc 1 1273 56 is_stmt 1 view .LVU1826
1274:ThirdPackage/lwip220/api/sockets.c ****       done_socket(sock);
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 201


 5871              		.loc 1 1274 7 view .LVU1827
1274:ThirdPackage/lwip220/api/sockets.c ****       done_socket(sock);
 5872              		.loc 1 1274 7 view .LVU1828
 5873 0096 FFF7FEFF 		bl	err_to_errno
 5874              	.LVL640:
1274:ThirdPackage/lwip220/api/sockets.c ****       done_socket(sock);
 5875              		.loc 1 1274 7 is_stmt 0 view .LVU1829
 5876 009a 10B9     		cbnz	r0, .L487
 5877              	.L478:
1274:ThirdPackage/lwip220/api/sockets.c ****       done_socket(sock);
 5878              		.loc 1 1274 7 is_stmt 1 discriminator 3 view .LVU1830
1275:ThirdPackage/lwip220/api/sockets.c ****       return -1;
 5879              		.loc 1 1275 24 discriminator 3 view .LVU1831
1276:ThirdPackage/lwip220/api/sockets.c ****     }
 5880              		.loc 1 1276 7 discriminator 3 view .LVU1832
1276:ThirdPackage/lwip220/api/sockets.c ****     }
 5881              		.loc 1 1276 14 is_stmt 0 discriminator 3 view .LVU1833
 5882 009c 4FF0FF34 		mov	r4, #-1
 5883              	.LVL641:
1276:ThirdPackage/lwip220/api/sockets.c ****     }
 5884              		.loc 1 1276 14 discriminator 3 view .LVU1834
 5885 00a0 0AE0     		b	.L473
 5886              	.LVL642:
 5887              	.L487:
1274:ThirdPackage/lwip220/api/sockets.c ****       done_socket(sock);
 5888              		.loc 1 1274 7 is_stmt 1 discriminator 1 view .LVU1835
 5889 00a2 3046     		mov	r0, r6
 5890 00a4 FFF7FEFF 		bl	err_to_errno
 5891              	.LVL643:
 5892 00a8 084B     		ldr	r3, .L488+4
 5893 00aa 1860     		str	r0, [r3]
 5894 00ac F6E7     		b	.L478
 5895              	.L483:
1278:ThirdPackage/lwip220/api/sockets.c ****     if (fromlen) {
 5896              		.loc 1 1278 11 is_stmt 0 view .LVU1836
 5897 00ae 6FF00044 		mvn	r4, #-2147483648
 5898              	.LVL644:
 5899              	.L479:
1279:ThirdPackage/lwip220/api/sockets.c ****       *fromlen = msg.msg_namelen;
 5900              		.loc 1 1279 5 is_stmt 1 discriminator 4 view .LVU1837
1279:ThirdPackage/lwip220/api/sockets.c ****       *fromlen = msg.msg_namelen;
 5901              		.loc 1 1279 8 is_stmt 0 discriminator 4 view .LVU1838
 5902 00b2 0DB1     		cbz	r5, .L473
1280:ThirdPackage/lwip220/api/sockets.c ****     }
 5903              		.loc 1 1280 7 is_stmt 1 view .LVU1839
1280:ThirdPackage/lwip220/api/sockets.c ****     }
 5904              		.loc 1 1280 21 is_stmt 0 view .LVU1840
 5905 00b4 069B     		ldr	r3, [sp, #24]
1280:ThirdPackage/lwip220/api/sockets.c ****     }
 5906              		.loc 1 1280 16 view .LVU1841
 5907 00b6 2B60     		str	r3, [r5]
 5908              	.LBE35:
1284:ThirdPackage/lwip220/api/sockets.c ****   done_socket(sock);
 5909              		.loc 1 1284 3 is_stmt 1 view .LVU1842
1284:ThirdPackage/lwip220/api/sockets.c ****   done_socket(sock);
 5910              		.loc 1 1284 3 view .LVU1843
1284:ThirdPackage/lwip220/api/sockets.c ****   done_socket(sock);
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 202


 5911              		.loc 1 1284 3 view .LVU1844
1285:ThirdPackage/lwip220/api/sockets.c ****   return ret;
 5912              		.loc 1 1285 20 view .LVU1845
1286:ThirdPackage/lwip220/api/sockets.c **** }
 5913              		.loc 1 1286 3 view .LVU1846
 5914              	.LVL645:
 5915              	.L473:
1287:ThirdPackage/lwip220/api/sockets.c **** 
 5916              		.loc 1 1287 1 is_stmt 0 view .LVU1847
 5917 00b8 2046     		mov	r0, r4
 5918 00ba 0DB0     		add	sp, sp, #52
 5919              	.LCFI68:
 5920              		.cfi_remember_state
 5921              		.cfi_def_cfa_offset 28
 5922              		@ sp needed
 5923 00bc BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 5924              	.LVL646:
 5925              	.L481:
 5926              	.LCFI69:
 5927              		.cfi_restore_state
1246:ThirdPackage/lwip220/api/sockets.c ****   }
 5928              		.loc 1 1246 12 view .LVU1848
 5929 00c0 4FF0FF34 		mov	r4, #-1
 5930              	.LVL647:
1246:ThirdPackage/lwip220/api/sockets.c ****   }
 5931              		.loc 1 1246 12 view .LVU1849
 5932 00c4 F8E7     		b	.L473
 5933              	.L489:
 5934 00c6 00BF     		.align	2
 5935              	.L488:
 5936 00c8 00000000 		.word	.LC22
 5937 00cc 00000000 		.word	errno
 5938              		.cfi_endproc
 5939              	.LFE181:
 5941              		.section	.text.lwip_read,"ax",%progbits
 5942              		.align	1
 5943              		.global	lwip_read
 5944              		.syntax unified
 5945              		.thumb
 5946              		.thumb_func
 5948              	lwip_read:
 5949              	.LVL648:
 5950              	.LFB182:
1291:ThirdPackage/lwip220/api/sockets.c ****   return lwip_recvfrom(s, mem, len, 0, NULL, NULL);
 5951              		.loc 1 1291 1 is_stmt 1 view -0
 5952              		.cfi_startproc
 5953              		@ args = 0, pretend = 0, frame = 0
 5954              		@ frame_needed = 0, uses_anonymous_args = 0
1291:ThirdPackage/lwip220/api/sockets.c ****   return lwip_recvfrom(s, mem, len, 0, NULL, NULL);
 5955              		.loc 1 1291 1 is_stmt 0 view .LVU1851
 5956 0000 00B5     		push	{lr}
 5957              	.LCFI70:
 5958              		.cfi_def_cfa_offset 4
 5959              		.cfi_offset 14, -4
 5960 0002 83B0     		sub	sp, sp, #12
 5961              	.LCFI71:
 5962              		.cfi_def_cfa_offset 16
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 203


1292:ThirdPackage/lwip220/api/sockets.c **** }
 5963              		.loc 1 1292 3 is_stmt 1 view .LVU1852
1292:ThirdPackage/lwip220/api/sockets.c **** }
 5964              		.loc 1 1292 10 is_stmt 0 view .LVU1853
 5965 0004 0023     		movs	r3, #0
 5966 0006 0193     		str	r3, [sp, #4]
 5967 0008 0093     		str	r3, [sp]
 5968 000a FFF7FEFF 		bl	lwip_recvfrom
 5969              	.LVL649:
1293:ThirdPackage/lwip220/api/sockets.c **** 
 5970              		.loc 1 1293 1 view .LVU1854
 5971 000e 03B0     		add	sp, sp, #12
 5972              	.LCFI72:
 5973              		.cfi_def_cfa_offset 4
 5974              		@ sp needed
 5975 0010 5DF804FB 		ldr	pc, [sp], #4
 5976              		.cfi_endproc
 5977              	.LFE182:
 5979              		.section	.text.lwip_recv,"ax",%progbits
 5980              		.align	1
 5981              		.global	lwip_recv
 5982              		.syntax unified
 5983              		.thumb
 5984              		.thumb_func
 5986              	lwip_recv:
 5987              	.LVL650:
 5988              	.LFB184:
1314:ThirdPackage/lwip220/api/sockets.c ****   return lwip_recvfrom(s, mem, len, flags, NULL, NULL);
 5989              		.loc 1 1314 1 is_stmt 1 view -0
 5990              		.cfi_startproc
 5991              		@ args = 0, pretend = 0, frame = 0
 5992              		@ frame_needed = 0, uses_anonymous_args = 0
1314:ThirdPackage/lwip220/api/sockets.c ****   return lwip_recvfrom(s, mem, len, flags, NULL, NULL);
 5993              		.loc 1 1314 1 is_stmt 0 view .LVU1856
 5994 0000 10B5     		push	{r4, lr}
 5995              	.LCFI73:
 5996              		.cfi_def_cfa_offset 8
 5997              		.cfi_offset 4, -8
 5998              		.cfi_offset 14, -4
 5999 0002 82B0     		sub	sp, sp, #8
 6000              	.LCFI74:
 6001              		.cfi_def_cfa_offset 16
1315:ThirdPackage/lwip220/api/sockets.c **** }
 6002              		.loc 1 1315 3 is_stmt 1 view .LVU1857
1315:ThirdPackage/lwip220/api/sockets.c **** }
 6003              		.loc 1 1315 10 is_stmt 0 view .LVU1858
 6004 0004 0024     		movs	r4, #0
 6005 0006 0194     		str	r4, [sp, #4]
 6006 0008 0094     		str	r4, [sp]
 6007 000a FFF7FEFF 		bl	lwip_recvfrom
 6008              	.LVL651:
1316:ThirdPackage/lwip220/api/sockets.c **** 
 6009              		.loc 1 1316 1 view .LVU1859
 6010 000e 02B0     		add	sp, sp, #8
 6011              	.LCFI75:
 6012              		.cfi_def_cfa_offset 8
 6013              		@ sp needed
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 204


 6014 0010 10BD     		pop	{r4, pc}
 6015              		.cfi_endproc
 6016              	.LFE184:
 6018              		.section	.text.lwip_recvmsg,"ax",%progbits
 6019              		.align	1
 6020              		.global	lwip_recvmsg
 6021              		.syntax unified
 6022              		.thumb
 6023              		.thumb_func
 6025              	lwip_recvmsg:
 6026              	.LVL652:
 6027              	.LFB185:
1320:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock;
 6028              		.loc 1 1320 1 is_stmt 1 view -0
 6029              		.cfi_startproc
 6030              		@ args = 0, pretend = 0, frame = 8
 6031              		@ frame_needed = 0, uses_anonymous_args = 0
1321:ThirdPackage/lwip220/api/sockets.c ****   msg_iovlen_t i;
 6032              		.loc 1 1321 3 view .LVU1861
1322:ThirdPackage/lwip220/api/sockets.c ****   ssize_t buflen;
 6033              		.loc 1 1322 3 view .LVU1862
1323:ThirdPackage/lwip220/api/sockets.c **** 
 6034              		.loc 1 1323 3 view .LVU1863
1325:ThirdPackage/lwip220/api/sockets.c ****   LWIP_ERROR("lwip_recvmsg: invalid message pointer", message != NULL, return ERR_ARG;);
 6035              		.loc 1 1325 104 view .LVU1864
1326:ThirdPackage/lwip220/api/sockets.c ****   LWIP_ERROR("lwip_recvmsg: unsupported flags", (flags & ~(MSG_PEEK|MSG_DONTWAIT)) == 0,
 6036              		.loc 1 1326 3 view .LVU1865
1326:ThirdPackage/lwip220/api/sockets.c ****   LWIP_ERROR("lwip_recvmsg: unsupported flags", (flags & ~(MSG_PEEK|MSG_DONTWAIT)) == 0,
 6037              		.loc 1 1326 3 view .LVU1866
 6038 0000 0029     		cmp	r1, #0
 6039 0002 00F09B80 		beq	.L513
1320:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock;
 6040              		.loc 1 1320 1 is_stmt 0 discriminator 2 view .LVU1867
 6041 0006 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 6042              	.LCFI76:
 6043              		.cfi_def_cfa_offset 32
 6044              		.cfi_offset 4, -32
 6045              		.cfi_offset 5, -28
 6046              		.cfi_offset 6, -24
 6047              		.cfi_offset 7, -20
 6048              		.cfi_offset 8, -16
 6049              		.cfi_offset 9, -12
 6050              		.cfi_offset 10, -8
 6051              		.cfi_offset 14, -4
 6052 000a 84B0     		sub	sp, sp, #16
 6053              	.LCFI77:
 6054              		.cfi_def_cfa_offset 48
 6055 000c 8046     		mov	r8, r0
 6056 000e 1746     		mov	r7, r2
 6057 0010 0D46     		mov	r5, r1
1326:ThirdPackage/lwip220/api/sockets.c ****   LWIP_ERROR("lwip_recvmsg: unsupported flags", (flags & ~(MSG_PEEK|MSG_DONTWAIT)) == 0,
 6058              		.loc 1 1326 3 is_stmt 1 discriminator 2 view .LVU1868
1326:ThirdPackage/lwip220/api/sockets.c ****   LWIP_ERROR("lwip_recvmsg: unsupported flags", (flags & ~(MSG_PEEK|MSG_DONTWAIT)) == 0,
 6059              		.loc 1 1326 3 discriminator 2 view .LVU1869
1327:ThirdPackage/lwip220/api/sockets.c ****              set_errno(EOPNOTSUPP); return -1;);
 6060              		.loc 1 1327 3 discriminator 2 view .LVU1870
1327:ThirdPackage/lwip220/api/sockets.c ****              set_errno(EOPNOTSUPP); return -1;);
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 205


 6061              		.loc 1 1327 3 discriminator 2 view .LVU1871
 6062 0012 32F00906 		bics	r6, r2, #9
 6063 0016 0DD1     		bne	.L519
1327:ThirdPackage/lwip220/api/sockets.c ****              set_errno(EOPNOTSUPP); return -1;);
 6064              		.loc 1 1327 3 discriminator 2 view .LVU1872
1327:ThirdPackage/lwip220/api/sockets.c ****              set_errno(EOPNOTSUPP); return -1;);
 6065              		.loc 1 1327 3 discriminator 2 view .LVU1873
1330:ThirdPackage/lwip220/api/sockets.c ****     set_errno(EMSGSIZE);
 6066              		.loc 1 1330 3 discriminator 2 view .LVU1874
1330:ThirdPackage/lwip220/api/sockets.c ****     set_errno(EMSGSIZE);
 6067              		.loc 1 1330 15 is_stmt 0 discriminator 2 view .LVU1875
 6068 0018 CB68     		ldr	r3, [r1, #12]
1330:ThirdPackage/lwip220/api/sockets.c ****     set_errno(EMSGSIZE);
 6069              		.loc 1 1330 34 discriminator 2 view .LVU1876
 6070 001a 013B     		subs	r3, r3, #1
1330:ThirdPackage/lwip220/api/sockets.c ****     set_errno(EMSGSIZE);
 6071              		.loc 1 1330 6 discriminator 2 view .LVU1877
 6072 001c B3F5806F 		cmp	r3, #1024
 6073 0020 0ED2     		bcs	.L520
1335:ThirdPackage/lwip220/api/sockets.c ****   if (!sock) {
 6074              		.loc 1 1335 3 is_stmt 1 view .LVU1878
1335:ThirdPackage/lwip220/api/sockets.c ****   if (!sock) {
 6075              		.loc 1 1335 10 is_stmt 0 view .LVU1879
 6076 0022 FFF7FEFF 		bl	get_socket
 6077              	.LVL653:
1336:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 6078              		.loc 1 1336 3 is_stmt 1 view .LVU1880
1336:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 6079              		.loc 1 1336 6 is_stmt 0 view .LVU1881
 6080 0026 8146     		mov	r9, r0
 6081 0028 0028     		cmp	r0, #0
 6082 002a 00F08A80 		beq	.L514
1341:ThirdPackage/lwip220/api/sockets.c ****   for (i = 0; i < message->msg_iovlen; i++) {
 6083              		.loc 1 1341 10 view .LVU1882
 6084 002e 3446     		mov	r4, r6
1342:ThirdPackage/lwip220/api/sockets.c ****     if ((message->msg_iov[i].iov_base == NULL) || ((ssize_t)message->msg_iov[i].iov_len <= 0) ||
 6085              		.loc 1 1342 10 view .LVU1883
 6086 0030 3346     		mov	r3, r6
 6087 0032 13E0     		b	.L498
 6088              	.LVL654:
 6089              	.L519:
1327:ThirdPackage/lwip220/api/sockets.c ****              set_errno(EOPNOTSUPP); return -1;);
 6090              		.loc 1 1327 3 is_stmt 1 discriminator 3 view .LVU1884
1327:ThirdPackage/lwip220/api/sockets.c ****              set_errno(EOPNOTSUPP); return -1;);
 6091              		.loc 1 1327 3 discriminator 3 view .LVU1885
1327:ThirdPackage/lwip220/api/sockets.c ****              set_errno(EOPNOTSUPP); return -1;);
 6092              		.loc 1 1327 3 discriminator 3 view .LVU1886
1327:ThirdPackage/lwip220/api/sockets.c ****              set_errno(EOPNOTSUPP); return -1;);
 6093              		.loc 1 1327 3 discriminator 3 view .LVU1887
 6094 0034 444B     		ldr	r3, .L527
 6095 0036 5F22     		movs	r2, #95
 6096              	.LVL655:
1327:ThirdPackage/lwip220/api/sockets.c ****              set_errno(EOPNOTSUPP); return -1;);
 6097              		.loc 1 1327 3 is_stmt 0 discriminator 3 view .LVU1888
 6098 0038 1A60     		str	r2, [r3]
1327:ThirdPackage/lwip220/api/sockets.c ****              set_errno(EOPNOTSUPP); return -1;);
 6099              		.loc 1 1327 3 is_stmt 1 discriminator 3 view .LVU1889
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 206


1327:ThirdPackage/lwip220/api/sockets.c ****              set_errno(EOPNOTSUPP); return -1;);
 6100              		.loc 1 1327 3 discriminator 3 view .LVU1890
 6101 003a 4FF0FF30 		mov	r0, #-1
 6102              	.LVL656:
1327:ThirdPackage/lwip220/api/sockets.c ****              set_errno(EOPNOTSUPP); return -1;);
 6103              		.loc 1 1327 3 is_stmt 0 discriminator 3 view .LVU1891
 6104 003e 24E0     		b	.L494
 6105              	.LVL657:
 6106              	.L520:
1331:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 6107              		.loc 1 1331 5 is_stmt 1 discriminator 1 view .LVU1892
1331:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 6108              		.loc 1 1331 5 discriminator 1 view .LVU1893
1331:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 6109              		.loc 1 1331 5 discriminator 1 view .LVU1894
 6110 0040 414B     		ldr	r3, .L527
 6111 0042 5A22     		movs	r2, #90
 6112              	.LVL658:
1331:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 6113              		.loc 1 1331 5 is_stmt 0 discriminator 1 view .LVU1895
 6114 0044 1A60     		str	r2, [r3]
1331:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 6115              		.loc 1 1331 5 is_stmt 1 discriminator 1 view .LVU1896
1332:ThirdPackage/lwip220/api/sockets.c ****   }
 6116              		.loc 1 1332 5 discriminator 1 view .LVU1897
1332:ThirdPackage/lwip220/api/sockets.c ****   }
 6117              		.loc 1 1332 12 is_stmt 0 discriminator 1 view .LVU1898
 6118 0046 4FF0FF30 		mov	r0, #-1
 6119              	.LVL659:
1332:ThirdPackage/lwip220/api/sockets.c ****   }
 6120              		.loc 1 1332 12 discriminator 1 view .LVU1899
 6121 004a 1EE0     		b	.L494
 6122              	.LVL660:
 6123              	.L522:
1346:ThirdPackage/lwip220/api/sockets.c ****       done_socket(sock);
 6124              		.loc 1 1346 7 is_stmt 1 discriminator 1 view .LVU1900
 6125 004c 6FF00500 		mvn	r0, #5
 6126 0050 FFF7FEFF 		bl	err_to_errno
 6127              	.LVL661:
 6128 0054 3C4B     		ldr	r3, .L527
 6129 0056 1860     		str	r0, [r3]
 6130 0058 15E0     		b	.L501
 6131              	.LVL662:
 6132              	.L500:
1350:ThirdPackage/lwip220/api/sockets.c ****   }
 6133              		.loc 1 1350 5 discriminator 2 view .LVU1901
1342:ThirdPackage/lwip220/api/sockets.c ****     if ((message->msg_iov[i].iov_base == NULL) || ((ssize_t)message->msg_iov[i].iov_len <= 0) ||
 6134              		.loc 1 1342 40 discriminator 2 view .LVU1902
1342:ThirdPackage/lwip220/api/sockets.c ****     if ((message->msg_iov[i].iov_base == NULL) || ((ssize_t)message->msg_iov[i].iov_len <= 0) ||
 6135              		.loc 1 1342 41 is_stmt 0 discriminator 2 view .LVU1903
 6136 005a 0133     		adds	r3, r3, #1
 6137              	.LVL663:
 6138              	.L498:
1342:ThirdPackage/lwip220/api/sockets.c ****     if ((message->msg_iov[i].iov_base == NULL) || ((ssize_t)message->msg_iov[i].iov_len <= 0) ||
 6139              		.loc 1 1342 15 is_stmt 1 discriminator 1 view .LVU1904
1342:ThirdPackage/lwip220/api/sockets.c ****     if ((message->msg_iov[i].iov_base == NULL) || ((ssize_t)message->msg_iov[i].iov_len <= 0) ||
 6140              		.loc 1 1342 26 is_stmt 0 discriminator 1 view .LVU1905
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 207


 6141 005c EA68     		ldr	r2, [r5, #12]
1342:ThirdPackage/lwip220/api/sockets.c ****     if ((message->msg_iov[i].iov_base == NULL) || ((ssize_t)message->msg_iov[i].iov_len <= 0) ||
 6142              		.loc 1 1342 3 discriminator 1 view .LVU1906
 6143 005e 9A42     		cmp	r2, r3
 6144 0060 16DD     		ble	.L521
1343:ThirdPackage/lwip220/api/sockets.c ****         ((size_t)(ssize_t)message->msg_iov[i].iov_len != message->msg_iov[i].iov_len) ||
 6145              		.loc 1 1343 5 is_stmt 1 view .LVU1907
1343:ThirdPackage/lwip220/api/sockets.c ****         ((size_t)(ssize_t)message->msg_iov[i].iov_len != message->msg_iov[i].iov_len) ||
 6146              		.loc 1 1343 17 is_stmt 0 view .LVU1908
 6147 0062 A968     		ldr	r1, [r5, #8]
1343:ThirdPackage/lwip220/api/sockets.c ****         ((size_t)(ssize_t)message->msg_iov[i].iov_len != message->msg_iov[i].iov_len) ||
 6148              		.loc 1 1343 26 view .LVU1909
 6149 0064 01EBC300 		add	r0, r1, r3, lsl #3
1343:ThirdPackage/lwip220/api/sockets.c ****         ((size_t)(ssize_t)message->msg_iov[i].iov_len != message->msg_iov[i].iov_len) ||
 6150              		.loc 1 1343 29 view .LVU1910
 6151 0068 51F83320 		ldr	r2, [r1, r3, lsl #3]
1343:ThirdPackage/lwip220/api/sockets.c ****         ((size_t)(ssize_t)message->msg_iov[i].iov_len != message->msg_iov[i].iov_len) ||
 6152              		.loc 1 1343 8 view .LVU1911
 6153 006c 2AB1     		cbz	r2, .L499
1343:ThirdPackage/lwip220/api/sockets.c ****         ((size_t)(ssize_t)message->msg_iov[i].iov_len != message->msg_iov[i].iov_len) ||
 6154              		.loc 1 1343 80 discriminator 1 view .LVU1912
 6155 006e 4268     		ldr	r2, [r0, #4]
1343:ThirdPackage/lwip220/api/sockets.c ****         ((size_t)(ssize_t)message->msg_iov[i].iov_len != message->msg_iov[i].iov_len) ||
 6156              		.loc 1 1343 95 discriminator 1 view .LVU1913
 6157 0070 002A     		cmp	r2, #0
 6158 0072 02DD     		ble	.L499
1345:ThirdPackage/lwip220/api/sockets.c ****       set_errno(err_to_errno(ERR_VAL));
 6159              		.loc 1 1345 10 view .LVU1914
 6160 0074 1444     		add	r4, r4, r2
 6161              	.LVL664:
1344:ThirdPackage/lwip220/api/sockets.c ****         ((ssize_t)(buflen + (ssize_t)message->msg_iov[i].iov_len) <= 0)) {
 6162              		.loc 1 1344 87 view .LVU1915
 6163 0076 002C     		cmp	r4, #0
 6164 0078 EFDC     		bgt	.L500
 6165              	.L499:
1346:ThirdPackage/lwip220/api/sockets.c ****       done_socket(sock);
 6166              		.loc 1 1346 7 is_stmt 1 view .LVU1916
1346:ThirdPackage/lwip220/api/sockets.c ****       done_socket(sock);
 6167              		.loc 1 1346 7 view .LVU1917
 6168 007a 6FF00500 		mvn	r0, #5
 6169 007e FFF7FEFF 		bl	err_to_errno
 6170              	.LVL665:
1346:ThirdPackage/lwip220/api/sockets.c ****       done_socket(sock);
 6171              		.loc 1 1346 7 is_stmt 0 view .LVU1918
 6172 0082 0028     		cmp	r0, #0
 6173 0084 E2D1     		bne	.L522
 6174              	.L501:
1346:ThirdPackage/lwip220/api/sockets.c ****       done_socket(sock);
 6175              		.loc 1 1346 7 is_stmt 1 discriminator 3 view .LVU1919
1347:ThirdPackage/lwip220/api/sockets.c ****       return -1;
 6176              		.loc 1 1347 24 discriminator 3 view .LVU1920
1348:ThirdPackage/lwip220/api/sockets.c ****     }
 6177              		.loc 1 1348 7 discriminator 3 view .LVU1921
1348:ThirdPackage/lwip220/api/sockets.c ****     }
 6178              		.loc 1 1348 14 is_stmt 0 discriminator 3 view .LVU1922
 6179 0086 4FF0FF30 		mov	r0, #-1
 6180              	.LVL666:
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 208


 6181              	.L494:
1417:ThirdPackage/lwip220/api/sockets.c **** 
 6182              		.loc 1 1417 1 view .LVU1923
 6183 008a 04B0     		add	sp, sp, #16
 6184              	.LCFI78:
 6185              		.cfi_remember_state
 6186              		.cfi_def_cfa_offset 32
 6187              		@ sp needed
 6188 008c BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 6189              	.LVL667:
 6190              	.L521:
 6191              	.LCFI79:
 6192              		.cfi_restore_state
1353:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_TCP
 6193              		.loc 1 1353 3 is_stmt 1 view .LVU1924
1353:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_TCP
 6194              		.loc 1 1353 7 is_stmt 0 view .LVU1925
 6195 0090 D9F80030 		ldr	r3, [r9]
 6196              	.LVL668:
1353:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_TCP
 6197              		.loc 1 1353 7 view .LVU1926
 6198 0094 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
1353:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_TCP
 6199              		.loc 1 1353 6 view .LVU1927
 6200 0096 03F0F003 		and	r3, r3, #240
 6201 009a 102B     		cmp	r3, #16
 6202 009c 16D0     		beq	.L523
 6203              	.LBB36:
1394:ThirdPackage/lwip220/api/sockets.c ****     err_t err;
 6204              		.loc 1 1394 5 is_stmt 1 view .LVU1928
1394:ThirdPackage/lwip220/api/sockets.c ****     err_t err;
 6205              		.loc 1 1394 11 is_stmt 0 view .LVU1929
 6206 009e 0023     		movs	r3, #0
 6207 00a0 ADF80E30 		strh	r3, [sp, #14]	@ movhi
1395:ThirdPackage/lwip220/api/sockets.c ****     err = lwip_recvfrom_udp_raw(sock, flags, message, &datagram_len, s);
 6208              		.loc 1 1395 5 is_stmt 1 view .LVU1930
1396:ThirdPackage/lwip220/api/sockets.c ****     if (err != ERR_OK) {
 6209              		.loc 1 1396 5 view .LVU1931
1396:ThirdPackage/lwip220/api/sockets.c ****     if (err != ERR_OK) {
 6210              		.loc 1 1396 11 is_stmt 0 view .LVU1932
 6211 00a4 CDF80080 		str	r8, [sp]
 6212 00a8 0DF10E03 		add	r3, sp, #14
 6213 00ac 2A46     		mov	r2, r5
 6214 00ae 3946     		mov	r1, r7
 6215 00b0 4846     		mov	r0, r9
 6216 00b2 FFF7FEFF 		bl	lwip_recvfrom_udp_raw
 6217              	.LVL669:
1397:ThirdPackage/lwip220/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvmsg[UDP/RAW](%d): buf == NULL, error is \"%s\"!\n",
 6218              		.loc 1 1397 5 is_stmt 1 view .LVU1933
1397:ThirdPackage/lwip220/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvmsg[UDP/RAW](%d): buf == NULL, error is \"%s\"!\n",
 6219              		.loc 1 1397 8 is_stmt 0 view .LVU1934
 6220 00b6 0646     		mov	r6, r0
 6221 00b8 A0BB     		cbnz	r0, .L524
1404:ThirdPackage/lwip220/api/sockets.c ****       message->msg_flags |= MSG_TRUNC;
 6222              		.loc 1 1404 5 is_stmt 1 view .LVU1935
1404:ThirdPackage/lwip220/api/sockets.c ****       message->msg_flags |= MSG_TRUNC;
 6223              		.loc 1 1404 22 is_stmt 0 view .LVU1936
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 209


 6224 00ba BDF80E00 		ldrh	r0, [sp, #14]
 6225              	.LVL670:
1404:ThirdPackage/lwip220/api/sockets.c ****       message->msg_flags |= MSG_TRUNC;
 6226              		.loc 1 1404 8 view .LVU1937
 6227 00be A042     		cmp	r0, r4
 6228 00c0 E3DD     		ble	.L494
1405:ThirdPackage/lwip220/api/sockets.c ****     }
 6229              		.loc 1 1405 7 is_stmt 1 view .LVU1938
1405:ThirdPackage/lwip220/api/sockets.c ****     }
 6230              		.loc 1 1405 26 is_stmt 0 view .LVU1939
 6231 00c2 AB69     		ldr	r3, [r5, #24]
 6232 00c4 43F00403 		orr	r3, r3, #4
 6233 00c8 AB61     		str	r3, [r5, #24]
 6234 00ca DEE7     		b	.L494
 6235              	.L523:
1405:ThirdPackage/lwip220/api/sockets.c ****     }
 6236              		.loc 1 1405 26 view .LVU1940
 6237              	.LBE36:
 6238              	.LBB37:
1355:ThirdPackage/lwip220/api/sockets.c ****     message->msg_flags = 0;
 6239              		.loc 1 1355 5 is_stmt 1 view .LVU1941
 6240              	.LVL671:
1356:ThirdPackage/lwip220/api/sockets.c ****     /* recv the data */
 6241              		.loc 1 1356 5 view .LVU1942
1356:ThirdPackage/lwip220/api/sockets.c ****     /* recv the data */
 6242              		.loc 1 1356 24 is_stmt 0 view .LVU1943
 6243 00cc 0023     		movs	r3, #0
 6244 00ce AB61     		str	r3, [r5, #24]
1358:ThirdPackage/lwip220/api/sockets.c ****     for (i = 0; i < message->msg_iovlen; i++) {
 6245              		.loc 1 1358 5 is_stmt 1 view .LVU1944
 6246              	.LVL672:
1359:ThirdPackage/lwip220/api/sockets.c ****       /* try to receive into this vector's buffer */
 6247              		.loc 1 1359 5 view .LVU1945
1355:ThirdPackage/lwip220/api/sockets.c ****     message->msg_flags = 0;
 6248              		.loc 1 1355 9 is_stmt 0 view .LVU1946
 6249 00d0 3C46     		mov	r4, r7
1358:ThirdPackage/lwip220/api/sockets.c ****     for (i = 0; i < message->msg_iovlen; i++) {
 6250              		.loc 1 1358 12 view .LVU1947
 6251 00d2 B246     		mov	r10, r6
1359:ThirdPackage/lwip220/api/sockets.c ****       /* try to receive into this vector's buffer */
 6252              		.loc 1 1359 5 view .LVU1948
 6253 00d4 0CE0     		b	.L504
 6254              	.LVL673:
 6255              	.L505:
 6256              	.LBB38:
1366:ThirdPackage/lwip220/api/sockets.c ****           (flags & MSG_PEEK)) {
 6257              		.loc 1 1366 7 is_stmt 1 view .LVU1949
1366:ThirdPackage/lwip220/api/sockets.c ****           (flags & MSG_PEEK)) {
 6258              		.loc 1 1366 10 is_stmt 0 view .LVU1950
 6259 00d6 0028     		cmp	r0, #0
 6260 00d8 1DDB     		blt	.L506
1366:ThirdPackage/lwip220/api/sockets.c ****           (flags & MSG_PEEK)) {
 6261              		.loc 1 1366 59 discriminator 1 view .LVU1951
 6262 00da AB68     		ldr	r3, [r5, #8]
1366:ThirdPackage/lwip220/api/sockets.c ****           (flags & MSG_PEEK)) {
 6263              		.loc 1 1366 68 discriminator 1 view .LVU1952
 6264 00dc 4344     		add	r3, r3, r8
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 210


1366:ThirdPackage/lwip220/api/sockets.c ****           (flags & MSG_PEEK)) {
 6265              		.loc 1 1366 71 discriminator 1 view .LVU1953
 6266 00de 5B68     		ldr	r3, [r3, #4]
1366:ThirdPackage/lwip220/api/sockets.c ****           (flags & MSG_PEEK)) {
 6267              		.loc 1 1366 29 discriminator 1 view .LVU1954
 6268 00e0 8342     		cmp	r3, r0
 6269 00e2 18DC     		bgt	.L506
1366:ThirdPackage/lwip220/api/sockets.c ****           (flags & MSG_PEEK)) {
 6270              		.loc 1 1366 81 discriminator 2 view .LVU1955
 6271 00e4 17F0010F 		tst	r7, #1
 6272 00e8 15D1     		bne	.L506
1376:ThirdPackage/lwip220/api/sockets.c ****     }
 6273              		.loc 1 1376 7 is_stmt 1 discriminator 2 view .LVU1956
1376:ThirdPackage/lwip220/api/sockets.c ****     }
 6274              		.loc 1 1376 18 is_stmt 0 discriminator 2 view .LVU1957
 6275 00ea 44F00804 		orr	r4, r4, #8
 6276              	.LVL674:
1376:ThirdPackage/lwip220/api/sockets.c ****     }
 6277              		.loc 1 1376 18 discriminator 2 view .LVU1958
 6278              	.LBE38:
1359:ThirdPackage/lwip220/api/sockets.c ****       /* try to receive into this vector's buffer */
 6279              		.loc 1 1359 42 is_stmt 1 discriminator 2 view .LVU1959
1359:ThirdPackage/lwip220/api/sockets.c ****       /* try to receive into this vector's buffer */
 6280              		.loc 1 1359 43 is_stmt 0 discriminator 2 view .LVU1960
 6281 00ee 0136     		adds	r6, r6, #1
 6282              	.LVL675:
 6283              	.L504:
1359:ThirdPackage/lwip220/api/sockets.c ****       /* try to receive into this vector's buffer */
 6284              		.loc 1 1359 17 is_stmt 1 discriminator 1 view .LVU1961
1359:ThirdPackage/lwip220/api/sockets.c ****       /* try to receive into this vector's buffer */
 6285              		.loc 1 1359 28 is_stmt 0 discriminator 1 view .LVU1962
 6286 00f0 EB68     		ldr	r3, [r5, #12]
1359:ThirdPackage/lwip220/api/sockets.c ****       /* try to receive into this vector's buffer */
 6287              		.loc 1 1359 5 discriminator 1 view .LVU1963
 6288 00f2 B342     		cmp	r3, r6
 6289 00f4 14DD     		ble	.L525
 6290              	.LBB39:
1361:ThirdPackage/lwip220/api/sockets.c ****       if (recvd_local > 0) {
 6291              		.loc 1 1361 7 is_stmt 1 view .LVU1964
1361:ThirdPackage/lwip220/api/sockets.c ****       if (recvd_local > 0) {
 6292              		.loc 1 1361 56 is_stmt 0 view .LVU1965
 6293 00f6 A968     		ldr	r1, [r5, #8]
1361:ThirdPackage/lwip220/api/sockets.c ****       if (recvd_local > 0) {
 6294              		.loc 1 1361 65 view .LVU1966
 6295 00f8 4FEAC608 		lsl	r8, r6, #3
 6296 00fc 01EBC602 		add	r2, r1, r6, lsl #3
1361:ThirdPackage/lwip220/api/sockets.c ****       if (recvd_local > 0) {
 6297              		.loc 1 1361 29 view .LVU1967
 6298 0100 2346     		mov	r3, r4
 6299 0102 5268     		ldr	r2, [r2, #4]
 6300 0104 51F83610 		ldr	r1, [r1, r6, lsl #3]
 6301 0108 4846     		mov	r0, r9
 6302 010a FFF7FEFF 		bl	lwip_recv_tcp
 6303              	.LVL676:
1362:ThirdPackage/lwip220/api/sockets.c ****         /* sum up received bytes */
 6304              		.loc 1 1362 7 is_stmt 1 view .LVU1968
1362:ThirdPackage/lwip220/api/sockets.c ****         /* sum up received bytes */
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 211


 6305              		.loc 1 1362 10 is_stmt 0 view .LVU1969
 6306 010e 0028     		cmp	r0, #0
1362:ThirdPackage/lwip220/api/sockets.c ****         /* sum up received bytes */
 6307              		.loc 1 1362 10 view .LVU1970
 6308 0110 E1DD     		ble	.L505
1364:ThirdPackage/lwip220/api/sockets.c ****       }
 6309              		.loc 1 1364 9 is_stmt 1 view .LVU1971
1364:ThirdPackage/lwip220/api/sockets.c ****       }
 6310              		.loc 1 1364 16 is_stmt 0 view .LVU1972
 6311 0112 8244     		add	r10, r10, r0
 6312              	.LVL677:
1364:ThirdPackage/lwip220/api/sockets.c ****       }
 6313              		.loc 1 1364 16 view .LVU1973
 6314 0114 DFE7     		b	.L505
 6315              	.L506:
1369:ThirdPackage/lwip220/api/sockets.c ****           /* nothing received at all, propagate the error */
 6316              		.loc 1 1369 9 is_stmt 1 view .LVU1974
1369:ThirdPackage/lwip220/api/sockets.c ****           /* nothing received at all, propagate the error */
 6317              		.loc 1 1369 12 is_stmt 0 view .LVU1975
 6318 0116 BAF1000F 		cmp	r10, #0
 6319 011a B6DD     		ble	.L494
 6320 011c 5046     		mov	r0, r10
 6321              	.LVL678:
1369:ThirdPackage/lwip220/api/sockets.c ****           /* nothing received at all, propagate the error */
 6322              		.loc 1 1369 12 view .LVU1976
 6323 011e B4E7     		b	.L494
 6324              	.L525:
1369:ThirdPackage/lwip220/api/sockets.c ****           /* nothing received at all, propagate the error */
 6325              		.loc 1 1369 12 view .LVU1977
 6326              	.LBE39:
 6327 0120 5046     		mov	r0, r10
 6328              	.LVL679:
1378:ThirdPackage/lwip220/api/sockets.c ****       /* reset socket error since we have received something */
 6329              		.loc 1 1378 5 is_stmt 1 view .LVU1978
1380:ThirdPackage/lwip220/api/sockets.c ****     }
 6330              		.loc 1 1380 7 view .LVU1979
1383:ThirdPackage/lwip220/api/sockets.c ****     return buflen;
 6331              		.loc 1 1383 22 view .LVU1980
1384:ThirdPackage/lwip220/api/sockets.c **** #else /* LWIP_TCP */
 6332              		.loc 1 1384 5 view .LVU1981
1384:ThirdPackage/lwip220/api/sockets.c **** #else /* LWIP_TCP */
 6333              		.loc 1 1384 12 is_stmt 0 view .LVU1982
 6334 0122 B2E7     		b	.L494
 6335              	.LVL680:
 6336              	.L524:
1384:ThirdPackage/lwip220/api/sockets.c **** #else /* LWIP_TCP */
 6337              		.loc 1 1384 12 view .LVU1983
 6338              	.LBE37:
 6339              	.LBB40:
1399:ThirdPackage/lwip220/api/sockets.c ****       set_errno(err_to_errno(err));
 6340              		.loc 1 1399 56 is_stmt 1 view .LVU1984
1400:ThirdPackage/lwip220/api/sockets.c ****       done_socket(sock);
 6341              		.loc 1 1400 7 view .LVU1985
1400:ThirdPackage/lwip220/api/sockets.c ****       done_socket(sock);
 6342              		.loc 1 1400 7 view .LVU1986
 6343 0124 FFF7FEFF 		bl	err_to_errno
 6344              	.LVL681:
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 212


1400:ThirdPackage/lwip220/api/sockets.c ****       done_socket(sock);
 6345              		.loc 1 1400 7 is_stmt 0 view .LVU1987
 6346 0128 10B9     		cbnz	r0, .L526
 6347              	.L511:
1400:ThirdPackage/lwip220/api/sockets.c ****       done_socket(sock);
 6348              		.loc 1 1400 7 is_stmt 1 discriminator 3 view .LVU1988
1401:ThirdPackage/lwip220/api/sockets.c ****       return -1;
 6349              		.loc 1 1401 24 discriminator 3 view .LVU1989
1402:ThirdPackage/lwip220/api/sockets.c ****     }
 6350              		.loc 1 1402 7 discriminator 3 view .LVU1990
1402:ThirdPackage/lwip220/api/sockets.c ****     }
 6351              		.loc 1 1402 14 is_stmt 0 discriminator 3 view .LVU1991
 6352 012a 4FF0FF30 		mov	r0, #-1
 6353 012e ACE7     		b	.L494
 6354              	.L526:
1400:ThirdPackage/lwip220/api/sockets.c ****       done_socket(sock);
 6355              		.loc 1 1400 7 is_stmt 1 discriminator 1 view .LVU1992
 6356 0130 3046     		mov	r0, r6
 6357 0132 FFF7FEFF 		bl	err_to_errno
 6358              	.LVL682:
 6359 0136 044B     		ldr	r3, .L527
 6360 0138 1860     		str	r0, [r3]
 6361 013a F6E7     		b	.L511
 6362              	.LVL683:
 6363              	.L513:
 6364              	.LCFI80:
 6365              		.cfi_def_cfa_offset 0
 6366              		.cfi_restore 4
 6367              		.cfi_restore 5
 6368              		.cfi_restore 6
 6369              		.cfi_restore 7
 6370              		.cfi_restore 8
 6371              		.cfi_restore 9
 6372              		.cfi_restore 10
 6373              		.cfi_restore 14
1400:ThirdPackage/lwip220/api/sockets.c ****       done_socket(sock);
 6374              		.loc 1 1400 7 is_stmt 0 discriminator 1 view .LVU1993
 6375              	.LBE40:
1326:ThirdPackage/lwip220/api/sockets.c ****   LWIP_ERROR("lwip_recvmsg: unsupported flags", (flags & ~(MSG_PEEK|MSG_DONTWAIT)) == 0,
 6376              		.loc 1 1326 3 view .LVU1994
 6377 013c 6FF00F00 		mvn	r0, #15
 6378              	.LVL684:
1417:ThirdPackage/lwip220/api/sockets.c **** 
 6379              		.loc 1 1417 1 view .LVU1995
 6380 0140 7047     		bx	lr
 6381              	.LVL685:
 6382              	.L514:
 6383              	.LCFI81:
 6384              		.cfi_def_cfa_offset 48
 6385              		.cfi_offset 4, -32
 6386              		.cfi_offset 5, -28
 6387              		.cfi_offset 6, -24
 6388              		.cfi_offset 7, -20
 6389              		.cfi_offset 8, -16
 6390              		.cfi_offset 9, -12
 6391              		.cfi_offset 10, -8
 6392              		.cfi_offset 14, -4
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 213


1337:ThirdPackage/lwip220/api/sockets.c ****   }
 6393              		.loc 1 1337 12 view .LVU1996
 6394 0142 4FF0FF30 		mov	r0, #-1
 6395              	.LVL686:
1337:ThirdPackage/lwip220/api/sockets.c ****   }
 6396              		.loc 1 1337 12 view .LVU1997
 6397 0146 A0E7     		b	.L494
 6398              	.L528:
 6399              		.align	2
 6400              	.L527:
 6401 0148 00000000 		.word	errno
 6402              		.cfi_endproc
 6403              	.LFE185:
 6405              		.section	.text.lwip_readv,"ax",%progbits
 6406              		.align	1
 6407              		.global	lwip_readv
 6408              		.syntax unified
 6409              		.thumb
 6410              		.thumb_func
 6412              	lwip_readv:
 6413              	.LVL687:
 6414              	.LFB183:
1297:ThirdPackage/lwip220/api/sockets.c ****   struct msghdr msg;
 6415              		.loc 1 1297 1 is_stmt 1 view -0
 6416              		.cfi_startproc
 6417              		@ args = 0, pretend = 0, frame = 32
 6418              		@ frame_needed = 0, uses_anonymous_args = 0
1297:ThirdPackage/lwip220/api/sockets.c ****   struct msghdr msg;
 6419              		.loc 1 1297 1 is_stmt 0 view .LVU1999
 6420 0000 00B5     		push	{lr}
 6421              	.LCFI82:
 6422              		.cfi_def_cfa_offset 4
 6423              		.cfi_offset 14, -4
 6424 0002 89B0     		sub	sp, sp, #36
 6425              	.LCFI83:
 6426              		.cfi_def_cfa_offset 40
1298:ThirdPackage/lwip220/api/sockets.c **** 
 6427              		.loc 1 1298 3 is_stmt 1 view .LVU2000
1300:ThirdPackage/lwip220/api/sockets.c ****   msg.msg_namelen = 0;
 6428              		.loc 1 1300 3 view .LVU2001
1300:ThirdPackage/lwip220/api/sockets.c ****   msg.msg_namelen = 0;
 6429              		.loc 1 1300 16 is_stmt 0 view .LVU2002
 6430 0004 0023     		movs	r3, #0
 6431 0006 0193     		str	r3, [sp, #4]
1301:ThirdPackage/lwip220/api/sockets.c ****   /* Hack: we have to cast via number to cast from 'const' pointer to non-const.
 6432              		.loc 1 1301 3 is_stmt 1 view .LVU2003
1301:ThirdPackage/lwip220/api/sockets.c ****   /* Hack: we have to cast via number to cast from 'const' pointer to non-const.
 6433              		.loc 1 1301 19 is_stmt 0 view .LVU2004
 6434 0008 0293     		str	r3, [sp, #8]
1304:ThirdPackage/lwip220/api/sockets.c ****   msg.msg_iovlen = iovcnt;
 6435              		.loc 1 1304 3 is_stmt 1 view .LVU2005
1304:ThirdPackage/lwip220/api/sockets.c ****   msg.msg_iovlen = iovcnt;
 6436              		.loc 1 1304 15 is_stmt 0 view .LVU2006
 6437 000a 0391     		str	r1, [sp, #12]
1305:ThirdPackage/lwip220/api/sockets.c ****   msg.msg_control = NULL;
 6438              		.loc 1 1305 3 is_stmt 1 view .LVU2007
1305:ThirdPackage/lwip220/api/sockets.c ****   msg.msg_control = NULL;
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 214


 6439              		.loc 1 1305 18 is_stmt 0 view .LVU2008
 6440 000c 0492     		str	r2, [sp, #16]
1306:ThirdPackage/lwip220/api/sockets.c ****   msg.msg_controllen = 0;
 6441              		.loc 1 1306 3 is_stmt 1 view .LVU2009
1306:ThirdPackage/lwip220/api/sockets.c ****   msg.msg_controllen = 0;
 6442              		.loc 1 1306 19 is_stmt 0 view .LVU2010
 6443 000e 0593     		str	r3, [sp, #20]
1307:ThirdPackage/lwip220/api/sockets.c ****   msg.msg_flags = 0;
 6444              		.loc 1 1307 3 is_stmt 1 view .LVU2011
1307:ThirdPackage/lwip220/api/sockets.c ****   msg.msg_flags = 0;
 6445              		.loc 1 1307 22 is_stmt 0 view .LVU2012
 6446 0010 0693     		str	r3, [sp, #24]
1308:ThirdPackage/lwip220/api/sockets.c ****   return lwip_recvmsg(s, &msg, 0);
 6447              		.loc 1 1308 3 is_stmt 1 view .LVU2013
1308:ThirdPackage/lwip220/api/sockets.c ****   return lwip_recvmsg(s, &msg, 0);
 6448              		.loc 1 1308 17 is_stmt 0 view .LVU2014
 6449 0012 0793     		str	r3, [sp, #28]
1309:ThirdPackage/lwip220/api/sockets.c **** }
 6450              		.loc 1 1309 3 is_stmt 1 view .LVU2015
1309:ThirdPackage/lwip220/api/sockets.c **** }
 6451              		.loc 1 1309 10 is_stmt 0 view .LVU2016
 6452 0014 1A46     		mov	r2, r3
 6453              	.LVL688:
1309:ThirdPackage/lwip220/api/sockets.c **** }
 6454              		.loc 1 1309 10 view .LVU2017
 6455 0016 01A9     		add	r1, sp, #4
 6456              	.LVL689:
1309:ThirdPackage/lwip220/api/sockets.c **** }
 6457              		.loc 1 1309 10 view .LVU2018
 6458 0018 FFF7FEFF 		bl	lwip_recvmsg
 6459              	.LVL690:
1310:ThirdPackage/lwip220/api/sockets.c **** 
 6460              		.loc 1 1310 1 view .LVU2019
 6461 001c 09B0     		add	sp, sp, #36
 6462              	.LCFI84:
 6463              		.cfi_def_cfa_offset 4
 6464              		@ sp needed
 6465 001e 5DF804FB 		ldr	pc, [sp], #4
 6466              		.cfi_endproc
 6467              	.LFE183:
 6469              		.section	.text.lwip_sendmsg,"ax",%progbits
 6470              		.align	1
 6471              		.global	lwip_sendmsg
 6472              		.syntax unified
 6473              		.thumb
 6474              		.thumb_func
 6476              	lwip_sendmsg:
 6477              	.LVL691:
 6478              	.LFB187:
1461:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock;
 6479              		.loc 1 1461 1 is_stmt 1 view -0
 6480              		.cfi_startproc
 6481              		@ args = 0, pretend = 0, frame = 24
 6482              		@ frame_needed = 0, uses_anonymous_args = 0
1461:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock;
 6483              		.loc 1 1461 1 is_stmt 0 view .LVU2021
 6484 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 215


 6485              	.LCFI85:
 6486              		.cfi_def_cfa_offset 24
 6487              		.cfi_offset 4, -24
 6488              		.cfi_offset 5, -20
 6489              		.cfi_offset 6, -16
 6490              		.cfi_offset 7, -12
 6491              		.cfi_offset 8, -8
 6492              		.cfi_offset 14, -4
 6493 0004 88B0     		sub	sp, sp, #32
 6494              	.LCFI86:
 6495              		.cfi_def_cfa_offset 56
 6496 0006 0C46     		mov	r4, r1
 6497 0008 1546     		mov	r5, r2
1462:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_TCP
 6498              		.loc 1 1462 3 is_stmt 1 view .LVU2022
1464:ThirdPackage/lwip220/api/sockets.c ****   size_t written;
 6499              		.loc 1 1464 3 view .LVU2023
1465:ThirdPackage/lwip220/api/sockets.c **** #endif
 6500              		.loc 1 1465 3 view .LVU2024
1467:ThirdPackage/lwip220/api/sockets.c **** 
 6501              		.loc 1 1467 3 view .LVU2025
 6502              	.LVL692:
1469:ThirdPackage/lwip220/api/sockets.c ****   if (!sock) {
 6503              		.loc 1 1469 3 view .LVU2026
1469:ThirdPackage/lwip220/api/sockets.c ****   if (!sock) {
 6504              		.loc 1 1469 10 is_stmt 0 view .LVU2027
 6505 000a FFF7FEFF 		bl	get_socket
 6506              	.LVL693:
1470:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 6507              		.loc 1 1470 3 is_stmt 1 view .LVU2028
1470:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 6508              		.loc 1 1470 6 is_stmt 0 view .LVU2029
 6509 000e 0028     		cmp	r0, #0
 6510 0010 00F0E380 		beq	.L558
 6511 0014 8046     		mov	r8, r0
1474:ThirdPackage/lwip220/api/sockets.c ****              set_errno(err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6512              		.loc 1 1474 3 is_stmt 1 view .LVU2030
1474:ThirdPackage/lwip220/api/sockets.c ****              set_errno(err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6513              		.loc 1 1474 3 view .LVU2031
 6514 0016 3CB3     		cbz	r4, .L564
1474:ThirdPackage/lwip220/api/sockets.c ****              set_errno(err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6515              		.loc 1 1474 3 discriminator 2 view .LVU2032
1474:ThirdPackage/lwip220/api/sockets.c ****              set_errno(err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6516              		.loc 1 1474 3 discriminator 2 view .LVU2033
1476:ThirdPackage/lwip220/api/sockets.c ****              set_errno(err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6517              		.loc 1 1476 3 discriminator 2 view .LVU2034
1476:ThirdPackage/lwip220/api/sockets.c ****              set_errno(err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6518              		.loc 1 1476 3 discriminator 2 view .LVU2035
 6519 0018 A168     		ldr	r1, [r4, #8]
 6520 001a 0029     		cmp	r1, #0
 6521 001c 33D0     		beq	.L565
1476:ThirdPackage/lwip220/api/sockets.c ****              set_errno(err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6522              		.loc 1 1476 3 discriminator 2 view .LVU2036
1476:ThirdPackage/lwip220/api/sockets.c ****              set_errno(err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6523              		.loc 1 1476 3 discriminator 2 view .LVU2037
1478:ThirdPackage/lwip220/api/sockets.c ****              set_errno(EMSGSIZE); done_socket(sock); return -1;);
 6524              		.loc 1 1478 3 discriminator 2 view .LVU2038
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 216


1478:ThirdPackage/lwip220/api/sockets.c ****              set_errno(EMSGSIZE); done_socket(sock); return -1;);
 6525              		.loc 1 1478 3 discriminator 2 view .LVU2039
 6526 001e E268     		ldr	r2, [r4, #12]
 6527 0020 531E     		subs	r3, r2, #1
 6528 0022 B3F5806F 		cmp	r3, #1024
 6529 0026 3DD2     		bcs	.L566
1478:ThirdPackage/lwip220/api/sockets.c ****              set_errno(EMSGSIZE); done_socket(sock); return -1;);
 6530              		.loc 1 1478 3 discriminator 2 view .LVU2040
1478:ThirdPackage/lwip220/api/sockets.c ****              set_errno(EMSGSIZE); done_socket(sock); return -1;);
 6531              		.loc 1 1478 3 discriminator 2 view .LVU2041
1480:ThirdPackage/lwip220/api/sockets.c ****              set_errno(EOPNOTSUPP); done_socket(sock); return -1;);
 6532              		.loc 1 1480 3 discriminator 2 view .LVU2042
1480:ThirdPackage/lwip220/api/sockets.c ****              set_errno(EOPNOTSUPP); done_socket(sock); return -1;);
 6533              		.loc 1 1480 3 discriminator 2 view .LVU2043
 6534 0028 35F01807 		bics	r7, r5, #24
 6535 002c 40D1     		bne	.L567
1480:ThirdPackage/lwip220/api/sockets.c ****              set_errno(EOPNOTSUPP); done_socket(sock); return -1;);
 6536              		.loc 1 1480 3 discriminator 2 view .LVU2044
1480:ThirdPackage/lwip220/api/sockets.c ****              set_errno(EOPNOTSUPP); done_socket(sock); return -1;);
 6537              		.loc 1 1480 3 discriminator 2 view .LVU2045
1483:ThirdPackage/lwip220/api/sockets.c ****   LWIP_UNUSED_ARG(msg->msg_controllen);
 6538              		.loc 1 1483 3 discriminator 2 view .LVU2046
1484:ThirdPackage/lwip220/api/sockets.c ****   LWIP_UNUSED_ARG(msg->msg_flags);
 6539              		.loc 1 1484 3 discriminator 2 view .LVU2047
1485:ThirdPackage/lwip220/api/sockets.c **** 
 6540              		.loc 1 1485 3 discriminator 2 view .LVU2048
1487:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_TCP
 6541              		.loc 1 1487 3 discriminator 2 view .LVU2049
1487:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_TCP
 6542              		.loc 1 1487 7 is_stmt 0 discriminator 2 view .LVU2050
 6543 002e 0368     		ldr	r3, [r0]
 6544 0030 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
1487:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_TCP
 6545              		.loc 1 1487 6 discriminator 2 view .LVU2051
 6546 0032 03F0F003 		and	r3, r3, #240
 6547 0036 102B     		cmp	r3, #16
 6548 0038 40D0     		beq	.L568
 6549              	.LBB41:
1508:ThirdPackage/lwip220/api/sockets.c ****     msg_iovlen_t i;
 6550              		.loc 1 1508 5 is_stmt 1 view .LVU2052
1509:ThirdPackage/lwip220/api/sockets.c ****     ssize_t size = 0;
 6551              		.loc 1 1509 5 view .LVU2053
1510:ThirdPackage/lwip220/api/sockets.c **** 
 6552              		.loc 1 1510 5 view .LVU2054
 6553              	.LVL694:
1512:ThirdPackage/lwip220/api/sockets.c ****     LWIP_ERROR("lwip_sendmsg: invalid msghdr name", (((msg->msg_name == NULL) && (msg->msg_namelen 
 6554              		.loc 1 1512 5 view .LVU2055
1513:ThirdPackage/lwip220/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
 6555              		.loc 1 1513 5 view .LVU2056
1513:ThirdPackage/lwip220/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
 6556              		.loc 1 1513 5 view .LVU2057
 6557 003a 2368     		ldr	r3, [r4]
 6558 003c 002B     		cmp	r3, #0
 6559 003e 60D0     		beq	.L569
 6560              	.L543:
1513:ThirdPackage/lwip220/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
 6561              		.loc 1 1513 5 is_stmt 0 discriminator 3 view .LVU2058
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 217


 6562 0040 6368     		ldr	r3, [r4, #4]
 6563 0042 102B     		cmp	r3, #16
 6564 0044 61D1     		bne	.L570
 6565              	.L544:
1513:ThirdPackage/lwip220/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
 6566              		.loc 1 1513 5 is_stmt 1 discriminator 6 view .LVU2059
1513:ThirdPackage/lwip220/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
 6567              		.loc 1 1513 5 discriminator 6 view .LVU2060
1518:ThirdPackage/lwip220/api/sockets.c ****     if (msg->msg_name) {
 6568              		.loc 1 1518 5 discriminator 6 view .LVU2061
 6569 0046 0023     		movs	r3, #0
 6570 0048 0393     		str	r3, [sp, #12]
 6571 004a 0493     		str	r3, [sp, #16]
 6572 004c 0593     		str	r3, [sp, #20]
 6573 004e 0693     		str	r3, [sp, #24]
1519:ThirdPackage/lwip220/api/sockets.c ****       u16_t remote_port;
 6574              		.loc 1 1519 5 discriminator 6 view .LVU2062
1519:ThirdPackage/lwip220/api/sockets.c ****       u16_t remote_port;
 6575              		.loc 1 1519 12 is_stmt 0 discriminator 6 view .LVU2063
 6576 0050 2368     		ldr	r3, [r4]
1519:ThirdPackage/lwip220/api/sockets.c ****       u16_t remote_port;
 6577              		.loc 1 1519 8 discriminator 6 view .LVU2064
 6578 0052 3BB1     		cbz	r3, .L547
 6579              	.LBB42:
1520:ThirdPackage/lwip220/api/sockets.c ****       SOCKADDR_TO_IPADDR_PORT((const struct sockaddr *)msg->msg_name, &chain_buf.addr, remote_port)
 6580              		.loc 1 1520 7 is_stmt 1 view .LVU2065
1521:ThirdPackage/lwip220/api/sockets.c ****       netbuf_fromport(&chain_buf) = remote_port;
 6581              		.loc 1 1521 7 view .LVU2066
1521:ThirdPackage/lwip220/api/sockets.c ****       netbuf_fromport(&chain_buf) = remote_port;
 6582              		.loc 1 1521 7 view .LVU2067
 6583 0054 5B68     		ldr	r3, [r3, #4]
 6584 0056 0593     		str	r3, [sp, #20]
1521:ThirdPackage/lwip220/api/sockets.c ****       netbuf_fromport(&chain_buf) = remote_port;
 6585              		.loc 1 1521 7 view .LVU2068
 6586 0058 2368     		ldr	r3, [r4]
 6587 005a 5888     		ldrh	r0, [r3, #2]
 6588              	.LVL695:
1521:ThirdPackage/lwip220/api/sockets.c ****       netbuf_fromport(&chain_buf) = remote_port;
 6589              		.loc 1 1521 7 is_stmt 0 view .LVU2069
 6590 005c FFF7FEFF 		bl	lwip_htons
 6591              	.LVL696:
1521:ThirdPackage/lwip220/api/sockets.c ****       netbuf_fromport(&chain_buf) = remote_port;
 6592              		.loc 1 1521 7 is_stmt 1 view .LVU2070
1522:ThirdPackage/lwip220/api/sockets.c ****     }
 6593              		.loc 1 1522 7 view .LVU2071
1522:ThirdPackage/lwip220/api/sockets.c ****     }
 6594              		.loc 1 1522 35 is_stmt 0 view .LVU2072
 6595 0060 ADF81800 		strh	r0, [sp, #24]	@ movhi
 6596              	.LVL697:
 6597              	.L547:
1522:ThirdPackage/lwip220/api/sockets.c ****     }
 6598              		.loc 1 1522 35 view .LVU2073
 6599              	.LBE42:
 6600              	.LBE41:
1498:ThirdPackage/lwip220/api/sockets.c **** #else /* LWIP_TCP */
 6601              		.loc 1 1498 46 discriminator 1 view .LVU2074
 6602 0064 3D46     		mov	r5, r7
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 218


 6603              	.LVL698:
1498:ThirdPackage/lwip220/api/sockets.c **** #else /* LWIP_TCP */
 6604              		.loc 1 1498 46 discriminator 1 view .LVU2075
 6605 0066 62E0     		b	.L553
 6606              	.LVL699:
 6607              	.L564:
1474:ThirdPackage/lwip220/api/sockets.c ****              set_errno(err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6608              		.loc 1 1474 3 is_stmt 1 discriminator 1 view .LVU2076
1474:ThirdPackage/lwip220/api/sockets.c ****              set_errno(err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6609              		.loc 1 1474 3 discriminator 1 view .LVU2077
1474:ThirdPackage/lwip220/api/sockets.c ****              set_errno(err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6610              		.loc 1 1474 3 discriminator 1 view .LVU2078
 6611 0068 6FF00F00 		mvn	r0, #15
 6612              	.LVL700:
1474:ThirdPackage/lwip220/api/sockets.c ****              set_errno(err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6613              		.loc 1 1474 3 is_stmt 0 discriminator 1 view .LVU2079
 6614 006c FFF7FEFF 		bl	err_to_errno
 6615              	.LVL701:
 6616 0070 10B9     		cbnz	r0, .L571
 6617              	.L534:
1474:ThirdPackage/lwip220/api/sockets.c ****              set_errno(err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6618              		.loc 1 1474 3 is_stmt 1 discriminator 5 view .LVU2080
1474:ThirdPackage/lwip220/api/sockets.c ****              set_errno(err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6619              		.loc 1 1474 3 discriminator 5 view .LVU2081
1474:ThirdPackage/lwip220/api/sockets.c ****              set_errno(err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6620              		.loc 1 1474 3 discriminator 5 view .LVU2082
 6621 0072 4FF0FF37 		mov	r7, #-1
 6622 0076 8BE0     		b	.L531
 6623              	.L571:
1474:ThirdPackage/lwip220/api/sockets.c ****              set_errno(err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6624              		.loc 1 1474 3 discriminator 3 view .LVU2083
 6625 0078 6FF00F00 		mvn	r0, #15
 6626 007c FFF7FEFF 		bl	err_to_errno
 6627              	.LVL702:
 6628 0080 574B     		ldr	r3, .L580
 6629 0082 1860     		str	r0, [r3]
 6630 0084 F5E7     		b	.L534
 6631              	.LVL703:
 6632              	.L565:
1476:ThirdPackage/lwip220/api/sockets.c ****              set_errno(err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6633              		.loc 1 1476 3 discriminator 1 view .LVU2084
1476:ThirdPackage/lwip220/api/sockets.c ****              set_errno(err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6634              		.loc 1 1476 3 discriminator 1 view .LVU2085
1476:ThirdPackage/lwip220/api/sockets.c ****              set_errno(err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6635              		.loc 1 1476 3 discriminator 1 view .LVU2086
 6636 0086 6FF00F00 		mvn	r0, #15
 6637              	.LVL704:
1476:ThirdPackage/lwip220/api/sockets.c ****              set_errno(err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6638              		.loc 1 1476 3 is_stmt 0 discriminator 1 view .LVU2087
 6639 008a FFF7FEFF 		bl	err_to_errno
 6640              	.LVL705:
 6641 008e 10B9     		cbnz	r0, .L572
 6642              	.L536:
1476:ThirdPackage/lwip220/api/sockets.c ****              set_errno(err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6643              		.loc 1 1476 3 is_stmt 1 discriminator 5 view .LVU2088
1476:ThirdPackage/lwip220/api/sockets.c ****              set_errno(err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6644              		.loc 1 1476 3 discriminator 5 view .LVU2089
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 219


1476:ThirdPackage/lwip220/api/sockets.c ****              set_errno(err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6645              		.loc 1 1476 3 discriminator 5 view .LVU2090
 6646 0090 4FF0FF37 		mov	r7, #-1
 6647 0094 7CE0     		b	.L531
 6648              	.L572:
1476:ThirdPackage/lwip220/api/sockets.c ****              set_errno(err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6649              		.loc 1 1476 3 discriminator 3 view .LVU2091
 6650 0096 6FF00F00 		mvn	r0, #15
 6651 009a FFF7FEFF 		bl	err_to_errno
 6652              	.LVL706:
 6653 009e 504B     		ldr	r3, .L580
 6654 00a0 1860     		str	r0, [r3]
 6655 00a2 F5E7     		b	.L536
 6656              	.LVL707:
 6657              	.L566:
1478:ThirdPackage/lwip220/api/sockets.c ****              set_errno(EMSGSIZE); done_socket(sock); return -1;);
 6658              		.loc 1 1478 3 discriminator 3 view .LVU2092
1478:ThirdPackage/lwip220/api/sockets.c ****              set_errno(EMSGSIZE); done_socket(sock); return -1;);
 6659              		.loc 1 1478 3 discriminator 3 view .LVU2093
1478:ThirdPackage/lwip220/api/sockets.c ****              set_errno(EMSGSIZE); done_socket(sock); return -1;);
 6660              		.loc 1 1478 3 discriminator 3 view .LVU2094
1478:ThirdPackage/lwip220/api/sockets.c ****              set_errno(EMSGSIZE); done_socket(sock); return -1;);
 6661              		.loc 1 1478 3 discriminator 3 view .LVU2095
 6662 00a4 4E4B     		ldr	r3, .L580
 6663 00a6 5A22     		movs	r2, #90
 6664 00a8 1A60     		str	r2, [r3]
1478:ThirdPackage/lwip220/api/sockets.c ****              set_errno(EMSGSIZE); done_socket(sock); return -1;);
 6665              		.loc 1 1478 3 discriminator 3 view .LVU2096
1478:ThirdPackage/lwip220/api/sockets.c ****              set_errno(EMSGSIZE); done_socket(sock); return -1;);
 6666              		.loc 1 1478 3 discriminator 3 view .LVU2097
1478:ThirdPackage/lwip220/api/sockets.c ****              set_errno(EMSGSIZE); done_socket(sock); return -1;);
 6667              		.loc 1 1478 3 discriminator 3 view .LVU2098
 6668 00aa 4FF0FF37 		mov	r7, #-1
 6669 00ae 6FE0     		b	.L531
 6670              	.L567:
1480:ThirdPackage/lwip220/api/sockets.c ****              set_errno(EOPNOTSUPP); done_socket(sock); return -1;);
 6671              		.loc 1 1480 3 discriminator 3 view .LVU2099
1480:ThirdPackage/lwip220/api/sockets.c ****              set_errno(EOPNOTSUPP); done_socket(sock); return -1;);
 6672              		.loc 1 1480 3 discriminator 3 view .LVU2100
1480:ThirdPackage/lwip220/api/sockets.c ****              set_errno(EOPNOTSUPP); done_socket(sock); return -1;);
 6673              		.loc 1 1480 3 discriminator 3 view .LVU2101
1480:ThirdPackage/lwip220/api/sockets.c ****              set_errno(EOPNOTSUPP); done_socket(sock); return -1;);
 6674              		.loc 1 1480 3 discriminator 3 view .LVU2102
 6675 00b0 4B4B     		ldr	r3, .L580
 6676 00b2 5F22     		movs	r2, #95
 6677 00b4 1A60     		str	r2, [r3]
1480:ThirdPackage/lwip220/api/sockets.c ****              set_errno(EOPNOTSUPP); done_socket(sock); return -1;);
 6678              		.loc 1 1480 3 discriminator 3 view .LVU2103
1480:ThirdPackage/lwip220/api/sockets.c ****              set_errno(EOPNOTSUPP); done_socket(sock); return -1;);
 6679              		.loc 1 1480 3 discriminator 3 view .LVU2104
1480:ThirdPackage/lwip220/api/sockets.c ****              set_errno(EOPNOTSUPP); done_socket(sock); return -1;);
 6680              		.loc 1 1480 3 discriminator 3 view .LVU2105
 6681 00b6 4FF0FF37 		mov	r7, #-1
 6682 00ba 69E0     		b	.L531
 6683              	.L568:
1489:ThirdPackage/lwip220/api/sockets.c ****                          ((flags & MSG_MORE)     ? NETCONN_MORE      : 0) |
 6684              		.loc 1 1489 5 view .LVU2106
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 220


1489:ThirdPackage/lwip220/api/sockets.c ****                          ((flags & MSG_MORE)     ? NETCONN_MORE      : 0) |
 6685              		.loc 1 1489 39 is_stmt 0 view .LVU2107
 6686 00bc 15F0100F 		tst	r5, #16
 6687 00c0 14D0     		beq	.L559
 6688 00c2 0323     		movs	r3, #3
 6689              	.L540:
1490:ThirdPackage/lwip220/api/sockets.c ****                          ((flags & MSG_DONTWAIT) ? NETCONN_DONTBLOCK : 0));
 6690              		.loc 1 1490 75 view .LVU2108
 6691 00c4 6D10     		asrs	r5, r5, #1
 6692              	.LVL708:
1490:ThirdPackage/lwip220/api/sockets.c ****                          ((flags & MSG_DONTWAIT) ? NETCONN_DONTBLOCK : 0));
 6693              		.loc 1 1490 75 view .LVU2109
 6694 00c6 05F00405 		and	r5, r5, #4
 6695              	.LVL709:
1493:ThirdPackage/lwip220/api/sockets.c ****     err = netconn_write_vectors_partly(sock->conn, (struct netvector *)msg->msg_iov, (u16_t)msg->ms
 6696              		.loc 1 1493 5 is_stmt 1 view .LVU2110
1493:ThirdPackage/lwip220/api/sockets.c ****     err = netconn_write_vectors_partly(sock->conn, (struct netvector *)msg->msg_iov, (u16_t)msg->ms
 6697              		.loc 1 1493 13 is_stmt 0 view .LVU2111
 6698 00ca 0020     		movs	r0, #0
 6699              	.LVL710:
1493:ThirdPackage/lwip220/api/sockets.c ****     err = netconn_write_vectors_partly(sock->conn, (struct netvector *)msg->msg_iov, (u16_t)msg->ms
 6700              		.loc 1 1493 13 view .LVU2112
 6701 00cc 0790     		str	r0, [sp, #28]
1494:ThirdPackage/lwip220/api/sockets.c ****     set_errno(err_to_errno(err));
 6702              		.loc 1 1494 5 is_stmt 1 view .LVU2113
1494:ThirdPackage/lwip220/api/sockets.c ****     set_errno(err_to_errno(err));
 6703              		.loc 1 1494 11 is_stmt 0 view .LVU2114
 6704 00ce D8F80000 		ldr	r0, [r8]
 6705 00d2 07AC     		add	r4, sp, #28
 6706              	.LVL711:
1494:ThirdPackage/lwip220/api/sockets.c ****     set_errno(err_to_errno(err));
 6707              		.loc 1 1494 11 view .LVU2115
 6708 00d4 0094     		str	r4, [sp]
 6709 00d6 2B43     		orrs	r3, r3, r5
 6710              	.LVL712:
1494:ThirdPackage/lwip220/api/sockets.c ****     set_errno(err_to_errno(err));
 6711              		.loc 1 1494 11 view .LVU2116
 6712 00d8 92B2     		uxth	r2, r2
 6713 00da FFF7FEFF 		bl	netconn_write_vectors_partly
 6714              	.LVL713:
1494:ThirdPackage/lwip220/api/sockets.c ****     set_errno(err_to_errno(err));
 6715              		.loc 1 1494 11 view .LVU2117
 6716 00de 0446     		mov	r4, r0
 6717              	.LVL714:
1495:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
 6718              		.loc 1 1495 5 is_stmt 1 view .LVU2118
1495:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
 6719              		.loc 1 1495 5 view .LVU2119
 6720 00e0 FFF7FEFF 		bl	err_to_errno
 6721              	.LVL715:
 6722 00e4 20B9     		cbnz	r0, .L573
 6723              	.L541:
1495:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
 6724              		.loc 1 1495 5 discriminator 3 view .LVU2120
1496:ThirdPackage/lwip220/api/sockets.c ****     /* casting 'written' to ssize_t is OK here since the netconn API limits it to SSIZE_MAX */
 6725              		.loc 1 1496 22 discriminator 3 view .LVU2121
1498:ThirdPackage/lwip220/api/sockets.c **** #else /* LWIP_TCP */
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 221


 6726              		.loc 1 1498 5 discriminator 3 view .LVU2122
1498:ThirdPackage/lwip220/api/sockets.c **** #else /* LWIP_TCP */
 6727              		.loc 1 1498 46 is_stmt 0 discriminator 3 view .LVU2123
 6728 00e6 4CB9     		cbnz	r4, .L560
1498:ThirdPackage/lwip220/api/sockets.c **** #else /* LWIP_TCP */
 6729              		.loc 1 1498 46 discriminator 1 view .LVU2124
 6730 00e8 079F     		ldr	r7, [sp, #28]
 6731 00ea 51E0     		b	.L531
 6732              	.LVL716:
 6733              	.L559:
1489:ThirdPackage/lwip220/api/sockets.c ****                          ((flags & MSG_MORE)     ? NETCONN_MORE      : 0) |
 6734              		.loc 1 1489 39 view .LVU2125
 6735 00ec 0123     		movs	r3, #1
 6736 00ee E9E7     		b	.L540
 6737              	.LVL717:
 6738              	.L573:
1495:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
 6739              		.loc 1 1495 5 is_stmt 1 discriminator 1 view .LVU2126
 6740 00f0 2046     		mov	r0, r4
 6741 00f2 FFF7FEFF 		bl	err_to_errno
 6742              	.LVL718:
 6743 00f6 3A4B     		ldr	r3, .L580
 6744 00f8 1860     		str	r0, [r3]
 6745 00fa F4E7     		b	.L541
 6746              	.L560:
1498:ThirdPackage/lwip220/api/sockets.c **** #else /* LWIP_TCP */
 6747              		.loc 1 1498 46 is_stmt 0 view .LVU2127
 6748 00fc 4FF0FF37 		mov	r7, #-1
 6749 0100 46E0     		b	.L531
 6750              	.LVL719:
 6751              	.L569:
 6752              	.LBB46:
1513:ThirdPackage/lwip220/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
 6753              		.loc 1 1513 5 discriminator 2 view .LVU2128
 6754 0102 6368     		ldr	r3, [r4, #4]
 6755 0104 002B     		cmp	r3, #0
 6756 0106 9ED0     		beq	.L544
 6757 0108 9AE7     		b	.L543
 6758              	.L570:
1513:ThirdPackage/lwip220/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
 6759              		.loc 1 1513 5 is_stmt 1 discriminator 5 view .LVU2129
1513:ThirdPackage/lwip220/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
 6760              		.loc 1 1513 5 discriminator 5 view .LVU2130
1513:ThirdPackage/lwip220/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
 6761              		.loc 1 1513 5 discriminator 5 view .LVU2131
 6762 010a 6FF00F00 		mvn	r0, #15
 6763              	.LVL720:
1513:ThirdPackage/lwip220/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
 6764              		.loc 1 1513 5 is_stmt 0 discriminator 5 view .LVU2132
 6765 010e FFF7FEFF 		bl	err_to_errno
 6766              	.LVL721:
 6767 0112 10B9     		cbnz	r0, .L574
 6768              	.L545:
1513:ThirdPackage/lwip220/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
 6769              		.loc 1 1513 5 is_stmt 1 discriminator 9 view .LVU2133
1513:ThirdPackage/lwip220/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
 6770              		.loc 1 1513 5 discriminator 9 view .LVU2134
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 222


1513:ThirdPackage/lwip220/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
 6771              		.loc 1 1513 5 discriminator 9 view .LVU2135
 6772 0114 4FF0FF37 		mov	r7, #-1
 6773 0118 3AE0     		b	.L531
 6774              	.L574:
1513:ThirdPackage/lwip220/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
 6775              		.loc 1 1513 5 discriminator 7 view .LVU2136
 6776 011a 6FF00F00 		mvn	r0, #15
 6777 011e FFF7FEFF 		bl	err_to_errno
 6778              	.LVL722:
 6779 0122 2F4B     		ldr	r3, .L580
 6780 0124 1860     		str	r0, [r3]
 6781 0126 F5E7     		b	.L545
 6782              	.LVL723:
 6783              	.L576:
 6784              	.LBB43:
1573:ThirdPackage/lwip220/api/sockets.c ****         /* add pbuf to existing pbuf chain */
 6785              		.loc 1 1573 9 view .LVU2137
1573:ThirdPackage/lwip220/api/sockets.c ****         /* add pbuf to existing pbuf chain */
 6786              		.loc 1 1573 37 is_stmt 0 view .LVU2138
 6787 0128 0491     		str	r1, [sp, #16]
1573:ThirdPackage/lwip220/api/sockets.c ****         /* add pbuf to existing pbuf chain */
 6788              		.loc 1 1573 21 view .LVU2139
 6789 012a 0391     		str	r1, [sp, #12]
 6790              	.LVL724:
 6791              	.L551:
1573:ThirdPackage/lwip220/api/sockets.c ****         /* add pbuf to existing pbuf chain */
 6792              		.loc 1 1573 21 view .LVU2140
 6793              	.LBE43:
1558:ThirdPackage/lwip220/api/sockets.c ****       struct pbuf *p;
 6794              		.loc 1 1558 38 is_stmt 1 discriminator 2 view .LVU2141
1558:ThirdPackage/lwip220/api/sockets.c ****       struct pbuf *p;
 6795              		.loc 1 1558 39 is_stmt 0 discriminator 2 view .LVU2142
 6796 012c 0135     		adds	r5, r5, #1
 6797              	.LVL725:
 6798              	.L553:
1558:ThirdPackage/lwip220/api/sockets.c ****       struct pbuf *p;
 6799              		.loc 1 1558 17 is_stmt 1 discriminator 1 view .LVU2143
1558:ThirdPackage/lwip220/api/sockets.c ****       struct pbuf *p;
 6800              		.loc 1 1558 24 is_stmt 0 discriminator 1 view .LVU2144
 6801 012e E368     		ldr	r3, [r4, #12]
1558:ThirdPackage/lwip220/api/sockets.c ****       struct pbuf *p;
 6802              		.loc 1 1558 5 discriminator 1 view .LVU2145
 6803 0130 AB42     		cmp	r3, r5
 6804 0132 31DD     		ble	.L575
 6805              	.LBB44:
1559:ThirdPackage/lwip220/api/sockets.c ****       if (msg->msg_iov[i].iov_len > 0xFFFF) {
 6806              		.loc 1 1559 7 is_stmt 1 view .LVU2146
1560:ThirdPackage/lwip220/api/sockets.c ****         /* overflow */
 6807              		.loc 1 1560 7 view .LVU2147
1560:ThirdPackage/lwip220/api/sockets.c ****         /* overflow */
 6808              		.loc 1 1560 14 is_stmt 0 view .LVU2148
 6809 0134 A368     		ldr	r3, [r4, #8]
1560:ThirdPackage/lwip220/api/sockets.c ****         /* overflow */
 6810              		.loc 1 1560 23 view .LVU2149
 6811 0136 EE00     		lsls	r6, r5, #3
 6812 0138 03EBC503 		add	r3, r3, r5, lsl #3
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 223


1560:ThirdPackage/lwip220/api/sockets.c ****         /* overflow */
 6813              		.loc 1 1560 26 view .LVU2150
 6814 013c 5B68     		ldr	r3, [r3, #4]
1560:ThirdPackage/lwip220/api/sockets.c ****         /* overflow */
 6815              		.loc 1 1560 10 view .LVU2151
 6816 013e B3F5803F 		cmp	r3, #65536
 6817 0142 1DD2     		bcs	.L548
1564:ThirdPackage/lwip220/api/sockets.c ****       if (p == NULL) {
 6818              		.loc 1 1564 7 is_stmt 1 view .LVU2152
1564:ThirdPackage/lwip220/api/sockets.c ****       if (p == NULL) {
 6819              		.loc 1 1564 11 is_stmt 0 view .LVU2153
 6820 0144 4122     		movs	r2, #65
 6821 0146 0021     		movs	r1, #0
 6822 0148 3620     		movs	r0, #54
 6823 014a FFF7FEFF 		bl	pbuf_alloc
 6824              	.LVL726:
1565:ThirdPackage/lwip220/api/sockets.c ****         err = ERR_MEM; /* let netbuf_delete() cleanup chain_buf */
 6825              		.loc 1 1565 7 is_stmt 1 view .LVU2154
1565:ThirdPackage/lwip220/api/sockets.c ****         err = ERR_MEM; /* let netbuf_delete() cleanup chain_buf */
 6826              		.loc 1 1565 10 is_stmt 0 view .LVU2155
 6827 014e 0146     		mov	r1, r0
 6828 0150 0028     		cmp	r0, #0
 6829 0152 32D0     		beq	.L561
1569:ThirdPackage/lwip220/api/sockets.c ****       p->len = p->tot_len = (u16_t)msg->msg_iov[i].iov_len;
 6830              		.loc 1 1569 7 is_stmt 1 view .LVU2156
1569:ThirdPackage/lwip220/api/sockets.c ****       p->len = p->tot_len = (u16_t)msg->msg_iov[i].iov_len;
 6831              		.loc 1 1569 23 is_stmt 0 view .LVU2157
 6832 0154 A368     		ldr	r3, [r4, #8]
1569:ThirdPackage/lwip220/api/sockets.c ****       p->len = p->tot_len = (u16_t)msg->msg_iov[i].iov_len;
 6833              		.loc 1 1569 35 view .LVU2158
 6834 0156 9B59     		ldr	r3, [r3, r6]
1569:ThirdPackage/lwip220/api/sockets.c ****       p->len = p->tot_len = (u16_t)msg->msg_iov[i].iov_len;
 6835              		.loc 1 1569 18 view .LVU2159
 6836 0158 4360     		str	r3, [r0, #4]
1570:ThirdPackage/lwip220/api/sockets.c ****       /* netbuf empty, add new pbuf */
 6837              		.loc 1 1570 7 is_stmt 1 view .LVU2160
1570:ThirdPackage/lwip220/api/sockets.c ****       /* netbuf empty, add new pbuf */
 6838              		.loc 1 1570 39 is_stmt 0 view .LVU2161
 6839 015a A368     		ldr	r3, [r4, #8]
1570:ThirdPackage/lwip220/api/sockets.c ****       /* netbuf empty, add new pbuf */
 6840              		.loc 1 1570 48 view .LVU2162
 6841 015c 3344     		add	r3, r3, r6
1570:ThirdPackage/lwip220/api/sockets.c ****       /* netbuf empty, add new pbuf */
 6842              		.loc 1 1570 29 view .LVU2163
 6843 015e 9B88     		ldrh	r3, [r3, #4]
1570:ThirdPackage/lwip220/api/sockets.c ****       /* netbuf empty, add new pbuf */
 6844              		.loc 1 1570 27 view .LVU2164
 6845 0160 0381     		strh	r3, [r0, #8]	@ movhi
1570:ThirdPackage/lwip220/api/sockets.c ****       /* netbuf empty, add new pbuf */
 6846              		.loc 1 1570 14 view .LVU2165
 6847 0162 4381     		strh	r3, [r0, #10]	@ movhi
1572:ThirdPackage/lwip220/api/sockets.c ****         chain_buf.p = chain_buf.ptr = p;
 6848              		.loc 1 1572 7 is_stmt 1 view .LVU2166
1572:ThirdPackage/lwip220/api/sockets.c ****         chain_buf.p = chain_buf.ptr = p;
 6849              		.loc 1 1572 20 is_stmt 0 view .LVU2167
 6850 0164 0398     		ldr	r0, [sp, #12]
 6851              	.LVL727:
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 224


1572:ThirdPackage/lwip220/api/sockets.c ****         chain_buf.p = chain_buf.ptr = p;
 6852              		.loc 1 1572 10 view .LVU2168
 6853 0166 0028     		cmp	r0, #0
 6854 0168 DED0     		beq	.L576
1576:ThirdPackage/lwip220/api/sockets.c ****           /* overflow */
 6855              		.loc 1 1576 9 is_stmt 1 view .LVU2169
1576:ThirdPackage/lwip220/api/sockets.c ****           /* overflow */
 6856              		.loc 1 1576 24 is_stmt 0 view .LVU2170
 6857 016a 0289     		ldrh	r2, [r0, #8]
1576:ThirdPackage/lwip220/api/sockets.c ****           /* overflow */
 6858              		.loc 1 1576 34 view .LVU2171
 6859 016c 1344     		add	r3, r3, r2
1576:ThirdPackage/lwip220/api/sockets.c ****           /* overflow */
 6860              		.loc 1 1576 12 view .LVU2172
 6861 016e B3F5803F 		cmp	r3, #65536
 6862 0172 02DA     		bge	.L577
1581:ThirdPackage/lwip220/api/sockets.c ****       }
 6863              		.loc 1 1581 9 is_stmt 1 view .LVU2173
 6864 0174 FFF7FEFF 		bl	pbuf_cat
 6865              	.LVL728:
1581:ThirdPackage/lwip220/api/sockets.c ****       }
 6866              		.loc 1 1581 9 is_stmt 0 view .LVU2174
 6867 0178 D8E7     		b	.L551
 6868              	.LVL729:
 6869              	.L577:
1578:ThirdPackage/lwip220/api/sockets.c ****           goto sendmsg_emsgsize;
 6870              		.loc 1 1578 11 is_stmt 1 view .LVU2175
 6871 017a 0846     		mov	r0, r1
 6872 017c FFF7FEFF 		bl	pbuf_free
 6873              	.LVL730:
1579:ThirdPackage/lwip220/api/sockets.c ****         }
 6874              		.loc 1 1579 11 view .LVU2176
 6875              	.L548:
1579:ThirdPackage/lwip220/api/sockets.c ****         }
 6876              		.loc 1 1579 11 is_stmt 0 view .LVU2177
 6877              	.LBE44:
1610:ThirdPackage/lwip220/api/sockets.c ****     netbuf_free(&chain_buf);
 6878              		.loc 1 1610 5 is_stmt 1 discriminator 1 view .LVU2178
1610:ThirdPackage/lwip220/api/sockets.c ****     netbuf_free(&chain_buf);
 6879              		.loc 1 1610 5 discriminator 1 view .LVU2179
1610:ThirdPackage/lwip220/api/sockets.c ****     netbuf_free(&chain_buf);
 6880              		.loc 1 1610 5 discriminator 1 view .LVU2180
 6881 0180 174B     		ldr	r3, .L580
 6882 0182 5A22     		movs	r2, #90
 6883 0184 1A60     		str	r2, [r3]
1610:ThirdPackage/lwip220/api/sockets.c ****     netbuf_free(&chain_buf);
 6884              		.loc 1 1610 5 discriminator 1 view .LVU2181
1611:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
 6885              		.loc 1 1611 5 discriminator 1 view .LVU2182
 6886 0186 03A8     		add	r0, sp, #12
 6887 0188 FFF7FEFF 		bl	netbuf_free
 6888              	.LVL731:
1612:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 6889              		.loc 1 1612 22 discriminator 1 view .LVU2183
1613:ThirdPackage/lwip220/api/sockets.c ****   }
 6890              		.loc 1 1613 5 discriminator 1 view .LVU2184
1613:ThirdPackage/lwip220/api/sockets.c ****   }
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 225


 6891              		.loc 1 1613 12 is_stmt 0 discriminator 1 view .LVU2185
 6892 018c 4FF0FF37 		mov	r7, #-1
 6893              	.LVL732:
 6894              	.L531:
1613:ThirdPackage/lwip220/api/sockets.c ****   }
 6895              		.loc 1 1613 12 discriminator 1 view .LVU2186
 6896              	.LBE46:
1620:ThirdPackage/lwip220/api/sockets.c **** 
 6897              		.loc 1 1620 1 view .LVU2187
 6898 0190 3846     		mov	r0, r7
 6899 0192 08B0     		add	sp, sp, #32
 6900              	.LCFI87:
 6901              		.cfi_remember_state
 6902              		.cfi_def_cfa_offset 24
 6903              		@ sp needed
 6904 0194 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 6905              	.LVL733:
 6906              	.L575:
 6907              	.LCFI88:
 6908              		.cfi_restore_state
1467:ThirdPackage/lwip220/api/sockets.c **** 
 6909              		.loc 1 1467 9 view .LVU2188
 6910 0198 0024     		movs	r4, #0
 6911              	.LVL734:
 6912              	.L549:
 6913              	.LBB47:
1585:ThirdPackage/lwip220/api/sockets.c ****       size = netbuf_len(&chain_buf);
 6914              		.loc 1 1585 5 is_stmt 1 view .LVU2189
1585:ThirdPackage/lwip220/api/sockets.c ****       size = netbuf_len(&chain_buf);
 6915              		.loc 1 1585 8 is_stmt 0 view .LVU2190
 6916 019a 0CB9     		cbnz	r4, .L555
1586:ThirdPackage/lwip220/api/sockets.c ****     }
 6917              		.loc 1 1586 7 is_stmt 1 view .LVU2191
1586:ThirdPackage/lwip220/api/sockets.c ****     }
 6918              		.loc 1 1586 14 is_stmt 0 view .LVU2192
 6919 019c 039B     		ldr	r3, [sp, #12]
 6920 019e 1F89     		ldrh	r7, [r3, #8]
 6921              	.LVL735:
 6922              	.L555:
1590:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_IPV4 && LWIP_IPV6
 6923              		.loc 1 1590 5 is_stmt 1 view .LVU2193
1590:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_IPV4 && LWIP_IPV6
 6924              		.loc 1 1590 8 is_stmt 0 view .LVU2194
 6925 01a0 74B1     		cbz	r4, .L578
 6926              	.L556:
1604:ThirdPackage/lwip220/api/sockets.c **** 
 6927              		.loc 1 1604 5 is_stmt 1 view .LVU2195
 6928 01a2 03A8     		add	r0, sp, #12
 6929 01a4 FFF7FEFF 		bl	netbuf_free
 6930              	.LVL736:
1606:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
 6931              		.loc 1 1606 5 view .LVU2196
1606:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
 6932              		.loc 1 1606 5 view .LVU2197
 6933 01a8 2046     		mov	r0, r4
 6934 01aa FFF7FEFF 		bl	err_to_errno
 6935              	.LVL737:
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 226


 6936 01ae 70B9     		cbnz	r0, .L579
 6937              	.L557:
1606:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
 6938              		.loc 1 1606 5 discriminator 3 view .LVU2198
1607:ThirdPackage/lwip220/api/sockets.c ****     return (err == ERR_OK ? size : -1);
 6939              		.loc 1 1607 22 discriminator 3 view .LVU2199
1608:ThirdPackage/lwip220/api/sockets.c **** sendmsg_emsgsize:
 6940              		.loc 1 1608 5 discriminator 3 view .LVU2200
1608:ThirdPackage/lwip220/api/sockets.c **** sendmsg_emsgsize:
 6941              		.loc 1 1608 34 is_stmt 0 discriminator 3 view .LVU2201
 6942 01b0 002C     		cmp	r4, #0
 6943 01b2 EDD0     		beq	.L531
1608:ThirdPackage/lwip220/api/sockets.c **** sendmsg_emsgsize:
 6944              		.loc 1 1608 34 view .LVU2202
 6945 01b4 4FF0FF37 		mov	r7, #-1
 6946              	.LVL738:
1608:ThirdPackage/lwip220/api/sockets.c **** sendmsg_emsgsize:
 6947              		.loc 1 1608 34 view .LVU2203
 6948 01b8 EAE7     		b	.L531
 6949              	.LVL739:
 6950              	.L561:
 6951              	.LBB45:
1566:ThirdPackage/lwip220/api/sockets.c ****         break;
 6952              		.loc 1 1566 13 view .LVU2204
 6953 01ba 4FF0FF34 		mov	r4, #-1
 6954              	.LVL740:
1566:ThirdPackage/lwip220/api/sockets.c ****         break;
 6955              		.loc 1 1566 13 view .LVU2205
 6956 01be ECE7     		b	.L549
 6957              	.LVL741:
 6958              	.L578:
1566:ThirdPackage/lwip220/api/sockets.c ****         break;
 6959              		.loc 1 1566 13 view .LVU2206
 6960              	.LBE45:
1600:ThirdPackage/lwip220/api/sockets.c ****     }
 6961              		.loc 1 1600 7 is_stmt 1 view .LVU2207
1600:ThirdPackage/lwip220/api/sockets.c ****     }
 6962              		.loc 1 1600 13 is_stmt 0 view .LVU2208
 6963 01c0 03A9     		add	r1, sp, #12
 6964 01c2 D8F80000 		ldr	r0, [r8]
 6965 01c6 FFF7FEFF 		bl	netconn_send
 6966              	.LVL742:
 6967 01ca 0446     		mov	r4, r0
 6968              	.LVL743:
1600:ThirdPackage/lwip220/api/sockets.c ****     }
 6969              		.loc 1 1600 13 view .LVU2209
 6970 01cc E9E7     		b	.L556
 6971              	.L579:
1606:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
 6972              		.loc 1 1606 5 is_stmt 1 discriminator 1 view .LVU2210
 6973 01ce 2046     		mov	r0, r4
 6974 01d0 FFF7FEFF 		bl	err_to_errno
 6975              	.LVL744:
 6976 01d4 024B     		ldr	r3, .L580
 6977 01d6 1860     		str	r0, [r3]
 6978 01d8 EAE7     		b	.L557
 6979              	.LVL745:
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 227


 6980              	.L558:
1606:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
 6981              		.loc 1 1606 5 is_stmt 0 discriminator 1 view .LVU2211
 6982              	.LBE47:
1471:ThirdPackage/lwip220/api/sockets.c ****   }
 6983              		.loc 1 1471 12 view .LVU2212
 6984 01da 4FF0FF37 		mov	r7, #-1
 6985 01de D7E7     		b	.L531
 6986              	.L581:
 6987              		.align	2
 6988              	.L580:
 6989 01e0 00000000 		.word	errno
 6990              		.cfi_endproc
 6991              	.LFE187:
 6993              		.section	.text.lwip_sendto,"ax",%progbits
 6994              		.align	1
 6995              		.global	lwip_sendto
 6996              		.syntax unified
 6997              		.thumb
 6998              		.thumb_func
 7000              	lwip_sendto:
 7001              	.LVL746:
 7002              	.LFB188:
1625:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock;
 7003              		.loc 1 1625 1 is_stmt 1 view -0
 7004              		.cfi_startproc
 7005              		@ args = 8, pretend = 0, frame = 16
 7006              		@ frame_needed = 0, uses_anonymous_args = 0
1625:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock;
 7007              		.loc 1 1625 1 is_stmt 0 view .LVU2214
 7008 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 7009              	.LCFI89:
 7010              		.cfi_def_cfa_offset 28
 7011              		.cfi_offset 4, -28
 7012              		.cfi_offset 5, -24
 7013              		.cfi_offset 6, -20
 7014              		.cfi_offset 7, -16
 7015              		.cfi_offset 8, -12
 7016              		.cfi_offset 9, -8
 7017              		.cfi_offset 14, -4
 7018 0004 85B0     		sub	sp, sp, #20
 7019              	.LCFI90:
 7020              		.cfi_def_cfa_offset 48
 7021 0006 0746     		mov	r7, r0
 7022 0008 0E46     		mov	r6, r1
 7023 000a 1446     		mov	r4, r2
 7024 000c 9846     		mov	r8, r3
 7025 000e 0C9D     		ldr	r5, [sp, #48]
1626:ThirdPackage/lwip220/api/sockets.c ****   err_t err;
 7026              		.loc 1 1626 3 is_stmt 1 view .LVU2215
1627:ThirdPackage/lwip220/api/sockets.c ****   u16_t short_size;
 7027              		.loc 1 1627 3 view .LVU2216
1628:ThirdPackage/lwip220/api/sockets.c ****   u16_t remote_port;
 7028              		.loc 1 1628 3 view .LVU2217
1629:ThirdPackage/lwip220/api/sockets.c ****   struct netbuf buf;
 7029              		.loc 1 1629 3 view .LVU2218
1630:ThirdPackage/lwip220/api/sockets.c **** 
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 228


 7030              		.loc 1 1630 3 view .LVU2219
1632:ThirdPackage/lwip220/api/sockets.c ****   if (!sock) {
 7031              		.loc 1 1632 3 view .LVU2220
1632:ThirdPackage/lwip220/api/sockets.c ****   if (!sock) {
 7032              		.loc 1 1632 10 is_stmt 0 view .LVU2221
 7033 0010 FFF7FEFF 		bl	get_socket
 7034              	.LVL747:
1633:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 7035              		.loc 1 1633 3 is_stmt 1 view .LVU2222
1633:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 7036              		.loc 1 1633 6 is_stmt 0 view .LVU2223
 7037 0014 0028     		cmp	r0, #0
 7038 0016 67D0     		beq	.L594
 7039 0018 8146     		mov	r9, r0
1637:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_TCP
 7040              		.loc 1 1637 3 is_stmt 1 view .LVU2224
1637:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_TCP
 7041              		.loc 1 1637 7 is_stmt 0 view .LVU2225
 7042 001a 0368     		ldr	r3, [r0]
 7043 001c 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
1637:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_TCP
 7044              		.loc 1 1637 6 view .LVU2226
 7045 001e 02F0F002 		and	r2, r2, #240
 7046 0022 102A     		cmp	r2, #16
 7047 0024 30D0     		beq	.L597
1649:ThirdPackage/lwip220/api/sockets.c ****     /* cannot fit into one datagram (at least for us) */
 7048              		.loc 1 1649 3 is_stmt 1 view .LVU2227
1649:ThirdPackage/lwip220/api/sockets.c ****     /* cannot fit into one datagram (at least for us) */
 7049              		.loc 1 1649 6 is_stmt 0 view .LVU2228
 7050 0026 B4F5803F 		cmp	r4, #65536
 7051 002a 34D2     		bcs	.L598
1655:ThirdPackage/lwip220/api/sockets.c ****   LWIP_ERROR("lwip_sendto: invalid address", (((to == NULL) && (tolen == 0)) ||
 7052              		.loc 1 1655 3 is_stmt 1 view .LVU2229
1655:ThirdPackage/lwip220/api/sockets.c ****   LWIP_ERROR("lwip_sendto: invalid address", (((to == NULL) && (tolen == 0)) ||
 7053              		.loc 1 1655 14 is_stmt 0 view .LVU2230
 7054 002c A7B2     		uxth	r7, r4
 7055              	.LVL748:
1656:ThirdPackage/lwip220/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7056              		.loc 1 1656 3 is_stmt 1 view .LVU2231
1656:ThirdPackage/lwip220/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7057              		.loc 1 1656 3 view .LVU2232
 7058 002e 002D     		cmp	r5, #0
 7059 0030 37D0     		beq	.L599
 7060              	.L586:
1656:ThirdPackage/lwip220/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7061              		.loc 1 1656 3 is_stmt 0 discriminator 3 view .LVU2233
 7062 0032 0D9B     		ldr	r3, [sp, #52]
 7063 0034 102B     		cmp	r3, #16
 7064 0036 38D1     		bne	.L588
1656:ThirdPackage/lwip220/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7065              		.loc 1 1656 3 discriminator 6 view .LVU2234
 7066 0038 002D     		cmp	r5, #0
 7067 003a 36D0     		beq	.L588
1656:ThirdPackage/lwip220/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7068              		.loc 1 1656 3 discriminator 8 view .LVU2235
 7069 003c 6B78     		ldrb	r3, [r5, #1]	@ zero_extendqisi2
 7070 003e 022B     		cmp	r3, #2
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 229


 7071 0040 33D1     		bne	.L588
1656:ThirdPackage/lwip220/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7072              		.loc 1 1656 3 discriminator 10 view .LVU2236
 7073 0042 15F0030F 		tst	r5, #3
 7074 0046 30D1     		bne	.L588
 7075              	.L587:
1656:ThirdPackage/lwip220/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7076              		.loc 1 1656 3 is_stmt 1 discriminator 12 view .LVU2237
1656:ThirdPackage/lwip220/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7077              		.loc 1 1656 3 discriminator 12 view .LVU2238
1660:ThirdPackage/lwip220/api/sockets.c **** 
 7078              		.loc 1 1660 3 discriminator 12 view .LVU2239
1663:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_CHECKSUM_ON_COPY
 7079              		.loc 1 1663 3 discriminator 12 view .LVU2240
1663:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_CHECKSUM_ON_COPY
 7080              		.loc 1 1663 19 is_stmt 0 discriminator 12 view .LVU2241
 7081 0048 0023     		movs	r3, #0
 7082 004a 0193     		str	r3, [sp, #4]
1663:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_CHECKSUM_ON_COPY
 7083              		.loc 1 1663 9 discriminator 12 view .LVU2242
 7084 004c 0093     		str	r3, [sp]
1667:ThirdPackage/lwip220/api/sockets.c ****     SOCKADDR_TO_IPADDR_PORT(to, &buf.addr, remote_port);
 7085              		.loc 1 1667 3 is_stmt 1 discriminator 12 view .LVU2243
1667:ThirdPackage/lwip220/api/sockets.c ****     SOCKADDR_TO_IPADDR_PORT(to, &buf.addr, remote_port);
 7086              		.loc 1 1667 6 is_stmt 0 discriminator 12 view .LVU2244
 7087 004e 002D     		cmp	r5, #0
 7088 0050 3AD0     		beq	.L590
1668:ThirdPackage/lwip220/api/sockets.c ****   } else {
 7089              		.loc 1 1668 5 is_stmt 1 view .LVU2245
1668:ThirdPackage/lwip220/api/sockets.c ****   } else {
 7090              		.loc 1 1668 5 view .LVU2246
 7091 0052 6B68     		ldr	r3, [r5, #4]
 7092 0054 0293     		str	r3, [sp, #8]
1668:ThirdPackage/lwip220/api/sockets.c ****   } else {
 7093              		.loc 1 1668 5 view .LVU2247
 7094 0056 6888     		ldrh	r0, [r5, #2]
 7095              	.LVL749:
1668:ThirdPackage/lwip220/api/sockets.c ****   } else {
 7096              		.loc 1 1668 5 is_stmt 0 view .LVU2248
 7097 0058 FFF7FEFF 		bl	lwip_htons
 7098              	.LVL750:
1668:ThirdPackage/lwip220/api/sockets.c ****   } else {
 7099              		.loc 1 1668 5 is_stmt 1 view .LVU2249
 7100              	.L591:
1673:ThirdPackage/lwip220/api/sockets.c **** 
 7101              		.loc 1 1673 3 view .LVU2250
1673:ThirdPackage/lwip220/api/sockets.c **** 
 7102              		.loc 1 1673 25 is_stmt 0 view .LVU2251
 7103 005c ADF80C00 		strh	r0, [sp, #12]	@ movhi
1677:ThirdPackage/lwip220/api/sockets.c ****   ip_addr_debug_print_val(SOCKETS_DEBUG, buf.addr);
 7104              		.loc 1 1677 59 is_stmt 1 view .LVU2252
1678:ThirdPackage/lwip220/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, (" port=%"U16_F"\n", remote_port));
 7105              		.loc 1 1678 51 view .LVU2253
1679:ThirdPackage/lwip220/api/sockets.c **** 
 7106              		.loc 1 1679 64 view .LVU2254
1699:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_NETIF_TX_SINGLE_PBUF */
 7107              		.loc 1 1699 3 view .LVU2255
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 230


1699:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_NETIF_TX_SINGLE_PBUF */
 7108              		.loc 1 1699 9 is_stmt 0 view .LVU2256
 7109 0060 3A46     		mov	r2, r7
 7110 0062 3146     		mov	r1, r6
 7111 0064 6846     		mov	r0, sp
 7112              	.LVL751:
1699:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_NETIF_TX_SINGLE_PBUF */
 7113              		.loc 1 1699 9 view .LVU2257
 7114 0066 FFF7FEFF 		bl	netbuf_ref
 7115              	.LVL752:
1701:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_IPV4 && LWIP_IPV6
 7116              		.loc 1 1701 3 is_stmt 1 view .LVU2258
1701:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_IPV4 && LWIP_IPV6
 7117              		.loc 1 1701 6 is_stmt 0 view .LVU2259
 7118 006a 0546     		mov	r5, r0
 7119 006c 78B3     		cbz	r0, .L600
 7120              	.LVL753:
 7121              	.L592:
1715:ThirdPackage/lwip220/api/sockets.c **** 
 7122              		.loc 1 1715 3 is_stmt 1 view .LVU2260
 7123 006e 6846     		mov	r0, sp
 7124 0070 FFF7FEFF 		bl	netbuf_free
 7125              	.LVL754:
1717:ThirdPackage/lwip220/api/sockets.c ****   done_socket(sock);
 7126              		.loc 1 1717 3 view .LVU2261
1717:ThirdPackage/lwip220/api/sockets.c ****   done_socket(sock);
 7127              		.loc 1 1717 3 view .LVU2262
 7128 0074 2846     		mov	r0, r5
 7129 0076 FFF7FEFF 		bl	err_to_errno
 7130              	.LVL755:
 7131 007a 78BB     		cbnz	r0, .L601
 7132              	.L593:
1717:ThirdPackage/lwip220/api/sockets.c ****   done_socket(sock);
 7133              		.loc 1 1717 3 discriminator 3 view .LVU2263
1718:ThirdPackage/lwip220/api/sockets.c ****   return (err == ERR_OK ? short_size : -1);
 7134              		.loc 1 1718 20 discriminator 3 view .LVU2264
1719:ThirdPackage/lwip220/api/sockets.c **** }
 7135              		.loc 1 1719 3 discriminator 3 view .LVU2265
1719:ThirdPackage/lwip220/api/sockets.c **** }
 7136              		.loc 1 1719 38 is_stmt 0 discriminator 3 view .LVU2266
 7137 007c 002D     		cmp	r5, #0
 7138 007e 36D1     		bne	.L595
1719:ThirdPackage/lwip220/api/sockets.c **** }
 7139              		.loc 1 1719 38 discriminator 1 view .LVU2267
 7140 0080 A0B2     		uxth	r0, r4
 7141              	.LVL756:
 7142              	.L582:
1720:ThirdPackage/lwip220/api/sockets.c **** 
 7143              		.loc 1 1720 1 view .LVU2268
 7144 0082 05B0     		add	sp, sp, #20
 7145              	.LCFI91:
 7146              		.cfi_remember_state
 7147              		.cfi_def_cfa_offset 28
 7148              		@ sp needed
 7149 0084 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 7150              	.LVL757:
 7151              	.L597:
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 231


 7152              	.LCFI92:
 7153              		.cfi_restore_state
1639:ThirdPackage/lwip220/api/sockets.c ****     return lwip_send(s, data, size, flags);
 7154              		.loc 1 1639 22 is_stmt 1 view .LVU2269
1640:ThirdPackage/lwip220/api/sockets.c **** #else /* LWIP_TCP */
 7155              		.loc 1 1640 5 view .LVU2270
1640:ThirdPackage/lwip220/api/sockets.c **** #else /* LWIP_TCP */
 7156              		.loc 1 1640 12 is_stmt 0 view .LVU2271
 7157 0088 4346     		mov	r3, r8
 7158 008a 2246     		mov	r2, r4
 7159 008c 3146     		mov	r1, r6
 7160 008e 3846     		mov	r0, r7
 7161              	.LVL758:
1640:ThirdPackage/lwip220/api/sockets.c **** #else /* LWIP_TCP */
 7162              		.loc 1 1640 12 view .LVU2272
 7163 0090 FFF7FEFF 		bl	lwip_send
 7164              	.LVL759:
 7165 0094 F5E7     		b	.L582
 7166              	.LVL760:
 7167              	.L598:
1651:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
 7168              		.loc 1 1651 5 is_stmt 1 discriminator 1 view .LVU2273
1651:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
 7169              		.loc 1 1651 5 discriminator 1 view .LVU2274
1651:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
 7170              		.loc 1 1651 5 discriminator 1 view .LVU2275
 7171 0096 174B     		ldr	r3, .L603
 7172 0098 5A22     		movs	r2, #90
 7173 009a 1A60     		str	r2, [r3]
1651:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
 7174              		.loc 1 1651 5 discriminator 1 view .LVU2276
1652:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 7175              		.loc 1 1652 22 discriminator 1 view .LVU2277
1653:ThirdPackage/lwip220/api/sockets.c ****   }
 7176              		.loc 1 1653 5 discriminator 1 view .LVU2278
1653:ThirdPackage/lwip220/api/sockets.c ****   }
 7177              		.loc 1 1653 12 is_stmt 0 discriminator 1 view .LVU2279
 7178 009c 4FF0FF30 		mov	r0, #-1
 7179              	.LVL761:
1653:ThirdPackage/lwip220/api/sockets.c ****   }
 7180              		.loc 1 1653 12 discriminator 1 view .LVU2280
 7181 00a0 EFE7     		b	.L582
 7182              	.LVL762:
 7183              	.L599:
1656:ThirdPackage/lwip220/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7184              		.loc 1 1656 3 discriminator 2 view .LVU2281
 7185 00a2 0D9B     		ldr	r3, [sp, #52]
 7186 00a4 002B     		cmp	r3, #0
 7187 00a6 CFD0     		beq	.L587
 7188 00a8 C3E7     		b	.L586
 7189              	.L588:
1656:ThirdPackage/lwip220/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7190              		.loc 1 1656 3 is_stmt 1 discriminator 11 view .LVU2282
1656:ThirdPackage/lwip220/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7191              		.loc 1 1656 3 discriminator 11 view .LVU2283
1656:ThirdPackage/lwip220/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7192              		.loc 1 1656 3 discriminator 11 view .LVU2284
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 232


 7193 00aa 6FF00F00 		mvn	r0, #15
 7194              	.LVL763:
1656:ThirdPackage/lwip220/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7195              		.loc 1 1656 3 is_stmt 0 discriminator 11 view .LVU2285
 7196 00ae FFF7FEFF 		bl	err_to_errno
 7197              	.LVL764:
 7198 00b2 10B9     		cbnz	r0, .L602
 7199              	.L589:
1656:ThirdPackage/lwip220/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7200              		.loc 1 1656 3 is_stmt 1 discriminator 15 view .LVU2286
1656:ThirdPackage/lwip220/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7201              		.loc 1 1656 3 discriminator 15 view .LVU2287
1656:ThirdPackage/lwip220/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7202              		.loc 1 1656 3 discriminator 15 view .LVU2288
 7203 00b4 4FF0FF30 		mov	r0, #-1
 7204 00b8 E3E7     		b	.L582
 7205              	.L602:
1656:ThirdPackage/lwip220/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7206              		.loc 1 1656 3 discriminator 13 view .LVU2289
 7207 00ba 6FF00F00 		mvn	r0, #15
 7208 00be FFF7FEFF 		bl	err_to_errno
 7209              	.LVL765:
 7210 00c2 0C4B     		ldr	r3, .L603
 7211 00c4 1860     		str	r0, [r3]
 7212 00c6 F5E7     		b	.L589
 7213              	.LVL766:
 7214              	.L590:
1670:ThirdPackage/lwip220/api/sockets.c ****     ip_addr_set_any(NETCONNTYPE_ISIPV6(netconn_type(sock->conn)), &buf.addr);
 7215              		.loc 1 1670 5 view .LVU2290
1671:ThirdPackage/lwip220/api/sockets.c ****   }
 7216              		.loc 1 1671 5 view .LVU2291
 7217 00c8 0020     		movs	r0, #0
 7218              	.LVL767:
1671:ThirdPackage/lwip220/api/sockets.c ****   }
 7219              		.loc 1 1671 5 is_stmt 0 view .LVU2292
 7220 00ca 0290     		str	r0, [sp, #8]
 7221 00cc C6E7     		b	.L591
 7222              	.LVL768:
 7223              	.L600:
1711:ThirdPackage/lwip220/api/sockets.c ****   }
 7224              		.loc 1 1711 5 is_stmt 1 view .LVU2293
1711:ThirdPackage/lwip220/api/sockets.c ****   }
 7225              		.loc 1 1711 11 is_stmt 0 view .LVU2294
 7226 00ce 6946     		mov	r1, sp
 7227 00d0 D9F80000 		ldr	r0, [r9]
 7228              	.LVL769:
1711:ThirdPackage/lwip220/api/sockets.c ****   }
 7229              		.loc 1 1711 11 view .LVU2295
 7230 00d4 FFF7FEFF 		bl	netconn_send
 7231              	.LVL770:
 7232 00d8 0546     		mov	r5, r0
 7233              	.LVL771:
1711:ThirdPackage/lwip220/api/sockets.c ****   }
 7234              		.loc 1 1711 11 view .LVU2296
 7235 00da C8E7     		b	.L592
 7236              	.L601:
1717:ThirdPackage/lwip220/api/sockets.c ****   done_socket(sock);
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 233


 7237              		.loc 1 1717 3 is_stmt 1 discriminator 1 view .LVU2297
 7238 00dc 2846     		mov	r0, r5
 7239 00de FFF7FEFF 		bl	err_to_errno
 7240              	.LVL772:
 7241 00e2 044B     		ldr	r3, .L603
 7242 00e4 1860     		str	r0, [r3]
 7243 00e6 C9E7     		b	.L593
 7244              	.LVL773:
 7245              	.L594:
1634:ThirdPackage/lwip220/api/sockets.c ****   }
 7246              		.loc 1 1634 12 is_stmt 0 view .LVU2298
 7247 00e8 4FF0FF30 		mov	r0, #-1
 7248              	.LVL774:
1634:ThirdPackage/lwip220/api/sockets.c ****   }
 7249              		.loc 1 1634 12 view .LVU2299
 7250 00ec C9E7     		b	.L582
 7251              	.LVL775:
 7252              	.L595:
1719:ThirdPackage/lwip220/api/sockets.c **** }
 7253              		.loc 1 1719 38 view .LVU2300
 7254 00ee 4FF0FF30 		mov	r0, #-1
 7255 00f2 C6E7     		b	.L582
 7256              	.L604:
 7257              		.align	2
 7258              	.L603:
 7259 00f4 00000000 		.word	errno
 7260              		.cfi_endproc
 7261              	.LFE188:
 7263              		.section	.text.lwip_send,"ax",%progbits
 7264              		.align	1
 7265              		.global	lwip_send
 7266              		.syntax unified
 7267              		.thumb
 7268              		.thumb_func
 7270              	lwip_send:
 7271              	.LVL776:
 7272              	.LFB186:
1421:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock;
 7273              		.loc 1 1421 1 is_stmt 1 view -0
 7274              		.cfi_startproc
 7275              		@ args = 0, pretend = 0, frame = 8
 7276              		@ frame_needed = 0, uses_anonymous_args = 0
1421:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock;
 7277              		.loc 1 1421 1 is_stmt 0 view .LVU2302
 7278 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 7279              	.LCFI93:
 7280              		.cfi_def_cfa_offset 20
 7281              		.cfi_offset 4, -20
 7282              		.cfi_offset 5, -16
 7283              		.cfi_offset 6, -12
 7284              		.cfi_offset 7, -8
 7285              		.cfi_offset 14, -4
 7286 0002 85B0     		sub	sp, sp, #20
 7287              	.LCFI94:
 7288              		.cfi_def_cfa_offset 40
 7289 0004 0746     		mov	r7, r0
 7290 0006 0D46     		mov	r5, r1
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 234


 7291 0008 1646     		mov	r6, r2
 7292 000a 1C46     		mov	r4, r3
1422:ThirdPackage/lwip220/api/sockets.c ****   err_t err;
 7293              		.loc 1 1422 3 is_stmt 1 view .LVU2303
1423:ThirdPackage/lwip220/api/sockets.c ****   u8_t write_flags;
 7294              		.loc 1 1423 3 view .LVU2304
1424:ThirdPackage/lwip220/api/sockets.c ****   size_t written;
 7295              		.loc 1 1424 3 view .LVU2305
1425:ThirdPackage/lwip220/api/sockets.c **** 
 7296              		.loc 1 1425 3 view .LVU2306
1428:ThirdPackage/lwip220/api/sockets.c **** 
 7297              		.loc 1 1428 53 view .LVU2307
1430:ThirdPackage/lwip220/api/sockets.c ****   if (!sock) {
 7298              		.loc 1 1430 3 view .LVU2308
1430:ThirdPackage/lwip220/api/sockets.c ****   if (!sock) {
 7299              		.loc 1 1430 10 is_stmt 0 view .LVU2309
 7300 000c FFF7FEFF 		bl	get_socket
 7301              	.LVL777:
1431:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 7302              		.loc 1 1431 3 is_stmt 1 view .LVU2310
1431:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 7303              		.loc 1 1431 6 is_stmt 0 view .LVU2311
 7304 0010 88B3     		cbz	r0, .L610
 7305 0012 0246     		mov	r2, r0
1435:ThirdPackage/lwip220/api/sockets.c **** #if (LWIP_UDP || LWIP_RAW)
 7306              		.loc 1 1435 3 is_stmt 1 view .LVU2312
1435:ThirdPackage/lwip220/api/sockets.c **** #if (LWIP_UDP || LWIP_RAW)
 7307              		.loc 1 1435 7 is_stmt 0 view .LVU2313
 7308 0014 0368     		ldr	r3, [r0]
 7309 0016 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
1435:ThirdPackage/lwip220/api/sockets.c **** #if (LWIP_UDP || LWIP_RAW)
 7310              		.loc 1 1435 6 view .LVU2314
 7311 0018 03F0F003 		and	r3, r3, #240
 7312 001c 102B     		cmp	r3, #16
 7313 001e 18D1     		bne	.L614
1446:ThirdPackage/lwip220/api/sockets.c ****                        ((flags & MSG_MORE)     ? NETCONN_MORE      : 0) |
 7314              		.loc 1 1446 3 is_stmt 1 view .LVU2315
1446:ThirdPackage/lwip220/api/sockets.c ****                        ((flags & MSG_MORE)     ? NETCONN_MORE      : 0) |
 7315              		.loc 1 1446 37 is_stmt 0 view .LVU2316
 7316 0020 14F0100F 		tst	r4, #16
 7317 0024 1FD0     		beq	.L611
 7318 0026 0323     		movs	r3, #3
 7319              	.L608:
1447:ThirdPackage/lwip220/api/sockets.c ****                        ((flags & MSG_DONTWAIT) ? NETCONN_DONTBLOCK : 0));
 7320              		.loc 1 1447 73 view .LVU2317
 7321 0028 6410     		asrs	r4, r4, #1
 7322              	.LVL778:
1447:ThirdPackage/lwip220/api/sockets.c ****                        ((flags & MSG_DONTWAIT) ? NETCONN_DONTBLOCK : 0));
 7323              		.loc 1 1447 73 view .LVU2318
 7324 002a 04F00404 		and	r4, r4, #4
 7325              	.LVL779:
1449:ThirdPackage/lwip220/api/sockets.c ****   err = netconn_write_partly(sock->conn, data, size, write_flags, &written);
 7326              		.loc 1 1449 3 is_stmt 1 view .LVU2319
1449:ThirdPackage/lwip220/api/sockets.c ****   err = netconn_write_partly(sock->conn, data, size, write_flags, &written);
 7327              		.loc 1 1449 11 is_stmt 0 view .LVU2320
 7328 002e 0021     		movs	r1, #0
 7329 0030 0391     		str	r1, [sp, #12]
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 235


1450:ThirdPackage/lwip220/api/sockets.c **** 
 7330              		.loc 1 1450 3 is_stmt 1 view .LVU2321
1450:ThirdPackage/lwip220/api/sockets.c **** 
 7331              		.loc 1 1450 9 is_stmt 0 view .LVU2322
 7332 0032 1068     		ldr	r0, [r2]
 7333              	.LVL780:
1450:ThirdPackage/lwip220/api/sockets.c **** 
 7334              		.loc 1 1450 9 view .LVU2323
 7335 0034 03AA     		add	r2, sp, #12
 7336              	.LVL781:
1450:ThirdPackage/lwip220/api/sockets.c **** 
 7337              		.loc 1 1450 9 view .LVU2324
 7338 0036 0092     		str	r2, [sp]
 7339 0038 2343     		orrs	r3, r3, r4
 7340              	.LVL782:
1450:ThirdPackage/lwip220/api/sockets.c **** 
 7341              		.loc 1 1450 9 view .LVU2325
 7342 003a 3246     		mov	r2, r6
 7343 003c 2946     		mov	r1, r5
 7344 003e FFF7FEFF 		bl	netconn_write_partly
 7345              	.LVL783:
1450:ThirdPackage/lwip220/api/sockets.c **** 
 7346              		.loc 1 1450 9 view .LVU2326
 7347 0042 0446     		mov	r4, r0
 7348              	.LVL784:
1452:ThirdPackage/lwip220/api/sockets.c ****   set_errno(err_to_errno(err));
 7349              		.loc 1 1452 91 is_stmt 1 view .LVU2327
1453:ThirdPackage/lwip220/api/sockets.c ****   done_socket(sock);
 7350              		.loc 1 1453 3 view .LVU2328
1453:ThirdPackage/lwip220/api/sockets.c ****   done_socket(sock);
 7351              		.loc 1 1453 3 view .LVU2329
 7352 0044 FFF7FEFF 		bl	err_to_errno
 7353              	.LVL785:
 7354 0048 78B9     		cbnz	r0, .L615
 7355              	.L609:
1453:ThirdPackage/lwip220/api/sockets.c ****   done_socket(sock);
 7356              		.loc 1 1453 3 discriminator 3 view .LVU2330
1454:ThirdPackage/lwip220/api/sockets.c ****   /* casting 'written' to ssize_t is OK here since the netconn API limits it to SSIZE_MAX */
 7357              		.loc 1 1454 20 discriminator 3 view .LVU2331
1456:ThirdPackage/lwip220/api/sockets.c **** }
 7358              		.loc 1 1456 3 discriminator 3 view .LVU2332
1456:ThirdPackage/lwip220/api/sockets.c **** }
 7359              		.loc 1 1456 44 is_stmt 0 discriminator 3 view .LVU2333
 7360 004a BCB9     		cbnz	r4, .L612
1456:ThirdPackage/lwip220/api/sockets.c **** }
 7361              		.loc 1 1456 44 discriminator 1 view .LVU2334
 7362 004c 0398     		ldr	r0, [sp, #12]
 7363              	.LVL786:
 7364              	.L605:
1457:ThirdPackage/lwip220/api/sockets.c **** 
 7365              		.loc 1 1457 1 view .LVU2335
 7366 004e 05B0     		add	sp, sp, #20
 7367              	.LCFI95:
 7368              		.cfi_remember_state
 7369              		.cfi_def_cfa_offset 20
 7370              		@ sp needed
 7371 0050 F0BD     		pop	{r4, r5, r6, r7, pc}
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 236


 7372              	.LVL787:
 7373              	.L614:
 7374              	.LCFI96:
 7375              		.cfi_restore_state
1437:ThirdPackage/lwip220/api/sockets.c ****     return lwip_sendto(s, data, size, flags, NULL, 0);
 7376              		.loc 1 1437 22 is_stmt 1 view .LVU2336
1438:ThirdPackage/lwip220/api/sockets.c **** #else /* (LWIP_UDP || LWIP_RAW) */
 7377              		.loc 1 1438 5 view .LVU2337
1438:ThirdPackage/lwip220/api/sockets.c **** #else /* (LWIP_UDP || LWIP_RAW) */
 7378              		.loc 1 1438 12 is_stmt 0 view .LVU2338
 7379 0052 0023     		movs	r3, #0
 7380 0054 0193     		str	r3, [sp, #4]
 7381 0056 0093     		str	r3, [sp]
 7382 0058 2346     		mov	r3, r4
 7383 005a 3246     		mov	r2, r6
 7384 005c 2946     		mov	r1, r5
 7385 005e 3846     		mov	r0, r7
 7386              	.LVL788:
1438:ThirdPackage/lwip220/api/sockets.c **** #else /* (LWIP_UDP || LWIP_RAW) */
 7387              		.loc 1 1438 12 view .LVU2339
 7388 0060 FFF7FEFF 		bl	lwip_sendto
 7389              	.LVL789:
 7390 0064 F3E7     		b	.L605
 7391              	.LVL790:
 7392              	.L611:
1446:ThirdPackage/lwip220/api/sockets.c ****                        ((flags & MSG_MORE)     ? NETCONN_MORE      : 0) |
 7393              		.loc 1 1446 37 view .LVU2340
 7394 0066 0123     		movs	r3, #1
 7395 0068 DEE7     		b	.L608
 7396              	.LVL791:
 7397              	.L615:
1453:ThirdPackage/lwip220/api/sockets.c ****   done_socket(sock);
 7398              		.loc 1 1453 3 is_stmt 1 discriminator 1 view .LVU2341
 7399 006a 2046     		mov	r0, r4
 7400 006c FFF7FEFF 		bl	err_to_errno
 7401              	.LVL792:
 7402 0070 044B     		ldr	r3, .L616
 7403 0072 1860     		str	r0, [r3]
 7404 0074 E9E7     		b	.L609
 7405              	.LVL793:
 7406              	.L610:
1432:ThirdPackage/lwip220/api/sockets.c ****   }
 7407              		.loc 1 1432 12 is_stmt 0 view .LVU2342
 7408 0076 4FF0FF30 		mov	r0, #-1
 7409              	.LVL794:
1432:ThirdPackage/lwip220/api/sockets.c ****   }
 7410              		.loc 1 1432 12 view .LVU2343
 7411 007a E8E7     		b	.L605
 7412              	.LVL795:
 7413              	.L612:
1456:ThirdPackage/lwip220/api/sockets.c **** }
 7414              		.loc 1 1456 44 view .LVU2344
 7415 007c 4FF0FF30 		mov	r0, #-1
 7416 0080 E5E7     		b	.L605
 7417              	.L617:
 7418 0082 00BF     		.align	2
 7419              	.L616:
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 237


 7420 0084 00000000 		.word	errno
 7421              		.cfi_endproc
 7422              	.LFE186:
 7424              		.section	.text.lwip_socket,"ax",%progbits
 7425              		.align	1
 7426              		.global	lwip_socket
 7427              		.syntax unified
 7428              		.thumb
 7429              		.thumb_func
 7431              	lwip_socket:
 7432              	.LVL796:
 7433              	.LFB189:
1724:ThirdPackage/lwip220/api/sockets.c ****   struct netconn *conn;
 7434              		.loc 1 1724 1 is_stmt 1 view -0
 7435              		.cfi_startproc
 7436              		@ args = 0, pretend = 0, frame = 0
 7437              		@ frame_needed = 0, uses_anonymous_args = 0
1724:ThirdPackage/lwip220/api/sockets.c ****   struct netconn *conn;
 7438              		.loc 1 1724 1 is_stmt 0 view .LVU2346
 7439 0000 38B5     		push	{r3, r4, r5, lr}
 7440              	.LCFI97:
 7441              		.cfi_def_cfa_offset 16
 7442              		.cfi_offset 3, -16
 7443              		.cfi_offset 4, -12
 7444              		.cfi_offset 5, -8
 7445              		.cfi_offset 14, -4
 7446 0002 1346     		mov	r3, r2
1725:ThirdPackage/lwip220/api/sockets.c ****   int i;
 7447              		.loc 1 1725 3 is_stmt 1 view .LVU2347
1726:ThirdPackage/lwip220/api/sockets.c **** 
 7448              		.loc 1 1726 3 view .LVU2348
1728:ThirdPackage/lwip220/api/sockets.c **** 
 7449              		.loc 1 1728 3 view .LVU2349
1731:ThirdPackage/lwip220/api/sockets.c ****     case SOCK_RAW:
 7450              		.loc 1 1731 3 view .LVU2350
 7451 0004 0229     		cmp	r1, #2
 7452 0006 1BD0     		beq	.L619
 7453 0008 0329     		cmp	r1, #3
 7454 000a 07D0     		beq	.L620
 7455 000c 0129     		cmp	r1, #1
 7456 000e 22D0     		beq	.L631
1758:ThirdPackage/lwip220/api/sockets.c ****       set_errno(EINVAL);
 7457              		.loc 1 1758 59 discriminator 1 view .LVU2351
1759:ThirdPackage/lwip220/api/sockets.c ****       return -1;
 7458              		.loc 1 1759 7 discriminator 1 view .LVU2352
1759:ThirdPackage/lwip220/api/sockets.c ****       return -1;
 7459              		.loc 1 1759 7 discriminator 1 view .LVU2353
1759:ThirdPackage/lwip220/api/sockets.c ****       return -1;
 7460              		.loc 1 1759 7 discriminator 1 view .LVU2354
 7461 0010 1B4B     		ldr	r3, .L635
 7462 0012 1622     		movs	r2, #22
 7463              	.LVL797:
1759:ThirdPackage/lwip220/api/sockets.c ****       return -1;
 7464              		.loc 1 1759 7 is_stmt 0 discriminator 1 view .LVU2355
 7465 0014 1A60     		str	r2, [r3]
1759:ThirdPackage/lwip220/api/sockets.c ****       return -1;
 7466              		.loc 1 1759 7 is_stmt 1 discriminator 1 view .LVU2356
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 238


1760:ThirdPackage/lwip220/api/sockets.c ****   }
 7467              		.loc 1 1760 7 discriminator 1 view .LVU2357
1760:ThirdPackage/lwip220/api/sockets.c ****   }
 7468              		.loc 1 1760 14 is_stmt 0 discriminator 1 view .LVU2358
 7469 0016 4FF0FF34 		mov	r4, #-1
 7470 001a 0FE0     		b	.L618
 7471              	.LVL798:
 7472              	.L620:
1733:ThirdPackage/lwip220/api/sockets.c ****              (u8_t)protocol, DEFAULT_SOCKET_EVENTCB);
 7473              		.loc 1 1733 7 is_stmt 1 view .LVU2359
1733:ThirdPackage/lwip220/api/sockets.c ****              (u8_t)protocol, DEFAULT_SOCKET_EVENTCB);
 7474              		.loc 1 1733 14 is_stmt 0 view .LVU2360
 7475 001c 194A     		ldr	r2, .L635+4
 7476              	.LVL799:
1733:ThirdPackage/lwip220/api/sockets.c ****              (u8_t)protocol, DEFAULT_SOCKET_EVENTCB);
 7477              		.loc 1 1733 14 view .LVU2361
 7478 001e D9B2     		uxtb	r1, r3
 7479              	.LVL800:
1733:ThirdPackage/lwip220/api/sockets.c ****              (u8_t)protocol, DEFAULT_SOCKET_EVENTCB);
 7480              		.loc 1 1733 14 view .LVU2362
 7481 0020 4020     		movs	r0, #64
 7482              	.LVL801:
1733:ThirdPackage/lwip220/api/sockets.c ****              (u8_t)protocol, DEFAULT_SOCKET_EVENTCB);
 7483              		.loc 1 1733 14 view .LVU2363
 7484 0022 FFF7FEFF 		bl	netconn_new_with_proto_and_callback
 7485              	.LVL802:
1733:ThirdPackage/lwip220/api/sockets.c ****              (u8_t)protocol, DEFAULT_SOCKET_EVENTCB);
 7486              		.loc 1 1733 14 view .LVU2364
 7487 0026 0546     		mov	r5, r0
 7488              	.LVL803:
1736:ThirdPackage/lwip220/api/sockets.c ****       break;
 7489              		.loc 1 1736 88 is_stmt 1 view .LVU2365
1737:ThirdPackage/lwip220/api/sockets.c ****     case SOCK_DGRAM:
 7490              		.loc 1 1737 7 view .LVU2366
 7491              	.L623:
1763:ThirdPackage/lwip220/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("-1 / ENOBUFS (could not create netconn)\n"));
 7492              		.loc 1 1763 3 view .LVU2367
1763:ThirdPackage/lwip220/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("-1 / ENOBUFS (could not create netconn)\n"));
 7493              		.loc 1 1763 6 is_stmt 0 view .LVU2368
 7494 0028 E5B1     		cbz	r5, .L632
1769:ThirdPackage/lwip220/api/sockets.c **** 
 7495              		.loc 1 1769 3 is_stmt 1 view .LVU2369
1769:ThirdPackage/lwip220/api/sockets.c **** 
 7496              		.loc 1 1769 7 is_stmt 0 view .LVU2370
 7497 002a 0021     		movs	r1, #0
 7498 002c 2846     		mov	r0, r5
1769:ThirdPackage/lwip220/api/sockets.c **** 
 7499              		.loc 1 1769 7 view .LVU2371
 7500 002e FFF7FEFF 		bl	alloc_socket
 7501              	.LVL804:
1769:ThirdPackage/lwip220/api/sockets.c **** 
 7502              		.loc 1 1769 7 view .LVU2372
 7503 0032 0446     		mov	r4, r0
 7504              	.LVL805:
1771:ThirdPackage/lwip220/api/sockets.c ****     netconn_delete(conn);
 7505              		.loc 1 1771 3 is_stmt 1 view .LVU2373
1771:ThirdPackage/lwip220/api/sockets.c ****     netconn_delete(conn);
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 239


 7506              		.loc 1 1771 6 is_stmt 0 view .LVU2374
 7507 0034 B0F1FF3F 		cmp	r0, #-1
 7508 0038 1AD0     		beq	.L633
1776:ThirdPackage/lwip220/api/sockets.c ****   done_socket(&sockets[i - LWIP_SOCKET_OFFSET]);
 7509              		.loc 1 1776 3 is_stmt 1 view .LVU2375
1776:ThirdPackage/lwip220/api/sockets.c ****   done_socket(&sockets[i - LWIP_SOCKET_OFFSET]);
 7510              		.loc 1 1776 29 is_stmt 0 view .LVU2376
 7511 003a A861     		str	r0, [r5, #24]
1777:ThirdPackage/lwip220/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("%d\n", i));
 7512              		.loc 1 1777 48 is_stmt 1 view .LVU2377
1778:ThirdPackage/lwip220/api/sockets.c ****   set_errno(0);
 7513              		.loc 1 1778 42 view .LVU2378
1779:ThirdPackage/lwip220/api/sockets.c ****   return i;
 7514              		.loc 1 1779 3 view .LVU2379
1779:ThirdPackage/lwip220/api/sockets.c ****   return i;
 7515              		.loc 1 1779 3 view .LVU2380
1779:ThirdPackage/lwip220/api/sockets.c ****   return i;
 7516              		.loc 1 1779 3 view .LVU2381
1780:ThirdPackage/lwip220/api/sockets.c **** }
 7517              		.loc 1 1780 3 view .LVU2382
 7518              	.LVL806:
 7519              	.L618:
1781:ThirdPackage/lwip220/api/sockets.c **** 
 7520              		.loc 1 1781 1 is_stmt 0 view .LVU2383
 7521 003c 2046     		mov	r0, r4
 7522 003e 38BD     		pop	{r3, r4, r5, pc}
 7523              	.LVL807:
 7524              	.L619:
1739:ThirdPackage/lwip220/api/sockets.c ****                                        ((protocol == IPPROTO_UDPLITE) ? NETCONN_UDPLITE : NETCONN_U
 7525              		.loc 1 1739 7 is_stmt 1 view .LVU2384
1739:ThirdPackage/lwip220/api/sockets.c ****                                        ((protocol == IPPROTO_UDPLITE) ? NETCONN_UDPLITE : NETCONN_U
 7526              		.loc 1 1739 14 is_stmt 0 view .LVU2385
 7527 0040 882A     		cmp	r2, #136
 7528 0042 06D0     		beq	.L634
 7529 0044 2020     		movs	r0, #32
 7530              	.LVL808:
 7531              	.L624:
1739:ThirdPackage/lwip220/api/sockets.c ****                                        ((protocol == IPPROTO_UDPLITE) ? NETCONN_UDPLITE : NETCONN_U
 7532              		.loc 1 1739 14 discriminator 4 view .LVU2386
 7533 0046 0F4A     		ldr	r2, .L635+4
 7534              	.LVL809:
1739:ThirdPackage/lwip220/api/sockets.c ****                                        ((protocol == IPPROTO_UDPLITE) ? NETCONN_UDPLITE : NETCONN_U
 7535              		.loc 1 1739 14 discriminator 4 view .LVU2387
 7536 0048 0021     		movs	r1, #0
 7537              	.LVL810:
1739:ThirdPackage/lwip220/api/sockets.c ****                                        ((protocol == IPPROTO_UDPLITE) ? NETCONN_UDPLITE : NETCONN_U
 7538              		.loc 1 1739 14 discriminator 4 view .LVU2388
 7539 004a FFF7FEFF 		bl	netconn_new_with_proto_and_callback
 7540              	.LVL811:
1739:ThirdPackage/lwip220/api/sockets.c ****                                        ((protocol == IPPROTO_UDPLITE) ? NETCONN_UDPLITE : NETCONN_U
 7541              		.loc 1 1739 14 discriminator 4 view .LVU2389
 7542 004e 0546     		mov	r5, r0
 7543              	.LVL812:
1743:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_NETBUF_RECVINFO
 7544              		.loc 1 1743 88 is_stmt 1 discriminator 4 view .LVU2390
1750:ThirdPackage/lwip220/api/sockets.c ****     case SOCK_STREAM:
 7545              		.loc 1 1750 7 discriminator 4 view .LVU2391
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 240


 7546 0050 EAE7     		b	.L623
 7547              	.LVL813:
 7548              	.L634:
1739:ThirdPackage/lwip220/api/sockets.c ****                                        ((protocol == IPPROTO_UDPLITE) ? NETCONN_UDPLITE : NETCONN_U
 7549              		.loc 1 1739 14 is_stmt 0 view .LVU2392
 7550 0052 2120     		movs	r0, #33
 7551              	.LVL814:
1739:ThirdPackage/lwip220/api/sockets.c ****                                        ((protocol == IPPROTO_UDPLITE) ? NETCONN_UDPLITE : NETCONN_U
 7552              		.loc 1 1739 14 view .LVU2393
 7553 0054 F7E7     		b	.L624
 7554              	.LVL815:
 7555              	.L631:
1752:ThirdPackage/lwip220/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_socket(%s, SOCK_STREAM, %d) = ",
 7556              		.loc 1 1752 7 is_stmt 1 view .LVU2394
1752:ThirdPackage/lwip220/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_socket(%s, SOCK_STREAM, %d) = ",
 7557              		.loc 1 1752 14 is_stmt 0 view .LVU2395
 7558 0056 0B4A     		ldr	r2, .L635+4
 7559              	.LVL816:
1752:ThirdPackage/lwip220/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_socket(%s, SOCK_STREAM, %d) = ",
 7560              		.loc 1 1752 14 view .LVU2396
 7561 0058 0021     		movs	r1, #0
 7562              	.LVL817:
1752:ThirdPackage/lwip220/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_socket(%s, SOCK_STREAM, %d) = ",
 7563              		.loc 1 1752 14 view .LVU2397
 7564 005a 1020     		movs	r0, #16
 7565              	.LVL818:
1752:ThirdPackage/lwip220/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_socket(%s, SOCK_STREAM, %d) = ",
 7566              		.loc 1 1752 14 view .LVU2398
 7567 005c FFF7FEFF 		bl	netconn_new_with_proto_and_callback
 7568              	.LVL819:
1752:ThirdPackage/lwip220/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_socket(%s, SOCK_STREAM, %d) = ",
 7569              		.loc 1 1752 14 view .LVU2399
 7570 0060 0546     		mov	r5, r0
 7571              	.LVL820:
1754:ThirdPackage/lwip220/api/sockets.c ****       break;
 7572              		.loc 1 1754 88 is_stmt 1 view .LVU2400
1755:ThirdPackage/lwip220/api/sockets.c ****     default:
 7573              		.loc 1 1755 7 view .LVU2401
 7574 0062 E1E7     		b	.L623
 7575              	.L632:
1764:ThirdPackage/lwip220/api/sockets.c ****     set_errno(ENOBUFS);
 7576              		.loc 1 1764 78 discriminator 1 view .LVU2402
1765:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 7577              		.loc 1 1765 5 discriminator 1 view .LVU2403
1765:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 7578              		.loc 1 1765 5 discriminator 1 view .LVU2404
1765:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 7579              		.loc 1 1765 5 discriminator 1 view .LVU2405
 7580 0064 064B     		ldr	r3, .L635
 7581 0066 6922     		movs	r2, #105
 7582 0068 1A60     		str	r2, [r3]
1765:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 7583              		.loc 1 1765 5 discriminator 1 view .LVU2406
1766:ThirdPackage/lwip220/api/sockets.c ****   }
 7584              		.loc 1 1766 5 discriminator 1 view .LVU2407
1766:ThirdPackage/lwip220/api/sockets.c ****   }
 7585              		.loc 1 1766 12 is_stmt 0 discriminator 1 view .LVU2408
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 241


 7586 006a 4FF0FF34 		mov	r4, #-1
 7587 006e E5E7     		b	.L618
 7588              	.LVL821:
 7589              	.L633:
1772:ThirdPackage/lwip220/api/sockets.c ****     set_errno(ENFILE);
 7590              		.loc 1 1772 5 is_stmt 1 view .LVU2409
 7591 0070 2846     		mov	r0, r5
 7592              	.LVL822:
1772:ThirdPackage/lwip220/api/sockets.c ****     set_errno(ENFILE);
 7593              		.loc 1 1772 5 is_stmt 0 view .LVU2410
 7594 0072 FFF7FEFF 		bl	netconn_delete
 7595              	.LVL823:
1773:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 7596              		.loc 1 1773 5 is_stmt 1 view .LVU2411
1773:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 7597              		.loc 1 1773 5 view .LVU2412
1773:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 7598              		.loc 1 1773 5 view .LVU2413
 7599 0076 024B     		ldr	r3, .L635
 7600 0078 1722     		movs	r2, #23
 7601 007a 1A60     		str	r2, [r3]
1773:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 7602              		.loc 1 1773 5 view .LVU2414
1774:ThirdPackage/lwip220/api/sockets.c ****   }
 7603              		.loc 1 1774 5 view .LVU2415
1774:ThirdPackage/lwip220/api/sockets.c ****   }
 7604              		.loc 1 1774 12 is_stmt 0 view .LVU2416
 7605 007c DEE7     		b	.L618
 7606              	.L636:
 7607 007e 00BF     		.align	2
 7608              	.L635:
 7609 0080 00000000 		.word	errno
 7610 0084 00000000 		.word	event_callback
 7611              		.cfi_endproc
 7612              	.LFE189:
 7614              		.section	.text.lwip_write,"ax",%progbits
 7615              		.align	1
 7616              		.global	lwip_write
 7617              		.syntax unified
 7618              		.thumb
 7619              		.thumb_func
 7621              	lwip_write:
 7622              	.LVL824:
 7623              	.LFB190:
1785:ThirdPackage/lwip220/api/sockets.c ****   return lwip_send(s, data, size, 0);
 7624              		.loc 1 1785 1 is_stmt 1 view -0
 7625              		.cfi_startproc
 7626              		@ args = 0, pretend = 0, frame = 0
 7627              		@ frame_needed = 0, uses_anonymous_args = 0
1785:ThirdPackage/lwip220/api/sockets.c ****   return lwip_send(s, data, size, 0);
 7628              		.loc 1 1785 1 is_stmt 0 view .LVU2418
 7629 0000 08B5     		push	{r3, lr}
 7630              	.LCFI98:
 7631              		.cfi_def_cfa_offset 8
 7632              		.cfi_offset 3, -8
 7633              		.cfi_offset 14, -4
1786:ThirdPackage/lwip220/api/sockets.c **** }
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 242


 7634              		.loc 1 1786 3 is_stmt 1 view .LVU2419
1786:ThirdPackage/lwip220/api/sockets.c **** }
 7635              		.loc 1 1786 10 is_stmt 0 view .LVU2420
 7636 0002 0023     		movs	r3, #0
 7637 0004 FFF7FEFF 		bl	lwip_send
 7638              	.LVL825:
1787:ThirdPackage/lwip220/api/sockets.c **** 
 7639              		.loc 1 1787 1 view .LVU2421
 7640 0008 08BD     		pop	{r3, pc}
 7641              		.cfi_endproc
 7642              	.LFE190:
 7644              		.section	.text.lwip_writev,"ax",%progbits
 7645              		.align	1
 7646              		.global	lwip_writev
 7647              		.syntax unified
 7648              		.thumb
 7649              		.thumb_func
 7651              	lwip_writev:
 7652              	.LVL826:
 7653              	.LFB191:
1791:ThirdPackage/lwip220/api/sockets.c ****   struct msghdr msg;
 7654              		.loc 1 1791 1 is_stmt 1 view -0
 7655              		.cfi_startproc
 7656              		@ args = 0, pretend = 0, frame = 32
 7657              		@ frame_needed = 0, uses_anonymous_args = 0
1791:ThirdPackage/lwip220/api/sockets.c ****   struct msghdr msg;
 7658              		.loc 1 1791 1 is_stmt 0 view .LVU2423
 7659 0000 00B5     		push	{lr}
 7660              	.LCFI99:
 7661              		.cfi_def_cfa_offset 4
 7662              		.cfi_offset 14, -4
 7663 0002 89B0     		sub	sp, sp, #36
 7664              	.LCFI100:
 7665              		.cfi_def_cfa_offset 40
1792:ThirdPackage/lwip220/api/sockets.c **** 
 7666              		.loc 1 1792 3 is_stmt 1 view .LVU2424
1794:ThirdPackage/lwip220/api/sockets.c ****   msg.msg_namelen = 0;
 7667              		.loc 1 1794 3 view .LVU2425
1794:ThirdPackage/lwip220/api/sockets.c ****   msg.msg_namelen = 0;
 7668              		.loc 1 1794 16 is_stmt 0 view .LVU2426
 7669 0004 0023     		movs	r3, #0
 7670 0006 0193     		str	r3, [sp, #4]
1795:ThirdPackage/lwip220/api/sockets.c ****   /* Hack: we have to cast via number to cast from 'const' pointer to non-const.
 7671              		.loc 1 1795 3 is_stmt 1 view .LVU2427
1795:ThirdPackage/lwip220/api/sockets.c ****   /* Hack: we have to cast via number to cast from 'const' pointer to non-const.
 7672              		.loc 1 1795 19 is_stmt 0 view .LVU2428
 7673 0008 0293     		str	r3, [sp, #8]
1798:ThirdPackage/lwip220/api/sockets.c ****   msg.msg_iovlen = iovcnt;
 7674              		.loc 1 1798 3 is_stmt 1 view .LVU2429
1798:ThirdPackage/lwip220/api/sockets.c ****   msg.msg_iovlen = iovcnt;
 7675              		.loc 1 1798 15 is_stmt 0 view .LVU2430
 7676 000a 0391     		str	r1, [sp, #12]
1799:ThirdPackage/lwip220/api/sockets.c ****   msg.msg_control = NULL;
 7677              		.loc 1 1799 3 is_stmt 1 view .LVU2431
1799:ThirdPackage/lwip220/api/sockets.c ****   msg.msg_control = NULL;
 7678              		.loc 1 1799 18 is_stmt 0 view .LVU2432
 7679 000c 0492     		str	r2, [sp, #16]
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 243


1800:ThirdPackage/lwip220/api/sockets.c ****   msg.msg_controllen = 0;
 7680              		.loc 1 1800 3 is_stmt 1 view .LVU2433
1800:ThirdPackage/lwip220/api/sockets.c ****   msg.msg_controllen = 0;
 7681              		.loc 1 1800 19 is_stmt 0 view .LVU2434
 7682 000e 0593     		str	r3, [sp, #20]
1801:ThirdPackage/lwip220/api/sockets.c ****   msg.msg_flags = 0;
 7683              		.loc 1 1801 3 is_stmt 1 view .LVU2435
1801:ThirdPackage/lwip220/api/sockets.c ****   msg.msg_flags = 0;
 7684              		.loc 1 1801 22 is_stmt 0 view .LVU2436
 7685 0010 0693     		str	r3, [sp, #24]
1802:ThirdPackage/lwip220/api/sockets.c ****   return lwip_sendmsg(s, &msg, 0);
 7686              		.loc 1 1802 3 is_stmt 1 view .LVU2437
1802:ThirdPackage/lwip220/api/sockets.c ****   return lwip_sendmsg(s, &msg, 0);
 7687              		.loc 1 1802 17 is_stmt 0 view .LVU2438
 7688 0012 0793     		str	r3, [sp, #28]
1803:ThirdPackage/lwip220/api/sockets.c **** }
 7689              		.loc 1 1803 3 is_stmt 1 view .LVU2439
1803:ThirdPackage/lwip220/api/sockets.c **** }
 7690              		.loc 1 1803 10 is_stmt 0 view .LVU2440
 7691 0014 1A46     		mov	r2, r3
 7692              	.LVL827:
1803:ThirdPackage/lwip220/api/sockets.c **** }
 7693              		.loc 1 1803 10 view .LVU2441
 7694 0016 01A9     		add	r1, sp, #4
 7695              	.LVL828:
1803:ThirdPackage/lwip220/api/sockets.c **** }
 7696              		.loc 1 1803 10 view .LVU2442
 7697 0018 FFF7FEFF 		bl	lwip_sendmsg
 7698              	.LVL829:
1804:ThirdPackage/lwip220/api/sockets.c **** 
 7699              		.loc 1 1804 1 view .LVU2443
 7700 001c 09B0     		add	sp, sp, #36
 7701              	.LCFI101:
 7702              		.cfi_def_cfa_offset 4
 7703              		@ sp needed
 7704 001e 5DF804FB 		ldr	pc, [sp], #4
 7705              		.cfi_endproc
 7706              	.LFE191:
 7708              		.section	.rodata.lwip_select.str1.4,"aMS",%progbits,1
 7709              		.align	2
 7710              	.LC23:
 7711 0000 736F636B 		.ascii	"socket gone at the end of select\000"
 7711      65742067 
 7711      6F6E6520 
 7711      61742074 
 7711      68652065 
 7712              		.section	.text.lwip_select,"ax",%progbits
 7713              		.align	1
 7714              		.global	lwip_select
 7715              		.syntax unified
 7716              		.thumb
 7717              		.thumb_func
 7719              	lwip_select:
 7720              	.LVL830:
 7721              	.LFB195:
2004:ThirdPackage/lwip220/api/sockets.c ****   u32_t waitres = 0;
 7722              		.loc 1 2004 1 is_stmt 1 view -0
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 244


 7723              		.cfi_startproc
 7724              		@ args = 4, pretend = 0, frame = 72
 7725              		@ frame_needed = 0, uses_anonymous_args = 0
2004:ThirdPackage/lwip220/api/sockets.c ****   u32_t waitres = 0;
 7726              		.loc 1 2004 1 is_stmt 0 view .LVU2445
 7727 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 7728              	.LCFI102:
 7729              		.cfi_def_cfa_offset 36
 7730              		.cfi_offset 4, -36
 7731              		.cfi_offset 5, -32
 7732              		.cfi_offset 6, -28
 7733              		.cfi_offset 7, -24
 7734              		.cfi_offset 8, -20
 7735              		.cfi_offset 9, -16
 7736              		.cfi_offset 10, -12
 7737              		.cfi_offset 11, -8
 7738              		.cfi_offset 14, -4
 7739 0004 97B0     		sub	sp, sp, #92
 7740              	.LCFI103:
 7741              		.cfi_def_cfa_offset 128
 7742 0006 209D     		ldr	r5, [sp, #128]
2005:ThirdPackage/lwip220/api/sockets.c ****   int nready;
 7743              		.loc 1 2005 3 is_stmt 1 view .LVU2446
 7744              	.LVL831:
2006:ThirdPackage/lwip220/api/sockets.c ****   fd_set lreadset, lwriteset, lexceptset;
 7745              		.loc 1 2006 3 view .LVU2447
2007:ThirdPackage/lwip220/api/sockets.c ****   u32_t msectimeout;
 7746              		.loc 1 2007 3 view .LVU2448
2008:ThirdPackage/lwip220/api/sockets.c ****   int i;
 7747              		.loc 1 2008 3 view .LVU2449
2009:ThirdPackage/lwip220/api/sockets.c ****   int maxfdp2;
 7748              		.loc 1 2009 3 view .LVU2450
2010:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
 7749              		.loc 1 2010 3 view .LVU2451
2017:ThirdPackage/lwip220/api/sockets.c **** 
 7750              		.loc 1 2017 3 view .LVU2452
2022:ThirdPackage/lwip220/api/sockets.c **** 
 7751              		.loc 1 2022 80 view .LVU2453
2024:ThirdPackage/lwip220/api/sockets.c ****     set_errno(EINVAL);
 7752              		.loc 1 2024 3 view .LVU2454
2024:ThirdPackage/lwip220/api/sockets.c ****     set_errno(EINVAL);
 7753              		.loc 1 2024 6 is_stmt 0 view .LVU2455
 7754 0008 4028     		cmp	r0, #64
 7755 000a 2AD8     		bhi	.L682
 7756 000c 8146     		mov	r9, r0
 7757 000e 0E46     		mov	r6, r1
 7758 0010 1746     		mov	r7, r2
 7759 0012 9846     		mov	r8, r3
2029:ThirdPackage/lwip220/api/sockets.c **** 
 7760              		.loc 1 2029 85 is_stmt 1 view .LVU2456
2033:ThirdPackage/lwip220/api/sockets.c **** 
 7761              		.loc 1 2033 3 view .LVU2457
2033:ThirdPackage/lwip220/api/sockets.c **** 
 7762              		.loc 1 2033 12 is_stmt 0 view .LVU2458
 7763 0014 10AB     		add	r3, sp, #64
 7764              	.LVL832:
2033:ThirdPackage/lwip220/api/sockets.c **** 
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 245


 7765              		.loc 1 2033 12 view .LVU2459
 7766 0016 0293     		str	r3, [sp, #8]
 7767 0018 12AB     		add	r3, sp, #72
 7768 001a 0193     		str	r3, [sp, #4]
 7769 001c 14AB     		add	r3, sp, #80
 7770 001e 0093     		str	r3, [sp]
 7771 0020 4346     		mov	r3, r8
 7772 0022 FFF7FEFF 		bl	lwip_selscan
 7773              	.LVL833:
2035:ThirdPackage/lwip220/api/sockets.c ****     /* one of the sockets in one of the fd_sets was invalid */
 7774              		.loc 1 2035 3 is_stmt 1 view .LVU2460
2035:ThirdPackage/lwip220/api/sockets.c ****     /* one of the sockets in one of the fd_sets was invalid */
 7775              		.loc 1 2035 6 is_stmt 0 view .LVU2461
 7776 0026 B0F1000B 		subs	fp, r0, #0
 7777 002a 20DB     		blt	.L683
2040:ThirdPackage/lwip220/api/sockets.c ****     /* one or more sockets are set, no need to wait */
 7778              		.loc 1 2040 10 is_stmt 1 view .LVU2462
2040:ThirdPackage/lwip220/api/sockets.c ****     /* one or more sockets are set, no need to wait */
 7779              		.loc 1 2040 13 is_stmt 0 view .LVU2463
 7780 002c BBF1000F 		cmp	fp, #0
 7781 0030 23DD     		ble	.L684
 7782              	.LVL834:
 7783              	.L645:
2199:ThirdPackage/lwip220/api/sockets.c ****   set_errno(0);
 7784              		.loc 1 2199 55 is_stmt 1 discriminator 3 view .LVU2464
2200:ThirdPackage/lwip220/api/sockets.c ****   if (readset) {
 7785              		.loc 1 2200 3 discriminator 3 view .LVU2465
2200:ThirdPackage/lwip220/api/sockets.c ****   if (readset) {
 7786              		.loc 1 2200 3 discriminator 3 view .LVU2466
2200:ThirdPackage/lwip220/api/sockets.c ****   if (readset) {
 7787              		.loc 1 2200 3 discriminator 3 view .LVU2467
2201:ThirdPackage/lwip220/api/sockets.c ****     *readset = lreadset;
 7788              		.loc 1 2201 3 discriminator 3 view .LVU2468
2201:ThirdPackage/lwip220/api/sockets.c ****     *readset = lreadset;
 7789              		.loc 1 2201 6 is_stmt 0 discriminator 3 view .LVU2469
 7790 0032 26B1     		cbz	r6, .L677
2202:ThirdPackage/lwip220/api/sockets.c ****   }
 7791              		.loc 1 2202 5 is_stmt 1 view .LVU2470
2202:ThirdPackage/lwip220/api/sockets.c ****   }
 7792              		.loc 1 2202 14 is_stmt 0 view .LVU2471
 7793 0034 16AB     		add	r3, sp, #88
 7794 0036 13E90300 		ldmdb	r3, {r0, r1}
 7795 003a 86E80300 		stm	r6, {r0, r1}
 7796              	.L677:
2204:ThirdPackage/lwip220/api/sockets.c ****     *writeset = lwriteset;
 7797              		.loc 1 2204 3 is_stmt 1 view .LVU2472
2204:ThirdPackage/lwip220/api/sockets.c ****     *writeset = lwriteset;
 7798              		.loc 1 2204 6 is_stmt 0 view .LVU2473
 7799 003e 27B1     		cbz	r7, .L678
2205:ThirdPackage/lwip220/api/sockets.c ****   }
 7800              		.loc 1 2205 5 is_stmt 1 view .LVU2474
2205:ThirdPackage/lwip220/api/sockets.c ****   }
 7801              		.loc 1 2205 15 is_stmt 0 view .LVU2475
 7802 0040 12AB     		add	r3, sp, #72
 7803 0042 93E80300 		ldm	r3, {r0, r1}
 7804 0046 87E80300 		stm	r7, {r0, r1}
 7805              	.L678:
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 246


2207:ThirdPackage/lwip220/api/sockets.c ****     *exceptset = lexceptset;
 7806              		.loc 1 2207 3 is_stmt 1 view .LVU2476
2207:ThirdPackage/lwip220/api/sockets.c ****     *exceptset = lexceptset;
 7807              		.loc 1 2207 6 is_stmt 0 view .LVU2477
 7808 004a B8F1000F 		cmp	r8, #0
 7809 004e 04D0     		beq	.L641
2208:ThirdPackage/lwip220/api/sockets.c ****   }
 7810              		.loc 1 2208 5 is_stmt 1 view .LVU2478
2208:ThirdPackage/lwip220/api/sockets.c ****   }
 7811              		.loc 1 2208 16 is_stmt 0 view .LVU2479
 7812 0050 10AB     		add	r3, sp, #64
 7813 0052 93E80300 		ldm	r3, {r0, r1}
 7814 0056 88E80300 		stm	r8, {r0, r1}
 7815              	.LVL835:
 7816              	.L641:
2211:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_SOCKET_SELECT */
 7817              		.loc 1 2211 1 view .LVU2480
 7818 005a 5846     		mov	r0, fp
 7819 005c 17B0     		add	sp, sp, #92
 7820              	.LCFI104:
 7821              		.cfi_remember_state
 7822              		.cfi_def_cfa_offset 36
 7823              		@ sp needed
 7824 005e BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 7825              	.LVL836:
 7826              	.L682:
 7827              	.LCFI105:
 7828              		.cfi_restore_state
2025:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 7829              		.loc 1 2025 5 is_stmt 1 discriminator 1 view .LVU2481
2025:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 7830              		.loc 1 2025 5 discriminator 1 view .LVU2482
2025:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 7831              		.loc 1 2025 5 discriminator 1 view .LVU2483
 7832 0062 A94B     		ldr	r3, .L699
 7833              	.LVL837:
2025:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 7834              		.loc 1 2025 5 is_stmt 0 discriminator 1 view .LVU2484
 7835 0064 1622     		movs	r2, #22
 7836              	.LVL838:
2025:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 7837              		.loc 1 2025 5 discriminator 1 view .LVU2485
 7838 0066 1A60     		str	r2, [r3]
2025:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 7839              		.loc 1 2025 5 is_stmt 1 discriminator 1 view .LVU2486
2026:ThirdPackage/lwip220/api/sockets.c ****   }
 7840              		.loc 1 2026 5 discriminator 1 view .LVU2487
2026:ThirdPackage/lwip220/api/sockets.c ****   }
 7841              		.loc 1 2026 12 is_stmt 0 discriminator 1 view .LVU2488
 7842 0068 4FF0FF3B 		mov	fp, #-1
 7843 006c F5E7     		b	.L641
 7844              	.LVL839:
 7845              	.L683:
2037:ThirdPackage/lwip220/api/sockets.c ****     lwip_select_dec_sockets_used(maxfdp1, &used_sockets);
 7846              		.loc 1 2037 5 is_stmt 1 discriminator 1 view .LVU2489
2037:ThirdPackage/lwip220/api/sockets.c ****     lwip_select_dec_sockets_used(maxfdp1, &used_sockets);
 7847              		.loc 1 2037 5 discriminator 1 view .LVU2490
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 247


2037:ThirdPackage/lwip220/api/sockets.c ****     lwip_select_dec_sockets_used(maxfdp1, &used_sockets);
 7848              		.loc 1 2037 5 discriminator 1 view .LVU2491
 7849 006e A64B     		ldr	r3, .L699
 7850 0070 0922     		movs	r2, #9
 7851 0072 1A60     		str	r2, [r3]
2037:ThirdPackage/lwip220/api/sockets.c ****     lwip_select_dec_sockets_used(maxfdp1, &used_sockets);
 7852              		.loc 1 2037 5 discriminator 1 view .LVU2492
2038:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 7853              		.loc 1 2038 57 discriminator 1 view .LVU2493
2039:ThirdPackage/lwip220/api/sockets.c ****   } else if (nready > 0) {
 7854              		.loc 1 2039 5 discriminator 1 view .LVU2494
 7855              	.LVL840:
2039:ThirdPackage/lwip220/api/sockets.c ****   } else if (nready > 0) {
 7856              		.loc 1 2039 12 is_stmt 0 discriminator 1 view .LVU2495
 7857 0074 4FF0FF3B 		mov	fp, #-1
 7858 0078 EFE7     		b	.L641
 7859              	.LVL841:
 7860              	.L684:
2045:ThirdPackage/lwip220/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_select: no timeout, returning 0\n"));
 7861              		.loc 1 2045 5 is_stmt 1 view .LVU2496
2045:ThirdPackage/lwip220/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_select: no timeout, returning 0\n"));
 7862              		.loc 1 2045 8 is_stmt 0 view .LVU2497
 7863 007a 35B1     		cbz	r5, .L646
2045:ThirdPackage/lwip220/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_select: no timeout, returning 0\n"));
 7864              		.loc 1 2045 27 discriminator 1 view .LVU2498
 7865 007c 2A68     		ldr	r2, [r5]
 7866 007e 6B68     		ldr	r3, [r5, #4]
2045:ThirdPackage/lwip220/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_select: no timeout, returning 0\n"));
 7867              		.loc 1 2045 17 discriminator 1 view .LVU2499
 7868 0080 1343     		orrs	r3, r2, r3
 7869 0082 02D1     		bne	.L646
2045:ThirdPackage/lwip220/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_select: no timeout, returning 0\n"));
 7870              		.loc 1 2045 51 discriminator 2 view .LVU2500
 7871 0084 AB68     		ldr	r3, [r5, #8]
2045:ThirdPackage/lwip220/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_select: no timeout, returning 0\n"));
 7872              		.loc 1 2045 41 discriminator 2 view .LVU2501
 7873 0086 002B     		cmp	r3, #0
 7874 0088 D3D0     		beq	.L645
 7875              	.L646:
 7876              	.LBB48:
2055:ThirdPackage/lwip220/api/sockets.c ****       API_SELECT_CB_VAR_ALLOC(select_cb, set_errno(ENOMEM); lwip_select_dec_sockets_used(maxfdp1, &
 7877              		.loc 1 2055 7 is_stmt 1 view .LVU2502
2056:ThirdPackage/lwip220/api/sockets.c ****       memset(&API_SELECT_CB_VAR_REF(select_cb), 0, sizeof(struct lwip_select_cb));
 7878              		.loc 1 2056 125 view .LVU2503
2057:ThirdPackage/lwip220/api/sockets.c **** 
 7879              		.loc 1 2057 7 view .LVU2504
 7880 008a 2422     		movs	r2, #36
 7881 008c 0021     		movs	r1, #0
 7882 008e 07A8     		add	r0, sp, #28
 7883              	.LVL842:
2057:ThirdPackage/lwip220/api/sockets.c **** 
 7884              		.loc 1 2057 7 is_stmt 0 view .LVU2505
 7885 0090 FFF7FEFF 		bl	memset
 7886              	.LVL843:
2059:ThirdPackage/lwip220/api/sockets.c ****       API_SELECT_CB_VAR_REF(select_cb).writeset = writeset;
 7887              		.loc 1 2059 7 is_stmt 1 view .LVU2506
2059:ThirdPackage/lwip220/api/sockets.c ****       API_SELECT_CB_VAR_REF(select_cb).writeset = writeset;
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 248


 7888              		.loc 1 2059 48 is_stmt 0 view .LVU2507
 7889 0094 0996     		str	r6, [sp, #36]
2060:ThirdPackage/lwip220/api/sockets.c ****       API_SELECT_CB_VAR_REF(select_cb).exceptset = exceptset;
 7890              		.loc 1 2060 7 is_stmt 1 view .LVU2508
2060:ThirdPackage/lwip220/api/sockets.c ****       API_SELECT_CB_VAR_REF(select_cb).exceptset = exceptset;
 7891              		.loc 1 2060 49 is_stmt 0 view .LVU2509
 7892 0096 0A97     		str	r7, [sp, #40]
2061:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
 7893              		.loc 1 2061 7 is_stmt 1 view .LVU2510
2061:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
 7894              		.loc 1 2061 50 is_stmt 0 view .LVU2511
 7895 0098 CDF82C80 		str	r8, [sp, #44]
2065:ThirdPackage/lwip220/api/sockets.c ****         /* failed to create semaphore */
 7896              		.loc 1 2065 7 is_stmt 1 view .LVU2512
2065:ThirdPackage/lwip220/api/sockets.c ****         /* failed to create semaphore */
 7897              		.loc 1 2065 11 is_stmt 0 view .LVU2513
 7898 009c 0021     		movs	r1, #0
 7899 009e 0FA8     		add	r0, sp, #60
 7900 00a0 FFF7FEFF 		bl	sys_sem_new
 7901              	.LVL844:
2065:ThirdPackage/lwip220/api/sockets.c ****         /* failed to create semaphore */
 7902              		.loc 1 2065 10 view .LVU2514
 7903 00a4 40B9     		cbnz	r0, .L685
2074:ThirdPackage/lwip220/api/sockets.c **** 
 7904              		.loc 1 2074 7 is_stmt 1 view .LVU2515
 7905 00a6 07A8     		add	r0, sp, #28
 7906 00a8 FFF7FEFF 		bl	lwip_link_select_cb
 7907              	.LVL845:
2077:ThirdPackage/lwip220/api/sockets.c ****       for (i = LWIP_SOCKET_OFFSET; i < maxfdp1; i++) {
 7908              		.loc 1 2077 7 view .LVU2516
2078:ThirdPackage/lwip220/api/sockets.c ****         if ((readset && FD_ISSET(i, readset)) ||
 7909              		.loc 1 2078 7 view .LVU2517
2078:ThirdPackage/lwip220/api/sockets.c ****         if ((readset && FD_ISSET(i, readset)) ||
 7910              		.loc 1 2078 14 is_stmt 0 view .LVU2518
 7911 00ac 0024     		movs	r4, #0
 7912 00ae 2095     		str	r5, [sp, #128]
 7913              	.LVL846:
2078:ThirdPackage/lwip220/api/sockets.c ****         if ((readset && FD_ISSET(i, readset)) ||
 7914              		.loc 1 2078 14 view .LVU2519
 7915 00b0 4546     		mov	r5, r8
 7916 00b2 DDF88080 		ldr	r8, [sp, #128]
 7917              	.LVL847:
2078:ThirdPackage/lwip220/api/sockets.c ****         if ((readset && FD_ISSET(i, readset)) ||
 7918              		.loc 1 2078 7 view .LVU2520
 7919 00b6 20E0     		b	.L649
 7920              	.LVL848:
 7921              	.L685:
2067:ThirdPackage/lwip220/api/sockets.c ****         lwip_select_dec_sockets_used(maxfdp1, &used_sockets);
 7922              		.loc 1 2067 9 is_stmt 1 discriminator 1 view .LVU2521
2067:ThirdPackage/lwip220/api/sockets.c ****         lwip_select_dec_sockets_used(maxfdp1, &used_sockets);
 7923              		.loc 1 2067 9 discriminator 1 view .LVU2522
2067:ThirdPackage/lwip220/api/sockets.c ****         lwip_select_dec_sockets_used(maxfdp1, &used_sockets);
 7924              		.loc 1 2067 9 discriminator 1 view .LVU2523
 7925 00b8 934B     		ldr	r3, .L699
 7926 00ba 0C22     		movs	r2, #12
 7927 00bc 1A60     		str	r2, [r3]
2067:ThirdPackage/lwip220/api/sockets.c ****         lwip_select_dec_sockets_used(maxfdp1, &used_sockets);
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 249


 7928              		.loc 1 2067 9 discriminator 1 view .LVU2524
2068:ThirdPackage/lwip220/api/sockets.c ****         API_SELECT_CB_VAR_FREE(select_cb);
 7929              		.loc 1 2068 61 discriminator 1 view .LVU2525
2069:ThirdPackage/lwip220/api/sockets.c ****         return -1;
 7930              		.loc 1 2069 42 discriminator 1 view .LVU2526
2070:ThirdPackage/lwip220/api/sockets.c ****       }
 7931              		.loc 1 2070 9 discriminator 1 view .LVU2527
 7932              	.LVL849:
 7933              	.L648:
2070:ThirdPackage/lwip220/api/sockets.c ****       }
 7934              		.loc 1 2070 16 is_stmt 0 discriminator 1 view .LVU2528
 7935 00be 4FF0FF3B 		mov	fp, #-1
 7936 00c2 CAE7     		b	.L641
 7937              	.LVL850:
 7938              	.L688:
2079:ThirdPackage/lwip220/api/sockets.c ****             (writeset && FD_ISSET(i, writeset)) ||
 7939              		.loc 1 2079 25 discriminator 1 view .LVU2529
 7940 00c4 04F11F03 		add	r3, r4, #31
 7941              	.LVL851:
2079:ThirdPackage/lwip220/api/sockets.c ****             (writeset && FD_ISSET(i, writeset)) ||
 7942              		.loc 1 2079 25 discriminator 1 view .LVU2530
 7943 00c8 1DE0     		b	.L651
 7944              	.LVL852:
 7945              	.L689:
2080:ThirdPackage/lwip220/api/sockets.c ****             (exceptset && FD_ISSET(i, exceptset))) {
 7946              		.loc 1 2080 26 view .LVU2531
 7947 00ca 04F11F03 		add	r3, r4, #31
 7948              	.LVL853:
2080:ThirdPackage/lwip220/api/sockets.c ****             (exceptset && FD_ISSET(i, exceptset))) {
 7949              		.loc 1 2080 26 view .LVU2532
 7950 00ce 2CE0     		b	.L654
 7951              	.LVL854:
 7952              	.L690:
2081:ThirdPackage/lwip220/api/sockets.c ****           struct lwip_sock *sock;
 7953              		.loc 1 2081 27 view .LVU2533
 7954 00d0 04F11F03 		add	r3, r4, #31
 7955              	.LVL855:
2081:ThirdPackage/lwip220/api/sockets.c ****           struct lwip_sock *sock;
 7956              		.loc 1 2081 27 view .LVU2534
 7957 00d4 3CE0     		b	.L656
 7958              	.L652:
 7959              	.LBB49:
2082:ThirdPackage/lwip220/api/sockets.c ****           SYS_ARCH_PROTECT(lev);
 7960              		.loc 1 2082 11 is_stmt 1 view .LVU2535
2083:ThirdPackage/lwip220/api/sockets.c ****           sock = tryget_socket_unconn_locked(i);
 7961              		.loc 1 2083 11 view .LVU2536
 7962 00d6 FFF7FEFF 		bl	sys_arch_protect
 7963              	.LVL856:
 7964 00da 8246     		mov	r10, r0
 7965              	.LVL857:
2084:ThirdPackage/lwip220/api/sockets.c ****           if (sock != NULL) {
 7966              		.loc 1 2084 11 view .LVU2537
2084:ThirdPackage/lwip220/api/sockets.c ****           if (sock != NULL) {
 7967              		.loc 1 2084 18 is_stmt 0 view .LVU2538
 7968 00dc 2046     		mov	r0, r4
 7969              	.LVL858:
2084:ThirdPackage/lwip220/api/sockets.c ****           if (sock != NULL) {
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 250


 7970              		.loc 1 2084 18 view .LVU2539
 7971 00de FFF7FEFF 		bl	tryget_socket_unconn_locked
 7972              	.LVL859:
2085:ThirdPackage/lwip220/api/sockets.c ****             sock->select_waiting++;
 7973              		.loc 1 2085 11 is_stmt 1 view .LVU2540
2085:ThirdPackage/lwip220/api/sockets.c ****             sock->select_waiting++;
 7974              		.loc 1 2085 14 is_stmt 0 view .LVU2541
 7975 00e2 0028     		cmp	r0, #0
 7976 00e4 50D0     		beq	.L657
2086:ThirdPackage/lwip220/api/sockets.c ****             if (sock->select_waiting == 0) {
 7977              		.loc 1 2086 13 is_stmt 1 view .LVU2542
2086:ThirdPackage/lwip220/api/sockets.c ****             if (sock->select_waiting == 0) {
 7978              		.loc 1 2086 17 is_stmt 0 view .LVU2543
 7979 00e6 817B     		ldrb	r1, [r0, #14]	@ zero_extendqisi2
2086:ThirdPackage/lwip220/api/sockets.c ****             if (sock->select_waiting == 0) {
 7980              		.loc 1 2086 33 view .LVU2544
 7981 00e8 4B1C     		adds	r3, r1, #1
 7982 00ea DBB2     		uxtb	r3, r3
 7983 00ec 8373     		strb	r3, [r0, #14]
2087:ThirdPackage/lwip220/api/sockets.c ****               /* overflow - too many threads waiting */
 7984              		.loc 1 2087 13 is_stmt 1 view .LVU2545
2087:ThirdPackage/lwip220/api/sockets.c ****               /* overflow - too many threads waiting */
 7985              		.loc 1 2087 16 is_stmt 0 view .LVU2546
 7986 00ee 002B     		cmp	r3, #0
 7987 00f0 3DD0     		beq	.L686
2097:ThirdPackage/lwip220/api/sockets.c ****             done_socket(sock);
 7988              		.loc 1 2097 13 is_stmt 1 view .LVU2547
 7989 00f2 5046     		mov	r0, r10
 7990              	.LVL860:
2097:ThirdPackage/lwip220/api/sockets.c ****             done_socket(sock);
 7991              		.loc 1 2097 13 is_stmt 0 view .LVU2548
 7992 00f4 FFF7FEFF 		bl	sys_arch_unprotect
 7993              	.LVL861:
2098:ThirdPackage/lwip220/api/sockets.c ****           } else {
 7994              		.loc 1 2098 30 is_stmt 1 view .LVU2549
 7995              	.L655:
2098:ThirdPackage/lwip220/api/sockets.c ****           } else {
 7996              		.loc 1 2098 30 is_stmt 0 view .LVU2550
 7997              	.LBE49:
2078:ThirdPackage/lwip220/api/sockets.c ****         if ((readset && FD_ISSET(i, readset)) ||
 7998              		.loc 1 2078 49 is_stmt 1 discriminator 2 view .LVU2551
2078:ThirdPackage/lwip220/api/sockets.c ****         if ((readset && FD_ISSET(i, readset)) ||
 7999              		.loc 1 2078 50 is_stmt 0 discriminator 2 view .LVU2552
 8000 00f8 0134     		adds	r4, r4, #1
 8001              	.LVL862:
 8002              	.L649:
2078:ThirdPackage/lwip220/api/sockets.c ****         if ((readset && FD_ISSET(i, readset)) ||
 8003              		.loc 1 2078 36 is_stmt 1 discriminator 1 view .LVU2553
2078:ThirdPackage/lwip220/api/sockets.c ****         if ((readset && FD_ISSET(i, readset)) ||
 8004              		.loc 1 2078 7 is_stmt 0 discriminator 1 view .LVU2554
 8005 00fa 4C45     		cmp	r4, r9
 8006 00fc 54DA     		bge	.L687
2079:ThirdPackage/lwip220/api/sockets.c ****             (writeset && FD_ISSET(i, writeset)) ||
 8007              		.loc 1 2079 9 is_stmt 1 view .LVU2555
2079:ThirdPackage/lwip220/api/sockets.c ****             (writeset && FD_ISSET(i, writeset)) ||
 8008              		.loc 1 2079 12 is_stmt 0 view .LVU2556
 8009 00fe 86B1     		cbz	r6, .L650
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 251


2079:ThirdPackage/lwip220/api/sockets.c ****             (writeset && FD_ISSET(i, writeset)) ||
 8010              		.loc 1 2079 25 discriminator 1 view .LVU2557
 8011 0100 2346     		mov	r3, r4
 8012 0102 002C     		cmp	r4, #0
 8013 0104 DEDB     		blt	.L688
 8014              	.L651:
2079:ThirdPackage/lwip220/api/sockets.c ****             (writeset && FD_ISSET(i, writeset)) ||
 8015              		.loc 1 2079 25 discriminator 1 view .LVU2558
 8016 0106 5B11     		asrs	r3, r3, #5
 8017 0108 56F82330 		ldr	r3, [r6, r3, lsl #2]
 8018 010c 6142     		rsbs	r1, r4, #0
 8019 010e 04F01F02 		and	r2, r4, #31
 8020 0112 01F01F01 		and	r1, r1, #31
 8021 0116 58BF     		it	pl
 8022 0118 4A42     		rsbpl	r2, r1, #0
 8023 011a D340     		lsrs	r3, r3, r2
2079:ThirdPackage/lwip220/api/sockets.c ****             (writeset && FD_ISSET(i, writeset)) ||
 8024              		.loc 1 2079 22 discriminator 1 view .LVU2559
 8025 011c 13F0010F 		tst	r3, #1
 8026 0120 D9D1     		bne	.L652
 8027              	.L650:
2079:ThirdPackage/lwip220/api/sockets.c ****             (writeset && FD_ISSET(i, writeset)) ||
 8028              		.loc 1 2079 47 discriminator 3 view .LVU2560
 8029 0122 87B1     		cbz	r7, .L653
2080:ThirdPackage/lwip220/api/sockets.c ****             (exceptset && FD_ISSET(i, exceptset))) {
 8030              		.loc 1 2080 26 view .LVU2561
 8031 0124 2346     		mov	r3, r4
 8032 0126 002C     		cmp	r4, #0
 8033 0128 CFDB     		blt	.L689
 8034              	.L654:
 8035 012a 5B11     		asrs	r3, r3, #5
 8036 012c 57F82330 		ldr	r3, [r7, r3, lsl #2]
 8037 0130 6142     		rsbs	r1, r4, #0
 8038 0132 04F01F02 		and	r2, r4, #31
 8039 0136 01F01F01 		and	r1, r1, #31
 8040 013a 58BF     		it	pl
 8041 013c 4A42     		rsbpl	r2, r1, #0
 8042 013e D340     		lsrs	r3, r3, r2
2080:ThirdPackage/lwip220/api/sockets.c ****             (exceptset && FD_ISSET(i, exceptset))) {
 8043              		.loc 1 2080 23 view .LVU2562
 8044 0140 13F0010F 		tst	r3, #1
 8045 0144 C7D1     		bne	.L652
 8046              	.L653:
2080:ThirdPackage/lwip220/api/sockets.c ****             (exceptset && FD_ISSET(i, exceptset))) {
 8047              		.loc 1 2080 49 discriminator 1 view .LVU2563
 8048 0146 002D     		cmp	r5, #0
 8049 0148 D6D0     		beq	.L655
2081:ThirdPackage/lwip220/api/sockets.c ****           struct lwip_sock *sock;
 8050              		.loc 1 2081 27 view .LVU2564
 8051 014a 2346     		mov	r3, r4
 8052 014c 002C     		cmp	r4, #0
 8053 014e BFDB     		blt	.L690
 8054              	.L656:
 8055 0150 5B11     		asrs	r3, r3, #5
 8056 0152 55F82330 		ldr	r3, [r5, r3, lsl #2]
 8057 0156 6142     		rsbs	r1, r4, #0
 8058 0158 04F01F02 		and	r2, r4, #31
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 252


 8059 015c 01F01F01 		and	r1, r1, #31
 8060 0160 58BF     		it	pl
 8061 0162 4A42     		rsbpl	r2, r1, #0
 8062 0164 D340     		lsrs	r3, r3, r2
2081:ThirdPackage/lwip220/api/sockets.c ****           struct lwip_sock *sock;
 8063              		.loc 1 2081 24 view .LVU2565
 8064 0166 13F0010F 		tst	r3, #1
 8065 016a C5D0     		beq	.L655
 8066 016c B3E7     		b	.L652
 8067              	.LVL863:
 8068              	.L686:
 8069              	.LBB50:
2089:ThirdPackage/lwip220/api/sockets.c ****               nready = -1;
 8070              		.loc 1 2089 35 view .LVU2566
 8071 016e A846     		mov	r8, r5
2089:ThirdPackage/lwip220/api/sockets.c ****               nready = -1;
 8072              		.loc 1 2089 15 is_stmt 1 view .LVU2567
2089:ThirdPackage/lwip220/api/sockets.c ****               nready = -1;
 8073              		.loc 1 2089 35 is_stmt 0 view .LVU2568
 8074 0170 8173     		strb	r1, [r0, #14]
2090:ThirdPackage/lwip220/api/sockets.c ****               maxfdp2 = i;
 8075              		.loc 1 2090 15 is_stmt 1 view .LVU2569
 8076              	.LVL864:
2091:ThirdPackage/lwip220/api/sockets.c ****               SYS_ARCH_UNPROTECT(lev);
 8077              		.loc 1 2091 15 view .LVU2570
2092:ThirdPackage/lwip220/api/sockets.c ****               done_socket(sock);
 8078              		.loc 1 2092 15 view .LVU2571
 8079 0172 5046     		mov	r0, r10
 8080              	.LVL865:
2092:ThirdPackage/lwip220/api/sockets.c ****               done_socket(sock);
 8081              		.loc 1 2092 15 is_stmt 0 view .LVU2572
 8082 0174 FFF7FEFF 		bl	sys_arch_unprotect
 8083              	.LVL866:
2093:ThirdPackage/lwip220/api/sockets.c ****               set_errno(EBUSY);
 8084              		.loc 1 2093 32 is_stmt 1 view .LVU2573
2094:ThirdPackage/lwip220/api/sockets.c ****               break;
 8085              		.loc 1 2094 15 view .LVU2574
2094:ThirdPackage/lwip220/api/sockets.c ****               break;
 8086              		.loc 1 2094 15 view .LVU2575
2094:ThirdPackage/lwip220/api/sockets.c ****               break;
 8087              		.loc 1 2094 15 view .LVU2576
 8088 0178 634B     		ldr	r3, .L699
 8089 017a 1022     		movs	r2, #16
 8090 017c 1A60     		str	r2, [r3]
2094:ThirdPackage/lwip220/api/sockets.c ****               break;
 8091              		.loc 1 2094 15 is_stmt 0 view .LVU2577
 8092              	.LBE50:
2110:ThirdPackage/lwip220/api/sockets.c ****         /* Call lwip_selscan again: there could have been events between
 8093              		.loc 1 2110 7 is_stmt 1 view .LVU2578
 8094              	.LBB51:
2090:ThirdPackage/lwip220/api/sockets.c ****               maxfdp2 = i;
 8095              		.loc 1 2090 22 is_stmt 0 view .LVU2579
 8096 017e 4FF0FF3B 		mov	fp, #-1
 8097              	.LBE51:
 8098              	.LBE48:
2005:ThirdPackage/lwip220/api/sockets.c ****   int nready;
 8099              		.loc 1 2005 9 view .LVU2580
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 253


 8100 0182 0023     		movs	r3, #0
 8101 0184 0593     		str	r3, [sp, #20]
 8102 0186 0AE0     		b	.L659
 8103              	.LVL867:
 8104              	.L657:
 8105              	.LBB58:
 8106              	.LBB52:
2103:ThirdPackage/lwip220/api/sockets.c ****             set_errno(EBADF);
 8107              		.loc 1 2103 13 view .LVU2581
 8108 0188 A846     		mov	r8, r5
2101:ThirdPackage/lwip220/api/sockets.c ****             maxfdp2 = i;
 8109              		.loc 1 2101 13 is_stmt 1 view .LVU2582
 8110              	.LVL868:
2102:ThirdPackage/lwip220/api/sockets.c ****             SYS_ARCH_UNPROTECT(lev);
 8111              		.loc 1 2102 13 view .LVU2583
2103:ThirdPackage/lwip220/api/sockets.c ****             set_errno(EBADF);
 8112              		.loc 1 2103 13 view .LVU2584
 8113 018a 5046     		mov	r0, r10
 8114              	.LVL869:
2103:ThirdPackage/lwip220/api/sockets.c ****             set_errno(EBADF);
 8115              		.loc 1 2103 13 is_stmt 0 view .LVU2585
 8116 018c FFF7FEFF 		bl	sys_arch_unprotect
 8117              	.LVL870:
2104:ThirdPackage/lwip220/api/sockets.c ****             break;
 8118              		.loc 1 2104 13 is_stmt 1 view .LVU2586
2104:ThirdPackage/lwip220/api/sockets.c ****             break;
 8119              		.loc 1 2104 13 view .LVU2587
2104:ThirdPackage/lwip220/api/sockets.c ****             break;
 8120              		.loc 1 2104 13 view .LVU2588
 8121 0190 5D4B     		ldr	r3, .L699
 8122 0192 0922     		movs	r2, #9
 8123 0194 1A60     		str	r2, [r3]
2104:ThirdPackage/lwip220/api/sockets.c ****             break;
 8124              		.loc 1 2104 13 is_stmt 0 view .LVU2589
 8125              	.LBE52:
2110:ThirdPackage/lwip220/api/sockets.c ****         /* Call lwip_selscan again: there could have been events between
 8126              		.loc 1 2110 7 is_stmt 1 view .LVU2590
 8127              	.LBB53:
2101:ThirdPackage/lwip220/api/sockets.c ****             maxfdp2 = i;
 8128              		.loc 1 2101 20 is_stmt 0 view .LVU2591
 8129 0196 4FF0FF3B 		mov	fp, #-1
 8130              	.LBE53:
 8131              	.LBE58:
2005:ThirdPackage/lwip220/api/sockets.c ****   int nready;
 8132              		.loc 1 2005 9 view .LVU2592
 8133 019a 0023     		movs	r3, #0
 8134 019c 0593     		str	r3, [sp, #20]
 8135              	.LVL871:
 8136              	.L659:
 8137              	.LBB59:
2139:ThirdPackage/lwip220/api/sockets.c ****         if ((readset && FD_ISSET(i, readset)) ||
 8138              		.loc 1 2139 7 is_stmt 1 view .LVU2593
2139:ThirdPackage/lwip220/api/sockets.c ****         if ((readset && FD_ISSET(i, readset)) ||
 8139              		.loc 1 2139 14 is_stmt 0 view .LVU2594
 8140 019e 0025     		movs	r5, #0
 8141 01a0 A246     		mov	r10, r4
 8142 01a2 CDF81090 		str	r9, [sp, #16]
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 254


2139:ThirdPackage/lwip220/api/sockets.c ****         if ((readset && FD_ISSET(i, readset)) ||
 8143              		.loc 1 2139 7 view .LVU2595
 8144 01a6 5AE0     		b	.L663
 8145              	.LVL872:
 8146              	.L687:
2113:ThirdPackage/lwip220/api/sockets.c ****         if (nready < 0) {
 8147              		.loc 1 2113 18 view .LVU2596
 8148 01a8 CDF88080 		str	r8, [sp, #128]
 8149 01ac A846     		mov	r8, r5
 8150 01ae 209D     		ldr	r5, [sp, #128]
 8151              	.LVL873:
2110:ThirdPackage/lwip220/api/sockets.c ****         /* Call lwip_selscan again: there could have been events between
 8152              		.loc 1 2110 7 is_stmt 1 view .LVU2597
2113:ThirdPackage/lwip220/api/sockets.c ****         if (nready < 0) {
 8153              		.loc 1 2113 9 view .LVU2598
2113:ThirdPackage/lwip220/api/sockets.c ****         if (nready < 0) {
 8154              		.loc 1 2113 18 is_stmt 0 view .LVU2599
 8155 01b0 10AB     		add	r3, sp, #64
 8156 01b2 0293     		str	r3, [sp, #8]
 8157 01b4 12AB     		add	r3, sp, #72
 8158 01b6 0193     		str	r3, [sp, #4]
 8159 01b8 14AB     		add	r3, sp, #80
 8160 01ba 0093     		str	r3, [sp]
 8161 01bc 4346     		mov	r3, r8
 8162 01be 3A46     		mov	r2, r7
 8163 01c0 3146     		mov	r1, r6
 8164 01c2 4846     		mov	r0, r9
 8165 01c4 FFF7FEFF 		bl	lwip_selscan
 8166              	.LVL874:
2114:ThirdPackage/lwip220/api/sockets.c ****           set_errno(EBADF);
 8167              		.loc 1 2114 9 is_stmt 1 view .LVU2600
2114:ThirdPackage/lwip220/api/sockets.c ****           set_errno(EBADF);
 8168              		.loc 1 2114 12 is_stmt 0 view .LVU2601
 8169 01c8 B0F1000B 		subs	fp, r0, #0
 8170 01cc 19DB     		blt	.L691
2116:ThirdPackage/lwip220/api/sockets.c ****           /* Still none ready, just wait to be woken */
 8171              		.loc 1 2116 16 is_stmt 1 view .LVU2602
2116:ThirdPackage/lwip220/api/sockets.c ****           /* Still none ready, just wait to be woken */
 8172              		.loc 1 2116 19 is_stmt 0 view .LVU2603
 8173 01ce BBF1000F 		cmp	fp, #0
 8174 01d2 21D1     		bne	.L679
2118:ThirdPackage/lwip220/api/sockets.c ****             /* Wait forever */
 8175              		.loc 1 2118 11 is_stmt 1 view .LVU2604
2118:ThirdPackage/lwip220/api/sockets.c ****             /* Wait forever */
 8176              		.loc 1 2118 14 is_stmt 0 view .LVU2605
 8177 01d4 F5B1     		cbz	r5, .L680
 8178              	.LBB54:
2122:ThirdPackage/lwip220/api/sockets.c ****             if (msecs_long <= 0) {
 8179              		.loc 1 2122 13 is_stmt 1 view .LVU2606
2122:ThirdPackage/lwip220/api/sockets.c ****             if (msecs_long <= 0) {
 8180              		.loc 1 2122 40 is_stmt 0 view .LVU2607
 8181 01d6 2868     		ldr	r0, [r5]
 8182              	.LVL875:
2122:ThirdPackage/lwip220/api/sockets.c ****             if (msecs_long <= 0) {
 8183              		.loc 1 2122 68 view .LVU2608
 8184 01d8 AB68     		ldr	r3, [r5, #8]
2122:ThirdPackage/lwip220/api/sockets.c ****             if (msecs_long <= 0) {
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 255


 8185              		.loc 1 2122 78 view .LVU2609
 8186 01da 03F5FA73 		add	r3, r3, #500
2122:ThirdPackage/lwip220/api/sockets.c ****             if (msecs_long <= 0) {
 8187              		.loc 1 2122 85 view .LVU2610
 8188 01de 4B4A     		ldr	r2, .L699+4
 8189 01e0 82FB0312 		smull	r1, r2, r2, r3
 8190 01e4 D917     		asrs	r1, r3, #31
 8191 01e6 C1EBA211 		rsb	r1, r1, r2, asr #6
2122:ThirdPackage/lwip220/api/sockets.c ****             if (msecs_long <= 0) {
 8192              		.loc 1 2122 57 view .LVU2611
 8193 01ea 4FF47A73 		mov	r3, #1000
 8194 01ee 03FB0011 		mla	r1, r3, r0, r1
 8195              	.LVL876:
2123:ThirdPackage/lwip220/api/sockets.c ****               /* Wait 1ms at least (0 means wait forever) */
 8196              		.loc 1 2123 13 is_stmt 1 view .LVU2612
2123:ThirdPackage/lwip220/api/sockets.c ****               /* Wait 1ms at least (0 means wait forever) */
 8197              		.loc 1 2123 16 is_stmt 0 view .LVU2613
 8198 01f2 0029     		cmp	r1, #0
 8199 01f4 0CDD     		ble	.L692
 8200              	.LVL877:
 8201              	.L662:
2123:ThirdPackage/lwip220/api/sockets.c ****               /* Wait 1ms at least (0 means wait forever) */
 8202              		.loc 1 2123 16 view .LVU2614
 8203              	.LBE54:
2131:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
 8204              		.loc 1 2131 11 is_stmt 1 view .LVU2615
2131:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
 8205              		.loc 1 2131 21 is_stmt 0 view .LVU2616
 8206 01f6 0FA8     		add	r0, sp, #60
 8207 01f8 FFF7FEFF 		bl	sys_arch_sem_wait
 8208              	.LVL878:
2131:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
 8209              		.loc 1 2131 21 view .LVU2617
 8210 01fc 0590     		str	r0, [sp, #20]
 8211              	.LVL879:
2077:ThirdPackage/lwip220/api/sockets.c ****       for (i = LWIP_SOCKET_OFFSET; i < maxfdp1; i++) {
 8212              		.loc 1 2077 15 view .LVU2618
 8213 01fe 4C46     		mov	r4, r9
 8214              	.LVL880:
2077:ThirdPackage/lwip220/api/sockets.c ****       for (i = LWIP_SOCKET_OFFSET; i < maxfdp1; i++) {
 8215              		.loc 1 2077 15 view .LVU2619
 8216 0200 CDE7     		b	.L659
 8217              	.LVL881:
 8218              	.L691:
2115:ThirdPackage/lwip220/api/sockets.c ****         } else if (!nready) {
 8219              		.loc 1 2115 11 is_stmt 1 discriminator 1 view .LVU2620
2115:ThirdPackage/lwip220/api/sockets.c ****         } else if (!nready) {
 8220              		.loc 1 2115 11 discriminator 1 view .LVU2621
2115:ThirdPackage/lwip220/api/sockets.c ****         } else if (!nready) {
 8221              		.loc 1 2115 11 discriminator 1 view .LVU2622
 8222 0202 414B     		ldr	r3, .L699
 8223 0204 0922     		movs	r2, #9
 8224 0206 1A60     		str	r2, [r3]
2115:ThirdPackage/lwip220/api/sockets.c ****         } else if (!nready) {
 8225              		.loc 1 2115 11 discriminator 1 view .LVU2623
2077:ThirdPackage/lwip220/api/sockets.c ****       for (i = LWIP_SOCKET_OFFSET; i < maxfdp1; i++) {
 8226              		.loc 1 2077 15 is_stmt 0 discriminator 1 view .LVU2624
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 256


 8227 0208 4C46     		mov	r4, r9
 8228              	.LVL882:
2077:ThirdPackage/lwip220/api/sockets.c ****       for (i = LWIP_SOCKET_OFFSET; i < maxfdp1; i++) {
 8229              		.loc 1 2077 15 discriminator 1 view .LVU2625
 8230              	.LBE59:
2005:ThirdPackage/lwip220/api/sockets.c ****   int nready;
 8231              		.loc 1 2005 9 discriminator 1 view .LVU2626
 8232 020a 0023     		movs	r3, #0
 8233 020c 0593     		str	r3, [sp, #20]
 8234              	.LBB60:
 8235 020e C6E7     		b	.L659
 8236              	.LVL883:
 8237              	.L692:
 8238              	.LBB55:
2125:ThirdPackage/lwip220/api/sockets.c ****             } else {
 8239              		.loc 1 2125 27 view .LVU2627
 8240 0210 0121     		movs	r1, #1
 8241              	.LVL884:
2125:ThirdPackage/lwip220/api/sockets.c ****             } else {
 8242              		.loc 1 2125 27 view .LVU2628
 8243 0212 F0E7     		b	.L662
 8244              	.LVL885:
 8245              	.L680:
2125:ThirdPackage/lwip220/api/sockets.c ****             } else {
 8246              		.loc 1 2125 27 view .LVU2629
 8247              	.LBE55:
2120:ThirdPackage/lwip220/api/sockets.c ****           } else {
 8248              		.loc 1 2120 25 view .LVU2630
 8249 0214 0021     		movs	r1, #0
 8250 0216 EEE7     		b	.L662
 8251              	.L679:
2077:ThirdPackage/lwip220/api/sockets.c ****       for (i = LWIP_SOCKET_OFFSET; i < maxfdp1; i++) {
 8252              		.loc 1 2077 15 view .LVU2631
 8253 0218 4C46     		mov	r4, r9
 8254              	.LVL886:
2077:ThirdPackage/lwip220/api/sockets.c ****       for (i = LWIP_SOCKET_OFFSET; i < maxfdp1; i++) {
 8255              		.loc 1 2077 15 view .LVU2632
 8256              	.LBE60:
2005:ThirdPackage/lwip220/api/sockets.c ****   int nready;
 8257              		.loc 1 2005 9 view .LVU2633
 8258 021a 0023     		movs	r3, #0
 8259 021c 0593     		str	r3, [sp, #20]
 8260 021e BEE7     		b	.L659
 8261              	.LVL887:
 8262              	.L696:
 8263              	.LBB61:
2140:ThirdPackage/lwip220/api/sockets.c ****             (writeset && FD_ISSET(i, writeset)) ||
 8264              		.loc 1 2140 25 discriminator 1 view .LVU2634
 8265 0220 05F11F03 		add	r3, r5, #31
 8266              	.LVL888:
2140:ThirdPackage/lwip220/api/sockets.c ****             (writeset && FD_ISSET(i, writeset)) ||
 8267              		.loc 1 2140 25 discriminator 1 view .LVU2635
 8268 0224 21E0     		b	.L665
 8269              	.LVL889:
 8270              	.L697:
2141:ThirdPackage/lwip220/api/sockets.c ****             (exceptset && FD_ISSET(i, exceptset))) {
 8271              		.loc 1 2141 26 view .LVU2636
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 257


 8272 0226 05F11F03 		add	r3, r5, #31
 8273              	.LVL890:
2141:ThirdPackage/lwip220/api/sockets.c ****             (exceptset && FD_ISSET(i, exceptset))) {
 8274              		.loc 1 2141 26 view .LVU2637
 8275 022a 30E0     		b	.L668
 8276              	.LVL891:
 8277              	.L698:
2142:ThirdPackage/lwip220/api/sockets.c ****           struct lwip_sock *sock;
 8278              		.loc 1 2142 27 view .LVU2638
 8279 022c 05F11F03 		add	r3, r5, #31
 8280              	.LVL892:
2142:ThirdPackage/lwip220/api/sockets.c ****           struct lwip_sock *sock;
 8281              		.loc 1 2142 27 view .LVU2639
 8282 0230 41E0     		b	.L670
 8283              	.L666:
 8284              	.LBB56:
2143:ThirdPackage/lwip220/api/sockets.c ****           SYS_ARCH_PROTECT(lev);
 8285              		.loc 1 2143 11 is_stmt 1 view .LVU2640
2144:ThirdPackage/lwip220/api/sockets.c ****           sock = tryget_socket_unconn_nouse(i);
 8286              		.loc 1 2144 11 view .LVU2641
 8287 0232 FFF7FEFF 		bl	sys_arch_protect
 8288              	.LVL893:
 8289 0236 8146     		mov	r9, r0
 8290              	.LVL894:
2145:ThirdPackage/lwip220/api/sockets.c ****           LWIP_ASSERT("socket gone at the end of select", sock != NULL);
 8291              		.loc 1 2145 11 view .LVU2642
2145:ThirdPackage/lwip220/api/sockets.c ****           LWIP_ASSERT("socket gone at the end of select", sock != NULL);
 8292              		.loc 1 2145 18 is_stmt 0 view .LVU2643
 8293 0238 2846     		mov	r0, r5
 8294              	.LVL895:
2145:ThirdPackage/lwip220/api/sockets.c ****           LWIP_ASSERT("socket gone at the end of select", sock != NULL);
 8295              		.loc 1 2145 18 view .LVU2644
 8296 023a FFF7FEFF 		bl	tryget_socket_unconn_nouse
 8297              	.LVL896:
2146:ThirdPackage/lwip220/api/sockets.c ****           if (sock != NULL) {
 8298              		.loc 1 2146 11 is_stmt 1 view .LVU2645
2146:ThirdPackage/lwip220/api/sockets.c ****           if (sock != NULL) {
 8299              		.loc 1 2146 11 view .LVU2646
 8300 023e 0446     		mov	r4, r0
 8301 0240 0028     		cmp	r0, #0
 8302 0242 47D0     		beq	.L693
 8303              	.LVL897:
 8304              	.L671:
2146:ThirdPackage/lwip220/api/sockets.c ****           if (sock != NULL) {
 8305              		.loc 1 2146 11 discriminator 3 view .LVU2647
2146:ThirdPackage/lwip220/api/sockets.c ****           if (sock != NULL) {
 8306              		.loc 1 2146 11 discriminator 3 view .LVU2648
2147:ThirdPackage/lwip220/api/sockets.c ****             /* for now, handle select_waiting==0... */
 8307              		.loc 1 2147 11 discriminator 3 view .LVU2649
2147:ThirdPackage/lwip220/api/sockets.c ****             /* for now, handle select_waiting==0... */
 8308              		.loc 1 2147 14 is_stmt 0 discriminator 3 view .LVU2650
 8309 0244 002C     		cmp	r4, #0
 8310 0246 55D0     		beq	.L672
2149:ThirdPackage/lwip220/api/sockets.c ****             if (sock->select_waiting > 0) {
 8311              		.loc 1 2149 13 is_stmt 1 view .LVU2651
2149:ThirdPackage/lwip220/api/sockets.c ****             if (sock->select_waiting > 0) {
 8312              		.loc 1 2149 13 view .LVU2652
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 258


 8313 0248 A37B     		ldrb	r3, [r4, #14]	@ zero_extendqisi2
 8314 024a 002B     		cmp	r3, #0
 8315 024c 4AD0     		beq	.L694
 8316              	.L673:
2149:ThirdPackage/lwip220/api/sockets.c ****             if (sock->select_waiting > 0) {
 8317              		.loc 1 2149 13 discriminator 3 view .LVU2653
2149:ThirdPackage/lwip220/api/sockets.c ****             if (sock->select_waiting > 0) {
 8318              		.loc 1 2149 13 discriminator 3 view .LVU2654
2150:ThirdPackage/lwip220/api/sockets.c ****               sock->select_waiting--;
 8319              		.loc 1 2150 13 discriminator 3 view .LVU2655
2150:ThirdPackage/lwip220/api/sockets.c ****               sock->select_waiting--;
 8320              		.loc 1 2150 21 is_stmt 0 discriminator 3 view .LVU2656
 8321 024e A37B     		ldrb	r3, [r4, #14]	@ zero_extendqisi2
2150:ThirdPackage/lwip220/api/sockets.c ****               sock->select_waiting--;
 8322              		.loc 1 2150 16 discriminator 3 view .LVU2657
 8323 0250 0BB1     		cbz	r3, .L674
2151:ThirdPackage/lwip220/api/sockets.c ****             }
 8324              		.loc 1 2151 15 is_stmt 1 view .LVU2658
2151:ThirdPackage/lwip220/api/sockets.c ****             }
 8325              		.loc 1 2151 35 is_stmt 0 view .LVU2659
 8326 0252 013B     		subs	r3, r3, #1
 8327 0254 A373     		strb	r3, [r4, #14]
 8328              	.L674:
2153:ThirdPackage/lwip220/api/sockets.c ****           } else {
 8329              		.loc 1 2153 13 is_stmt 1 view .LVU2660
 8330 0256 4846     		mov	r0, r9
 8331 0258 FFF7FEFF 		bl	sys_arch_unprotect
 8332              	.LVL898:
 8333              	.L669:
2158:ThirdPackage/lwip220/api/sockets.c ****           }
 8334              		.loc 1 2158 13 discriminator 3 view .LVU2661
 8335              	.LBE56:
2139:ThirdPackage/lwip220/api/sockets.c ****         if ((readset && FD_ISSET(i, readset)) ||
 8336              		.loc 1 2139 49 discriminator 3 view .LVU2662
2139:ThirdPackage/lwip220/api/sockets.c ****         if ((readset && FD_ISSET(i, readset)) ||
 8337              		.loc 1 2139 50 is_stmt 0 discriminator 3 view .LVU2663
 8338 025c 0135     		adds	r5, r5, #1
 8339              	.LVL899:
 8340              	.L663:
2139:ThirdPackage/lwip220/api/sockets.c ****         if ((readset && FD_ISSET(i, readset)) ||
 8341              		.loc 1 2139 36 is_stmt 1 discriminator 2 view .LVU2664
2139:ThirdPackage/lwip220/api/sockets.c ****         if ((readset && FD_ISSET(i, readset)) ||
 8342              		.loc 1 2139 7 is_stmt 0 discriminator 2 view .LVU2665
 8343 025e 5545     		cmp	r5, r10
 8344 0260 5EDA     		bge	.L695
2140:ThirdPackage/lwip220/api/sockets.c ****             (writeset && FD_ISSET(i, writeset)) ||
 8345              		.loc 1 2140 9 is_stmt 1 view .LVU2666
2140:ThirdPackage/lwip220/api/sockets.c ****             (writeset && FD_ISSET(i, writeset)) ||
 8346              		.loc 1 2140 12 is_stmt 0 view .LVU2667
 8347 0262 86B1     		cbz	r6, .L664
2140:ThirdPackage/lwip220/api/sockets.c ****             (writeset && FD_ISSET(i, writeset)) ||
 8348              		.loc 1 2140 25 discriminator 1 view .LVU2668
 8349 0264 2B46     		mov	r3, r5
 8350 0266 002D     		cmp	r5, #0
 8351 0268 DADB     		blt	.L696
 8352              	.L665:
2140:ThirdPackage/lwip220/api/sockets.c ****             (writeset && FD_ISSET(i, writeset)) ||
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 259


 8353              		.loc 1 2140 25 discriminator 1 view .LVU2669
 8354 026a 5B11     		asrs	r3, r3, #5
 8355 026c 56F82330 		ldr	r3, [r6, r3, lsl #2]
 8356 0270 6942     		rsbs	r1, r5, #0
 8357 0272 05F01F02 		and	r2, r5, #31
 8358 0276 01F01F01 		and	r1, r1, #31
 8359 027a 58BF     		it	pl
 8360 027c 4A42     		rsbpl	r2, r1, #0
 8361 027e D340     		lsrs	r3, r3, r2
2140:ThirdPackage/lwip220/api/sockets.c ****             (writeset && FD_ISSET(i, writeset)) ||
 8362              		.loc 1 2140 22 discriminator 1 view .LVU2670
 8363 0280 13F0010F 		tst	r3, #1
 8364 0284 D5D1     		bne	.L666
 8365              	.L664:
2140:ThirdPackage/lwip220/api/sockets.c ****             (writeset && FD_ISSET(i, writeset)) ||
 8366              		.loc 1 2140 47 discriminator 3 view .LVU2671
 8367 0286 87B1     		cbz	r7, .L667
2141:ThirdPackage/lwip220/api/sockets.c ****             (exceptset && FD_ISSET(i, exceptset))) {
 8368              		.loc 1 2141 26 view .LVU2672
 8369 0288 2B46     		mov	r3, r5
 8370 028a 002D     		cmp	r5, #0
 8371 028c CBDB     		blt	.L697
 8372              	.L668:
 8373 028e 5B11     		asrs	r3, r3, #5
 8374 0290 57F82330 		ldr	r3, [r7, r3, lsl #2]
 8375 0294 6942     		rsbs	r1, r5, #0
 8376 0296 05F01F02 		and	r2, r5, #31
 8377 029a 01F01F01 		and	r1, r1, #31
 8378 029e 58BF     		it	pl
 8379 02a0 4A42     		rsbpl	r2, r1, #0
 8380 02a2 D340     		lsrs	r3, r3, r2
2141:ThirdPackage/lwip220/api/sockets.c ****             (exceptset && FD_ISSET(i, exceptset))) {
 8381              		.loc 1 2141 23 view .LVU2673
 8382 02a4 13F0010F 		tst	r3, #1
 8383 02a8 C3D1     		bne	.L666
 8384              	.L667:
2141:ThirdPackage/lwip220/api/sockets.c ****             (exceptset && FD_ISSET(i, exceptset))) {
 8385              		.loc 1 2141 49 discriminator 1 view .LVU2674
 8386 02aa B8F1000F 		cmp	r8, #0
 8387 02ae D5D0     		beq	.L669
2142:ThirdPackage/lwip220/api/sockets.c ****           struct lwip_sock *sock;
 8388              		.loc 1 2142 27 view .LVU2675
 8389 02b0 2B46     		mov	r3, r5
 8390 02b2 002D     		cmp	r5, #0
 8391 02b4 BADB     		blt	.L698
 8392              	.L670:
 8393 02b6 5B11     		asrs	r3, r3, #5
 8394 02b8 58F82330 		ldr	r3, [r8, r3, lsl #2]
 8395 02bc 6942     		rsbs	r1, r5, #0
 8396 02be 05F01F02 		and	r2, r5, #31
 8397 02c2 01F01F01 		and	r1, r1, #31
 8398 02c6 58BF     		it	pl
 8399 02c8 4A42     		rsbpl	r2, r1, #0
 8400 02ca D340     		lsrs	r3, r3, r2
2142:ThirdPackage/lwip220/api/sockets.c ****           struct lwip_sock *sock;
 8401              		.loc 1 2142 24 view .LVU2676
 8402 02cc 13F0010F 		tst	r3, #1
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 260


 8403 02d0 C4D0     		beq	.L669
 8404 02d2 AEE7     		b	.L666
 8405              	.LVL900:
 8406              	.L693:
 8407              	.LBB57:
2146:ThirdPackage/lwip220/api/sockets.c ****           if (sock != NULL) {
 8408              		.loc 1 2146 11 is_stmt 1 discriminator 1 view .LVU2677
2146:ThirdPackage/lwip220/api/sockets.c ****           if (sock != NULL) {
 8409              		.loc 1 2146 11 discriminator 1 view .LVU2678
 8410 02d4 0E4B     		ldr	r3, .L699+8
 8411 02d6 40F66202 		movw	r2, #2146
 8412 02da 0E49     		ldr	r1, .L699+12
 8413 02dc 0E48     		ldr	r0, .L699+16
 8414              	.LVL901:
2146:ThirdPackage/lwip220/api/sockets.c ****           if (sock != NULL) {
 8415              		.loc 1 2146 11 is_stmt 0 discriminator 1 view .LVU2679
 8416 02de FFF7FEFF 		bl	printf
 8417              	.LVL902:
 8418 02e2 AFE7     		b	.L671
 8419              	.L694:
2149:ThirdPackage/lwip220/api/sockets.c ****             if (sock->select_waiting > 0) {
 8420              		.loc 1 2149 13 is_stmt 1 discriminator 1 view .LVU2680
2149:ThirdPackage/lwip220/api/sockets.c ****             if (sock->select_waiting > 0) {
 8421              		.loc 1 2149 13 discriminator 1 view .LVU2681
 8422 02e4 0A4B     		ldr	r3, .L699+8
 8423 02e6 40F66502 		movw	r2, #2149
 8424 02ea 0C49     		ldr	r1, .L699+20
 8425 02ec 0A48     		ldr	r0, .L699+16
 8426 02ee FFF7FEFF 		bl	printf
 8427              	.LVL903:
 8428 02f2 ACE7     		b	.L673
 8429              	.L672:
2155:ThirdPackage/lwip220/api/sockets.c ****             /* Not a valid socket */
 8430              		.loc 1 2155 13 view .LVU2682
 8431 02f4 4846     		mov	r0, r9
 8432 02f6 FFF7FEFF 		bl	sys_arch_unprotect
 8433              	.LVL904:
2157:ThirdPackage/lwip220/api/sockets.c ****             set_errno(EBADF);
 8434              		.loc 1 2157 13 view .LVU2683
2158:ThirdPackage/lwip220/api/sockets.c ****           }
 8435              		.loc 1 2158 13 view .LVU2684
2158:ThirdPackage/lwip220/api/sockets.c ****           }
 8436              		.loc 1 2158 13 view .LVU2685
2158:ThirdPackage/lwip220/api/sockets.c ****           }
 8437              		.loc 1 2158 13 view .LVU2686
 8438 02fa 034B     		ldr	r3, .L699
 8439 02fc 0922     		movs	r2, #9
 8440 02fe 1A60     		str	r2, [r3]
2157:ThirdPackage/lwip220/api/sockets.c ****             set_errno(EBADF);
 8441              		.loc 1 2157 20 is_stmt 0 view .LVU2687
 8442 0300 4FF0FF3B 		mov	fp, #-1
 8443 0304 AAE7     		b	.L669
 8444              	.L700:
 8445 0306 00BF     		.align	2
 8446              	.L699:
 8447 0308 00000000 		.word	errno
 8448 030c D34D6210 		.word	274877907
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 261


 8449 0310 00000000 		.word	.LC0
 8450 0314 00000000 		.word	.LC23
 8451 0318 3C000000 		.word	.LC2
 8452 031c 00000000 		.word	.LC5
 8453              	.LVL905:
 8454              	.L695:
2157:ThirdPackage/lwip220/api/sockets.c ****             set_errno(EBADF);
 8455              		.loc 1 2157 20 view .LVU2688
 8456              	.LBE57:
2163:ThirdPackage/lwip220/api/sockets.c **** 
 8457              		.loc 1 2163 7 view .LVU2689
 8458 0320 DDF81090 		ldr	r9, [sp, #16]
2163:ThirdPackage/lwip220/api/sockets.c **** 
 8459              		.loc 1 2163 7 is_stmt 1 view .LVU2690
 8460 0324 07A8     		add	r0, sp, #28
 8461 0326 FFF7FEFF 		bl	lwip_unlink_select_cb
 8462              	.LVL906:
2171:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_NETCONN_SEM_PER_THREAD */
 8463              		.loc 1 2171 7 view .LVU2691
 8464 032a 0FA8     		add	r0, sp, #60
 8465 032c FFF7FEFF 		bl	sys_sem_free
 8466              	.LVL907:
2173:ThirdPackage/lwip220/api/sockets.c **** 
 8467              		.loc 1 2173 40 view .LVU2692
2175:ThirdPackage/lwip220/api/sockets.c ****         /* This happens when a socket got closed while waiting */
 8468              		.loc 1 2175 7 view .LVU2693
2175:ThirdPackage/lwip220/api/sockets.c ****         /* This happens when a socket got closed while waiting */
 8469              		.loc 1 2175 10 is_stmt 0 view .LVU2694
 8470 0330 BBF1000F 		cmp	fp, #0
 8471 0334 FFF6C3AE 		blt	.L648
2181:ThirdPackage/lwip220/api/sockets.c ****         /* Timeout */
 8472              		.loc 1 2181 7 is_stmt 1 view .LVU2695
2181:ThirdPackage/lwip220/api/sockets.c ****         /* Timeout */
 8473              		.loc 1 2181 10 is_stmt 0 view .LVU2696
 8474 0338 059B     		ldr	r3, [sp, #20]
 8475 033a B3F1FF3F 		cmp	r3, #-1
 8476 033e 3FF478AE 		beq	.L645
2188:ThirdPackage/lwip220/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_select: nready=%d\n", nready));
 8477              		.loc 1 2188 9 is_stmt 1 view .LVU2697
2188:ThirdPackage/lwip220/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_select: nready=%d\n", nready));
 8478              		.loc 1 2188 18 is_stmt 0 view .LVU2698
 8479 0342 10AB     		add	r3, sp, #64
 8480 0344 0293     		str	r3, [sp, #8]
 8481 0346 12AB     		add	r3, sp, #72
 8482 0348 0193     		str	r3, [sp, #4]
 8483 034a 14AB     		add	r3, sp, #80
 8484 034c 0093     		str	r3, [sp]
 8485 034e 4346     		mov	r3, r8
 8486 0350 3A46     		mov	r2, r7
 8487 0352 3146     		mov	r1, r6
 8488 0354 4846     		mov	r0, r9
 8489 0356 FFF7FEFF 		bl	lwip_selscan
 8490              	.LVL908:
2189:ThirdPackage/lwip220/api/sockets.c ****         if (nready < 0) {
 8491              		.loc 1 2189 73 is_stmt 1 view .LVU2699
2190:ThirdPackage/lwip220/api/sockets.c ****           set_errno(EBADF);
 8492              		.loc 1 2190 9 view .LVU2700
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 262


2190:ThirdPackage/lwip220/api/sockets.c ****           set_errno(EBADF);
 8493              		.loc 1 2190 12 is_stmt 0 view .LVU2701
 8494 035a B0F1000B 		subs	fp, r0, #0
 8495 035e BFF668AE 		bge	.L645
2191:ThirdPackage/lwip220/api/sockets.c ****           lwip_select_dec_sockets_used(maxfdp1, &used_sockets);
 8496              		.loc 1 2191 11 is_stmt 1 discriminator 1 view .LVU2702
2191:ThirdPackage/lwip220/api/sockets.c ****           lwip_select_dec_sockets_used(maxfdp1, &used_sockets);
 8497              		.loc 1 2191 11 discriminator 1 view .LVU2703
2191:ThirdPackage/lwip220/api/sockets.c ****           lwip_select_dec_sockets_used(maxfdp1, &used_sockets);
 8498              		.loc 1 2191 11 discriminator 1 view .LVU2704
 8499 0362 024B     		ldr	r3, .L701
 8500 0364 0922     		movs	r2, #9
 8501 0366 1A60     		str	r2, [r3]
2191:ThirdPackage/lwip220/api/sockets.c ****           lwip_select_dec_sockets_used(maxfdp1, &used_sockets);
 8502              		.loc 1 2191 11 discriminator 1 view .LVU2705
2192:ThirdPackage/lwip220/api/sockets.c ****           return -1;
 8503              		.loc 1 2192 63 discriminator 1 view .LVU2706
2193:ThirdPackage/lwip220/api/sockets.c ****         }
 8504              		.loc 1 2193 11 discriminator 1 view .LVU2707
2193:ThirdPackage/lwip220/api/sockets.c ****         }
 8505              		.loc 1 2193 18 is_stmt 0 discriminator 1 view .LVU2708
 8506 0368 A9E6     		b	.L648
 8507              	.L702:
 8508 036a 00BF     		.align	2
 8509              	.L701:
 8510 036c 00000000 		.word	errno
 8511              	.LBE61:
 8512              		.cfi_endproc
 8513              	.LFE195:
 8515              		.section	.rodata.lwip_poll.str1.4,"aMS",%progbits,1
 8516              		.align	2
 8517              	.LC24:
 8518 0000 74696D65 		.ascii	"timeout > 0\000"
 8518      6F757420 
 8518      3E203000 
 8519              		.section	.text.lwip_poll,"ax",%progbits
 8520              		.align	1
 8521              		.global	lwip_poll
 8522              		.syntax unified
 8523              		.thumb
 8524              		.thumb_func
 8526              	lwip_poll:
 8527              	.LVL909:
 8528              	.LFB197:
2365:ThirdPackage/lwip220/api/sockets.c ****   u32_t waitres = 0;
 8529              		.loc 1 2365 1 is_stmt 1 view -0
 8530              		.cfi_startproc
 8531              		@ args = 0, pretend = 0, frame = 40
 8532              		@ frame_needed = 0, uses_anonymous_args = 0
2365:ThirdPackage/lwip220/api/sockets.c ****   u32_t waitres = 0;
 8533              		.loc 1 2365 1 is_stmt 0 view .LVU2710
 8534 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 8535              	.LCFI106:
 8536              		.cfi_def_cfa_offset 20
 8537              		.cfi_offset 4, -20
 8538              		.cfi_offset 5, -16
 8539              		.cfi_offset 6, -12
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 263


 8540              		.cfi_offset 7, -8
 8541              		.cfi_offset 14, -4
 8542 0002 8BB0     		sub	sp, sp, #44
 8543              	.LCFI107:
 8544              		.cfi_def_cfa_offset 64
 8545 0004 0D46     		mov	r5, r1
 8546 0006 1646     		mov	r6, r2
2366:ThirdPackage/lwip220/api/sockets.c ****   int nready;
 8547              		.loc 1 2366 3 is_stmt 1 view .LVU2711
 8548              	.LVL910:
2367:ThirdPackage/lwip220/api/sockets.c ****   u32_t msectimeout;
 8549              		.loc 1 2367 3 view .LVU2712
2368:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
 8550              		.loc 1 2368 3 view .LVU2713
2374:ThirdPackage/lwip220/api/sockets.c ****   LWIP_ERROR("lwip_poll: invalid fds", ((fds != NULL && nfds > 0) || (fds == NULL && nfds == 0)),
 8551              		.loc 1 2374 51 view .LVU2714
2375:ThirdPackage/lwip220/api/sockets.c ****              set_errno(EINVAL); return -1;);
 8552              		.loc 1 2375 3 view .LVU2715
2375:ThirdPackage/lwip220/api/sockets.c ****              set_errno(EINVAL); return -1;);
 8553              		.loc 1 2375 3 view .LVU2716
 8554 0008 0746     		mov	r7, r0
 8555 000a 00B1     		cbz	r0, .L704
2375:ThirdPackage/lwip220/api/sockets.c ****              set_errno(EINVAL); return -1;);
 8556              		.loc 1 2375 3 is_stmt 0 discriminator 2 view .LVU2717
 8557 000c 09B9     		cbnz	r1, .L705
 8558              	.L704:
2375:ThirdPackage/lwip220/api/sockets.c ****              set_errno(EINVAL); return -1;);
 8559              		.loc 1 2375 3 discriminator 3 view .LVU2718
 8560 000e 67B9     		cbnz	r7, .L706
2375:ThirdPackage/lwip220/api/sockets.c ****              set_errno(EINVAL); return -1;);
 8561              		.loc 1 2375 3 discriminator 6 view .LVU2719
 8562 0010 5DB9     		cbnz	r5, .L706
 8563              	.L705:
2375:ThirdPackage/lwip220/api/sockets.c ****              set_errno(EINVAL); return -1;);
 8564              		.loc 1 2375 3 is_stmt 1 discriminator 8 view .LVU2720
2375:ThirdPackage/lwip220/api/sockets.c ****              set_errno(EINVAL); return -1;);
 8565              		.loc 1 2375 3 discriminator 8 view .LVU2721
2378:ThirdPackage/lwip220/api/sockets.c **** 
 8566              		.loc 1 2378 40 discriminator 8 view .LVU2722
2382:ThirdPackage/lwip220/api/sockets.c **** 
 8567              		.loc 1 2382 3 discriminator 8 view .LVU2723
2382:ThirdPackage/lwip220/api/sockets.c **** 
 8568              		.loc 1 2382 12 is_stmt 0 discriminator 8 view .LVU2724
 8569 0012 0122     		movs	r2, #1
 8570              	.LVL911:
2382:ThirdPackage/lwip220/api/sockets.c **** 
 8571              		.loc 1 2382 12 discriminator 8 view .LVU2725
 8572 0014 2946     		mov	r1, r5
 8573              	.LVL912:
2382:ThirdPackage/lwip220/api/sockets.c **** 
 8574              		.loc 1 2382 12 discriminator 8 view .LVU2726
 8575 0016 3846     		mov	r0, r7
 8576              	.LVL913:
2382:ThirdPackage/lwip220/api/sockets.c **** 
 8577              		.loc 1 2382 12 discriminator 8 view .LVU2727
 8578 0018 FFF7FEFF 		bl	lwip_pollscan
 8579              	.LVL914:
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 264


2384:ThirdPackage/lwip220/api/sockets.c ****     lwip_poll_dec_sockets_used(fds, nfds);
 8580              		.loc 1 2384 3 is_stmt 1 discriminator 8 view .LVU2728
2384:ThirdPackage/lwip220/api/sockets.c ****     lwip_poll_dec_sockets_used(fds, nfds);
 8581              		.loc 1 2384 6 is_stmt 0 discriminator 8 view .LVU2729
 8582 001c 041E     		subs	r4, r0, #0
 8583 001e 45DB     		blt	.L714
2390:ThirdPackage/lwip220/api/sockets.c ****     API_SELECT_CB_VAR_DECLARE(select_cb);
 8584              		.loc 1 2390 3 is_stmt 1 view .LVU2730
2390:ThirdPackage/lwip220/api/sockets.c ****     API_SELECT_CB_VAR_DECLARE(select_cb);
 8585              		.loc 1 2390 6 is_stmt 0 view .LVU2731
 8586 0020 04B9     		cbnz	r4, .L703
 8587              	.LBB62:
2391:ThirdPackage/lwip220/api/sockets.c **** 
 8588              		.loc 1 2391 5 is_stmt 1 view .LVU2732
2393:ThirdPackage/lwip220/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_poll: no timeout, returning 0\n"));
 8589              		.loc 1 2393 5 view .LVU2733
2393:ThirdPackage/lwip220/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_poll: no timeout, returning 0\n"));
 8590              		.loc 1 2393 8 is_stmt 0 view .LVU2734
 8591 0022 46B9     		cbnz	r6, .L718
 8592              	.LVL915:
 8593              	.L703:
2393:ThirdPackage/lwip220/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_poll: no timeout, returning 0\n"));
 8594              		.loc 1 2393 8 view .LVU2735
 8595              	.LBE62:
2476:ThirdPackage/lwip220/api/sockets.c **** 
 8596              		.loc 1 2476 1 view .LVU2736
 8597 0024 2046     		mov	r0, r4
 8598 0026 0BB0     		add	sp, sp, #44
 8599              	.LCFI108:
 8600              		.cfi_remember_state
 8601              		.cfi_def_cfa_offset 20
 8602              		@ sp needed
 8603 0028 F0BD     		pop	{r4, r5, r6, r7, pc}
 8604              	.LVL916:
 8605              	.L706:
 8606              	.LCFI109:
 8607              		.cfi_restore_state
2375:ThirdPackage/lwip220/api/sockets.c ****              set_errno(EINVAL); return -1;);
 8608              		.loc 1 2375 3 is_stmt 1 discriminator 9 view .LVU2737
2375:ThirdPackage/lwip220/api/sockets.c ****              set_errno(EINVAL); return -1;);
 8609              		.loc 1 2375 3 discriminator 9 view .LVU2738
2375:ThirdPackage/lwip220/api/sockets.c ****              set_errno(EINVAL); return -1;);
 8610              		.loc 1 2375 3 discriminator 9 view .LVU2739
2375:ThirdPackage/lwip220/api/sockets.c ****              set_errno(EINVAL); return -1;);
 8611              		.loc 1 2375 3 discriminator 9 view .LVU2740
 8612 002a 224B     		ldr	r3, .L721
 8613 002c 1622     		movs	r2, #22
 8614              	.LVL917:
2375:ThirdPackage/lwip220/api/sockets.c ****              set_errno(EINVAL); return -1;);
 8615              		.loc 1 2375 3 is_stmt 0 discriminator 9 view .LVU2741
 8616 002e 1A60     		str	r2, [r3]
2375:ThirdPackage/lwip220/api/sockets.c ****              set_errno(EINVAL); return -1;);
 8617              		.loc 1 2375 3 is_stmt 1 discriminator 9 view .LVU2742
2375:ThirdPackage/lwip220/api/sockets.c ****              set_errno(EINVAL); return -1;);
 8618              		.loc 1 2375 3 discriminator 9 view .LVU2743
 8619 0030 4FF0FF34 		mov	r4, #-1
 8620 0034 F6E7     		b	.L703
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 265


 8621              	.LVL918:
 8622              	.L718:
 8623              	.LBB63:
2397:ThirdPackage/lwip220/api/sockets.c ****     memset(&API_SELECT_CB_VAR_REF(select_cb), 0, sizeof(struct lwip_select_cb));
 8624              		.loc 1 2397 108 view .LVU2744
2398:ThirdPackage/lwip220/api/sockets.c **** 
 8625              		.loc 1 2398 5 view .LVU2745
 8626 0036 2422     		movs	r2, #36
 8627 0038 0021     		movs	r1, #0
 8628 003a 01A8     		add	r0, sp, #4
 8629              	.LVL919:
2398:ThirdPackage/lwip220/api/sockets.c **** 
 8630              		.loc 1 2398 5 is_stmt 0 view .LVU2746
 8631 003c FFF7FEFF 		bl	memset
 8632              	.LVL920:
2405:ThirdPackage/lwip220/api/sockets.c ****     API_SELECT_CB_VAR_REF(select_cb).poll_nfds = nfds;
 8633              		.loc 1 2405 5 is_stmt 1 view .LVU2747
2405:ThirdPackage/lwip220/api/sockets.c ****     API_SELECT_CB_VAR_REF(select_cb).poll_nfds = nfds;
 8634              		.loc 1 2405 47 is_stmt 0 view .LVU2748
 8635 0040 0697     		str	r7, [sp, #24]
2406:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
 8636              		.loc 1 2406 5 is_stmt 1 view .LVU2749
2406:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
 8637              		.loc 1 2406 48 is_stmt 0 view .LVU2750
 8638 0042 0795     		str	r5, [sp, #28]
2410:ThirdPackage/lwip220/api/sockets.c ****       /* failed to create semaphore */
 8639              		.loc 1 2410 5 is_stmt 1 view .LVU2751
2410:ThirdPackage/lwip220/api/sockets.c ****       /* failed to create semaphore */
 8640              		.loc 1 2410 9 is_stmt 0 view .LVU2752
 8641 0044 0021     		movs	r1, #0
 8642 0046 09A8     		add	r0, sp, #36
 8643 0048 FFF7FEFF 		bl	sys_sem_new
 8644              	.LVL921:
2410:ThirdPackage/lwip220/api/sockets.c ****       /* failed to create semaphore */
 8645              		.loc 1 2410 8 view .LVU2753
 8646 004c F0B9     		cbnz	r0, .L719
2419:ThirdPackage/lwip220/api/sockets.c **** 
 8647              		.loc 1 2419 5 is_stmt 1 view .LVU2754
 8648 004e 01A8     		add	r0, sp, #4
 8649 0050 FFF7FEFF 		bl	lwip_link_select_cb
 8650              	.LVL922:
2424:ThirdPackage/lwip220/api/sockets.c **** 
 8651              		.loc 1 2424 5 view .LVU2755
2424:ThirdPackage/lwip220/api/sockets.c **** 
 8652              		.loc 1 2424 14 is_stmt 0 view .LVU2756
 8653 0054 0222     		movs	r2, #2
 8654 0056 2946     		mov	r1, r5
 8655 0058 3846     		mov	r0, r7
 8656 005a FFF7FEFF 		bl	lwip_pollscan
 8657              	.LVL923:
2426:ThirdPackage/lwip220/api/sockets.c ****       /* Still none ready, just wait to be woken */
 8658              		.loc 1 2426 5 is_stmt 1 view .LVU2757
2426:ThirdPackage/lwip220/api/sockets.c ****       /* Still none ready, just wait to be woken */
 8659              		.loc 1 2426 8 is_stmt 0 view .LVU2758
 8660 005e 30B9     		cbnz	r0, .L711
2428:ThirdPackage/lwip220/api/sockets.c ****         /* Wait forever */
 8661              		.loc 1 2428 7 is_stmt 1 view .LVU2759
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 266


2428:ThirdPackage/lwip220/api/sockets.c ****         /* Wait forever */
 8662              		.loc 1 2428 10 is_stmt 0 view .LVU2760
 8663 0060 002E     		cmp	r6, #0
 8664 0062 21DB     		blt	.L716
2433:ThirdPackage/lwip220/api/sockets.c ****         msectimeout = timeout;
 8665              		.loc 1 2433 9 is_stmt 1 view .LVU2761
2433:ThirdPackage/lwip220/api/sockets.c ****         msectimeout = timeout;
 8666              		.loc 1 2433 9 view .LVU2762
 8667 0064 18DD     		ble	.L720
 8668              	.LVL924:
 8669              	.L713:
2433:ThirdPackage/lwip220/api/sockets.c ****         msectimeout = timeout;
 8670              		.loc 1 2433 9 discriminator 3 view .LVU2763
2433:ThirdPackage/lwip220/api/sockets.c ****         msectimeout = timeout;
 8671              		.loc 1 2433 9 discriminator 3 view .LVU2764
2434:ThirdPackage/lwip220/api/sockets.c ****       }
 8672              		.loc 1 2434 9 discriminator 3 view .LVU2765
2434:ThirdPackage/lwip220/api/sockets.c ****       }
 8673              		.loc 1 2434 21 is_stmt 0 discriminator 3 view .LVU2766
 8674 0066 3146     		mov	r1, r6
 8675              	.LVL925:
 8676              	.L712:
2436:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
 8677              		.loc 1 2436 7 is_stmt 1 view .LVU2767
2436:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
 8678              		.loc 1 2436 17 is_stmt 0 view .LVU2768
 8679 0068 09A8     		add	r0, sp, #36
 8680 006a FFF7FEFF 		bl	sys_arch_sem_wait
 8681              	.LVL926:
 8682              	.L711:
2444:ThirdPackage/lwip220/api/sockets.c **** 
 8683              		.loc 1 2444 5 is_stmt 1 view .LVU2769
2444:ThirdPackage/lwip220/api/sockets.c **** 
 8684              		.loc 1 2444 14 is_stmt 0 view .LVU2770
 8685 006e 0422     		movs	r2, #4
 8686 0070 2946     		mov	r1, r5
 8687 0072 3846     		mov	r0, r7
 8688 0074 FFF7FEFF 		bl	lwip_pollscan
 8689              	.LVL927:
 8690 0078 0446     		mov	r4, r0
 8691              	.LVL928:
2446:ThirdPackage/lwip220/api/sockets.c **** 
 8692              		.loc 1 2446 5 is_stmt 1 view .LVU2771
 8693 007a 01A8     		add	r0, sp, #4
 8694              	.LVL929:
2446:ThirdPackage/lwip220/api/sockets.c **** 
 8695              		.loc 1 2446 5 is_stmt 0 view .LVU2772
 8696 007c FFF7FEFF 		bl	lwip_unlink_select_cb
 8697              	.LVL930:
2454:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_NETCONN_SEM_PER_THREAD */
 8698              		.loc 1 2454 5 is_stmt 1 view .LVU2773
 8699 0080 09A8     		add	r0, sp, #36
 8700 0082 FFF7FEFF 		bl	sys_sem_free
 8701              	.LVL931:
2456:ThirdPackage/lwip220/api/sockets.c **** 
 8702              		.loc 1 2456 38 view .LVU2774
2458:ThirdPackage/lwip220/api/sockets.c ****       /* This happens when a socket got closed while waiting */
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 267


 8703              		.loc 1 2458 5 view .LVU2775
2458:ThirdPackage/lwip220/api/sockets.c ****       /* This happens when a socket got closed while waiting */
 8704              		.loc 1 2458 8 is_stmt 0 view .LVU2776
 8705 0086 002C     		cmp	r4, #0
 8706 0088 CCDA     		bge	.L703
 8707 008a 02E0     		b	.L710
 8708              	.LVL932:
 8709              	.L719:
2412:ThirdPackage/lwip220/api/sockets.c ****       lwip_poll_dec_sockets_used(fds, nfds);
 8710              		.loc 1 2412 7 is_stmt 1 discriminator 1 view .LVU2777
2412:ThirdPackage/lwip220/api/sockets.c ****       lwip_poll_dec_sockets_used(fds, nfds);
 8711              		.loc 1 2412 7 discriminator 1 view .LVU2778
2412:ThirdPackage/lwip220/api/sockets.c ****       lwip_poll_dec_sockets_used(fds, nfds);
 8712              		.loc 1 2412 7 discriminator 1 view .LVU2779
 8713 008c 094B     		ldr	r3, .L721
 8714 008e 0B22     		movs	r2, #11
 8715 0090 1A60     		str	r2, [r3]
2412:ThirdPackage/lwip220/api/sockets.c ****       lwip_poll_dec_sockets_used(fds, nfds);
 8716              		.loc 1 2412 7 discriminator 1 view .LVU2780
2413:ThirdPackage/lwip220/api/sockets.c ****       API_SELECT_CB_VAR_FREE(select_cb);
 8717              		.loc 1 2413 44 discriminator 1 view .LVU2781
2414:ThirdPackage/lwip220/api/sockets.c ****       return -1;
 8718              		.loc 1 2414 40 discriminator 1 view .LVU2782
2415:ThirdPackage/lwip220/api/sockets.c ****     }
 8719              		.loc 1 2415 7 discriminator 1 view .LVU2783
 8720              	.LVL933:
 8721              	.L710:
2415:ThirdPackage/lwip220/api/sockets.c ****     }
 8722              		.loc 1 2415 14 is_stmt 0 discriminator 1 view .LVU2784
 8723 0092 4FF0FF34 		mov	r4, #-1
 8724              	.LVL934:
2415:ThirdPackage/lwip220/api/sockets.c ****     }
 8725              		.loc 1 2415 14 discriminator 1 view .LVU2785
 8726 0096 C5E7     		b	.L703
 8727              	.LVL935:
 8728              	.L720:
2433:ThirdPackage/lwip220/api/sockets.c ****         msectimeout = timeout;
 8729              		.loc 1 2433 9 is_stmt 1 discriminator 1 view .LVU2786
2433:ThirdPackage/lwip220/api/sockets.c ****         msectimeout = timeout;
 8730              		.loc 1 2433 9 discriminator 1 view .LVU2787
 8731 0098 074B     		ldr	r3, .L721+4
 8732 009a 40F68112 		movw	r2, #2433
 8733 009e 0749     		ldr	r1, .L721+8
 8734 00a0 0748     		ldr	r0, .L721+12
 8735              	.LVL936:
2433:ThirdPackage/lwip220/api/sockets.c ****         msectimeout = timeout;
 8736              		.loc 1 2433 9 is_stmt 0 discriminator 1 view .LVU2788
 8737 00a2 FFF7FEFF 		bl	printf
 8738              	.LVL937:
 8739 00a6 DEE7     		b	.L713
 8740              	.LVL938:
 8741              	.L716:
2430:ThirdPackage/lwip220/api/sockets.c ****       } else {
 8742              		.loc 1 2430 21 view .LVU2789
 8743 00a8 0021     		movs	r1, #0
 8744 00aa DDE7     		b	.L712
 8745              	.L714:
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 268


2430:ThirdPackage/lwip220/api/sockets.c ****       } else {
 8746              		.loc 1 2430 21 view .LVU2790
 8747              	.LBE63:
2386:ThirdPackage/lwip220/api/sockets.c ****   }
 8748              		.loc 1 2386 12 view .LVU2791
 8749 00ac 4FF0FF34 		mov	r4, #-1
 8750              	.LVL939:
2386:ThirdPackage/lwip220/api/sockets.c ****   }
 8751              		.loc 1 2386 12 view .LVU2792
 8752 00b0 B8E7     		b	.L703
 8753              	.L722:
 8754 00b2 00BF     		.align	2
 8755              	.L721:
 8756 00b4 00000000 		.word	errno
 8757 00b8 00000000 		.word	.LC0
 8758 00bc 00000000 		.word	.LC24
 8759 00c0 3C000000 		.word	.LC2
 8760              		.cfi_endproc
 8761              	.LFE197:
 8763              		.section	.text.lwip_shutdown,"ax",%progbits
 8764              		.align	1
 8765              		.global	lwip_shutdown
 8766              		.syntax unified
 8767              		.thumb
 8768              		.thumb_func
 8770              	lwip_shutdown:
 8771              	.LVL940:
 8772              	.LFB201:
2701:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock;
 8773              		.loc 1 2701 1 is_stmt 1 view -0
 8774              		.cfi_startproc
 8775              		@ args = 0, pretend = 0, frame = 0
 8776              		@ frame_needed = 0, uses_anonymous_args = 0
2701:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock;
 8777              		.loc 1 2701 1 is_stmt 0 view .LVU2794
 8778 0000 10B5     		push	{r4, lr}
 8779              	.LCFI110:
 8780              		.cfi_def_cfa_offset 8
 8781              		.cfi_offset 4, -8
 8782              		.cfi_offset 14, -4
 8783 0002 0C46     		mov	r4, r1
2702:ThirdPackage/lwip220/api/sockets.c ****   err_t err;
 8784              		.loc 1 2702 3 is_stmt 1 view .LVU2795
2703:ThirdPackage/lwip220/api/sockets.c ****   u8_t shut_rx = 0, shut_tx = 0;
 8785              		.loc 1 2703 3 view .LVU2796
2704:ThirdPackage/lwip220/api/sockets.c **** 
 8786              		.loc 1 2704 3 view .LVU2797
 8787              	.LVL941:
2706:ThirdPackage/lwip220/api/sockets.c **** 
 8788              		.loc 1 2706 70 view .LVU2798
2708:ThirdPackage/lwip220/api/sockets.c ****   if (!sock) {
 8789              		.loc 1 2708 3 view .LVU2799
2708:ThirdPackage/lwip220/api/sockets.c ****   if (!sock) {
 8790              		.loc 1 2708 10 is_stmt 0 view .LVU2800
 8791 0004 FFF7FEFF 		bl	get_socket
 8792              	.LVL942:
2709:ThirdPackage/lwip220/api/sockets.c ****     return -1;
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 269


 8793              		.loc 1 2709 3 is_stmt 1 view .LVU2801
2709:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 8794              		.loc 1 2709 6 is_stmt 0 view .LVU2802
 8795 0008 A0B3     		cbz	r0, .L729
2713:ThirdPackage/lwip220/api/sockets.c ****     if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) != NETCONN_TCP) {
 8796              		.loc 1 2713 3 is_stmt 1 view .LVU2803
2713:ThirdPackage/lwip220/api/sockets.c ****     if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) != NETCONN_TCP) {
 8797              		.loc 1 2713 11 is_stmt 0 view .LVU2804
 8798 000a 0068     		ldr	r0, [r0]
 8799              	.LVL943:
2713:ThirdPackage/lwip220/api/sockets.c ****     if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) != NETCONN_TCP) {
 8800              		.loc 1 2713 6 view .LVU2805
 8801 000c D0B1     		cbz	r0, .L725
2714:ThirdPackage/lwip220/api/sockets.c ****       set_errno(EOPNOTSUPP);
 8802              		.loc 1 2714 5 is_stmt 1 view .LVU2806
2714:ThirdPackage/lwip220/api/sockets.c ****       set_errno(EOPNOTSUPP);
 8803              		.loc 1 2714 9 is_stmt 0 view .LVU2807
 8804 000e 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
2714:ThirdPackage/lwip220/api/sockets.c ****       set_errno(EOPNOTSUPP);
 8805              		.loc 1 2714 8 view .LVU2808
 8806 0010 03F0F003 		and	r3, r3, #240
 8807 0014 102B     		cmp	r3, #16
 8808 0016 0FD1     		bne	.L735
2725:ThirdPackage/lwip220/api/sockets.c ****     shut_rx = 1;
 8809              		.loc 1 2725 3 is_stmt 1 view .LVU2809
2725:ThirdPackage/lwip220/api/sockets.c ****     shut_rx = 1;
 8810              		.loc 1 2725 6 is_stmt 0 view .LVU2810
 8811 0018 04B3     		cbz	r4, .L730
2727:ThirdPackage/lwip220/api/sockets.c ****     shut_tx = 1;
 8812              		.loc 1 2727 10 is_stmt 1 view .LVU2811
2727:ThirdPackage/lwip220/api/sockets.c ****     shut_tx = 1;
 8813              		.loc 1 2727 13 is_stmt 0 view .LVU2812
 8814 001a 012C     		cmp	r4, #1
 8815 001c 21D0     		beq	.L731
2729:ThirdPackage/lwip220/api/sockets.c ****     shut_rx = 1;
 8816              		.loc 1 2729 10 is_stmt 1 view .LVU2813
2729:ThirdPackage/lwip220/api/sockets.c ****     shut_rx = 1;
 8817              		.loc 1 2729 13 is_stmt 0 view .LVU2814
 8818 001e 022C     		cmp	r4, #2
 8819 0020 16D1     		bne	.L736
2731:ThirdPackage/lwip220/api/sockets.c ****   } else {
 8820              		.loc 1 2731 13 view .LVU2815
 8821 0022 0122     		movs	r2, #1
2730:ThirdPackage/lwip220/api/sockets.c ****     shut_tx = 1;
 8822              		.loc 1 2730 13 view .LVU2816
 8823 0024 1146     		mov	r1, r2
 8824              	.L727:
 8825              	.LVL944:
2737:ThirdPackage/lwip220/api/sockets.c **** 
 8826              		.loc 1 2737 3 is_stmt 1 view .LVU2817
2737:ThirdPackage/lwip220/api/sockets.c **** 
 8827              		.loc 1 2737 9 is_stmt 0 view .LVU2818
 8828 0026 FFF7FEFF 		bl	netconn_shutdown
 8829              	.LVL945:
2737:ThirdPackage/lwip220/api/sockets.c **** 
 8830              		.loc 1 2737 9 view .LVU2819
 8831 002a 0446     		mov	r4, r0
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 270


 8832              	.LVL946:
2739:ThirdPackage/lwip220/api/sockets.c ****   done_socket(sock);
 8833              		.loc 1 2739 3 is_stmt 1 view .LVU2820
2739:ThirdPackage/lwip220/api/sockets.c ****   done_socket(sock);
 8834              		.loc 1 2739 3 view .LVU2821
 8835 002c FFF7FEFF 		bl	err_to_errno
 8836              	.LVL947:
 8837 0030 D0B9     		cbnz	r0, .L737
 8838              	.L728:
2739:ThirdPackage/lwip220/api/sockets.c ****   done_socket(sock);
 8839              		.loc 1 2739 3 discriminator 3 view .LVU2822
2740:ThirdPackage/lwip220/api/sockets.c ****   return (err == ERR_OK ? 0 : -1);
 8840              		.loc 1 2740 20 discriminator 3 view .LVU2823
2741:ThirdPackage/lwip220/api/sockets.c **** }
 8841              		.loc 1 2741 3 discriminator 3 view .LVU2824
2741:ThirdPackage/lwip220/api/sockets.c **** }
 8842              		.loc 1 2741 29 is_stmt 0 discriminator 3 view .LVU2825
 8843 0032 14BB     		cbnz	r4, .L733
2741:ThirdPackage/lwip220/api/sockets.c **** }
 8844              		.loc 1 2741 29 view .LVU2826
 8845 0034 0020     		movs	r0, #0
 8846              	.LVL948:
 8847              	.L723:
2742:ThirdPackage/lwip220/api/sockets.c **** 
 8848              		.loc 1 2742 1 view .LVU2827
 8849 0036 10BD     		pop	{r4, pc}
 8850              	.LVL949:
 8851              	.L735:
2715:ThirdPackage/lwip220/api/sockets.c ****       done_socket(sock);
 8852              		.loc 1 2715 7 is_stmt 1 discriminator 1 view .LVU2828
2715:ThirdPackage/lwip220/api/sockets.c ****       done_socket(sock);
 8853              		.loc 1 2715 7 discriminator 1 view .LVU2829
2715:ThirdPackage/lwip220/api/sockets.c ****       done_socket(sock);
 8854              		.loc 1 2715 7 discriminator 1 view .LVU2830
 8855 0038 114B     		ldr	r3, .L738
 8856 003a 5F22     		movs	r2, #95
 8857 003c 1A60     		str	r2, [r3]
2715:ThirdPackage/lwip220/api/sockets.c ****       done_socket(sock);
 8858              		.loc 1 2715 7 discriminator 1 view .LVU2831
2716:ThirdPackage/lwip220/api/sockets.c ****       return -1;
 8859              		.loc 1 2716 24 discriminator 1 view .LVU2832
2717:ThirdPackage/lwip220/api/sockets.c ****     }
 8860              		.loc 1 2717 7 discriminator 1 view .LVU2833
2717:ThirdPackage/lwip220/api/sockets.c ****     }
 8861              		.loc 1 2717 14 is_stmt 0 discriminator 1 view .LVU2834
 8862 003e 4FF0FF30 		mov	r0, #-1
 8863 0042 F8E7     		b	.L723
 8864              	.L725:
2720:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
 8865              		.loc 1 2720 5 is_stmt 1 discriminator 1 view .LVU2835
2720:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
 8866              		.loc 1 2720 5 discriminator 1 view .LVU2836
2720:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
 8867              		.loc 1 2720 5 discriminator 1 view .LVU2837
 8868 0044 0E4B     		ldr	r3, .L738
 8869 0046 6B22     		movs	r2, #107
 8870 0048 1A60     		str	r2, [r3]
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 271


2720:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
 8871              		.loc 1 2720 5 discriminator 1 view .LVU2838
2721:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 8872              		.loc 1 2721 22 discriminator 1 view .LVU2839
2722:ThirdPackage/lwip220/api/sockets.c ****   }
 8873              		.loc 1 2722 5 discriminator 1 view .LVU2840
2722:ThirdPackage/lwip220/api/sockets.c ****   }
 8874              		.loc 1 2722 12 is_stmt 0 discriminator 1 view .LVU2841
 8875 004a 4FF0FF30 		mov	r0, #-1
 8876 004e F2E7     		b	.L723
 8877              	.L736:
2733:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
 8878              		.loc 1 2733 5 is_stmt 1 discriminator 1 view .LVU2842
2733:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
 8879              		.loc 1 2733 5 discriminator 1 view .LVU2843
2733:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
 8880              		.loc 1 2733 5 discriminator 1 view .LVU2844
 8881 0050 0B4B     		ldr	r3, .L738
 8882 0052 1622     		movs	r2, #22
 8883 0054 1A60     		str	r2, [r3]
2733:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
 8884              		.loc 1 2733 5 discriminator 1 view .LVU2845
2734:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 8885              		.loc 1 2734 22 discriminator 1 view .LVU2846
2735:ThirdPackage/lwip220/api/sockets.c ****   }
 8886              		.loc 1 2735 5 discriminator 1 view .LVU2847
2735:ThirdPackage/lwip220/api/sockets.c ****   }
 8887              		.loc 1 2735 12 is_stmt 0 discriminator 1 view .LVU2848
 8888 0056 4FF0FF30 		mov	r0, #-1
 8889 005a ECE7     		b	.L723
 8890              	.L730:
2704:ThirdPackage/lwip220/api/sockets.c **** 
 8891              		.loc 1 2704 21 view .LVU2849
 8892 005c 0022     		movs	r2, #0
2726:ThirdPackage/lwip220/api/sockets.c ****   } else if (how == SHUT_WR) {
 8893              		.loc 1 2726 13 view .LVU2850
 8894 005e 0121     		movs	r1, #1
 8895 0060 E1E7     		b	.L727
 8896              	.L731:
2728:ThirdPackage/lwip220/api/sockets.c ****   } else if (how == SHUT_RDWR) {
 8897              		.loc 1 2728 13 view .LVU2851
 8898 0062 0122     		movs	r2, #1
2704:ThirdPackage/lwip220/api/sockets.c **** 
 8899              		.loc 1 2704 8 view .LVU2852
 8900 0064 0021     		movs	r1, #0
 8901 0066 DEE7     		b	.L727
 8902              	.LVL950:
 8903              	.L737:
2739:ThirdPackage/lwip220/api/sockets.c ****   done_socket(sock);
 8904              		.loc 1 2739 3 is_stmt 1 discriminator 1 view .LVU2853
 8905 0068 2046     		mov	r0, r4
 8906 006a FFF7FEFF 		bl	err_to_errno
 8907              	.LVL951:
 8908 006e 044B     		ldr	r3, .L738
 8909 0070 1860     		str	r0, [r3]
 8910 0072 DEE7     		b	.L728
 8911              	.LVL952:
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 272


 8912              	.L729:
2710:ThirdPackage/lwip220/api/sockets.c ****   }
 8913              		.loc 1 2710 12 is_stmt 0 view .LVU2854
 8914 0074 4FF0FF30 		mov	r0, #-1
 8915              	.LVL953:
2710:ThirdPackage/lwip220/api/sockets.c ****   }
 8916              		.loc 1 2710 12 view .LVU2855
 8917 0078 DDE7     		b	.L723
 8918              	.LVL954:
 8919              	.L733:
2741:ThirdPackage/lwip220/api/sockets.c **** }
 8920              		.loc 1 2741 29 view .LVU2856
 8921 007a 4FF0FF30 		mov	r0, #-1
 8922 007e DAE7     		b	.L723
 8923              	.L739:
 8924              		.align	2
 8925              	.L738:
 8926 0080 00000000 		.word	errno
 8927              		.cfi_endproc
 8928              	.LFE201:
 8930              		.section	.text.lwip_getpeername,"ax",%progbits
 8931              		.align	1
 8932              		.global	lwip_getpeername
 8933              		.syntax unified
 8934              		.thumb
 8935              		.thumb_func
 8937              	lwip_getpeername:
 8938              	.LVL955:
 8939              	.LFB203:
2793:ThirdPackage/lwip220/api/sockets.c ****   return lwip_getaddrname(s, name, namelen, 0);
 8940              		.loc 1 2793 1 is_stmt 1 view -0
 8941              		.cfi_startproc
 8942              		@ args = 0, pretend = 0, frame = 0
 8943              		@ frame_needed = 0, uses_anonymous_args = 0
2793:ThirdPackage/lwip220/api/sockets.c ****   return lwip_getaddrname(s, name, namelen, 0);
 8944              		.loc 1 2793 1 is_stmt 0 view .LVU2858
 8945 0000 08B5     		push	{r3, lr}
 8946              	.LCFI111:
 8947              		.cfi_def_cfa_offset 8
 8948              		.cfi_offset 3, -8
 8949              		.cfi_offset 14, -4
2794:ThirdPackage/lwip220/api/sockets.c **** }
 8950              		.loc 1 2794 3 is_stmt 1 view .LVU2859
2794:ThirdPackage/lwip220/api/sockets.c **** }
 8951              		.loc 1 2794 10 is_stmt 0 view .LVU2860
 8952 0002 0023     		movs	r3, #0
 8953 0004 FFF7FEFF 		bl	lwip_getaddrname
 8954              	.LVL956:
2795:ThirdPackage/lwip220/api/sockets.c **** 
 8955              		.loc 1 2795 1 view .LVU2861
 8956 0008 08BD     		pop	{r3, pc}
 8957              		.cfi_endproc
 8958              	.LFE203:
 8960              		.section	.text.lwip_getsockname,"ax",%progbits
 8961              		.align	1
 8962              		.global	lwip_getsockname
 8963              		.syntax unified
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 273


 8964              		.thumb
 8965              		.thumb_func
 8967              	lwip_getsockname:
 8968              	.LVL957:
 8969              	.LFB204:
2799:ThirdPackage/lwip220/api/sockets.c ****   return lwip_getaddrname(s, name, namelen, 1);
 8970              		.loc 1 2799 1 is_stmt 1 view -0
 8971              		.cfi_startproc
 8972              		@ args = 0, pretend = 0, frame = 0
 8973              		@ frame_needed = 0, uses_anonymous_args = 0
2799:ThirdPackage/lwip220/api/sockets.c ****   return lwip_getaddrname(s, name, namelen, 1);
 8974              		.loc 1 2799 1 is_stmt 0 view .LVU2863
 8975 0000 08B5     		push	{r3, lr}
 8976              	.LCFI112:
 8977              		.cfi_def_cfa_offset 8
 8978              		.cfi_offset 3, -8
 8979              		.cfi_offset 14, -4
2800:ThirdPackage/lwip220/api/sockets.c **** }
 8980              		.loc 1 2800 3 is_stmt 1 view .LVU2864
2800:ThirdPackage/lwip220/api/sockets.c **** }
 8981              		.loc 1 2800 10 is_stmt 0 view .LVU2865
 8982 0002 0123     		movs	r3, #1
 8983 0004 FFF7FEFF 		bl	lwip_getaddrname
 8984              	.LVL958:
2801:ThirdPackage/lwip220/api/sockets.c **** 
 8985              		.loc 1 2801 1 view .LVU2866
 8986 0008 08BD     		pop	{r3, pc}
 8987              		.cfi_endproc
 8988              	.LFE204:
 8990              		.section	.text.lwip_getsockopt,"ax",%progbits
 8991              		.align	1
 8992              		.global	lwip_getsockopt
 8993              		.syntax unified
 8994              		.thumb
 8995              		.thumb_func
 8997              	lwip_getsockopt:
 8998              	.LVL959:
 8999              	.LFB205:
2805:ThirdPackage/lwip220/api/sockets.c ****   int err;
 9000              		.loc 1 2805 1 is_stmt 1 view -0
 9001              		.cfi_startproc
 9002              		@ args = 4, pretend = 0, frame = 0
 9003              		@ frame_needed = 0, uses_anonymous_args = 0
2805:ThirdPackage/lwip220/api/sockets.c ****   int err;
 9004              		.loc 1 2805 1 is_stmt 0 view .LVU2868
 9005 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 9006              	.LCFI113:
 9007              		.cfi_def_cfa_offset 28
 9008              		.cfi_offset 4, -28
 9009              		.cfi_offset 5, -24
 9010              		.cfi_offset 6, -20
 9011              		.cfi_offset 7, -16
 9012              		.cfi_offset 8, -12
 9013              		.cfi_offset 9, -8
 9014              		.cfi_offset 14, -4
 9015 0004 83B0     		sub	sp, sp, #12
 9016              	.LCFI114:
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 274


 9017              		.cfi_def_cfa_offset 40
 9018 0006 0546     		mov	r5, r0
 9019 0008 0E46     		mov	r6, r1
 9020 000a 1746     		mov	r7, r2
 9021 000c 1C46     		mov	r4, r3
 9022 000e DDF82880 		ldr	r8, [sp, #40]
2806:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock = get_socket(s);
 9023              		.loc 1 2806 3 is_stmt 1 view .LVU2869
2807:ThirdPackage/lwip220/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
 9024              		.loc 1 2807 3 view .LVU2870
2807:ThirdPackage/lwip220/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
 9025              		.loc 1 2807 28 is_stmt 0 view .LVU2871
 9026 0012 FFF7FEFF 		bl	get_socket
 9027              	.LVL960:
2813:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 9028              		.loc 1 2813 3 is_stmt 1 view .LVU2872
2813:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 9029              		.loc 1 2813 6 is_stmt 0 view .LVU2873
 9030 0016 28B3     		cbz	r0, .L749
2817:ThirdPackage/lwip220/api/sockets.c ****     set_errno(EFAULT);
 9031              		.loc 1 2817 3 is_stmt 1 view .LVU2874
2817:ThirdPackage/lwip220/api/sockets.c ****     set_errno(EFAULT);
 9032              		.loc 1 2817 6 is_stmt 0 view .LVU2875
 9033 0018 DCB1     		cbz	r4, .L746
2817:ThirdPackage/lwip220/api/sockets.c ****     set_errno(EFAULT);
 9034              		.loc 1 2817 24 discriminator 1 view .LVU2876
 9035 001a B8F1000F 		cmp	r8, #0
 9036 001e 18D0     		beq	.L746
2825:ThirdPackage/lwip220/api/sockets.c ****   err = lwip_getsockopt_impl(s, level, optname, optval, optlen);
 9037              		.loc 1 2825 3 is_stmt 1 view .LVU2877
 9038 0020 DFF84C90 		ldr	r9, .L752+4
 9039 0024 4846     		mov	r0, r9
 9040              	.LVL961:
2825:ThirdPackage/lwip220/api/sockets.c ****   err = lwip_getsockopt_impl(s, level, optname, optval, optlen);
 9041              		.loc 1 2825 3 is_stmt 0 view .LVU2878
 9042 0026 FFF7FEFF 		bl	sys_mutex_lock
 9043              	.LVL962:
2826:ThirdPackage/lwip220/api/sockets.c ****   UNLOCK_TCPIP_CORE();
 9044              		.loc 1 2826 3 is_stmt 1 view .LVU2879
2826:ThirdPackage/lwip220/api/sockets.c ****   UNLOCK_TCPIP_CORE();
 9045              		.loc 1 2826 9 is_stmt 0 view .LVU2880
 9046 002a CDF80080 		str	r8, [sp]
 9047 002e 2346     		mov	r3, r4
 9048 0030 3A46     		mov	r2, r7
 9049 0032 3146     		mov	r1, r6
 9050 0034 2846     		mov	r0, r5
 9051 0036 FFF7FEFF 		bl	lwip_getsockopt_impl
 9052              	.LVL963:
 9053 003a 0446     		mov	r4, r0
 9054              	.LVL964:
2827:ThirdPackage/lwip220/api/sockets.c **** 
 9055              		.loc 1 2827 3 is_stmt 1 view .LVU2881
 9056 003c 4846     		mov	r0, r9
 9057              	.LVL965:
2827:ThirdPackage/lwip220/api/sockets.c **** 
 9058              		.loc 1 2827 3 is_stmt 0 view .LVU2882
 9059 003e FFF7FEFF 		bl	sys_mutex_unlock
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 275


 9060              	.LVL966:
2875:ThirdPackage/lwip220/api/sockets.c ****   done_socket(sock);
 9061              		.loc 1 2875 3 is_stmt 1 view .LVU2883
2875:ThirdPackage/lwip220/api/sockets.c ****   done_socket(sock);
 9062              		.loc 1 2875 3 view .LVU2884
 9063 0042 0CB1     		cbz	r4, .L748
2875:ThirdPackage/lwip220/api/sockets.c ****   done_socket(sock);
 9064              		.loc 1 2875 3 discriminator 1 view .LVU2885
 9065 0044 094B     		ldr	r3, .L752
 9066 0046 1C60     		str	r4, [r3]
 9067              	.L748:
2875:ThirdPackage/lwip220/api/sockets.c ****   done_socket(sock);
 9068              		.loc 1 2875 3 discriminator 3 view .LVU2886
2876:ThirdPackage/lwip220/api/sockets.c ****   return err ? -1 : 0;
 9069              		.loc 1 2876 20 discriminator 3 view .LVU2887
2877:ThirdPackage/lwip220/api/sockets.c **** }
 9070              		.loc 1 2877 3 discriminator 3 view .LVU2888
2877:ThirdPackage/lwip220/api/sockets.c **** }
 9071              		.loc 1 2877 19 is_stmt 0 discriminator 3 view .LVU2889
 9072 0048 4CB9     		cbnz	r4, .L751
 9073              	.LVL967:
 9074              	.L744:
2878:ThirdPackage/lwip220/api/sockets.c **** 
 9075              		.loc 1 2878 1 view .LVU2890
 9076 004a 2046     		mov	r0, r4
 9077 004c 03B0     		add	sp, sp, #12
 9078              	.LCFI115:
 9079              		.cfi_remember_state
 9080              		.cfi_def_cfa_offset 28
 9081              		@ sp needed
 9082 004e BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 9083              	.LVL968:
 9084              	.L746:
 9085              	.LCFI116:
 9086              		.cfi_restore_state
2818:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
 9087              		.loc 1 2818 5 is_stmt 1 discriminator 1 view .LVU2891
2818:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
 9088              		.loc 1 2818 5 discriminator 1 view .LVU2892
2818:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
 9089              		.loc 1 2818 5 discriminator 1 view .LVU2893
 9090 0052 064B     		ldr	r3, .L752
 9091 0054 0E22     		movs	r2, #14
 9092 0056 1A60     		str	r2, [r3]
2818:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
 9093              		.loc 1 2818 5 discriminator 1 view .LVU2894
2819:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 9094              		.loc 1 2819 22 discriminator 1 view .LVU2895
2820:ThirdPackage/lwip220/api/sockets.c ****   }
 9095              		.loc 1 2820 5 discriminator 1 view .LVU2896
2820:ThirdPackage/lwip220/api/sockets.c ****   }
 9096              		.loc 1 2820 12 is_stmt 0 discriminator 1 view .LVU2897
 9097 0058 4FF0FF34 		mov	r4, #-1
 9098              	.LVL969:
2820:ThirdPackage/lwip220/api/sockets.c ****   }
 9099              		.loc 1 2820 12 discriminator 1 view .LVU2898
 9100 005c F5E7     		b	.L744
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 276


 9101              	.LVL970:
 9102              	.L751:
2877:ThirdPackage/lwip220/api/sockets.c **** }
 9103              		.loc 1 2877 19 view .LVU2899
 9104 005e 4FF0FF34 		mov	r4, #-1
 9105              	.LVL971:
2877:ThirdPackage/lwip220/api/sockets.c **** }
 9106              		.loc 1 2877 19 view .LVU2900
 9107 0062 F2E7     		b	.L744
 9108              	.LVL972:
 9109              	.L749:
2814:ThirdPackage/lwip220/api/sockets.c ****   }
 9110              		.loc 1 2814 12 view .LVU2901
 9111 0064 4FF0FF34 		mov	r4, #-1
 9112              	.LVL973:
2814:ThirdPackage/lwip220/api/sockets.c ****   }
 9113              		.loc 1 2814 12 view .LVU2902
 9114 0068 EFE7     		b	.L744
 9115              	.L753:
 9116 006a 00BF     		.align	2
 9117              	.L752:
 9118 006c 00000000 		.word	errno
 9119 0070 00000000 		.word	lock_tcpip_core
 9120              		.cfi_endproc
 9121              	.LFE205:
 9123              		.section	.text.lwip_setsockopt,"ax",%progbits
 9124              		.align	1
 9125              		.global	lwip_setsockopt
 9126              		.syntax unified
 9127              		.thumb
 9128              		.thumb_func
 9130              	lwip_setsockopt:
 9131              	.LVL974:
 9132              	.LFB208:
3251:ThirdPackage/lwip220/api/sockets.c ****   int err = 0;
 9133              		.loc 1 3251 1 is_stmt 1 view -0
 9134              		.cfi_startproc
 9135              		@ args = 4, pretend = 0, frame = 0
 9136              		@ frame_needed = 0, uses_anonymous_args = 0
3251:ThirdPackage/lwip220/api/sockets.c ****   int err = 0;
 9137              		.loc 1 3251 1 is_stmt 0 view .LVU2904
 9138 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 9139              	.LCFI117:
 9140              		.cfi_def_cfa_offset 24
 9141              		.cfi_offset 4, -24
 9142              		.cfi_offset 5, -20
 9143              		.cfi_offset 6, -16
 9144              		.cfi_offset 7, -12
 9145              		.cfi_offset 8, -8
 9146              		.cfi_offset 14, -4
 9147 0004 82B0     		sub	sp, sp, #8
 9148              	.LCFI118:
 9149              		.cfi_def_cfa_offset 32
 9150 0006 0546     		mov	r5, r0
 9151 0008 8846     		mov	r8, r1
 9152 000a 1646     		mov	r6, r2
 9153 000c 1C46     		mov	r4, r3
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 277


3252:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock = get_socket(s);
 9154              		.loc 1 3252 3 is_stmt 1 view .LVU2905
 9155              	.LVL975:
3253:ThirdPackage/lwip220/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
 9156              		.loc 1 3253 3 view .LVU2906
3253:ThirdPackage/lwip220/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
 9157              		.loc 1 3253 28 is_stmt 0 view .LVU2907
 9158 000e FFF7FEFF 		bl	get_socket
 9159              	.LVL976:
3259:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 9160              		.loc 1 3259 3 is_stmt 1 view .LVU2908
3259:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 9161              		.loc 1 3259 6 is_stmt 0 view .LVU2909
 9162 0012 08B3     		cbz	r0, .L758
3263:ThirdPackage/lwip220/api/sockets.c ****     set_errno(EFAULT);
 9163              		.loc 1 3263 3 is_stmt 1 view .LVU2910
3263:ThirdPackage/lwip220/api/sockets.c ****     set_errno(EFAULT);
 9164              		.loc 1 3263 6 is_stmt 0 view .LVU2911
 9165 0014 BCB1     		cbz	r4, .L760
3271:ThirdPackage/lwip220/api/sockets.c ****   err = lwip_setsockopt_impl(s, level, optname, optval, optlen);
 9166              		.loc 1 3271 3 is_stmt 1 view .LVU2912
 9167 0016 124F     		ldr	r7, .L762
 9168 0018 3846     		mov	r0, r7
 9169              	.LVL977:
3271:ThirdPackage/lwip220/api/sockets.c ****   err = lwip_setsockopt_impl(s, level, optname, optval, optlen);
 9170              		.loc 1 3271 3 is_stmt 0 view .LVU2913
 9171 001a FFF7FEFF 		bl	sys_mutex_lock
 9172              	.LVL978:
3272:ThirdPackage/lwip220/api/sockets.c ****   UNLOCK_TCPIP_CORE();
 9173              		.loc 1 3272 3 is_stmt 1 view .LVU2914
3272:ThirdPackage/lwip220/api/sockets.c ****   UNLOCK_TCPIP_CORE();
 9174              		.loc 1 3272 9 is_stmt 0 view .LVU2915
 9175 001e 089B     		ldr	r3, [sp, #32]
 9176 0020 0093     		str	r3, [sp]
 9177 0022 2346     		mov	r3, r4
 9178 0024 3246     		mov	r2, r6
 9179 0026 4146     		mov	r1, r8
 9180 0028 2846     		mov	r0, r5
 9181 002a FFF7FEFF 		bl	lwip_setsockopt_impl
 9182              	.LVL979:
 9183 002e 0446     		mov	r4, r0
 9184              	.LVL980:
3273:ThirdPackage/lwip220/api/sockets.c **** 
 9185              		.loc 1 3273 3 is_stmt 1 view .LVU2916
 9186 0030 3846     		mov	r0, r7
 9187              	.LVL981:
3273:ThirdPackage/lwip220/api/sockets.c **** 
 9188              		.loc 1 3273 3 is_stmt 0 view .LVU2917
 9189 0032 FFF7FEFF 		bl	sys_mutex_unlock
 9190              	.LVL982:
3316:ThirdPackage/lwip220/api/sockets.c ****   done_socket(sock);
 9191              		.loc 1 3316 3 is_stmt 1 view .LVU2918
3316:ThirdPackage/lwip220/api/sockets.c ****   done_socket(sock);
 9192              		.loc 1 3316 3 view .LVU2919
 9193 0036 0CB1     		cbz	r4, .L757
3316:ThirdPackage/lwip220/api/sockets.c ****   done_socket(sock);
 9194              		.loc 1 3316 3 discriminator 1 view .LVU2920
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 278


 9195 0038 0A4B     		ldr	r3, .L762+4
 9196 003a 1C60     		str	r4, [r3]
 9197              	.L757:
3316:ThirdPackage/lwip220/api/sockets.c ****   done_socket(sock);
 9198              		.loc 1 3316 3 discriminator 3 view .LVU2921
3317:ThirdPackage/lwip220/api/sockets.c ****   return err ? -1 : 0;
 9199              		.loc 1 3317 20 discriminator 3 view .LVU2922
3318:ThirdPackage/lwip220/api/sockets.c **** }
 9200              		.loc 1 3318 3 discriminator 3 view .LVU2923
3318:ThirdPackage/lwip220/api/sockets.c **** }
 9201              		.loc 1 3318 19 is_stmt 0 discriminator 3 view .LVU2924
 9202 003c 4CB9     		cbnz	r4, .L761
 9203              	.LVL983:
 9204              	.L754:
3319:ThirdPackage/lwip220/api/sockets.c **** 
 9205              		.loc 1 3319 1 view .LVU2925
 9206 003e 2046     		mov	r0, r4
 9207 0040 02B0     		add	sp, sp, #8
 9208              	.LCFI119:
 9209              		.cfi_remember_state
 9210              		.cfi_def_cfa_offset 24
 9211              		@ sp needed
 9212 0042 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 9213              	.LVL984:
 9214              	.L760:
 9215              	.LCFI120:
 9216              		.cfi_restore_state
3264:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
 9217              		.loc 1 3264 5 is_stmt 1 discriminator 1 view .LVU2926
3264:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
 9218              		.loc 1 3264 5 discriminator 1 view .LVU2927
3264:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
 9219              		.loc 1 3264 5 discriminator 1 view .LVU2928
 9220 0046 074B     		ldr	r3, .L762+4
 9221 0048 0E22     		movs	r2, #14
 9222 004a 1A60     		str	r2, [r3]
3264:ThirdPackage/lwip220/api/sockets.c ****     done_socket(sock);
 9223              		.loc 1 3264 5 discriminator 1 view .LVU2929
3265:ThirdPackage/lwip220/api/sockets.c ****     return -1;
 9224              		.loc 1 3265 22 discriminator 1 view .LVU2930
3266:ThirdPackage/lwip220/api/sockets.c ****   }
 9225              		.loc 1 3266 5 discriminator 1 view .LVU2931
3266:ThirdPackage/lwip220/api/sockets.c ****   }
 9226              		.loc 1 3266 12 is_stmt 0 discriminator 1 view .LVU2932
 9227 004c 4FF0FF34 		mov	r4, #-1
 9228              	.LVL985:
3266:ThirdPackage/lwip220/api/sockets.c ****   }
 9229              		.loc 1 3266 12 discriminator 1 view .LVU2933
 9230 0050 F5E7     		b	.L754
 9231              	.LVL986:
 9232              	.L761:
3318:ThirdPackage/lwip220/api/sockets.c **** }
 9233              		.loc 1 3318 19 view .LVU2934
 9234 0052 4FF0FF34 		mov	r4, #-1
 9235              	.LVL987:
3318:ThirdPackage/lwip220/api/sockets.c **** }
 9236              		.loc 1 3318 19 view .LVU2935
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 279


 9237 0056 F2E7     		b	.L754
 9238              	.LVL988:
 9239              	.L758:
3260:ThirdPackage/lwip220/api/sockets.c ****   }
 9240              		.loc 1 3260 12 view .LVU2936
 9241 0058 4FF0FF34 		mov	r4, #-1
 9242              	.LVL989:
3260:ThirdPackage/lwip220/api/sockets.c ****   }
 9243              		.loc 1 3260 12 view .LVU2937
 9244 005c EFE7     		b	.L754
 9245              	.L763:
 9246 005e 00BF     		.align	2
 9247              	.L762:
 9248 0060 00000000 		.word	lock_tcpip_core
 9249 0064 00000000 		.word	errno
 9250              		.cfi_endproc
 9251              	.LFE208:
 9253              		.section	.text.lwip_ioctl,"ax",%progbits
 9254              		.align	1
 9255              		.global	lwip_ioctl
 9256              		.syntax unified
 9257              		.thumb
 9258              		.thumb_func
 9260              	lwip_ioctl:
 9261              	.LVL990:
 9262              	.LFB210:
3786:ThirdPackage/lwip220/api/sockets.c **** 
3787:ThirdPackage/lwip220/api/sockets.c **** int
3788:ThirdPackage/lwip220/api/sockets.c **** lwip_ioctl(int s, long cmd, void *argp)
3789:ThirdPackage/lwip220/api/sockets.c **** {
 9263              		.loc 1 3789 1 is_stmt 1 view -0
 9264              		.cfi_startproc
 9265              		@ args = 0, pretend = 0, frame = 0
 9266              		@ frame_needed = 0, uses_anonymous_args = 0
 9267              		.loc 1 3789 1 is_stmt 0 view .LVU2939
 9268 0000 38B5     		push	{r3, r4, r5, lr}
 9269              	.LCFI121:
 9270              		.cfi_def_cfa_offset 16
 9271              		.cfi_offset 3, -16
 9272              		.cfi_offset 4, -12
 9273              		.cfi_offset 5, -8
 9274              		.cfi_offset 14, -4
 9275 0002 0D46     		mov	r5, r1
 9276 0004 1446     		mov	r4, r2
3790:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock = get_socket(s);
 9277              		.loc 1 3790 3 is_stmt 1 view .LVU2940
 9278              		.loc 1 3790 28 is_stmt 0 view .LVU2941
 9279 0006 FFF7FEFF 		bl	get_socket
 9280              	.LVL991:
3791:ThirdPackage/lwip220/api/sockets.c ****   u8_t val;
 9281              		.loc 1 3791 3 is_stmt 1 view .LVU2942
3792:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_SO_RCVBUF
3793:ThirdPackage/lwip220/api/sockets.c ****   int recv_avail;
3794:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_SO_RCVBUF */
3795:ThirdPackage/lwip220/api/sockets.c **** 
3796:ThirdPackage/lwip220/api/sockets.c ****   if (!sock) {
 9282              		.loc 1 3796 3 view .LVU2943
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 280


 9283              		.loc 1 3796 6 is_stmt 0 view .LVU2944
 9284 000a D0B1     		cbz	r0, .L768
 9285 000c 0246     		mov	r2, r0
3797:ThirdPackage/lwip220/api/sockets.c ****     return -1;
3798:ThirdPackage/lwip220/api/sockets.c ****   }
3799:ThirdPackage/lwip220/api/sockets.c **** 
3800:ThirdPackage/lwip220/api/sockets.c ****   switch (cmd) {
 9286              		.loc 1 3800 3 is_stmt 1 view .LVU2945
 9287 000e 0E4B     		ldr	r3, .L770
 9288 0010 9D42     		cmp	r5, r3
 9289 0012 10D1     		bne	.L766
3801:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_SO_RCVBUF || LWIP_FIONREAD_LINUXMODE
3802:ThirdPackage/lwip220/api/sockets.c ****     case FIONREAD:
3803:ThirdPackage/lwip220/api/sockets.c ****       if (!argp) {
3804:ThirdPackage/lwip220/api/sockets.c ****         set_errno(EINVAL);
3805:ThirdPackage/lwip220/api/sockets.c ****         done_socket(sock);
3806:ThirdPackage/lwip220/api/sockets.c ****         return -1;
3807:ThirdPackage/lwip220/api/sockets.c ****       }
3808:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_FIONREAD_LINUXMODE
3809:ThirdPackage/lwip220/api/sockets.c ****       if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) != NETCONN_TCP) {
3810:ThirdPackage/lwip220/api/sockets.c ****         struct netbuf *nb;
3811:ThirdPackage/lwip220/api/sockets.c ****         if (sock->lastdata.netbuf) {
3812:ThirdPackage/lwip220/api/sockets.c ****           nb = sock->lastdata.netbuf;
3813:ThirdPackage/lwip220/api/sockets.c ****           *((int *)argp) = nb->p->tot_len;
3814:ThirdPackage/lwip220/api/sockets.c ****         } else {
3815:ThirdPackage/lwip220/api/sockets.c ****           struct netbuf *rxbuf;
3816:ThirdPackage/lwip220/api/sockets.c ****           err_t err = netconn_recv_udp_raw_netbuf_flags(sock->conn, &rxbuf, NETCONN_DONTBLOCK);
3817:ThirdPackage/lwip220/api/sockets.c ****           if (err != ERR_OK) {
3818:ThirdPackage/lwip220/api/sockets.c ****             *((int *)argp) = 0;
3819:ThirdPackage/lwip220/api/sockets.c ****           } else {
3820:ThirdPackage/lwip220/api/sockets.c ****             sock->lastdata.netbuf = rxbuf;
3821:ThirdPackage/lwip220/api/sockets.c ****             *((int *)argp) = rxbuf->p->tot_len;
3822:ThirdPackage/lwip220/api/sockets.c ****           }
3823:ThirdPackage/lwip220/api/sockets.c ****         }
3824:ThirdPackage/lwip220/api/sockets.c ****         done_socket(sock);
3825:ThirdPackage/lwip220/api/sockets.c ****         return 0;
3826:ThirdPackage/lwip220/api/sockets.c ****       }
3827:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_FIONREAD_LINUXMODE */
3828:ThirdPackage/lwip220/api/sockets.c **** 
3829:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_SO_RCVBUF
3830:ThirdPackage/lwip220/api/sockets.c ****       /* we come here if either LWIP_FIONREAD_LINUXMODE==0 or this is a TCP socket */
3831:ThirdPackage/lwip220/api/sockets.c ****       SYS_ARCH_GET(sock->conn->recv_avail, recv_avail);
3832:ThirdPackage/lwip220/api/sockets.c ****       if (recv_avail < 0) {
3833:ThirdPackage/lwip220/api/sockets.c ****         recv_avail = 0;
3834:ThirdPackage/lwip220/api/sockets.c ****       }
3835:ThirdPackage/lwip220/api/sockets.c **** 
3836:ThirdPackage/lwip220/api/sockets.c ****       /* Check if there is data left from the last recv operation. /maq 041215 */
3837:ThirdPackage/lwip220/api/sockets.c ****       if (sock->lastdata.netbuf) {
3838:ThirdPackage/lwip220/api/sockets.c ****         if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) == NETCONN_TCP) {
3839:ThirdPackage/lwip220/api/sockets.c ****           recv_avail += sock->lastdata.pbuf->tot_len;
3840:ThirdPackage/lwip220/api/sockets.c ****         } else {
3841:ThirdPackage/lwip220/api/sockets.c ****           recv_avail += sock->lastdata.netbuf->p->tot_len;
3842:ThirdPackage/lwip220/api/sockets.c ****         }
3843:ThirdPackage/lwip220/api/sockets.c ****       }
3844:ThirdPackage/lwip220/api/sockets.c ****       *((int *)argp) = recv_avail;
3845:ThirdPackage/lwip220/api/sockets.c **** 
3846:ThirdPackage/lwip220/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_ioctl(%d, FIONREAD, %p) = %"U16_F"\n", s, argp, *((u16_t *)
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 281


3847:ThirdPackage/lwip220/api/sockets.c ****       set_errno(0);
3848:ThirdPackage/lwip220/api/sockets.c ****       done_socket(sock);
3849:ThirdPackage/lwip220/api/sockets.c ****       return 0;
3850:ThirdPackage/lwip220/api/sockets.c **** #else /* LWIP_SO_RCVBUF */
3851:ThirdPackage/lwip220/api/sockets.c ****       break;
3852:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_SO_RCVBUF */
3853:ThirdPackage/lwip220/api/sockets.c **** #endif /* LWIP_SO_RCVBUF || LWIP_FIONREAD_LINUXMODE */
3854:ThirdPackage/lwip220/api/sockets.c **** 
3855:ThirdPackage/lwip220/api/sockets.c ****     case (long)FIONBIO:
3856:ThirdPackage/lwip220/api/sockets.c ****       val = 0;
 9290              		.loc 1 3856 7 view .LVU2946
 9291              	.LVL992:
3857:ThirdPackage/lwip220/api/sockets.c ****       if (argp && *(int *)argp) {
 9292              		.loc 1 3857 7 view .LVU2947
 9293              		.loc 1 3857 10 is_stmt 0 view .LVU2948
 9294 0014 44B1     		cbz	r4, .L767
 9295              		.loc 1 3857 19 discriminator 1 view .LVU2949
 9296 0016 2368     		ldr	r3, [r4]
 9297              		.loc 1 3857 16 discriminator 1 view .LVU2950
 9298 0018 33B1     		cbz	r3, .L767
3858:ThirdPackage/lwip220/api/sockets.c ****         val = 1;
 9299              		.loc 1 3858 9 is_stmt 1 view .LVU2951
 9300              	.LVL993:
3859:ThirdPackage/lwip220/api/sockets.c ****       }
3860:ThirdPackage/lwip220/api/sockets.c ****       netconn_set_nonblocking(sock->conn, val);
 9301              		.loc 1 3860 7 view .LVU2952
 9302              		.loc 1 3860 7 view .LVU2953
 9303              		.loc 1 3860 7 view .LVU2954
 9304              		.loc 1 3860 7 view .LVU2955
 9305 001a 0268     		ldr	r2, [r0]
 9306 001c 137F     		ldrb	r3, [r2, #28]	@ zero_extendqisi2
 9307 001e 43F00203 		orr	r3, r3, #2
 9308 0022 1377     		strb	r3, [r2, #28]
 9309              		.loc 1 3860 7 view .LVU2956
3861:ThirdPackage/lwip220/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_ioctl(%d, FIONBIO, %d)\n", s, val));
3862:ThirdPackage/lwip220/api/sockets.c ****       set_errno(0);
3863:ThirdPackage/lwip220/api/sockets.c ****       done_socket(sock);
3864:ThirdPackage/lwip220/api/sockets.c ****       return 0;
 9310              		.loc 1 3864 14 is_stmt 0 view .LVU2957
 9311 0024 0020     		movs	r0, #0
 9312              	.LVL994:
 9313              		.loc 1 3864 14 view .LVU2958
 9314 0026 05E0     		b	.L764
 9315              	.LVL995:
 9316              	.L767:
3860:ThirdPackage/lwip220/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_ioctl(%d, FIONBIO, %d)\n", s, val));
 9317              		.loc 1 3860 7 is_stmt 1 discriminator 2 view .LVU2959
3860:ThirdPackage/lwip220/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_ioctl(%d, FIONBIO, %d)\n", s, val));
 9318              		.loc 1 3860 7 discriminator 2 view .LVU2960
 9319 0028 1268     		ldr	r2, [r2]
 9320 002a 137F     		ldrb	r3, [r2, #28]	@ zero_extendqisi2
 9321 002c 03F0FD03 		and	r3, r3, #253
 9322 0030 1377     		strb	r3, [r2, #28]
 9323              		.loc 1 3864 14 is_stmt 0 discriminator 2 view .LVU2961
 9324 0032 0020     		movs	r0, #0
 9325              	.LVL996:
 9326              	.L764:
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 282


3865:ThirdPackage/lwip220/api/sockets.c **** 
3866:ThirdPackage/lwip220/api/sockets.c ****     default:
3867:ThirdPackage/lwip220/api/sockets.c ****       break;
3868:ThirdPackage/lwip220/api/sockets.c ****   } /* switch (cmd) */
3869:ThirdPackage/lwip220/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_ioctl(%d, UNIMPL: 0x%lx, %p)\n", s, cmd, argp));
3870:ThirdPackage/lwip220/api/sockets.c ****   set_errno(ENOSYS); /* not yet implemented */
3871:ThirdPackage/lwip220/api/sockets.c ****   done_socket(sock);
3872:ThirdPackage/lwip220/api/sockets.c ****   return -1;
3873:ThirdPackage/lwip220/api/sockets.c **** }
 9327              		.loc 1 3873 1 view .LVU2962
 9328 0034 38BD     		pop	{r3, r4, r5, pc}
 9329              	.LVL997:
 9330              	.L766:
3867:ThirdPackage/lwip220/api/sockets.c ****   } /* switch (cmd) */
 9331              		.loc 1 3867 7 is_stmt 1 discriminator 1 view .LVU2963
3869:ThirdPackage/lwip220/api/sockets.c ****   set_errno(ENOSYS); /* not yet implemented */
 9332              		.loc 1 3869 84 discriminator 1 view .LVU2964
3870:ThirdPackage/lwip220/api/sockets.c ****   done_socket(sock);
 9333              		.loc 1 3870 3 discriminator 1 view .LVU2965
3870:ThirdPackage/lwip220/api/sockets.c ****   done_socket(sock);
 9334              		.loc 1 3870 3 discriminator 1 view .LVU2966
3870:ThirdPackage/lwip220/api/sockets.c ****   done_socket(sock);
 9335              		.loc 1 3870 3 discriminator 1 view .LVU2967
 9336 0036 054B     		ldr	r3, .L770+4
 9337 0038 2622     		movs	r2, #38
 9338 003a 1A60     		str	r2, [r3]
3870:ThirdPackage/lwip220/api/sockets.c ****   done_socket(sock);
 9339              		.loc 1 3870 3 discriminator 1 view .LVU2968
3871:ThirdPackage/lwip220/api/sockets.c ****   return -1;
 9340              		.loc 1 3871 20 discriminator 1 view .LVU2969
3872:ThirdPackage/lwip220/api/sockets.c **** }
 9341              		.loc 1 3872 3 discriminator 1 view .LVU2970
3872:ThirdPackage/lwip220/api/sockets.c **** }
 9342              		.loc 1 3872 10 is_stmt 0 discriminator 1 view .LVU2971
 9343 003c 4FF0FF30 		mov	r0, #-1
 9344              	.LVL998:
3872:ThirdPackage/lwip220/api/sockets.c **** }
 9345              		.loc 1 3872 10 discriminator 1 view .LVU2972
 9346 0040 F8E7     		b	.L764
 9347              	.LVL999:
 9348              	.L768:
3797:ThirdPackage/lwip220/api/sockets.c ****   }
 9349              		.loc 1 3797 12 view .LVU2973
 9350 0042 4FF0FF30 		mov	r0, #-1
 9351              	.LVL1000:
3797:ThirdPackage/lwip220/api/sockets.c ****   }
 9352              		.loc 1 3797 12 view .LVU2974
 9353 0046 F5E7     		b	.L764
 9354              	.L771:
 9355              		.align	2
 9356              	.L770:
 9357 0048 7E660480 		.word	-2147195266
 9358 004c 00000000 		.word	errno
 9359              		.cfi_endproc
 9360              	.LFE210:
 9362              		.section	.text.lwip_fcntl,"ax",%progbits
 9363              		.align	1
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 283


 9364              		.global	lwip_fcntl
 9365              		.syntax unified
 9366              		.thumb
 9367              		.thumb_func
 9369              	lwip_fcntl:
 9370              	.LVL1001:
 9371              	.LFB211:
3874:ThirdPackage/lwip220/api/sockets.c **** 
3875:ThirdPackage/lwip220/api/sockets.c **** /** A minimal implementation of fcntl.
3876:ThirdPackage/lwip220/api/sockets.c ****  * Currently only the commands F_GETFL and F_SETFL are implemented.
3877:ThirdPackage/lwip220/api/sockets.c ****  * The flag O_NONBLOCK and access modes are supported for F_GETFL, only
3878:ThirdPackage/lwip220/api/sockets.c ****  * the flag O_NONBLOCK is implemented for F_SETFL.
3879:ThirdPackage/lwip220/api/sockets.c ****  */
3880:ThirdPackage/lwip220/api/sockets.c **** int
3881:ThirdPackage/lwip220/api/sockets.c **** lwip_fcntl(int s, int cmd, int val)
3882:ThirdPackage/lwip220/api/sockets.c **** {
 9372              		.loc 1 3882 1 is_stmt 1 view -0
 9373              		.cfi_startproc
 9374              		@ args = 0, pretend = 0, frame = 0
 9375              		@ frame_needed = 0, uses_anonymous_args = 0
 9376              		.loc 1 3882 1 is_stmt 0 view .LVU2976
 9377 0000 70B5     		push	{r4, r5, r6, lr}
 9378              	.LCFI122:
 9379              		.cfi_def_cfa_offset 16
 9380              		.cfi_offset 4, -16
 9381              		.cfi_offset 5, -12
 9382              		.cfi_offset 6, -8
 9383              		.cfi_offset 14, -4
 9384 0002 0C46     		mov	r4, r1
 9385 0004 1546     		mov	r5, r2
3883:ThirdPackage/lwip220/api/sockets.c ****   struct lwip_sock *sock = get_socket(s);
 9386              		.loc 1 3883 3 is_stmt 1 view .LVU2977
 9387              		.loc 1 3883 28 is_stmt 0 view .LVU2978
 9388 0006 FFF7FEFF 		bl	get_socket
 9389              	.LVL1002:
3884:ThirdPackage/lwip220/api/sockets.c ****   int ret = -1;
 9390              		.loc 1 3884 3 is_stmt 1 view .LVU2979
3885:ThirdPackage/lwip220/api/sockets.c ****   int op_mode = 0;
 9391              		.loc 1 3885 3 view .LVU2980
3886:ThirdPackage/lwip220/api/sockets.c **** 
3887:ThirdPackage/lwip220/api/sockets.c ****   if (!sock) {
 9392              		.loc 1 3887 3 view .LVU2981
 9393              		.loc 1 3887 6 is_stmt 0 view .LVU2982
 9394 000a 0028     		cmp	r0, #0
 9395 000c 48D0     		beq	.L782
 9396 000e 0646     		mov	r6, r0
3888:ThirdPackage/lwip220/api/sockets.c ****     return -1;
3889:ThirdPackage/lwip220/api/sockets.c ****   }
3890:ThirdPackage/lwip220/api/sockets.c **** 
3891:ThirdPackage/lwip220/api/sockets.c ****   switch (cmd) {
 9397              		.loc 1 3891 3 is_stmt 1 view .LVU2983
 9398 0010 032C     		cmp	r4, #3
 9399 0012 07D0     		beq	.L774
 9400 0014 042C     		cmp	r4, #4
 9401 0016 2AD0     		beq	.L775
3892:ThirdPackage/lwip220/api/sockets.c ****     case F_GETFL:
3893:ThirdPackage/lwip220/api/sockets.c ****       ret = netconn_is_nonblocking(sock->conn) ? O_NONBLOCK : 0;
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 284


3894:ThirdPackage/lwip220/api/sockets.c ****       set_errno(0);
3895:ThirdPackage/lwip220/api/sockets.c **** 
3896:ThirdPackage/lwip220/api/sockets.c ****       if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) == NETCONN_TCP) {
3897:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_TCPIP_CORE_LOCKING
3898:ThirdPackage/lwip220/api/sockets.c ****         LOCK_TCPIP_CORE();
3899:ThirdPackage/lwip220/api/sockets.c **** #else
3900:ThirdPackage/lwip220/api/sockets.c ****         SYS_ARCH_DECL_PROTECT(lev);
3901:ThirdPackage/lwip220/api/sockets.c ****         /* the proper thing to do here would be to get into the tcpip_thread,
3902:ThirdPackage/lwip220/api/sockets.c ****            but locking should be OK as well since we only *read* some flags */
3903:ThirdPackage/lwip220/api/sockets.c ****         SYS_ARCH_PROTECT(lev);
3904:ThirdPackage/lwip220/api/sockets.c **** #endif
3905:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_TCP
3906:ThirdPackage/lwip220/api/sockets.c ****         if (sock->conn->pcb.tcp) {
3907:ThirdPackage/lwip220/api/sockets.c ****           if (!(sock->conn->pcb.tcp->flags & TF_RXCLOSED)) {
3908:ThirdPackage/lwip220/api/sockets.c ****             op_mode |= O_RDONLY;
3909:ThirdPackage/lwip220/api/sockets.c ****           }
3910:ThirdPackage/lwip220/api/sockets.c ****           if (!(sock->conn->pcb.tcp->flags & TF_FIN)) {
3911:ThirdPackage/lwip220/api/sockets.c ****             op_mode |= O_WRONLY;
3912:ThirdPackage/lwip220/api/sockets.c ****           }
3913:ThirdPackage/lwip220/api/sockets.c ****         }
3914:ThirdPackage/lwip220/api/sockets.c **** #endif
3915:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_TCPIP_CORE_LOCKING
3916:ThirdPackage/lwip220/api/sockets.c ****         UNLOCK_TCPIP_CORE();
3917:ThirdPackage/lwip220/api/sockets.c **** #else
3918:ThirdPackage/lwip220/api/sockets.c ****         SYS_ARCH_UNPROTECT(lev);
3919:ThirdPackage/lwip220/api/sockets.c **** #endif
3920:ThirdPackage/lwip220/api/sockets.c ****       } else {
3921:ThirdPackage/lwip220/api/sockets.c ****         op_mode |= O_RDWR;
3922:ThirdPackage/lwip220/api/sockets.c ****       }
3923:ThirdPackage/lwip220/api/sockets.c **** 
3924:ThirdPackage/lwip220/api/sockets.c ****       /* ensure O_RDWR for (O_RDONLY|O_WRONLY) != O_RDWR cases */
3925:ThirdPackage/lwip220/api/sockets.c ****       ret |= (op_mode == (O_RDONLY | O_WRONLY)) ? O_RDWR : op_mode;
3926:ThirdPackage/lwip220/api/sockets.c **** 
3927:ThirdPackage/lwip220/api/sockets.c ****       break;
3928:ThirdPackage/lwip220/api/sockets.c ****     case F_SETFL:
3929:ThirdPackage/lwip220/api/sockets.c ****       /* Bits corresponding to the file access mode and the file creation flags [..] that are set i
3930:ThirdPackage/lwip220/api/sockets.c ****       val &= ~(O_RDONLY | O_WRONLY | O_RDWR);
3931:ThirdPackage/lwip220/api/sockets.c ****       if ((val & ~O_NONBLOCK) == 0) {
3932:ThirdPackage/lwip220/api/sockets.c ****         /* only O_NONBLOCK, all other bits are zero */
3933:ThirdPackage/lwip220/api/sockets.c ****         netconn_set_nonblocking(sock->conn, val & O_NONBLOCK);
3934:ThirdPackage/lwip220/api/sockets.c ****         ret = 0;
3935:ThirdPackage/lwip220/api/sockets.c ****         set_errno(0);
3936:ThirdPackage/lwip220/api/sockets.c ****       } else {
3937:ThirdPackage/lwip220/api/sockets.c ****         set_errno(ENOSYS); /* not yet implemented */
3938:ThirdPackage/lwip220/api/sockets.c ****       }
3939:ThirdPackage/lwip220/api/sockets.c ****       break;
3940:ThirdPackage/lwip220/api/sockets.c ****     default:
3941:ThirdPackage/lwip220/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_fcntl(%d, UNIMPL: %d, %d)\n", s, cmd, val));
 9402              		.loc 1 3941 84 discriminator 1 view .LVU2984
3942:ThirdPackage/lwip220/api/sockets.c ****       set_errno(ENOSYS); /* not yet implemented */
 9403              		.loc 1 3942 7 discriminator 1 view .LVU2985
 9404              		.loc 1 3942 7 discriminator 1 view .LVU2986
 9405              		.loc 1 3942 7 discriminator 1 view .LVU2987
 9406 0018 234B     		ldr	r3, .L789
 9407 001a 2622     		movs	r2, #38
 9408 001c 1A60     		str	r2, [r3]
 9409              		.loc 1 3942 7 discriminator 1 view .LVU2988
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 285


3943:ThirdPackage/lwip220/api/sockets.c ****       break;
 9410              		.loc 1 3943 7 discriminator 1 view .LVU2989
3884:ThirdPackage/lwip220/api/sockets.c ****   int op_mode = 0;
 9411              		.loc 1 3884 7 is_stmt 0 discriminator 1 view .LVU2990
 9412 001e 4FF0FF30 		mov	r0, #-1
 9413              	.LVL1003:
 9414              		.loc 1 3943 7 discriminator 1 view .LVU2991
 9415 0022 0BE0     		b	.L772
 9416              	.LVL1004:
 9417              	.L774:
3893:ThirdPackage/lwip220/api/sockets.c ****       set_errno(0);
 9418              		.loc 1 3893 7 is_stmt 1 view .LVU2992
3893:ThirdPackage/lwip220/api/sockets.c ****       set_errno(0);
 9419              		.loc 1 3893 13 is_stmt 0 view .LVU2993
 9420 0024 0368     		ldr	r3, [r0]
 9421 0026 187F     		ldrb	r0, [r3, #28]	@ zero_extendqisi2
 9422              	.LVL1005:
3893:ThirdPackage/lwip220/api/sockets.c ****       set_errno(0);
 9423              		.loc 1 3893 11 view .LVU2994
 9424 0028 C0F34005 		ubfx	r5, r0, #1, #1
 9425              	.LVL1006:
3894:ThirdPackage/lwip220/api/sockets.c **** 
 9426              		.loc 1 3894 7 is_stmt 1 view .LVU2995
3894:ThirdPackage/lwip220/api/sockets.c **** 
 9427              		.loc 1 3894 7 view .LVU2996
3894:ThirdPackage/lwip220/api/sockets.c **** 
 9428              		.loc 1 3894 7 view .LVU2997
3896:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_TCPIP_CORE_LOCKING
 9429              		.loc 1 3896 7 view .LVU2998
3896:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_TCPIP_CORE_LOCKING
 9430              		.loc 1 3896 11 is_stmt 0 view .LVU2999
 9431 002c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
3896:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_TCPIP_CORE_LOCKING
 9432              		.loc 1 3896 10 view .LVU3000
 9433 002e 03F0F003 		and	r3, r3, #240
 9434 0032 102B     		cmp	r3, #16
 9435 0034 03D0     		beq	.L788
3921:ThirdPackage/lwip220/api/sockets.c ****       }
 9436              		.loc 1 3921 17 view .LVU3001
 9437 0036 0624     		movs	r4, #6
 9438              	.LVL1007:
 9439              	.L777:
3925:ThirdPackage/lwip220/api/sockets.c **** 
 9440              		.loc 1 3925 7 is_stmt 1 view .LVU3002
3925:ThirdPackage/lwip220/api/sockets.c **** 
 9441              		.loc 1 3925 11 is_stmt 0 view .LVU3003
 9442 0038 44EA0500 		orr	r0, r4, r5
 9443              	.LVL1008:
3927:ThirdPackage/lwip220/api/sockets.c ****     case F_SETFL:
 9444              		.loc 1 3927 7 is_stmt 1 view .LVU3004
 9445              	.L772:
3944:ThirdPackage/lwip220/api/sockets.c ****   }
3945:ThirdPackage/lwip220/api/sockets.c ****   done_socket(sock);
3946:ThirdPackage/lwip220/api/sockets.c ****   return ret;
3947:ThirdPackage/lwip220/api/sockets.c **** }
 9446              		.loc 1 3947 1 is_stmt 0 view .LVU3005
 9447 003c 70BD     		pop	{r4, r5, r6, pc}
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 286


 9448              	.LVL1009:
 9449              	.L788:
3898:ThirdPackage/lwip220/api/sockets.c **** #else
 9450              		.loc 1 3898 9 is_stmt 1 view .LVU3006
 9451 003e 1B48     		ldr	r0, .L789+4
 9452 0040 FFF7FEFF 		bl	sys_mutex_lock
 9453              	.LVL1010:
3906:ThirdPackage/lwip220/api/sockets.c ****           if (!(sock->conn->pcb.tcp->flags & TF_RXCLOSED)) {
 9454              		.loc 1 3906 9 view .LVU3007
3906:ThirdPackage/lwip220/api/sockets.c ****           if (!(sock->conn->pcb.tcp->flags & TF_RXCLOSED)) {
 9455              		.loc 1 3906 17 is_stmt 0 view .LVU3008
 9456 0044 3368     		ldr	r3, [r6]
3906:ThirdPackage/lwip220/api/sockets.c ****           if (!(sock->conn->pcb.tcp->flags & TF_RXCLOSED)) {
 9457              		.loc 1 3906 28 view .LVU3009
 9458 0046 5B68     		ldr	r3, [r3, #4]
3906:ThirdPackage/lwip220/api/sockets.c ****           if (!(sock->conn->pcb.tcp->flags & TF_RXCLOSED)) {
 9459              		.loc 1 3906 12 view .LVU3010
 9460 0048 7BB1     		cbz	r3, .L784
3907:ThirdPackage/lwip220/api/sockets.c ****             op_mode |= O_RDONLY;
 9461              		.loc 1 3907 11 is_stmt 1 view .LVU3011
3907:ThirdPackage/lwip220/api/sockets.c ****             op_mode |= O_RDONLY;
 9462              		.loc 1 3907 36 is_stmt 0 view .LVU3012
 9463 004a 5B8B     		ldrh	r3, [r3, #26]
3907:ThirdPackage/lwip220/api/sockets.c ****             op_mode |= O_RDONLY;
 9464              		.loc 1 3907 14 view .LVU3013
 9465 004c 13F0100F 		tst	r3, #16
 9466 0050 09D0     		beq	.L785
3885:ThirdPackage/lwip220/api/sockets.c **** 
 9467              		.loc 1 3885 7 view .LVU3014
 9468 0052 0024     		movs	r4, #0
 9469              	.LVL1011:
 9470              	.L779:
3910:ThirdPackage/lwip220/api/sockets.c ****             op_mode |= O_WRONLY;
 9471              		.loc 1 3910 11 is_stmt 1 view .LVU3015
3910:ThirdPackage/lwip220/api/sockets.c ****             op_mode |= O_WRONLY;
 9472              		.loc 1 3910 14 is_stmt 0 view .LVU3016
 9473 0054 13F0200F 		tst	r3, #32
 9474 0058 01D1     		bne	.L778
3911:ThirdPackage/lwip220/api/sockets.c ****           }
 9475              		.loc 1 3911 13 is_stmt 1 view .LVU3017
3911:ThirdPackage/lwip220/api/sockets.c ****           }
 9476              		.loc 1 3911 21 is_stmt 0 view .LVU3018
 9477 005a 44F00404 		orr	r4, r4, #4
 9478              	.LVL1012:
 9479              	.L778:
3916:ThirdPackage/lwip220/api/sockets.c **** #else
 9480              		.loc 1 3916 9 is_stmt 1 view .LVU3019
 9481 005e 1348     		ldr	r0, .L789+4
 9482 0060 FFF7FEFF 		bl	sys_mutex_unlock
 9483              	.LVL1013:
 9484 0064 E8E7     		b	.L777
 9485              	.LVL1014:
 9486              	.L785:
3908:ThirdPackage/lwip220/api/sockets.c ****           }
 9487              		.loc 1 3908 21 is_stmt 0 view .LVU3020
 9488 0066 0224     		movs	r4, #2
 9489              	.LVL1015:
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 287


3908:ThirdPackage/lwip220/api/sockets.c ****           }
 9490              		.loc 1 3908 21 view .LVU3021
 9491 0068 F4E7     		b	.L779
 9492              	.LVL1016:
 9493              	.L784:
3885:ThirdPackage/lwip220/api/sockets.c **** 
 9494              		.loc 1 3885 7 view .LVU3022
 9495 006a 0024     		movs	r4, #0
 9496              	.LVL1017:
3885:ThirdPackage/lwip220/api/sockets.c **** 
 9497              		.loc 1 3885 7 view .LVU3023
 9498 006c F7E7     		b	.L778
 9499              	.LVL1018:
 9500              	.L775:
3930:ThirdPackage/lwip220/api/sockets.c ****       if ((val & ~O_NONBLOCK) == 0) {
 9501              		.loc 1 3930 7 is_stmt 1 view .LVU3024
3931:ThirdPackage/lwip220/api/sockets.c ****         /* only O_NONBLOCK, all other bits are zero */
 9502              		.loc 1 3931 7 view .LVU3025
3931:ThirdPackage/lwip220/api/sockets.c ****         /* only O_NONBLOCK, all other bits are zero */
 9503              		.loc 1 3931 10 is_stmt 0 view .LVU3026
 9504 006e 35F00700 		bics	r0, r5, #7
 9505              	.LVL1019:
3931:ThirdPackage/lwip220/api/sockets.c ****         /* only O_NONBLOCK, all other bits are zero */
 9506              		.loc 1 3931 10 view .LVU3027
 9507 0072 0FD1     		bne	.L780
3933:ThirdPackage/lwip220/api/sockets.c ****         ret = 0;
 9508              		.loc 1 3933 9 is_stmt 1 view .LVU3028
3933:ThirdPackage/lwip220/api/sockets.c ****         ret = 0;
 9509              		.loc 1 3933 9 view .LVU3029
 9510 0074 15F00105 		ands	r5, r5, #1
 9511              	.LVL1020:
3933:ThirdPackage/lwip220/api/sockets.c ****         ret = 0;
 9512              		.loc 1 3933 9 is_stmt 0 view .LVU3030
 9513 0078 05D0     		beq	.L781
3933:ThirdPackage/lwip220/api/sockets.c ****         ret = 0;
 9514              		.loc 1 3933 9 is_stmt 1 discriminator 1 view .LVU3031
3933:ThirdPackage/lwip220/api/sockets.c ****         ret = 0;
 9515              		.loc 1 3933 9 discriminator 1 view .LVU3032
 9516 007a 3268     		ldr	r2, [r6]
 9517 007c 137F     		ldrb	r3, [r2, #28]	@ zero_extendqisi2
 9518 007e 43F00203 		orr	r3, r3, #2
 9519 0082 1377     		strb	r3, [r2, #28]
3933:ThirdPackage/lwip220/api/sockets.c ****         ret = 0;
 9520              		.loc 1 3933 9 discriminator 1 view .LVU3033
 9521 0084 DAE7     		b	.L772
 9522              	.L781:
3933:ThirdPackage/lwip220/api/sockets.c ****         ret = 0;
 9523              		.loc 1 3933 9 discriminator 2 view .LVU3034
3933:ThirdPackage/lwip220/api/sockets.c ****         ret = 0;
 9524              		.loc 1 3933 9 discriminator 2 view .LVU3035
 9525 0086 3268     		ldr	r2, [r6]
 9526 0088 137F     		ldrb	r3, [r2, #28]	@ zero_extendqisi2
 9527 008a 03F0FD03 		and	r3, r3, #253
 9528 008e 1377     		strb	r3, [r2, #28]
3934:ThirdPackage/lwip220/api/sockets.c ****         set_errno(0);
 9529              		.loc 1 3934 13 is_stmt 0 discriminator 2 view .LVU3036
 9530 0090 2846     		mov	r0, r5
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 288


 9531 0092 D3E7     		b	.L772
 9532              	.LVL1021:
 9533              	.L780:
3937:ThirdPackage/lwip220/api/sockets.c ****       }
 9534              		.loc 1 3937 9 is_stmt 1 discriminator 1 view .LVU3037
3937:ThirdPackage/lwip220/api/sockets.c ****       }
 9535              		.loc 1 3937 9 discriminator 1 view .LVU3038
3937:ThirdPackage/lwip220/api/sockets.c ****       }
 9536              		.loc 1 3937 9 discriminator 1 view .LVU3039
 9537 0094 044B     		ldr	r3, .L789
 9538 0096 2622     		movs	r2, #38
 9539 0098 1A60     		str	r2, [r3]
3884:ThirdPackage/lwip220/api/sockets.c ****   int op_mode = 0;
 9540              		.loc 1 3884 7 is_stmt 0 discriminator 1 view .LVU3040
 9541 009a 4FF0FF30 		mov	r0, #-1
 9542 009e CDE7     		b	.L772
 9543              	.LVL1022:
 9544              	.L782:
3888:ThirdPackage/lwip220/api/sockets.c ****   }
 9545              		.loc 1 3888 12 view .LVU3041
 9546 00a0 4FF0FF30 		mov	r0, #-1
 9547              	.LVL1023:
3888:ThirdPackage/lwip220/api/sockets.c ****   }
 9548              		.loc 1 3888 12 view .LVU3042
 9549 00a4 CAE7     		b	.L772
 9550              	.L790:
 9551 00a6 00BF     		.align	2
 9552              	.L789:
 9553 00a8 00000000 		.word	errno
 9554 00ac 00000000 		.word	lock_tcpip_core
 9555              		.cfi_endproc
 9556              	.LFE211:
 9558              		.section	.text.lwip_inet_ntop,"ax",%progbits
 9559              		.align	1
 9560              		.global	lwip_inet_ntop
 9561              		.syntax unified
 9562              		.thumb
 9563              		.thumb_func
 9565              	lwip_inet_ntop:
 9566              	.LVL1024:
 9567              	.LFB212:
3948:ThirdPackage/lwip220/api/sockets.c **** 
3949:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_COMPAT_SOCKETS == 2 && LWIP_POSIX_SOCKETS_IO_NAMES
3950:ThirdPackage/lwip220/api/sockets.c **** int
3951:ThirdPackage/lwip220/api/sockets.c **** fcntl(int s, int cmd, ...)
3952:ThirdPackage/lwip220/api/sockets.c **** {
3953:ThirdPackage/lwip220/api/sockets.c ****   va_list ap;
3954:ThirdPackage/lwip220/api/sockets.c ****   int val;
3955:ThirdPackage/lwip220/api/sockets.c **** 
3956:ThirdPackage/lwip220/api/sockets.c ****   va_start(ap, cmd);
3957:ThirdPackage/lwip220/api/sockets.c ****   val = va_arg(ap, int);
3958:ThirdPackage/lwip220/api/sockets.c ****   va_end(ap);
3959:ThirdPackage/lwip220/api/sockets.c ****   return lwip_fcntl(s, cmd, val);
3960:ThirdPackage/lwip220/api/sockets.c **** }
3961:ThirdPackage/lwip220/api/sockets.c **** #endif
3962:ThirdPackage/lwip220/api/sockets.c **** 
3963:ThirdPackage/lwip220/api/sockets.c **** const char *
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 289


3964:ThirdPackage/lwip220/api/sockets.c **** lwip_inet_ntop(int af, const void *src, char *dst, socklen_t size)
3965:ThirdPackage/lwip220/api/sockets.c **** {
 9568              		.loc 1 3965 1 is_stmt 1 view -0
 9569              		.cfi_startproc
 9570              		@ args = 0, pretend = 0, frame = 0
 9571              		@ frame_needed = 0, uses_anonymous_args = 0
 9572              		.loc 1 3965 1 is_stmt 0 view .LVU3044
 9573 0000 08B5     		push	{r3, lr}
 9574              	.LCFI123:
 9575              		.cfi_def_cfa_offset 8
 9576              		.cfi_offset 3, -8
 9577              		.cfi_offset 14, -4
 9578 0002 8C46     		mov	ip, r1
 9579 0004 1146     		mov	r1, r2
 9580              	.LVL1025:
3966:ThirdPackage/lwip220/api/sockets.c ****   const char *ret = NULL;
 9581              		.loc 1 3966 3 is_stmt 1 view .LVU3045
3967:ThirdPackage/lwip220/api/sockets.c ****   int size_int = (int)size;
 9582              		.loc 1 3967 3 view .LVU3046
3968:ThirdPackage/lwip220/api/sockets.c ****   if (size_int < 0) {
 9583              		.loc 1 3968 3 view .LVU3047
 9584              		.loc 1 3968 6 is_stmt 0 view .LVU3048
 9585 0006 1A1E     		subs	r2, r3, #0
 9586              	.LVL1026:
 9587              		.loc 1 3968 6 view .LVU3049
 9588 0008 06DB     		blt	.L796
3969:ThirdPackage/lwip220/api/sockets.c ****     set_errno(ENOSPC);
3970:ThirdPackage/lwip220/api/sockets.c ****     return NULL;
3971:ThirdPackage/lwip220/api/sockets.c ****   }
3972:ThirdPackage/lwip220/api/sockets.c ****   switch (af) {
 9589              		.loc 1 3972 3 is_stmt 1 view .LVU3050
 9590 000a 0228     		cmp	r0, #2
 9591 000c 09D0     		beq	.L797
3973:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_IPV4
3974:ThirdPackage/lwip220/api/sockets.c ****     case AF_INET:
3975:ThirdPackage/lwip220/api/sockets.c ****       ret = ip4addr_ntoa_r((const ip4_addr_t *)src, dst, size_int);
3976:ThirdPackage/lwip220/api/sockets.c ****       if (ret == NULL) {
3977:ThirdPackage/lwip220/api/sockets.c ****         set_errno(ENOSPC);
3978:ThirdPackage/lwip220/api/sockets.c ****       }
3979:ThirdPackage/lwip220/api/sockets.c ****       break;
3980:ThirdPackage/lwip220/api/sockets.c **** #endif
3981:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_IPV6
3982:ThirdPackage/lwip220/api/sockets.c ****     case AF_INET6:
3983:ThirdPackage/lwip220/api/sockets.c ****       ret = ip6addr_ntoa_r((const ip6_addr_t *)src, dst, size_int);
3984:ThirdPackage/lwip220/api/sockets.c ****       if (ret == NULL) {
3985:ThirdPackage/lwip220/api/sockets.c ****         set_errno(ENOSPC);
3986:ThirdPackage/lwip220/api/sockets.c ****       }
3987:ThirdPackage/lwip220/api/sockets.c ****       break;
3988:ThirdPackage/lwip220/api/sockets.c **** #endif
3989:ThirdPackage/lwip220/api/sockets.c ****     default:
3990:ThirdPackage/lwip220/api/sockets.c ****       set_errno(EAFNOSUPPORT);
 9592              		.loc 1 3990 7 discriminator 1 view .LVU3051
 9593              		.loc 1 3990 7 discriminator 1 view .LVU3052
 9594              		.loc 1 3990 7 discriminator 1 view .LVU3053
 9595 000e 094B     		ldr	r3, .L798
 9596              	.LVL1027:
 9597              		.loc 1 3990 7 is_stmt 0 discriminator 1 view .LVU3054
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 290


 9598 0010 6122     		movs	r2, #97
 9599              	.LVL1028:
 9600              		.loc 1 3990 7 discriminator 1 view .LVU3055
 9601 0012 1A60     		str	r2, [r3]
 9602              		.loc 1 3990 7 is_stmt 1 discriminator 1 view .LVU3056
3991:ThirdPackage/lwip220/api/sockets.c ****       break;
 9603              		.loc 1 3991 7 discriminator 1 view .LVU3057
3966:ThirdPackage/lwip220/api/sockets.c ****   int size_int = (int)size;
 9604              		.loc 1 3966 15 is_stmt 0 discriminator 1 view .LVU3058
 9605 0014 0020     		movs	r0, #0
 9606              	.LVL1029:
 9607              	.L791:
3992:ThirdPackage/lwip220/api/sockets.c ****   }
3993:ThirdPackage/lwip220/api/sockets.c ****   return ret;
3994:ThirdPackage/lwip220/api/sockets.c **** }
 9608              		.loc 1 3994 1 view .LVU3059
 9609 0016 08BD     		pop	{r3, pc}
 9610              	.LVL1030:
 9611              	.L796:
3969:ThirdPackage/lwip220/api/sockets.c ****     return NULL;
 9612              		.loc 1 3969 5 is_stmt 1 discriminator 1 view .LVU3060
3969:ThirdPackage/lwip220/api/sockets.c ****     return NULL;
 9613              		.loc 1 3969 5 discriminator 1 view .LVU3061
3969:ThirdPackage/lwip220/api/sockets.c ****     return NULL;
 9614              		.loc 1 3969 5 discriminator 1 view .LVU3062
 9615 0018 064B     		ldr	r3, .L798
 9616 001a 1C22     		movs	r2, #28
 9617              	.LVL1031:
3969:ThirdPackage/lwip220/api/sockets.c ****     return NULL;
 9618              		.loc 1 3969 5 is_stmt 0 discriminator 1 view .LVU3063
 9619 001c 1A60     		str	r2, [r3]
3969:ThirdPackage/lwip220/api/sockets.c ****     return NULL;
 9620              		.loc 1 3969 5 is_stmt 1 discriminator 1 view .LVU3064
3970:ThirdPackage/lwip220/api/sockets.c ****   }
 9621              		.loc 1 3970 5 discriminator 1 view .LVU3065
3970:ThirdPackage/lwip220/api/sockets.c ****   }
 9622              		.loc 1 3970 12 is_stmt 0 discriminator 1 view .LVU3066
 9623 001e 0020     		movs	r0, #0
 9624              	.LVL1032:
3970:ThirdPackage/lwip220/api/sockets.c ****   }
 9625              		.loc 1 3970 12 discriminator 1 view .LVU3067
 9626 0020 F9E7     		b	.L791
 9627              	.LVL1033:
 9628              	.L797:
3975:ThirdPackage/lwip220/api/sockets.c ****       if (ret == NULL) {
 9629              		.loc 1 3975 7 is_stmt 1 view .LVU3068
3975:ThirdPackage/lwip220/api/sockets.c ****       if (ret == NULL) {
 9630              		.loc 1 3975 13 is_stmt 0 view .LVU3069
 9631 0022 6046     		mov	r0, ip
 9632              	.LVL1034:
3975:ThirdPackage/lwip220/api/sockets.c ****       if (ret == NULL) {
 9633              		.loc 1 3975 13 view .LVU3070
 9634 0024 FFF7FEFF 		bl	ip4addr_ntoa_r
 9635              	.LVL1035:
3976:ThirdPackage/lwip220/api/sockets.c ****         set_errno(ENOSPC);
 9636              		.loc 1 3976 7 is_stmt 1 view .LVU3071
3976:ThirdPackage/lwip220/api/sockets.c ****         set_errno(ENOSPC);
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 291


 9637              		.loc 1 3976 10 is_stmt 0 view .LVU3072
 9638 0028 0028     		cmp	r0, #0
 9639 002a F4D1     		bne	.L791
3977:ThirdPackage/lwip220/api/sockets.c ****       }
 9640              		.loc 1 3977 9 is_stmt 1 discriminator 1 view .LVU3073
3977:ThirdPackage/lwip220/api/sockets.c ****       }
 9641              		.loc 1 3977 9 discriminator 1 view .LVU3074
3977:ThirdPackage/lwip220/api/sockets.c ****       }
 9642              		.loc 1 3977 9 discriminator 1 view .LVU3075
 9643 002c 014B     		ldr	r3, .L798
 9644 002e 1C22     		movs	r2, #28
 9645 0030 1A60     		str	r2, [r3]
 9646 0032 F0E7     		b	.L791
 9647              	.L799:
 9648              		.align	2
 9649              	.L798:
 9650 0034 00000000 		.word	errno
 9651              		.cfi_endproc
 9652              	.LFE212:
 9654              		.section	.text.lwip_inet_pton,"ax",%progbits
 9655              		.align	1
 9656              		.global	lwip_inet_pton
 9657              		.syntax unified
 9658              		.thumb
 9659              		.thumb_func
 9661              	lwip_inet_pton:
 9662              	.LVL1036:
 9663              	.LFB213:
3995:ThirdPackage/lwip220/api/sockets.c **** 
3996:ThirdPackage/lwip220/api/sockets.c **** int
3997:ThirdPackage/lwip220/api/sockets.c **** lwip_inet_pton(int af, const char *src, void *dst)
3998:ThirdPackage/lwip220/api/sockets.c **** {
 9664              		.loc 1 3998 1 view -0
 9665              		.cfi_startproc
 9666              		@ args = 0, pretend = 0, frame = 0
 9667              		@ frame_needed = 0, uses_anonymous_args = 0
 9668              		.loc 1 3998 1 is_stmt 0 view .LVU3077
 9669 0000 08B5     		push	{r3, lr}
 9670              	.LCFI124:
 9671              		.cfi_def_cfa_offset 8
 9672              		.cfi_offset 3, -8
 9673              		.cfi_offset 14, -4
3999:ThirdPackage/lwip220/api/sockets.c ****   int err;
 9674              		.loc 1 3999 3 is_stmt 1 view .LVU3078
4000:ThirdPackage/lwip220/api/sockets.c ****   switch (af) {
 9675              		.loc 1 4000 3 view .LVU3079
 9676 0002 0228     		cmp	r0, #2
 9677 0004 04D1     		bne	.L801
 9678 0006 0846     		mov	r0, r1
 9679              	.LVL1037:
 9680              		.loc 1 4000 3 is_stmt 0 view .LVU3080
 9681 0008 1146     		mov	r1, r2
 9682              	.LVL1038:
4001:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_IPV4
4002:ThirdPackage/lwip220/api/sockets.c ****     case AF_INET:
4003:ThirdPackage/lwip220/api/sockets.c ****       err = ip4addr_aton(src, (ip4_addr_t *)dst);
 9683              		.loc 1 4003 7 is_stmt 1 view .LVU3081
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 292


 9684              		.loc 1 4003 13 is_stmt 0 view .LVU3082
 9685 000a FFF7FEFF 		bl	ip4addr_aton
 9686              	.LVL1039:
4004:ThirdPackage/lwip220/api/sockets.c ****       break;
 9687              		.loc 1 4004 7 is_stmt 1 view .LVU3083
 9688              	.L800:
4005:ThirdPackage/lwip220/api/sockets.c **** #endif
4006:ThirdPackage/lwip220/api/sockets.c **** #if LWIP_IPV6
4007:ThirdPackage/lwip220/api/sockets.c ****     case AF_INET6: {
4008:ThirdPackage/lwip220/api/sockets.c ****       /* convert into temporary variable since ip6_addr_t might be larger
4009:ThirdPackage/lwip220/api/sockets.c ****          than in6_addr when scopes are enabled */
4010:ThirdPackage/lwip220/api/sockets.c ****       ip6_addr_t addr;
4011:ThirdPackage/lwip220/api/sockets.c ****       err = ip6addr_aton(src, &addr);
4012:ThirdPackage/lwip220/api/sockets.c ****       if (err) {
4013:ThirdPackage/lwip220/api/sockets.c ****         memcpy(dst, &addr.addr, sizeof(addr.addr));
4014:ThirdPackage/lwip220/api/sockets.c ****       }
4015:ThirdPackage/lwip220/api/sockets.c ****       break;
4016:ThirdPackage/lwip220/api/sockets.c ****     }
4017:ThirdPackage/lwip220/api/sockets.c **** #endif
4018:ThirdPackage/lwip220/api/sockets.c ****     default:
4019:ThirdPackage/lwip220/api/sockets.c ****       err = -1;
4020:ThirdPackage/lwip220/api/sockets.c ****       set_errno(EAFNOSUPPORT);
4021:ThirdPackage/lwip220/api/sockets.c ****       break;
4022:ThirdPackage/lwip220/api/sockets.c ****   }
4023:ThirdPackage/lwip220/api/sockets.c ****   return err;
4024:ThirdPackage/lwip220/api/sockets.c **** }
 9689              		.loc 1 4024 1 is_stmt 0 view .LVU3084
 9690 000e 08BD     		pop	{r3, pc}
 9691              	.LVL1040:
 9692              	.L801:
4019:ThirdPackage/lwip220/api/sockets.c ****       set_errno(EAFNOSUPPORT);
 9693              		.loc 1 4019 7 is_stmt 1 view .LVU3085
4020:ThirdPackage/lwip220/api/sockets.c ****       break;
 9694              		.loc 1 4020 7 view .LVU3086
4020:ThirdPackage/lwip220/api/sockets.c ****       break;
 9695              		.loc 1 4020 7 view .LVU3087
4020:ThirdPackage/lwip220/api/sockets.c ****       break;
 9696              		.loc 1 4020 7 view .LVU3088
 9697 0010 024B     		ldr	r3, .L804
 9698 0012 6122     		movs	r2, #97
 9699              	.LVL1041:
4020:ThirdPackage/lwip220/api/sockets.c ****       break;
 9700              		.loc 1 4020 7 is_stmt 0 view .LVU3089
 9701 0014 1A60     		str	r2, [r3]
4019:ThirdPackage/lwip220/api/sockets.c ****       set_errno(EAFNOSUPPORT);
 9702              		.loc 1 4019 11 view .LVU3090
 9703 0016 4FF0FF30 		mov	r0, #-1
 9704              	.LVL1042:
4023:ThirdPackage/lwip220/api/sockets.c **** }
 9705              		.loc 1 4023 3 is_stmt 1 view .LVU3091
4023:ThirdPackage/lwip220/api/sockets.c **** }
 9706              		.loc 1 4023 10 is_stmt 0 view .LVU3092
 9707 001a F8E7     		b	.L800
 9708              	.L805:
 9709              		.align	2
 9710              	.L804:
 9711 001c 00000000 		.word	errno
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 293


 9712              		.cfi_endproc
 9713              	.LFE213:
 9715              		.section	.bss.select_cb_list,"aw",%nobits
 9716              		.align	2
 9717              		.set	.LANCHOR1,. + 0
 9720              	select_cb_list:
 9721 0000 00000000 		.space	4
 9722              		.section	.bss.sockets,"aw",%nobits
 9723              		.align	2
 9724              		.set	.LANCHOR0,. + 0
 9727              	sockets:
 9728 0000 00000000 		.space	64
 9728      00000000 
 9728      00000000 
 9728      00000000 
 9728      00000000 
 9729              		.text
 9730              	.Letext0:
 9731              		.file 2 "k:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 9732              		.file 3 "k:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 9733              		.file 4 "k:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\lib\\gcc\\arm-none-eabi\
 9734              		.file 5 "ThirdPackage/freertos/include/queue.h"
 9735              		.file 6 "k:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 9736              		.file 7 "k:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 9737              		.file 8 "k:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 9738              		.file 9 "k:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 9739              		.file 10 "ThirdPackage/lwip220/include/arch/cc.h"
 9740              		.file 11 "ThirdPackage/lwip220/include/lwip/arch.h"
 9741              		.file 12 "ThirdPackage/lwip220/include/lwip/ip4_addr.h"
 9742              		.file 13 "ThirdPackage/lwip220/include/lwip/ip_addr.h"
 9743              		.file 14 "ThirdPackage/lwip220/include/lwip/err.h"
 9744              		.file 15 "ThirdPackage/lwip220/include/lwip/pbuf.h"
 9745              		.file 16 "ThirdPackage/lwip220/include/lwip/memp.h"
 9746              		.file 17 "ThirdPackage/lwip220/include/lwip/netif.h"
 9747              		.file 18 "ThirdPackage/lwip220/include/lwip/inet.h"
 9748              		.file 19 "ThirdPackage/lwip220/include/lwip/sockets.h"
 9749              		.file 20 "ThirdPackage/freertos/include/semphr.h"
 9750              		.file 21 "ThirdPackage/lwip220/include/arch/sys_arch.h"
 9751              		.file 22 "ThirdPackage/lwip220/include/lwip/priv/sockets_priv.h"
 9752              		.file 23 "ThirdPackage/lwip220/include/lwip/netbuf.h"
 9753              		.file 24 "ThirdPackage/lwip220/include/lwip/api.h"
 9754              		.file 25 "ThirdPackage/lwip220/include/lwip/ip.h"
 9755              		.file 26 "ThirdPackage/lwip220/include/lwip/tcp.h"
 9756              		.file 27 "ThirdPackage/lwip220/include/lwip/udp.h"
 9757              		.file 28 "ThirdPackage/lwip220/include/lwip/tcpbase.h"
 9758              		.file 29 "ThirdPackage/lwip220/include/lwip/errno.h"
 9759              		.file 30 "ThirdPackage/lwip220/include/lwip/tcpip.h"
 9760              		.file 31 "ThirdPackage/lwip220/include/lwip/sys.h"
 9761              		.file 32 "k:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\
 9762              		.file 33 "ThirdPackage/lwip220/include/lwip/def.h"
 9763              		.file 34 "<built-in>"
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 294


DEFINED SYMBOLS
                            *ABS*:00000000 sockets.c
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:20     .text.tryget_socket_unconn_nouse:00000000 $t
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:25     .text.tryget_socket_unconn_nouse:00000000 tryget_socket_unconn_nouse
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:56     .text.tryget_socket_unconn_nouse:00000010 $d
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:61     .text.tryget_socket_unconn:00000000 $t
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:66     .text.tryget_socket_unconn:00000000 tryget_socket_unconn
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:91     .text.tryget_socket_unconn_locked:00000000 $t
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:96     .text.tryget_socket_unconn_locked:00000000 tryget_socket_unconn_locked
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:121    .text.tryget_socket:00000000 $t
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:126    .text.tryget_socket:00000000 tryget_socket
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:167    .text.get_socket:00000000 $t
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:172    .text.get_socket:00000000 get_socket
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:211    .text.get_socket:00000014 $d
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:216    .text.free_socket_locked:00000000 $t
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:221    .text.free_socket_locked:00000000 free_socket_locked
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:260    .text.lwip_poll_should_wake:00000000 $t
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:265    .text.lwip_poll_should_wake:00000000 lwip_poll_should_wake
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:372    .rodata.lwip_sockopt_to_ipopt.str1.4:00000000 $d
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:382    .text.lwip_sockopt_to_ipopt:00000000 $t
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:387    .text.lwip_sockopt_to_ipopt:00000000 lwip_sockopt_to_ipopt
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:437    .text.lwip_sockopt_to_ipopt:00000024 $d
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:444    .rodata.alloc_socket.str1.4:00000000 $d
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:448    .text.alloc_socket:00000000 $t
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:453    .text.alloc_socket:00000000 alloc_socket
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:586    .text.alloc_socket:00000078 $d
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:594    .rodata.lwip_selscan.str1.4:00000000 $d
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:598    .text.lwip_selscan:00000000 $t
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:603    .text.lwip_selscan:00000000 lwip_selscan
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:1048   .text.lwip_selscan:0000024c $d
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:1055   .rodata.lwip_pollscan.str1.4:00000000 $d
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:1059   .text.lwip_pollscan:00000000 $t
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:1064   .text.lwip_pollscan:00000000 lwip_pollscan
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:1379   .text.lwip_pollscan:0000013c $d
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:1387   .text.lwip_link_select_cb:00000000 $t
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:1392   .text.lwip_link_select_cb:00000000 lwip_link_select_cb
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:1440   .text.lwip_link_select_cb:00000020 $d
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:1446   .rodata.lwip_unlink_select_cb.str1.4:00000000 $d
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:1453   .text.lwip_unlink_select_cb:00000000 $t
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:1458   .text.lwip_unlink_select_cb:00000000 lwip_unlink_select_cb
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:1555   .text.lwip_unlink_select_cb:00000058 $d
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:1565   .rodata.lwip_sock_make_addr.str1.4:00000000 $d
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:1575   .text.lwip_sock_make_addr:00000000 $t
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:1580   .text.lwip_sock_make_addr:00000000 lwip_sock_make_addr
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:1732   .text.lwip_sock_make_addr:0000008c $d
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:1741   .text.lwip_recv_tcp_from:00000000 $t
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:1746   .text.lwip_recv_tcp_from:00000000 lwip_recv_tcp_from
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:1857   .text.lwip_getaddrname:00000000 $t
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:1862   .text.lwip_getaddrname:00000000 lwip_getaddrname
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:2003   .text.lwip_getaddrname:00000080 $d
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:2008   .text.free_socket_free_elements:00000000 $t
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:2013   .text.free_socket_free_elements:00000000 free_socket_free_elements
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:2062   .text.free_socket:00000000 $t
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:2067   .text.free_socket:00000000 free_socket
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:2142   .rodata.lwip_recv_tcp.str1.4:00000000 $d
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:2158   .text.lwip_recv_tcp:00000000 $t
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:2163   .text.lwip_recv_tcp:00000000 lwip_recv_tcp
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 295


C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:2532   .text.lwip_recv_tcp:00000168 $d
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:2544   .rodata.lwip_recvfrom_udp_raw.str1.4:00000000 $d
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:2548   .text.lwip_recvfrom_udp_raw:00000000 $t
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:2553   .text.lwip_recvfrom_udp_raw:00000000 lwip_recvfrom_udp_raw
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:2843   .text.lwip_recvfrom_udp_raw:000000f4 $d
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:2850   .text.select_check_waiters:00000000 $t
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:2855   .text.select_check_waiters:00000000 select_check_waiters
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:3072   .text.select_check_waiters:000000e4 $d
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:3077   .rodata.event_callback.str1.4:00000000 $d
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:3081   .text.event_callback:00000000 $t
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:3086   .text.event_callback:00000000 event_callback
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:3147   .text.event_callback:0000002a $d
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:3355   .text.event_callback:000000e4 $d
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:3362   .text.lwip_getsockopt_impl:00000000 $t
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:3367   .text.lwip_getsockopt_impl:00000000 lwip_getsockopt_impl
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:4014   .rodata.lwip_setsockopt_impl.str1.4:00000000 $d
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:4018   .text.lwip_setsockopt_impl:00000000 $t
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:4023   .text.lwip_setsockopt_impl:00000000 lwip_setsockopt_impl
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:4622   .text.lwip_setsockopt_impl:0000021c $d
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:4629   .text.lwip_socket_thread_init:00000000 $t
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:4635   .text.lwip_socket_thread_init:00000000 lwip_socket_thread_init
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:4649   .text.lwip_socket_thread_cleanup:00000000 $t
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:4655   .text.lwip_socket_thread_cleanup:00000000 lwip_socket_thread_cleanup
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:4669   .text.lwip_socket_dbg_get_socket:00000000 $t
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:4675   .text.lwip_socket_dbg_get_socket:00000000 lwip_socket_dbg_get_socket
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:4698   .rodata.lwip_accept.str1.4:00000000 $d
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:4705   .text.lwip_accept:00000000 $t
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:4711   .text.lwip_accept:00000000 lwip_accept
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:5078   .text.lwip_accept:00000168 $d
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:5089   .text.lwip_bind:00000000 $t
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:5095   .text.lwip_bind:00000000 lwip_bind
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:5242   .text.lwip_bind:0000007c $d
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:5247   .rodata.lwip_close.str1.4:00000000 $d
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:5251   .text.lwip_close:00000000 $t
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:5257   .text.lwip_close:00000000 lwip_close
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:5386   .text.lwip_close:0000006c $d
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:5394   .text.lwip_connect:00000000 $t
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:5400   .text.lwip_connect:00000000 lwip_connect
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:5573   .text.lwip_connect:0000008c $d
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:5578   .text.lwip_listen:00000000 $t
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:5584   .text.lwip_listen:00000000 lwip_listen
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:5695   .text.lwip_listen:0000005c $d
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:5700   .rodata.lwip_recvfrom.str1.4:00000000 $d
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:5704   .text.lwip_recvfrom:00000000 $t
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:5710   .text.lwip_recvfrom:00000000 lwip_recvfrom
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:5936   .text.lwip_recvfrom:000000c8 $d
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:5942   .text.lwip_read:00000000 $t
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:5948   .text.lwip_read:00000000 lwip_read
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:5980   .text.lwip_recv:00000000 $t
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:5986   .text.lwip_recv:00000000 lwip_recv
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:6019   .text.lwip_recvmsg:00000000 $t
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:6025   .text.lwip_recvmsg:00000000 lwip_recvmsg
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:6401   .text.lwip_recvmsg:00000148 $d
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:6406   .text.lwip_readv:00000000 $t
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:6412   .text.lwip_readv:00000000 lwip_readv
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:6470   .text.lwip_sendmsg:00000000 $t
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:6476   .text.lwip_sendmsg:00000000 lwip_sendmsg
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 296


C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:6989   .text.lwip_sendmsg:000001e0 $d
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:6994   .text.lwip_sendto:00000000 $t
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:7000   .text.lwip_sendto:00000000 lwip_sendto
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:7270   .text.lwip_send:00000000 lwip_send
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:7259   .text.lwip_sendto:000000f4 $d
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:7264   .text.lwip_send:00000000 $t
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:7420   .text.lwip_send:00000084 $d
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:7425   .text.lwip_socket:00000000 $t
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:7431   .text.lwip_socket:00000000 lwip_socket
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:7609   .text.lwip_socket:00000080 $d
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:7615   .text.lwip_write:00000000 $t
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:7621   .text.lwip_write:00000000 lwip_write
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:7645   .text.lwip_writev:00000000 $t
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:7651   .text.lwip_writev:00000000 lwip_writev
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:7709   .rodata.lwip_select.str1.4:00000000 $d
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:7713   .text.lwip_select:00000000 $t
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:7719   .text.lwip_select:00000000 lwip_select
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:8447   .text.lwip_select:00000308 $d
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:8458   .text.lwip_select:00000320 $t
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:8510   .text.lwip_select:0000036c $d
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:8516   .rodata.lwip_poll.str1.4:00000000 $d
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:8520   .text.lwip_poll:00000000 $t
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:8526   .text.lwip_poll:00000000 lwip_poll
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:8756   .text.lwip_poll:000000b4 $d
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:8764   .text.lwip_shutdown:00000000 $t
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:8770   .text.lwip_shutdown:00000000 lwip_shutdown
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:8926   .text.lwip_shutdown:00000080 $d
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:8931   .text.lwip_getpeername:00000000 $t
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:8937   .text.lwip_getpeername:00000000 lwip_getpeername
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:8961   .text.lwip_getsockname:00000000 $t
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:8967   .text.lwip_getsockname:00000000 lwip_getsockname
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:8991   .text.lwip_getsockopt:00000000 $t
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:8997   .text.lwip_getsockopt:00000000 lwip_getsockopt
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:9118   .text.lwip_getsockopt:0000006c $d
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:9124   .text.lwip_setsockopt:00000000 $t
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:9130   .text.lwip_setsockopt:00000000 lwip_setsockopt
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:9248   .text.lwip_setsockopt:00000060 $d
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:9254   .text.lwip_ioctl:00000000 $t
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:9260   .text.lwip_ioctl:00000000 lwip_ioctl
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:9357   .text.lwip_ioctl:00000048 $d
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:9363   .text.lwip_fcntl:00000000 $t
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:9369   .text.lwip_fcntl:00000000 lwip_fcntl
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:9553   .text.lwip_fcntl:000000a8 $d
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:9559   .text.lwip_inet_ntop:00000000 $t
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:9565   .text.lwip_inet_ntop:00000000 lwip_inet_ntop
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:9650   .text.lwip_inet_ntop:00000034 $d
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:9655   .text.lwip_inet_pton:00000000 $t
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:9661   .text.lwip_inet_pton:00000000 lwip_inet_pton
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:9711   .text.lwip_inet_pton:0000001c $d
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:9716   .bss.select_cb_list:00000000 $d
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:9720   .bss.select_cb_list:00000000 select_cb_list
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:9723   .bss.sockets:00000000 $d
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:9727   .bss.sockets:00000000 sockets
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:3153   .text.event_callback:0000002f $d
C:\Users\86188\AppData\Local\Temp\cca48a4Y.s:3153   .text.event_callback:00000030 $t

UNDEFINED SYMBOLS
ARM GAS  C:\Users\86188\AppData\Local\Temp\cca48a4Y.s 			page 297


errno
printf
sys_arch_protect
sys_arch_unprotect
sys_mutex_lock
sys_mutex_unlock
lock_tcpip_core
lwip_htons
memcpy
netconn_getaddr
err_to_errno
pbuf_free
netconn_delete
netbuf_delete
netconn_recv_tcp_pbuf_flags
pbuf_copy_partial
pbuf_free_header
netconn_tcp_recvd
netconn_recv_udp_raw_netbuf_flags
sys_sem_signal
netconn_err
netif_find
tcp_bind_netif
udp_bind_netif
netconn_accept
netconn_bind
netconn_prepare_delete
netconn_connect
netconn_disconnect
netconn_listen_with_backlog
netconn_write_vectors_partly
pbuf_alloc
pbuf_cat
netbuf_free
netconn_send
netbuf_ref
netconn_write_partly
netconn_new_with_proto_and_callback
memset
sys_sem_new
sys_arch_sem_wait
sys_sem_free
netconn_shutdown
ip4addr_ntoa_r
ip4addr_aton
