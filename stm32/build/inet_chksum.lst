ARM GAS  C:\Users\86188\AppData\Local\Temp\ccWeyKqK.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"inet_chksum.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.lwip_standard_chksum,"ax",%progbits
  20              		.align	1
  21              		.global	lwip_standard_chksum
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	lwip_standard_chksum:
  27              	.LVL0:
  28              	.LFB160:
  29              		.file 1 "ThirdPackage/lwip220/core/inet_chksum.c"
   1:ThirdPackage/lwip220/core/inet_chksum.c **** /**
   2:ThirdPackage/lwip220/core/inet_chksum.c ****  * @file
   3:ThirdPackage/lwip220/core/inet_chksum.c ****  * Internet checksum functions.
   4:ThirdPackage/lwip220/core/inet_chksum.c ****  *
   5:ThirdPackage/lwip220/core/inet_chksum.c ****  * These are some reference implementations of the checksum algorithm, with the
   6:ThirdPackage/lwip220/core/inet_chksum.c ****  * aim of being simple, correct and fully portable. Checksumming is the
   7:ThirdPackage/lwip220/core/inet_chksum.c ****  * first thing you would want to optimize for your platform. If you create
   8:ThirdPackage/lwip220/core/inet_chksum.c ****  * your own version, link it in and in your cc.h put:
   9:ThirdPackage/lwip220/core/inet_chksum.c ****  *
  10:ThirdPackage/lwip220/core/inet_chksum.c ****  * \#define LWIP_CHKSUM your_checksum_routine
  11:ThirdPackage/lwip220/core/inet_chksum.c ****  *
  12:ThirdPackage/lwip220/core/inet_chksum.c ****  * Or you can select from the implementations below by defining
  13:ThirdPackage/lwip220/core/inet_chksum.c ****  * LWIP_CHKSUM_ALGORITHM to 1, 2 or 3.
  14:ThirdPackage/lwip220/core/inet_chksum.c ****  */
  15:ThirdPackage/lwip220/core/inet_chksum.c **** 
  16:ThirdPackage/lwip220/core/inet_chksum.c **** /*
  17:ThirdPackage/lwip220/core/inet_chksum.c ****  * Copyright (c) 2001-2004 Swedish Institute of Computer Science.
  18:ThirdPackage/lwip220/core/inet_chksum.c ****  * All rights reserved.
  19:ThirdPackage/lwip220/core/inet_chksum.c ****  *
  20:ThirdPackage/lwip220/core/inet_chksum.c ****  * Redistribution and use in source and binary forms, with or without modification,
  21:ThirdPackage/lwip220/core/inet_chksum.c ****  * are permitted provided that the following conditions are met:
  22:ThirdPackage/lwip220/core/inet_chksum.c ****  *
  23:ThirdPackage/lwip220/core/inet_chksum.c ****  * 1. Redistributions of source code must retain the above copyright notice,
  24:ThirdPackage/lwip220/core/inet_chksum.c ****  *    this list of conditions and the following disclaimer.
  25:ThirdPackage/lwip220/core/inet_chksum.c ****  * 2. Redistributions in binary form must reproduce the above copyright notice,
  26:ThirdPackage/lwip220/core/inet_chksum.c ****  *    this list of conditions and the following disclaimer in the documentation
  27:ThirdPackage/lwip220/core/inet_chksum.c ****  *    and/or other materials provided with the distribution.
  28:ThirdPackage/lwip220/core/inet_chksum.c ****  * 3. The name of the author may not be used to endorse or promote products
  29:ThirdPackage/lwip220/core/inet_chksum.c ****  *    derived from this software without specific prior written permission.
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccWeyKqK.s 			page 2


  30:ThirdPackage/lwip220/core/inet_chksum.c ****  *
  31:ThirdPackage/lwip220/core/inet_chksum.c ****  * THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED
  32:ThirdPackage/lwip220/core/inet_chksum.c ****  * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
  33:ThirdPackage/lwip220/core/inet_chksum.c ****  * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
  34:ThirdPackage/lwip220/core/inet_chksum.c ****  * SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  35:ThirdPackage/lwip220/core/inet_chksum.c ****  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT
  36:ThirdPackage/lwip220/core/inet_chksum.c ****  * OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
  37:ThirdPackage/lwip220/core/inet_chksum.c ****  * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
  38:ThirdPackage/lwip220/core/inet_chksum.c ****  * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING
  39:ThirdPackage/lwip220/core/inet_chksum.c ****  * IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY
  40:ThirdPackage/lwip220/core/inet_chksum.c ****  * OF SUCH DAMAGE.
  41:ThirdPackage/lwip220/core/inet_chksum.c ****  *
  42:ThirdPackage/lwip220/core/inet_chksum.c ****  * This file is part of the lwIP TCP/IP stack.
  43:ThirdPackage/lwip220/core/inet_chksum.c ****  *
  44:ThirdPackage/lwip220/core/inet_chksum.c ****  * Author: Adam Dunkels <adam@sics.se>
  45:ThirdPackage/lwip220/core/inet_chksum.c ****  *
  46:ThirdPackage/lwip220/core/inet_chksum.c ****  */
  47:ThirdPackage/lwip220/core/inet_chksum.c **** 
  48:ThirdPackage/lwip220/core/inet_chksum.c **** #include "lwip/opt.h"
  49:ThirdPackage/lwip220/core/inet_chksum.c **** 
  50:ThirdPackage/lwip220/core/inet_chksum.c **** #include "lwip/inet_chksum.h"
  51:ThirdPackage/lwip220/core/inet_chksum.c **** #include "lwip/def.h"
  52:ThirdPackage/lwip220/core/inet_chksum.c **** #include "lwip/ip_addr.h"
  53:ThirdPackage/lwip220/core/inet_chksum.c **** 
  54:ThirdPackage/lwip220/core/inet_chksum.c **** #include <string.h>
  55:ThirdPackage/lwip220/core/inet_chksum.c **** 
  56:ThirdPackage/lwip220/core/inet_chksum.c **** #ifndef LWIP_CHKSUM
  57:ThirdPackage/lwip220/core/inet_chksum.c **** # define LWIP_CHKSUM lwip_standard_chksum
  58:ThirdPackage/lwip220/core/inet_chksum.c **** # ifndef LWIP_CHKSUM_ALGORITHM
  59:ThirdPackage/lwip220/core/inet_chksum.c **** #  define LWIP_CHKSUM_ALGORITHM 2
  60:ThirdPackage/lwip220/core/inet_chksum.c **** # endif
  61:ThirdPackage/lwip220/core/inet_chksum.c **** u16_t lwip_standard_chksum(const void *dataptr, int len);
  62:ThirdPackage/lwip220/core/inet_chksum.c **** #endif
  63:ThirdPackage/lwip220/core/inet_chksum.c **** /* If none set: */
  64:ThirdPackage/lwip220/core/inet_chksum.c **** #ifndef LWIP_CHKSUM_ALGORITHM
  65:ThirdPackage/lwip220/core/inet_chksum.c **** # define LWIP_CHKSUM_ALGORITHM 0
  66:ThirdPackage/lwip220/core/inet_chksum.c **** #endif
  67:ThirdPackage/lwip220/core/inet_chksum.c **** 
  68:ThirdPackage/lwip220/core/inet_chksum.c **** #if (LWIP_CHKSUM_ALGORITHM == 1) /* Version #1 */
  69:ThirdPackage/lwip220/core/inet_chksum.c **** /**
  70:ThirdPackage/lwip220/core/inet_chksum.c ****  * lwip checksum
  71:ThirdPackage/lwip220/core/inet_chksum.c ****  *
  72:ThirdPackage/lwip220/core/inet_chksum.c ****  * @param dataptr points to start of data to be summed at any boundary
  73:ThirdPackage/lwip220/core/inet_chksum.c ****  * @param len length of data to be summed
  74:ThirdPackage/lwip220/core/inet_chksum.c ****  * @return host order (!) lwip checksum (non-inverted Internet sum)
  75:ThirdPackage/lwip220/core/inet_chksum.c ****  *
  76:ThirdPackage/lwip220/core/inet_chksum.c ****  * @note accumulator size limits summable length to 64k
  77:ThirdPackage/lwip220/core/inet_chksum.c ****  * @note host endianness is irrelevant (p3 RFC1071)
  78:ThirdPackage/lwip220/core/inet_chksum.c ****  */
  79:ThirdPackage/lwip220/core/inet_chksum.c **** u16_t
  80:ThirdPackage/lwip220/core/inet_chksum.c **** lwip_standard_chksum(const void *dataptr, int len)
  81:ThirdPackage/lwip220/core/inet_chksum.c **** {
  82:ThirdPackage/lwip220/core/inet_chksum.c ****   u32_t acc;
  83:ThirdPackage/lwip220/core/inet_chksum.c ****   u16_t src;
  84:ThirdPackage/lwip220/core/inet_chksum.c ****   const u8_t *octetptr;
  85:ThirdPackage/lwip220/core/inet_chksum.c **** 
  86:ThirdPackage/lwip220/core/inet_chksum.c ****   acc = 0;
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccWeyKqK.s 			page 3


  87:ThirdPackage/lwip220/core/inet_chksum.c ****   /* dataptr may be at odd or even addresses */
  88:ThirdPackage/lwip220/core/inet_chksum.c ****   octetptr = (const u8_t *)dataptr;
  89:ThirdPackage/lwip220/core/inet_chksum.c ****   while (len > 1) {
  90:ThirdPackage/lwip220/core/inet_chksum.c ****     /* declare first octet as most significant
  91:ThirdPackage/lwip220/core/inet_chksum.c ****        thus assume network order, ignoring host order */
  92:ThirdPackage/lwip220/core/inet_chksum.c ****     src = (*octetptr) << 8;
  93:ThirdPackage/lwip220/core/inet_chksum.c ****     octetptr++;
  94:ThirdPackage/lwip220/core/inet_chksum.c ****     /* declare second octet as least significant */
  95:ThirdPackage/lwip220/core/inet_chksum.c ****     src |= (*octetptr);
  96:ThirdPackage/lwip220/core/inet_chksum.c ****     octetptr++;
  97:ThirdPackage/lwip220/core/inet_chksum.c ****     acc += src;
  98:ThirdPackage/lwip220/core/inet_chksum.c ****     len -= 2;
  99:ThirdPackage/lwip220/core/inet_chksum.c ****   }
 100:ThirdPackage/lwip220/core/inet_chksum.c ****   if (len > 0) {
 101:ThirdPackage/lwip220/core/inet_chksum.c ****     /* accumulate remaining octet */
 102:ThirdPackage/lwip220/core/inet_chksum.c ****     src = (*octetptr) << 8;
 103:ThirdPackage/lwip220/core/inet_chksum.c ****     acc += src;
 104:ThirdPackage/lwip220/core/inet_chksum.c ****   }
 105:ThirdPackage/lwip220/core/inet_chksum.c ****   /* add deferred carry bits */
 106:ThirdPackage/lwip220/core/inet_chksum.c ****   acc = (acc >> 16) + (acc & 0x0000ffffUL);
 107:ThirdPackage/lwip220/core/inet_chksum.c ****   if ((acc & 0xffff0000UL) != 0) {
 108:ThirdPackage/lwip220/core/inet_chksum.c ****     acc = (acc >> 16) + (acc & 0x0000ffffUL);
 109:ThirdPackage/lwip220/core/inet_chksum.c ****   }
 110:ThirdPackage/lwip220/core/inet_chksum.c ****   /* This maybe a little confusing: reorder sum using lwip_htons()
 111:ThirdPackage/lwip220/core/inet_chksum.c ****      instead of lwip_ntohs() since it has a little less call overhead.
 112:ThirdPackage/lwip220/core/inet_chksum.c ****      The caller must invert bits for Internet sum ! */
 113:ThirdPackage/lwip220/core/inet_chksum.c ****   return lwip_htons((u16_t)acc);
 114:ThirdPackage/lwip220/core/inet_chksum.c **** }
 115:ThirdPackage/lwip220/core/inet_chksum.c **** #endif
 116:ThirdPackage/lwip220/core/inet_chksum.c **** 
 117:ThirdPackage/lwip220/core/inet_chksum.c **** #if (LWIP_CHKSUM_ALGORITHM == 2) /* Alternative version #2 */
 118:ThirdPackage/lwip220/core/inet_chksum.c **** /*
 119:ThirdPackage/lwip220/core/inet_chksum.c ****  * Curt McDowell
 120:ThirdPackage/lwip220/core/inet_chksum.c ****  * Broadcom Corp.
 121:ThirdPackage/lwip220/core/inet_chksum.c ****  * csm@broadcom.com
 122:ThirdPackage/lwip220/core/inet_chksum.c ****  *
 123:ThirdPackage/lwip220/core/inet_chksum.c ****  * IP checksum two bytes at a time with support for
 124:ThirdPackage/lwip220/core/inet_chksum.c ****  * unaligned buffer.
 125:ThirdPackage/lwip220/core/inet_chksum.c ****  * Works for len up to and including 0x20000.
 126:ThirdPackage/lwip220/core/inet_chksum.c ****  * by Curt McDowell, Broadcom Corp. 12/08/2005
 127:ThirdPackage/lwip220/core/inet_chksum.c ****  *
 128:ThirdPackage/lwip220/core/inet_chksum.c ****  * @param dataptr points to start of data to be summed at any boundary
 129:ThirdPackage/lwip220/core/inet_chksum.c ****  * @param len length of data to be summed
 130:ThirdPackage/lwip220/core/inet_chksum.c ****  * @return host order (!) lwip checksum (non-inverted Internet sum)
 131:ThirdPackage/lwip220/core/inet_chksum.c ****  */
 132:ThirdPackage/lwip220/core/inet_chksum.c **** u16_t
 133:ThirdPackage/lwip220/core/inet_chksum.c **** lwip_standard_chksum(const void *dataptr, int len)
 134:ThirdPackage/lwip220/core/inet_chksum.c **** {
  30              		.loc 1 134 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 8
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		@ link register save eliminated.
  35              		.loc 1 134 1 is_stmt 0 view .LVU1
  36 0000 10B4     		push	{r4}
  37              	.LCFI0:
  38              		.cfi_def_cfa_offset 4
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccWeyKqK.s 			page 4


  39              		.cfi_offset 4, -4
  40 0002 83B0     		sub	sp, sp, #12
  41              	.LCFI1:
  42              		.cfi_def_cfa_offset 16
 135:ThirdPackage/lwip220/core/inet_chksum.c ****   const u8_t *pb = (const u8_t *)dataptr;
  43              		.loc 1 135 3 is_stmt 1 view .LVU2
  44              	.LVL1:
 136:ThirdPackage/lwip220/core/inet_chksum.c ****   const u16_t *ps;
  45              		.loc 1 136 3 view .LVU3
 137:ThirdPackage/lwip220/core/inet_chksum.c ****   u16_t t = 0;
  46              		.loc 1 137 3 view .LVU4
  47              		.loc 1 137 9 is_stmt 0 view .LVU5
  48 0004 0023     		movs	r3, #0
  49 0006 ADF80630 		strh	r3, [sp, #6]	@ movhi
 138:ThirdPackage/lwip220/core/inet_chksum.c ****   u32_t sum = 0;
  50              		.loc 1 138 3 is_stmt 1 view .LVU6
  51              	.LVL2:
 139:ThirdPackage/lwip220/core/inet_chksum.c ****   int odd = ((mem_ptr_t)pb & 1);
  52              		.loc 1 139 3 view .LVU7
 140:ThirdPackage/lwip220/core/inet_chksum.c **** 
 141:ThirdPackage/lwip220/core/inet_chksum.c ****   /* Get aligned to u16_t */
 142:ThirdPackage/lwip220/core/inet_chksum.c ****   if (odd && len > 0) {
  53              		.loc 1 142 3 view .LVU8
  54              		.loc 1 142 6 is_stmt 0 view .LVU9
  55 000a 10F00104 		ands	r4, r0, #1
  56              	.LVL3:
  57              		.loc 1 142 6 view .LVU10
  58 000e 06D0     		beq	.L2
  59              		.loc 1 142 11 discriminator 1 view .LVU11
  60 0010 9942     		cmp	r1, r3
  61 0012 04DD     		ble	.L2
 143:ThirdPackage/lwip220/core/inet_chksum.c ****     ((u8_t *)&t)[1] = *pb++;
  62              		.loc 1 143 5 is_stmt 1 view .LVU12
  63              	.LVL4:
  64              		.loc 1 143 23 is_stmt 0 view .LVU13
  65 0014 10F8013B 		ldrb	r3, [r0], #1	@ zero_extendqisi2
  66              	.LVL5:
  67              		.loc 1 143 21 view .LVU14
  68 0018 8DF80730 		strb	r3, [sp, #7]
 144:ThirdPackage/lwip220/core/inet_chksum.c ****     len--;
  69              		.loc 1 144 5 is_stmt 1 view .LVU15
  70              		.loc 1 144 8 is_stmt 0 view .LVU16
  71 001c 0139     		subs	r1, r1, #1
  72              	.LVL6:
  73              	.L2:
 145:ThirdPackage/lwip220/core/inet_chksum.c ****   }
 146:ThirdPackage/lwip220/core/inet_chksum.c **** 
 147:ThirdPackage/lwip220/core/inet_chksum.c ****   /* Add the bulk of the data */
 148:ThirdPackage/lwip220/core/inet_chksum.c ****   ps = (const u16_t *)(const void *)pb;
  74              		.loc 1 148 3 is_stmt 1 view .LVU17
 149:ThirdPackage/lwip220/core/inet_chksum.c ****   while (len > 1) {
  75              		.loc 1 149 3 view .LVU18
 138:ThirdPackage/lwip220/core/inet_chksum.c ****   int odd = ((mem_ptr_t)pb & 1);
  76              		.loc 1 138 9 is_stmt 0 view .LVU19
  77 001e 0023     		movs	r3, #0
  78              		.loc 1 149 9 view .LVU20
  79 0020 03E0     		b	.L3
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccWeyKqK.s 			page 5


  80              	.LVL7:
  81              	.L4:
 150:ThirdPackage/lwip220/core/inet_chksum.c ****     sum += *ps++;
  82              		.loc 1 150 5 is_stmt 1 view .LVU21
  83              		.loc 1 150 12 is_stmt 0 view .LVU22
  84 0022 30F8022B 		ldrh	r2, [r0], #2
  85              	.LVL8:
  86              		.loc 1 150 9 view .LVU23
  87 0026 1344     		add	r3, r3, r2
  88              	.LVL9:
 151:ThirdPackage/lwip220/core/inet_chksum.c ****     len -= 2;
  89              		.loc 1 151 5 is_stmt 1 view .LVU24
  90              		.loc 1 151 9 is_stmt 0 view .LVU25
  91 0028 0239     		subs	r1, r1, #2
  92              	.LVL10:
  93              	.L3:
 149:ThirdPackage/lwip220/core/inet_chksum.c ****     sum += *ps++;
  94              		.loc 1 149 9 is_stmt 1 view .LVU26
  95 002a 0129     		cmp	r1, #1
  96 002c F9DC     		bgt	.L4
 152:ThirdPackage/lwip220/core/inet_chksum.c ****   }
 153:ThirdPackage/lwip220/core/inet_chksum.c **** 
 154:ThirdPackage/lwip220/core/inet_chksum.c ****   /* Consume left-over byte, if any */
 155:ThirdPackage/lwip220/core/inet_chksum.c ****   if (len > 0) {
  97              		.loc 1 155 3 view .LVU27
  98              		.loc 1 155 6 is_stmt 0 view .LVU28
  99 002e 0029     		cmp	r1, #0
 100 0030 02DD     		ble	.L5
 156:ThirdPackage/lwip220/core/inet_chksum.c ****     ((u8_t *)&t)[0] = *(const u8_t *)ps;
 101              		.loc 1 156 5 is_stmt 1 view .LVU29
 102              		.loc 1 156 23 is_stmt 0 view .LVU30
 103 0032 0278     		ldrb	r2, [r0]	@ zero_extendqisi2
 104              		.loc 1 156 21 view .LVU31
 105 0034 8DF80620 		strb	r2, [sp, #6]
 106              	.L5:
 157:ThirdPackage/lwip220/core/inet_chksum.c ****   }
 158:ThirdPackage/lwip220/core/inet_chksum.c **** 
 159:ThirdPackage/lwip220/core/inet_chksum.c ****   /* Add end bytes */
 160:ThirdPackage/lwip220/core/inet_chksum.c ****   sum += t;
 107              		.loc 1 160 3 is_stmt 1 view .LVU32
 108              		.loc 1 160 7 is_stmt 0 view .LVU33
 109 0038 BDF80600 		ldrh	r0, [sp, #6]
 110              	.LVL11:
 111              		.loc 1 160 7 view .LVU34
 112 003c 0344     		add	r3, r3, r0
 113              	.LVL12:
 161:ThirdPackage/lwip220/core/inet_chksum.c **** 
 162:ThirdPackage/lwip220/core/inet_chksum.c ****   /* Fold 32-bit sum to 16 bits
 163:ThirdPackage/lwip220/core/inet_chksum.c ****      calling this twice is probably faster than if statements... */
 164:ThirdPackage/lwip220/core/inet_chksum.c ****   sum = FOLD_U32T(sum);
 114              		.loc 1 164 3 is_stmt 1 view .LVU35
 115              		.loc 1 164 9 is_stmt 0 view .LVU36
 116 003e 98B2     		uxth	r0, r3
 117              		.loc 1 164 7 view .LVU37
 118 0040 00EB1343 		add	r3, r0, r3, lsr #16
 119              	.LVL13:
 165:ThirdPackage/lwip220/core/inet_chksum.c ****   sum = FOLD_U32T(sum);
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccWeyKqK.s 			page 6


 120              		.loc 1 165 3 is_stmt 1 view .LVU38
 121              		.loc 1 165 9 is_stmt 0 view .LVU39
 122 0044 98B2     		uxth	r0, r3
 123              		.loc 1 165 7 view .LVU40
 124 0046 00EB1340 		add	r0, r0, r3, lsr #16
 125              	.LVL14:
 166:ThirdPackage/lwip220/core/inet_chksum.c **** 
 167:ThirdPackage/lwip220/core/inet_chksum.c ****   /* Swap if alignment was odd */
 168:ThirdPackage/lwip220/core/inet_chksum.c ****   if (odd) {
 126              		.loc 1 168 3 is_stmt 1 view .LVU41
 127              		.loc 1 168 6 is_stmt 0 view .LVU42
 128 004a 24B1     		cbz	r4, .L6
 169:ThirdPackage/lwip220/core/inet_chksum.c ****     sum = SWAP_BYTES_IN_WORD(sum);
 129              		.loc 1 169 5 is_stmt 1 view .LVU43
 130              		.loc 1 169 11 is_stmt 0 view .LVU44
 131 004c 0302     		lsls	r3, r0, #8
 132 004e 9BB2     		uxth	r3, r3
 133 0050 C0F30720 		ubfx	r0, r0, #8, #8
 134              	.LVL15:
 135              		.loc 1 169 9 view .LVU45
 136 0054 1843     		orrs	r0, r0, r3
 137              	.LVL16:
 138              	.L6:
 170:ThirdPackage/lwip220/core/inet_chksum.c ****   }
 171:ThirdPackage/lwip220/core/inet_chksum.c **** 
 172:ThirdPackage/lwip220/core/inet_chksum.c ****   return (u16_t)sum;
 139              		.loc 1 172 3 is_stmt 1 view .LVU46
 173:ThirdPackage/lwip220/core/inet_chksum.c **** }
 140              		.loc 1 173 1 is_stmt 0 view .LVU47
 141 0056 80B2     		uxth	r0, r0
 142              	.LVL17:
 143              		.loc 1 173 1 view .LVU48
 144 0058 03B0     		add	sp, sp, #12
 145              	.LCFI2:
 146              		.cfi_def_cfa_offset 4
 147              		@ sp needed
 148 005a 5DF8044B 		ldr	r4, [sp], #4
 149              	.LCFI3:
 150              		.cfi_restore 4
 151              		.cfi_def_cfa_offset 0
 152              	.LVL18:
 153              		.loc 1 173 1 view .LVU49
 154 005e 7047     		bx	lr
 155              		.cfi_endproc
 156              	.LFE160:
 158              		.section	.text.inet_cksum_pseudo_base,"ax",%progbits
 159              		.align	1
 160              		.syntax unified
 161              		.thumb
 162              		.thumb_func
 164              	inet_cksum_pseudo_base:
 165              	.LVL19:
 166              	.LFB161:
 174:ThirdPackage/lwip220/core/inet_chksum.c **** #endif
 175:ThirdPackage/lwip220/core/inet_chksum.c **** 
 176:ThirdPackage/lwip220/core/inet_chksum.c **** #if (LWIP_CHKSUM_ALGORITHM == 3) /* Alternative version #3 */
 177:ThirdPackage/lwip220/core/inet_chksum.c **** /**
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccWeyKqK.s 			page 7


 178:ThirdPackage/lwip220/core/inet_chksum.c ****  * An optimized checksum routine. Basically, it uses loop-unrolling on
 179:ThirdPackage/lwip220/core/inet_chksum.c ****  * the checksum loop, treating the head and tail bytes specially, whereas
 180:ThirdPackage/lwip220/core/inet_chksum.c ****  * the inner loop acts on 8 bytes at a time.
 181:ThirdPackage/lwip220/core/inet_chksum.c ****  *
 182:ThirdPackage/lwip220/core/inet_chksum.c ****  * @arg start of buffer to be checksummed. May be an odd byte address.
 183:ThirdPackage/lwip220/core/inet_chksum.c ****  * @len number of bytes in the buffer to be checksummed.
 184:ThirdPackage/lwip220/core/inet_chksum.c ****  * @return host order (!) lwip checksum (non-inverted Internet sum)
 185:ThirdPackage/lwip220/core/inet_chksum.c ****  *
 186:ThirdPackage/lwip220/core/inet_chksum.c ****  * by Curt McDowell, Broadcom Corp. December 8th, 2005
 187:ThirdPackage/lwip220/core/inet_chksum.c ****  */
 188:ThirdPackage/lwip220/core/inet_chksum.c **** u16_t
 189:ThirdPackage/lwip220/core/inet_chksum.c **** lwip_standard_chksum(const void *dataptr, int len)
 190:ThirdPackage/lwip220/core/inet_chksum.c **** {
 191:ThirdPackage/lwip220/core/inet_chksum.c ****   const u8_t *pb = (const u8_t *)dataptr;
 192:ThirdPackage/lwip220/core/inet_chksum.c ****   const u16_t *ps;
 193:ThirdPackage/lwip220/core/inet_chksum.c ****   u16_t t = 0;
 194:ThirdPackage/lwip220/core/inet_chksum.c ****   const u32_t *pl;
 195:ThirdPackage/lwip220/core/inet_chksum.c ****   u32_t sum = 0, tmp;
 196:ThirdPackage/lwip220/core/inet_chksum.c ****   /* starts at odd byte address? */
 197:ThirdPackage/lwip220/core/inet_chksum.c ****   int odd = ((mem_ptr_t)pb & 1);
 198:ThirdPackage/lwip220/core/inet_chksum.c **** 
 199:ThirdPackage/lwip220/core/inet_chksum.c ****   if (odd && len > 0) {
 200:ThirdPackage/lwip220/core/inet_chksum.c ****     ((u8_t *)&t)[1] = *pb++;
 201:ThirdPackage/lwip220/core/inet_chksum.c ****     len--;
 202:ThirdPackage/lwip220/core/inet_chksum.c ****   }
 203:ThirdPackage/lwip220/core/inet_chksum.c **** 
 204:ThirdPackage/lwip220/core/inet_chksum.c ****   ps = (const u16_t *)(const void *)pb;
 205:ThirdPackage/lwip220/core/inet_chksum.c **** 
 206:ThirdPackage/lwip220/core/inet_chksum.c ****   if (((mem_ptr_t)ps & 3) && len > 1) {
 207:ThirdPackage/lwip220/core/inet_chksum.c ****     sum += *ps++;
 208:ThirdPackage/lwip220/core/inet_chksum.c ****     len -= 2;
 209:ThirdPackage/lwip220/core/inet_chksum.c ****   }
 210:ThirdPackage/lwip220/core/inet_chksum.c **** 
 211:ThirdPackage/lwip220/core/inet_chksum.c ****   pl = (const u32_t *)(const void *)ps;
 212:ThirdPackage/lwip220/core/inet_chksum.c **** 
 213:ThirdPackage/lwip220/core/inet_chksum.c ****   while (len > 7)  {
 214:ThirdPackage/lwip220/core/inet_chksum.c ****     tmp = sum + *pl++;          /* ping */
 215:ThirdPackage/lwip220/core/inet_chksum.c ****     if (tmp < sum) {
 216:ThirdPackage/lwip220/core/inet_chksum.c ****       tmp++;                    /* add back carry */
 217:ThirdPackage/lwip220/core/inet_chksum.c ****     }
 218:ThirdPackage/lwip220/core/inet_chksum.c **** 
 219:ThirdPackage/lwip220/core/inet_chksum.c ****     sum = tmp + *pl++;          /* pong */
 220:ThirdPackage/lwip220/core/inet_chksum.c ****     if (sum < tmp) {
 221:ThirdPackage/lwip220/core/inet_chksum.c ****       sum++;                    /* add back carry */
 222:ThirdPackage/lwip220/core/inet_chksum.c ****     }
 223:ThirdPackage/lwip220/core/inet_chksum.c **** 
 224:ThirdPackage/lwip220/core/inet_chksum.c ****     len -= 8;
 225:ThirdPackage/lwip220/core/inet_chksum.c ****   }
 226:ThirdPackage/lwip220/core/inet_chksum.c **** 
 227:ThirdPackage/lwip220/core/inet_chksum.c ****   /* make room in upper bits */
 228:ThirdPackage/lwip220/core/inet_chksum.c ****   sum = FOLD_U32T(sum);
 229:ThirdPackage/lwip220/core/inet_chksum.c **** 
 230:ThirdPackage/lwip220/core/inet_chksum.c ****   ps = (const u16_t *)pl;
 231:ThirdPackage/lwip220/core/inet_chksum.c **** 
 232:ThirdPackage/lwip220/core/inet_chksum.c ****   /* 16-bit aligned word remaining? */
 233:ThirdPackage/lwip220/core/inet_chksum.c ****   while (len > 1) {
 234:ThirdPackage/lwip220/core/inet_chksum.c ****     sum += *ps++;
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccWeyKqK.s 			page 8


 235:ThirdPackage/lwip220/core/inet_chksum.c ****     len -= 2;
 236:ThirdPackage/lwip220/core/inet_chksum.c ****   }
 237:ThirdPackage/lwip220/core/inet_chksum.c **** 
 238:ThirdPackage/lwip220/core/inet_chksum.c ****   /* dangling tail byte remaining? */
 239:ThirdPackage/lwip220/core/inet_chksum.c ****   if (len > 0) {                /* include odd byte */
 240:ThirdPackage/lwip220/core/inet_chksum.c ****     ((u8_t *)&t)[0] = *(const u8_t *)ps;
 241:ThirdPackage/lwip220/core/inet_chksum.c ****   }
 242:ThirdPackage/lwip220/core/inet_chksum.c **** 
 243:ThirdPackage/lwip220/core/inet_chksum.c ****   sum += t;                     /* add end bytes */
 244:ThirdPackage/lwip220/core/inet_chksum.c **** 
 245:ThirdPackage/lwip220/core/inet_chksum.c ****   /* Fold 32-bit sum to 16 bits
 246:ThirdPackage/lwip220/core/inet_chksum.c ****      calling this twice is probably faster than if statements... */
 247:ThirdPackage/lwip220/core/inet_chksum.c ****   sum = FOLD_U32T(sum);
 248:ThirdPackage/lwip220/core/inet_chksum.c ****   sum = FOLD_U32T(sum);
 249:ThirdPackage/lwip220/core/inet_chksum.c **** 
 250:ThirdPackage/lwip220/core/inet_chksum.c ****   if (odd) {
 251:ThirdPackage/lwip220/core/inet_chksum.c ****     sum = SWAP_BYTES_IN_WORD(sum);
 252:ThirdPackage/lwip220/core/inet_chksum.c ****   }
 253:ThirdPackage/lwip220/core/inet_chksum.c **** 
 254:ThirdPackage/lwip220/core/inet_chksum.c ****   return (u16_t)sum;
 255:ThirdPackage/lwip220/core/inet_chksum.c **** }
 256:ThirdPackage/lwip220/core/inet_chksum.c **** #endif
 257:ThirdPackage/lwip220/core/inet_chksum.c **** 
 258:ThirdPackage/lwip220/core/inet_chksum.c **** /** Parts of the pseudo checksum which are common to IPv4 and IPv6 */
 259:ThirdPackage/lwip220/core/inet_chksum.c **** static u16_t
 260:ThirdPackage/lwip220/core/inet_chksum.c **** inet_cksum_pseudo_base(struct pbuf *p, u8_t proto, u16_t proto_len, u32_t acc)
 261:ThirdPackage/lwip220/core/inet_chksum.c **** {
 167              		.loc 1 261 1 is_stmt 1 view -0
 168              		.cfi_startproc
 169              		@ args = 0, pretend = 0, frame = 0
 170              		@ frame_needed = 0, uses_anonymous_args = 0
 171              		.loc 1 261 1 is_stmt 0 view .LVU51
 172 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 173              	.LCFI4:
 174              		.cfi_def_cfa_offset 24
 175              		.cfi_offset 4, -24
 176              		.cfi_offset 5, -20
 177              		.cfi_offset 6, -16
 178              		.cfi_offset 7, -12
 179              		.cfi_offset 8, -8
 180              		.cfi_offset 14, -4
 181 0004 0546     		mov	r5, r0
 182 0006 8846     		mov	r8, r1
 183 0008 1746     		mov	r7, r2
 184 000a 1C46     		mov	r4, r3
 262:ThirdPackage/lwip220/core/inet_chksum.c ****   struct pbuf *q;
 185              		.loc 1 262 3 is_stmt 1 view .LVU52
 263:ThirdPackage/lwip220/core/inet_chksum.c ****   int swapped = 0;
 186              		.loc 1 263 3 view .LVU53
 187              	.LVL20:
 264:ThirdPackage/lwip220/core/inet_chksum.c **** 
 265:ThirdPackage/lwip220/core/inet_chksum.c ****   /* iterate through all pbuf in chain */
 266:ThirdPackage/lwip220/core/inet_chksum.c ****   for (q = p; q != NULL; q = q->next) {
 188              		.loc 1 266 3 view .LVU54
 263:ThirdPackage/lwip220/core/inet_chksum.c ****   int swapped = 0;
 189              		.loc 1 263 7 is_stmt 0 view .LVU55
 190 000c 0026     		movs	r6, #0
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccWeyKqK.s 			page 9


 191              		.loc 1 266 3 view .LVU56
 192 000e 00E0     		b	.L9
 193              	.LVL21:
 194              	.L10:
 195              		.loc 1 266 26 is_stmt 1 discriminator 2 view .LVU57
 196              		.loc 1 266 28 is_stmt 0 discriminator 2 view .LVU58
 197 0010 2D68     		ldr	r5, [r5]
 198              	.LVL22:
 199              	.L9:
 200              		.loc 1 266 15 is_stmt 1 discriminator 1 view .LVU59
 201              		.loc 1 266 3 is_stmt 0 discriminator 1 view .LVU60
 202 0012 B5B1     		cbz	r5, .L14
 267:ThirdPackage/lwip220/core/inet_chksum.c ****     LWIP_DEBUGF(INET_DEBUG, ("inet_chksum_pseudo(): checksumming pbuf %p (has next %p) \n",
 268:ThirdPackage/lwip220/core/inet_chksum.c ****                              (void *)q, (void *)q->next));
 203              		.loc 1 268 58 is_stmt 1 view .LVU61
 269:ThirdPackage/lwip220/core/inet_chksum.c ****     acc += LWIP_CHKSUM(q->payload, q->len);
 204              		.loc 1 269 5 view .LVU62
 205              		.loc 1 269 12 is_stmt 0 view .LVU63
 206 0014 6989     		ldrh	r1, [r5, #10]
 207 0016 6868     		ldr	r0, [r5, #4]
 208 0018 FFF7FEFF 		bl	lwip_standard_chksum
 209              	.LVL23:
 210              		.loc 1 269 9 view .LVU64
 211 001c 0444     		add	r4, r4, r0
 212              	.LVL24:
 270:ThirdPackage/lwip220/core/inet_chksum.c ****     /*LWIP_DEBUGF(INET_DEBUG, ("inet_chksum_pseudo(): unwrapped lwip_chksum()=%"X32_F" \n", acc));*
 271:ThirdPackage/lwip220/core/inet_chksum.c ****     /* just executing this next line is probably faster that the if statement needed
 272:ThirdPackage/lwip220/core/inet_chksum.c ****        to check whether we really need to execute it, and does no harm */
 273:ThirdPackage/lwip220/core/inet_chksum.c ****     acc = FOLD_U32T(acc);
 213              		.loc 1 273 5 is_stmt 1 view .LVU65
 214              		.loc 1 273 11 is_stmt 0 view .LVU66
 215 001e A3B2     		uxth	r3, r4
 216              		.loc 1 273 9 view .LVU67
 217 0020 03EB1444 		add	r4, r3, r4, lsr #16
 218              	.LVL25:
 274:ThirdPackage/lwip220/core/inet_chksum.c ****     if (q->len % 2 != 0) {
 219              		.loc 1 274 5 is_stmt 1 view .LVU68
 220              		.loc 1 274 10 is_stmt 0 view .LVU69
 221 0024 6B89     		ldrh	r3, [r5, #10]
 222              		.loc 1 274 8 view .LVU70
 223 0026 13F0010F 		tst	r3, #1
 224 002a F1D0     		beq	.L10
 275:ThirdPackage/lwip220/core/inet_chksum.c ****       swapped = !swapped;
 225              		.loc 1 275 7 is_stmt 1 view .LVU71
 226              		.loc 1 275 17 is_stmt 0 view .LVU72
 227 002c 86F00106 		eor	r6, r6, #1
 228              	.LVL26:
 276:ThirdPackage/lwip220/core/inet_chksum.c ****       acc = SWAP_BYTES_IN_WORD(acc);
 229              		.loc 1 276 7 is_stmt 1 view .LVU73
 230              		.loc 1 276 13 is_stmt 0 view .LVU74
 231 0030 4FEA042C 		lsl	ip, r4, #8
 232 0034 1FFA8CFC 		uxth	ip, ip
 233 0038 C4F30724 		ubfx	r4, r4, #8, #8
 234              	.LVL27:
 235              		.loc 1 276 11 view .LVU75
 236 003c 4CEA0404 		orr	r4, ip, r4
 237              	.LVL28:
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccWeyKqK.s 			page 10


 238              		.loc 1 276 11 view .LVU76
 239 0040 E6E7     		b	.L10
 240              	.L14:
 277:ThirdPackage/lwip220/core/inet_chksum.c ****     }
 278:ThirdPackage/lwip220/core/inet_chksum.c ****     /*LWIP_DEBUGF(INET_DEBUG, ("inet_chksum_pseudo(): wrapped lwip_chksum()=%"X32_F" \n", acc));*/
 279:ThirdPackage/lwip220/core/inet_chksum.c ****   }
 280:ThirdPackage/lwip220/core/inet_chksum.c **** 
 281:ThirdPackage/lwip220/core/inet_chksum.c ****   if (swapped) {
 241              		.loc 1 281 3 is_stmt 1 view .LVU77
 242              		.loc 1 281 6 is_stmt 0 view .LVU78
 243 0042 26B1     		cbz	r6, .L12
 282:ThirdPackage/lwip220/core/inet_chksum.c ****     acc = SWAP_BYTES_IN_WORD(acc);
 244              		.loc 1 282 5 is_stmt 1 view .LVU79
 245              		.loc 1 282 11 is_stmt 0 view .LVU80
 246 0044 2202     		lsls	r2, r4, #8
 247 0046 92B2     		uxth	r2, r2
 248 0048 C4F30724 		ubfx	r4, r4, #8, #8
 249              	.LVL29:
 250              		.loc 1 282 9 view .LVU81
 251 004c 1443     		orrs	r4, r4, r2
 252              	.LVL30:
 253              	.L12:
 283:ThirdPackage/lwip220/core/inet_chksum.c ****   }
 284:ThirdPackage/lwip220/core/inet_chksum.c **** 
 285:ThirdPackage/lwip220/core/inet_chksum.c ****   acc += (u32_t)lwip_htons((u16_t)proto);
 254              		.loc 1 285 3 is_stmt 1 view .LVU82
 255              		.loc 1 285 17 is_stmt 0 view .LVU83
 256 004e 4046     		mov	r0, r8
 257 0050 FFF7FEFF 		bl	lwip_htons
 258              	.LVL31:
 259              		.loc 1 285 7 view .LVU84
 260 0054 0444     		add	r4, r4, r0
 261              	.LVL32:
 286:ThirdPackage/lwip220/core/inet_chksum.c ****   acc += (u32_t)lwip_htons(proto_len);
 262              		.loc 1 286 3 is_stmt 1 view .LVU85
 263              		.loc 1 286 17 is_stmt 0 view .LVU86
 264 0056 3846     		mov	r0, r7
 265 0058 FFF7FEFF 		bl	lwip_htons
 266              	.LVL33:
 267              		.loc 1 286 7 view .LVU87
 268 005c 2044     		add	r0, r0, r4
 269              	.LVL34:
 287:ThirdPackage/lwip220/core/inet_chksum.c **** 
 288:ThirdPackage/lwip220/core/inet_chksum.c ****   /* Fold 32-bit sum to 16 bits
 289:ThirdPackage/lwip220/core/inet_chksum.c ****      calling this twice is probably faster than if statements... */
 290:ThirdPackage/lwip220/core/inet_chksum.c ****   acc = FOLD_U32T(acc);
 270              		.loc 1 290 3 is_stmt 1 view .LVU88
 271              		.loc 1 290 9 is_stmt 0 view .LVU89
 272 005e 84B2     		uxth	r4, r0
 273              		.loc 1 290 7 view .LVU90
 274 0060 04EB1044 		add	r4, r4, r0, lsr #16
 275              	.LVL35:
 291:ThirdPackage/lwip220/core/inet_chksum.c ****   acc = FOLD_U32T(acc);
 276              		.loc 1 291 3 is_stmt 1 view .LVU91
 277              		.loc 1 291 9 is_stmt 0 view .LVU92
 278 0064 A0B2     		uxth	r0, r4
 279              		.loc 1 291 7 view .LVU93
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccWeyKqK.s 			page 11


 280 0066 00EB1440 		add	r0, r0, r4, lsr #16
 281              	.LVL36:
 292:ThirdPackage/lwip220/core/inet_chksum.c ****   LWIP_DEBUGF(INET_DEBUG, ("inet_chksum_pseudo(): pbuf chain lwip_chksum()=%"X32_F"\n", acc));
 282              		.loc 1 292 94 is_stmt 1 view .LVU94
 293:ThirdPackage/lwip220/core/inet_chksum.c ****   return (u16_t)~(acc & 0xffffUL);
 283              		.loc 1 293 3 view .LVU95
 284              		.loc 1 293 10 is_stmt 0 view .LVU96
 285 006a C043     		mvns	r0, r0
 286              	.LVL37:
 294:ThirdPackage/lwip220/core/inet_chksum.c **** }
 287              		.loc 1 294 1 view .LVU97
 288 006c 80B2     		uxth	r0, r0
 289              	.LVL38:
 290              		.loc 1 294 1 view .LVU98
 291 006e BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 292              		.loc 1 294 1 view .LVU99
 293              		.cfi_endproc
 294              	.LFE161:
 296              		.section	.rodata.inet_cksum_pseudo_partial_base.str1.4,"aMS",%progbits,1
 297              		.align	2
 298              	.LC0:
 299 0000 54686972 		.ascii	"ThirdPackage/lwip220/core/inet_chksum.c\000"
 299      64506163 
 299      6B616765 
 299      2F6C7769 
 299      70323230 
 300              		.align	2
 301              	.LC1:
 302 0028 64656C65 		.ascii	"delete me\000"
 302      7465206D 
 302      6500
 303 0032 0000     		.align	2
 304              	.LC2:
 305 0034 41737365 		.ascii	"Assertion \"%s\" failed at line %d in %s\012\000"
 305      7274696F 
 305      6E202225 
 305      73222066 
 305      61696C65 
 306              		.section	.text.inet_cksum_pseudo_partial_base,"ax",%progbits
 307              		.align	1
 308              		.syntax unified
 309              		.thumb
 310              		.thumb_func
 312              	inet_cksum_pseudo_partial_base:
 313              	.LVL39:
 314              	.LFB164:
 295:ThirdPackage/lwip220/core/inet_chksum.c **** 
 296:ThirdPackage/lwip220/core/inet_chksum.c **** #if LWIP_IPV4
 297:ThirdPackage/lwip220/core/inet_chksum.c **** /* inet_chksum_pseudo:
 298:ThirdPackage/lwip220/core/inet_chksum.c ****  *
 299:ThirdPackage/lwip220/core/inet_chksum.c ****  * Calculates the IPv4 pseudo Internet checksum used by TCP and UDP for a pbuf chain.
 300:ThirdPackage/lwip220/core/inet_chksum.c ****  * IP addresses are expected to be in network byte order.
 301:ThirdPackage/lwip220/core/inet_chksum.c ****  *
 302:ThirdPackage/lwip220/core/inet_chksum.c ****  * @param p chain of pbufs over that a checksum should be calculated (ip data part)
 303:ThirdPackage/lwip220/core/inet_chksum.c ****  * @param src source ip address (used for checksum of pseudo header)
 304:ThirdPackage/lwip220/core/inet_chksum.c ****  * @param dst destination ip address (used for checksum of pseudo header)
 305:ThirdPackage/lwip220/core/inet_chksum.c ****  * @param proto ip protocol (used for checksum of pseudo header)
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccWeyKqK.s 			page 12


 306:ThirdPackage/lwip220/core/inet_chksum.c ****  * @param proto_len length of the ip data part (used for checksum of pseudo header)
 307:ThirdPackage/lwip220/core/inet_chksum.c ****  * @return checksum (as u16_t) to be saved directly in the protocol header
 308:ThirdPackage/lwip220/core/inet_chksum.c ****  */
 309:ThirdPackage/lwip220/core/inet_chksum.c **** u16_t
 310:ThirdPackage/lwip220/core/inet_chksum.c **** inet_chksum_pseudo(struct pbuf *p, u8_t proto, u16_t proto_len,
 311:ThirdPackage/lwip220/core/inet_chksum.c ****                    const ip4_addr_t *src, const ip4_addr_t *dest)
 312:ThirdPackage/lwip220/core/inet_chksum.c **** {
 313:ThirdPackage/lwip220/core/inet_chksum.c ****   u32_t acc;
 314:ThirdPackage/lwip220/core/inet_chksum.c ****   u32_t addr;
 315:ThirdPackage/lwip220/core/inet_chksum.c **** 
 316:ThirdPackage/lwip220/core/inet_chksum.c ****   addr = ip4_addr_get_u32(src);
 317:ThirdPackage/lwip220/core/inet_chksum.c ****   acc = (addr & 0xffffUL);
 318:ThirdPackage/lwip220/core/inet_chksum.c ****   acc = (u32_t)(acc + ((addr >> 16) & 0xffffUL));
 319:ThirdPackage/lwip220/core/inet_chksum.c ****   addr = ip4_addr_get_u32(dest);
 320:ThirdPackage/lwip220/core/inet_chksum.c ****   acc = (u32_t)(acc + (addr & 0xffffUL));
 321:ThirdPackage/lwip220/core/inet_chksum.c ****   acc = (u32_t)(acc + ((addr >> 16) & 0xffffUL));
 322:ThirdPackage/lwip220/core/inet_chksum.c ****   /* fold down to 16 bits */
 323:ThirdPackage/lwip220/core/inet_chksum.c ****   acc = FOLD_U32T(acc);
 324:ThirdPackage/lwip220/core/inet_chksum.c ****   acc = FOLD_U32T(acc);
 325:ThirdPackage/lwip220/core/inet_chksum.c **** 
 326:ThirdPackage/lwip220/core/inet_chksum.c ****   return inet_cksum_pseudo_base(p, proto, proto_len, acc);
 327:ThirdPackage/lwip220/core/inet_chksum.c **** }
 328:ThirdPackage/lwip220/core/inet_chksum.c **** #endif /* LWIP_IPV4 */
 329:ThirdPackage/lwip220/core/inet_chksum.c **** 
 330:ThirdPackage/lwip220/core/inet_chksum.c **** #if LWIP_IPV6
 331:ThirdPackage/lwip220/core/inet_chksum.c **** /**
 332:ThirdPackage/lwip220/core/inet_chksum.c ****  * Calculates the checksum with IPv6 pseudo header used by TCP and UDP for a pbuf chain.
 333:ThirdPackage/lwip220/core/inet_chksum.c ****  * IPv6 addresses are expected to be in network byte order.
 334:ThirdPackage/lwip220/core/inet_chksum.c ****  *
 335:ThirdPackage/lwip220/core/inet_chksum.c ****  * @param p chain of pbufs over that a checksum should be calculated (ip data part)
 336:ThirdPackage/lwip220/core/inet_chksum.c ****  * @param proto ipv6 protocol/next header (used for checksum of pseudo header)
 337:ThirdPackage/lwip220/core/inet_chksum.c ****  * @param proto_len length of the ipv6 payload (used for checksum of pseudo header)
 338:ThirdPackage/lwip220/core/inet_chksum.c ****  * @param src source ipv6 address (used for checksum of pseudo header)
 339:ThirdPackage/lwip220/core/inet_chksum.c ****  * @param dest destination ipv6 address (used for checksum of pseudo header)
 340:ThirdPackage/lwip220/core/inet_chksum.c ****  * @return checksum (as u16_t) to be saved directly in the protocol header
 341:ThirdPackage/lwip220/core/inet_chksum.c ****  */
 342:ThirdPackage/lwip220/core/inet_chksum.c **** u16_t
 343:ThirdPackage/lwip220/core/inet_chksum.c **** ip6_chksum_pseudo(struct pbuf *p, u8_t proto, u16_t proto_len,
 344:ThirdPackage/lwip220/core/inet_chksum.c ****                   const ip6_addr_t *src, const ip6_addr_t *dest)
 345:ThirdPackage/lwip220/core/inet_chksum.c **** {
 346:ThirdPackage/lwip220/core/inet_chksum.c ****   u32_t acc = 0;
 347:ThirdPackage/lwip220/core/inet_chksum.c ****   u32_t addr;
 348:ThirdPackage/lwip220/core/inet_chksum.c ****   u8_t addr_part;
 349:ThirdPackage/lwip220/core/inet_chksum.c **** 
 350:ThirdPackage/lwip220/core/inet_chksum.c ****   for (addr_part = 0; addr_part < 4; addr_part++) {
 351:ThirdPackage/lwip220/core/inet_chksum.c ****     addr = src->addr[addr_part];
 352:ThirdPackage/lwip220/core/inet_chksum.c ****     acc = (u32_t)(acc + (addr & 0xffffUL));
 353:ThirdPackage/lwip220/core/inet_chksum.c ****     acc = (u32_t)(acc + ((addr >> 16) & 0xffffUL));
 354:ThirdPackage/lwip220/core/inet_chksum.c ****     addr = dest->addr[addr_part];
 355:ThirdPackage/lwip220/core/inet_chksum.c ****     acc = (u32_t)(acc + (addr & 0xffffUL));
 356:ThirdPackage/lwip220/core/inet_chksum.c ****     acc = (u32_t)(acc + ((addr >> 16) & 0xffffUL));
 357:ThirdPackage/lwip220/core/inet_chksum.c ****   }
 358:ThirdPackage/lwip220/core/inet_chksum.c ****   /* fold down to 16 bits */
 359:ThirdPackage/lwip220/core/inet_chksum.c ****   acc = FOLD_U32T(acc);
 360:ThirdPackage/lwip220/core/inet_chksum.c ****   acc = FOLD_U32T(acc);
 361:ThirdPackage/lwip220/core/inet_chksum.c **** 
 362:ThirdPackage/lwip220/core/inet_chksum.c ****   return inet_cksum_pseudo_base(p, proto, proto_len, acc);
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccWeyKqK.s 			page 13


 363:ThirdPackage/lwip220/core/inet_chksum.c **** }
 364:ThirdPackage/lwip220/core/inet_chksum.c **** #endif /* LWIP_IPV6 */
 365:ThirdPackage/lwip220/core/inet_chksum.c **** 
 366:ThirdPackage/lwip220/core/inet_chksum.c **** /* ip_chksum_pseudo:
 367:ThirdPackage/lwip220/core/inet_chksum.c ****  *
 368:ThirdPackage/lwip220/core/inet_chksum.c ****  * Calculates the IPv4 or IPv6 pseudo Internet checksum used by TCP and UDP for a pbuf chain.
 369:ThirdPackage/lwip220/core/inet_chksum.c ****  * IP addresses are expected to be in network byte order.
 370:ThirdPackage/lwip220/core/inet_chksum.c ****  *
 371:ThirdPackage/lwip220/core/inet_chksum.c ****  * @param p chain of pbufs over that a checksum should be calculated (ip data part)
 372:ThirdPackage/lwip220/core/inet_chksum.c ****  * @param src source ip address (used for checksum of pseudo header)
 373:ThirdPackage/lwip220/core/inet_chksum.c ****  * @param dst destination ip address (used for checksum of pseudo header)
 374:ThirdPackage/lwip220/core/inet_chksum.c ****  * @param proto ip protocol (used for checksum of pseudo header)
 375:ThirdPackage/lwip220/core/inet_chksum.c ****  * @param proto_len length of the ip data part (used for checksum of pseudo header)
 376:ThirdPackage/lwip220/core/inet_chksum.c ****  * @return checksum (as u16_t) to be saved directly in the protocol header
 377:ThirdPackage/lwip220/core/inet_chksum.c ****  */
 378:ThirdPackage/lwip220/core/inet_chksum.c **** u16_t
 379:ThirdPackage/lwip220/core/inet_chksum.c **** ip_chksum_pseudo(struct pbuf *p, u8_t proto, u16_t proto_len,
 380:ThirdPackage/lwip220/core/inet_chksum.c ****                  const ip_addr_t *src, const ip_addr_t *dest)
 381:ThirdPackage/lwip220/core/inet_chksum.c **** {
 382:ThirdPackage/lwip220/core/inet_chksum.c **** #if LWIP_IPV6
 383:ThirdPackage/lwip220/core/inet_chksum.c ****   if (IP_IS_V6(dest)) {
 384:ThirdPackage/lwip220/core/inet_chksum.c ****     return ip6_chksum_pseudo(p, proto, proto_len, ip_2_ip6(src), ip_2_ip6(dest));
 385:ThirdPackage/lwip220/core/inet_chksum.c ****   }
 386:ThirdPackage/lwip220/core/inet_chksum.c **** #endif /* LWIP_IPV6 */
 387:ThirdPackage/lwip220/core/inet_chksum.c **** #if LWIP_IPV4 && LWIP_IPV6
 388:ThirdPackage/lwip220/core/inet_chksum.c ****   else
 389:ThirdPackage/lwip220/core/inet_chksum.c **** #endif /* LWIP_IPV4 && LWIP_IPV6 */
 390:ThirdPackage/lwip220/core/inet_chksum.c **** #if LWIP_IPV4
 391:ThirdPackage/lwip220/core/inet_chksum.c ****   {
 392:ThirdPackage/lwip220/core/inet_chksum.c ****     return inet_chksum_pseudo(p, proto, proto_len, ip_2_ip4(src), ip_2_ip4(dest));
 393:ThirdPackage/lwip220/core/inet_chksum.c ****   }
 394:ThirdPackage/lwip220/core/inet_chksum.c **** #endif /* LWIP_IPV4 */
 395:ThirdPackage/lwip220/core/inet_chksum.c **** }
 396:ThirdPackage/lwip220/core/inet_chksum.c **** 
 397:ThirdPackage/lwip220/core/inet_chksum.c **** /** Parts of the pseudo checksum which are common to IPv4 and IPv6 */
 398:ThirdPackage/lwip220/core/inet_chksum.c **** static u16_t
 399:ThirdPackage/lwip220/core/inet_chksum.c **** inet_cksum_pseudo_partial_base(struct pbuf *p, u8_t proto, u16_t proto_len,
 400:ThirdPackage/lwip220/core/inet_chksum.c ****                                u16_t chksum_len, u32_t acc)
 401:ThirdPackage/lwip220/core/inet_chksum.c **** {
 315              		.loc 1 401 1 is_stmt 1 view -0
 316              		.cfi_startproc
 317              		@ args = 4, pretend = 0, frame = 0
 318              		@ frame_needed = 0, uses_anonymous_args = 0
 319              		.loc 1 401 1 is_stmt 0 view .LVU101
 320 0000 2DE9F84F 		push	{r3, r4, r5, r6, r7, r8, r9, r10, fp, lr}
 321              	.LCFI5:
 322              		.cfi_def_cfa_offset 40
 323              		.cfi_offset 3, -40
 324              		.cfi_offset 4, -36
 325              		.cfi_offset 5, -32
 326              		.cfi_offset 6, -28
 327              		.cfi_offset 7, -24
 328              		.cfi_offset 8, -20
 329              		.cfi_offset 9, -16
 330              		.cfi_offset 10, -12
 331              		.cfi_offset 11, -8
 332              		.cfi_offset 14, -4
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccWeyKqK.s 			page 14


 333 0004 0546     		mov	r5, r0
 334 0006 8846     		mov	r8, r1
 335 0008 9146     		mov	r9, r2
 336 000a 1F46     		mov	r7, r3
 337 000c 0A9C     		ldr	r4, [sp, #40]
 402:ThirdPackage/lwip220/core/inet_chksum.c ****   struct pbuf *q;
 338              		.loc 1 402 3 is_stmt 1 view .LVU102
 403:ThirdPackage/lwip220/core/inet_chksum.c ****   int swapped = 0;
 339              		.loc 1 403 3 view .LVU103
 340              	.LVL40:
 404:ThirdPackage/lwip220/core/inet_chksum.c ****   u16_t chklen;
 341              		.loc 1 404 3 view .LVU104
 405:ThirdPackage/lwip220/core/inet_chksum.c **** 
 406:ThirdPackage/lwip220/core/inet_chksum.c ****   /* iterate through all pbuf in chain */
 407:ThirdPackage/lwip220/core/inet_chksum.c ****   for (q = p; (q != NULL) && (chksum_len > 0); q = q->next) {
 342              		.loc 1 407 3 view .LVU105
 403:ThirdPackage/lwip220/core/inet_chksum.c ****   u16_t chklen;
 343              		.loc 1 403 7 is_stmt 0 view .LVU106
 344 000e 0026     		movs	r6, #0
 345              		.loc 1 407 3 view .LVU107
 346 0010 08E0     		b	.L16
 347              	.LVL41:
 348              	.L25:
 408:ThirdPackage/lwip220/core/inet_chksum.c ****     LWIP_DEBUGF(INET_DEBUG, ("inet_chksum_pseudo(): checksumming pbuf %p (has next %p) \n",
 409:ThirdPackage/lwip220/core/inet_chksum.c ****                              (void *)q, (void *)q->next));
 410:ThirdPackage/lwip220/core/inet_chksum.c ****     chklen = q->len;
 411:ThirdPackage/lwip220/core/inet_chksum.c ****     if (chklen > chksum_len) {
 412:ThirdPackage/lwip220/core/inet_chksum.c ****       chklen = chksum_len;
 413:ThirdPackage/lwip220/core/inet_chksum.c ****     }
 414:ThirdPackage/lwip220/core/inet_chksum.c ****     acc += LWIP_CHKSUM(q->payload, chklen);
 415:ThirdPackage/lwip220/core/inet_chksum.c ****     chksum_len = (u16_t)(chksum_len - chklen);
 416:ThirdPackage/lwip220/core/inet_chksum.c ****     LWIP_ASSERT("delete me", chksum_len < 0x7fff);
 349              		.loc 1 416 5 is_stmt 1 discriminator 1 view .LVU108
 350              		.loc 1 416 5 discriminator 1 view .LVU109
 351 0012 234B     		ldr	r3, .L26
 352 0014 4FF4D072 		mov	r2, #416
 353 0018 2249     		ldr	r1, .L26+4
 354 001a 2348     		ldr	r0, .L26+8
 355 001c FFF7FEFF 		bl	printf
 356              	.LVL42:
 357 0020 14E0     		b	.L18
 358              	.LVL43:
 359              	.L19:
 407:ThirdPackage/lwip220/core/inet_chksum.c ****     LWIP_DEBUGF(INET_DEBUG, ("inet_chksum_pseudo(): checksumming pbuf %p (has next %p) \n",
 360              		.loc 1 407 48 discriminator 2 view .LVU110
 407:ThirdPackage/lwip220/core/inet_chksum.c ****     LWIP_DEBUGF(INET_DEBUG, ("inet_chksum_pseudo(): checksumming pbuf %p (has next %p) \n",
 361              		.loc 1 407 50 is_stmt 0 discriminator 2 view .LVU111
 362 0022 2D68     		ldr	r5, [r5]
 363              	.LVL44:
 364              	.L16:
 407:ThirdPackage/lwip220/core/inet_chksum.c ****     LWIP_DEBUGF(INET_DEBUG, ("inet_chksum_pseudo(): checksumming pbuf %p (has next %p) \n",
 365              		.loc 1 407 15 is_stmt 1 discriminator 1 view .LVU112
 407:ThirdPackage/lwip220/core/inet_chksum.c ****     LWIP_DEBUGF(INET_DEBUG, ("inet_chksum_pseudo(): checksumming pbuf %p (has next %p) \n",
 366              		.loc 1 407 3 is_stmt 0 discriminator 1 view .LVU113
 367 0024 1DB3     		cbz	r5, .L20
 407:ThirdPackage/lwip220/core/inet_chksum.c ****     LWIP_DEBUGF(INET_DEBUG, ("inet_chksum_pseudo(): checksumming pbuf %p (has next %p) \n",
 368              		.loc 1 407 27 discriminator 3 view .LVU114
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccWeyKqK.s 			page 15


 369 0026 17B3     		cbz	r7, .L20
 409:ThirdPackage/lwip220/core/inet_chksum.c ****     chklen = q->len;
 370              		.loc 1 409 58 is_stmt 1 view .LVU115
 410:ThirdPackage/lwip220/core/inet_chksum.c ****     if (chklen > chksum_len) {
 371              		.loc 1 410 5 view .LVU116
 410:ThirdPackage/lwip220/core/inet_chksum.c ****     if (chklen > chksum_len) {
 372              		.loc 1 410 12 is_stmt 0 view .LVU117
 373 0028 B5F80AB0 		ldrh	fp, [r5, #10]
 374              	.LVL45:
 411:ThirdPackage/lwip220/core/inet_chksum.c ****       chklen = chksum_len;
 375              		.loc 1 411 5 is_stmt 1 view .LVU118
 411:ThirdPackage/lwip220/core/inet_chksum.c ****       chklen = chksum_len;
 376              		.loc 1 411 8 is_stmt 0 view .LVU119
 377 002c 5F45     		cmp	r7, fp
 378 002e 00D2     		bcs	.L17
 412:ThirdPackage/lwip220/core/inet_chksum.c ****     }
 379              		.loc 1 412 14 view .LVU120
 380 0030 BB46     		mov	fp, r7
 381              	.LVL46:
 382              	.L17:
 414:ThirdPackage/lwip220/core/inet_chksum.c ****     chksum_len = (u16_t)(chksum_len - chklen);
 383              		.loc 1 414 5 is_stmt 1 view .LVU121
 414:ThirdPackage/lwip220/core/inet_chksum.c ****     chksum_len = (u16_t)(chksum_len - chklen);
 384              		.loc 1 414 12 is_stmt 0 view .LVU122
 385 0032 5946     		mov	r1, fp
 386 0034 6868     		ldr	r0, [r5, #4]
 387 0036 FFF7FEFF 		bl	lwip_standard_chksum
 388              	.LVL47:
 414:ThirdPackage/lwip220/core/inet_chksum.c ****     chksum_len = (u16_t)(chksum_len - chklen);
 389              		.loc 1 414 9 view .LVU123
 390 003a 00EB040A 		add	r10, r0, r4
 391              	.LVL48:
 415:ThirdPackage/lwip220/core/inet_chksum.c ****     LWIP_ASSERT("delete me", chksum_len < 0x7fff);
 392              		.loc 1 415 5 is_stmt 1 view .LVU124
 415:ThirdPackage/lwip220/core/inet_chksum.c ****     LWIP_ASSERT("delete me", chksum_len < 0x7fff);
 393              		.loc 1 415 16 is_stmt 0 view .LVU125
 394 003e A7EB0B03 		sub	r3, r7, fp
 395 0042 9FB2     		uxth	r7, r3
 396              	.LVL49:
 397              		.loc 1 416 5 is_stmt 1 view .LVU126
 398              		.loc 1 416 5 view .LVU127
 399 0044 47F6FE73 		movw	r3, #32766
 400 0048 9F42     		cmp	r7, r3
 401 004a E2D8     		bhi	.L25
 402              	.L18:
 403              		.loc 1 416 5 discriminator 3 view .LVU128
 404              		.loc 1 416 5 discriminator 3 view .LVU129
 417:ThirdPackage/lwip220/core/inet_chksum.c ****     /*LWIP_DEBUGF(INET_DEBUG, ("inet_chksum_pseudo(): unwrapped lwip_chksum()=%"X32_F" \n", acc));*
 418:ThirdPackage/lwip220/core/inet_chksum.c ****     /* fold the upper bit down */
 419:ThirdPackage/lwip220/core/inet_chksum.c ****     acc = FOLD_U32T(acc);
 405              		.loc 1 419 5 discriminator 3 view .LVU130
 406              		.loc 1 419 11 is_stmt 0 discriminator 3 view .LVU131
 407 004c 1FFA8AF4 		uxth	r4, r10
 408              		.loc 1 419 9 discriminator 3 view .LVU132
 409 0050 04EB1A44 		add	r4, r4, r10, lsr #16
 410              	.LVL50:
 420:ThirdPackage/lwip220/core/inet_chksum.c ****     if (q->len % 2 != 0) {
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccWeyKqK.s 			page 16


 411              		.loc 1 420 5 is_stmt 1 discriminator 3 view .LVU133
 412              		.loc 1 420 10 is_stmt 0 discriminator 3 view .LVU134
 413 0054 B5F80AC0 		ldrh	ip, [r5, #10]
 414              		.loc 1 420 8 discriminator 3 view .LVU135
 415 0058 1CF0010F 		tst	ip, #1
 416 005c E1D0     		beq	.L19
 421:ThirdPackage/lwip220/core/inet_chksum.c ****       swapped = !swapped;
 417              		.loc 1 421 7 is_stmt 1 view .LVU136
 418              		.loc 1 421 17 is_stmt 0 view .LVU137
 419 005e 86F00106 		eor	r6, r6, #1
 420              	.LVL51:
 422:ThirdPackage/lwip220/core/inet_chksum.c ****       acc = SWAP_BYTES_IN_WORD(acc);
 421              		.loc 1 422 7 is_stmt 1 view .LVU138
 422              		.loc 1 422 13 is_stmt 0 view .LVU139
 423 0062 2302     		lsls	r3, r4, #8
 424 0064 9BB2     		uxth	r3, r3
 425 0066 C4F30724 		ubfx	r4, r4, #8, #8
 426              	.LVL52:
 427              		.loc 1 422 11 view .LVU140
 428 006a 1C43     		orrs	r4, r4, r3
 429              	.LVL53:
 430              		.loc 1 422 11 view .LVU141
 431 006c D9E7     		b	.L19
 432              	.LVL54:
 433              	.L20:
 423:ThirdPackage/lwip220/core/inet_chksum.c ****     }
 424:ThirdPackage/lwip220/core/inet_chksum.c ****     /*LWIP_DEBUGF(INET_DEBUG, ("inet_chksum_pseudo(): wrapped lwip_chksum()=%"X32_F" \n", acc));*/
 425:ThirdPackage/lwip220/core/inet_chksum.c ****   }
 426:ThirdPackage/lwip220/core/inet_chksum.c **** 
 427:ThirdPackage/lwip220/core/inet_chksum.c ****   if (swapped) {
 434              		.loc 1 427 3 is_stmt 1 view .LVU142
 435              		.loc 1 427 6 is_stmt 0 view .LVU143
 436 006e 26B1     		cbz	r6, .L22
 428:ThirdPackage/lwip220/core/inet_chksum.c ****     acc = SWAP_BYTES_IN_WORD(acc);
 437              		.loc 1 428 5 is_stmt 1 view .LVU144
 438              		.loc 1 428 11 is_stmt 0 view .LVU145
 439 0070 2302     		lsls	r3, r4, #8
 440 0072 9BB2     		uxth	r3, r3
 441 0074 C4F30724 		ubfx	r4, r4, #8, #8
 442              	.LVL55:
 443              		.loc 1 428 9 view .LVU146
 444 0078 1C43     		orrs	r4, r4, r3
 445              	.LVL56:
 446              	.L22:
 429:ThirdPackage/lwip220/core/inet_chksum.c ****   }
 430:ThirdPackage/lwip220/core/inet_chksum.c **** 
 431:ThirdPackage/lwip220/core/inet_chksum.c ****   acc += (u32_t)lwip_htons((u16_t)proto);
 447              		.loc 1 431 3 is_stmt 1 view .LVU147
 448              		.loc 1 431 17 is_stmt 0 view .LVU148
 449 007a 4046     		mov	r0, r8
 450 007c FFF7FEFF 		bl	lwip_htons
 451              	.LVL57:
 452              		.loc 1 431 7 view .LVU149
 453 0080 0444     		add	r4, r4, r0
 454              	.LVL58:
 432:ThirdPackage/lwip220/core/inet_chksum.c ****   acc += (u32_t)lwip_htons(proto_len);
 455              		.loc 1 432 3 is_stmt 1 view .LVU150
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccWeyKqK.s 			page 17


 456              		.loc 1 432 17 is_stmt 0 view .LVU151
 457 0082 4846     		mov	r0, r9
 458 0084 FFF7FEFF 		bl	lwip_htons
 459              	.LVL59:
 460              		.loc 1 432 7 view .LVU152
 461 0088 2044     		add	r0, r0, r4
 462              	.LVL60:
 433:ThirdPackage/lwip220/core/inet_chksum.c **** 
 434:ThirdPackage/lwip220/core/inet_chksum.c ****   /* Fold 32-bit sum to 16 bits
 435:ThirdPackage/lwip220/core/inet_chksum.c ****      calling this twice is probably faster than if statements... */
 436:ThirdPackage/lwip220/core/inet_chksum.c ****   acc = FOLD_U32T(acc);
 463              		.loc 1 436 3 is_stmt 1 view .LVU153
 464              		.loc 1 436 9 is_stmt 0 view .LVU154
 465 008a 84B2     		uxth	r4, r0
 466              		.loc 1 436 7 view .LVU155
 467 008c 04EB1044 		add	r4, r4, r0, lsr #16
 468              	.LVL61:
 437:ThirdPackage/lwip220/core/inet_chksum.c ****   acc = FOLD_U32T(acc);
 469              		.loc 1 437 3 is_stmt 1 view .LVU156
 470              		.loc 1 437 9 is_stmt 0 view .LVU157
 471 0090 A0B2     		uxth	r0, r4
 472              		.loc 1 437 7 view .LVU158
 473 0092 00EB1440 		add	r0, r0, r4, lsr #16
 474              	.LVL62:
 438:ThirdPackage/lwip220/core/inet_chksum.c ****   LWIP_DEBUGF(INET_DEBUG, ("inet_chksum_pseudo(): pbuf chain lwip_chksum()=%"X32_F"\n", acc));
 475              		.loc 1 438 94 is_stmt 1 view .LVU159
 439:ThirdPackage/lwip220/core/inet_chksum.c ****   return (u16_t)~(acc & 0xffffUL);
 476              		.loc 1 439 3 view .LVU160
 477              		.loc 1 439 10 is_stmt 0 view .LVU161
 478 0096 C043     		mvns	r0, r0
 479              	.LVL63:
 440:ThirdPackage/lwip220/core/inet_chksum.c **** }
 480              		.loc 1 440 1 view .LVU162
 481 0098 80B2     		uxth	r0, r0
 482              	.LVL64:
 483              		.loc 1 440 1 view .LVU163
 484 009a BDE8F88F 		pop	{r3, r4, r5, r6, r7, r8, r9, r10, fp, pc}
 485              	.LVL65:
 486              	.L27:
 487              		.loc 1 440 1 view .LVU164
 488 009e 00BF     		.align	2
 489              	.L26:
 490 00a0 00000000 		.word	.LC0
 491 00a4 28000000 		.word	.LC1
 492 00a8 34000000 		.word	.LC2
 493              		.cfi_endproc
 494              	.LFE164:
 496              		.section	.text.inet_chksum_pseudo,"ax",%progbits
 497              		.align	1
 498              		.global	inet_chksum_pseudo
 499              		.syntax unified
 500              		.thumb
 501              		.thumb_func
 503              	inet_chksum_pseudo:
 504              	.LVL66:
 505              	.LFB162:
 312:ThirdPackage/lwip220/core/inet_chksum.c ****   u32_t acc;
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccWeyKqK.s 			page 18


 506              		.loc 1 312 1 is_stmt 1 view -0
 507              		.cfi_startproc
 508              		@ args = 4, pretend = 0, frame = 0
 509              		@ frame_needed = 0, uses_anonymous_args = 0
 312:ThirdPackage/lwip220/core/inet_chksum.c ****   u32_t acc;
 510              		.loc 1 312 1 is_stmt 0 view .LVU166
 511 0000 10B5     		push	{r4, lr}
 512              	.LCFI6:
 513              		.cfi_def_cfa_offset 8
 514              		.cfi_offset 4, -8
 515              		.cfi_offset 14, -4
 313:ThirdPackage/lwip220/core/inet_chksum.c ****   u32_t addr;
 516              		.loc 1 313 3 is_stmt 1 view .LVU167
 314:ThirdPackage/lwip220/core/inet_chksum.c **** 
 517              		.loc 1 314 3 view .LVU168
 316:ThirdPackage/lwip220/core/inet_chksum.c ****   acc = (addr & 0xffffUL);
 518              		.loc 1 316 3 view .LVU169
 316:ThirdPackage/lwip220/core/inet_chksum.c ****   acc = (addr & 0xffffUL);
 519              		.loc 1 316 8 is_stmt 0 view .LVU170
 520 0002 1B68     		ldr	r3, [r3]
 521              	.LVL67:
 317:ThirdPackage/lwip220/core/inet_chksum.c ****   acc = (u32_t)(acc + ((addr >> 16) & 0xffffUL));
 522              		.loc 1 317 3 is_stmt 1 view .LVU171
 318:ThirdPackage/lwip220/core/inet_chksum.c ****   addr = ip4_addr_get_u32(dest);
 523              		.loc 1 318 3 view .LVU172
 318:ThirdPackage/lwip220/core/inet_chksum.c ****   addr = ip4_addr_get_u32(dest);
 524              		.loc 1 318 30 is_stmt 0 view .LVU173
 525 0004 1C0C     		lsrs	r4, r3, #16
 318:ThirdPackage/lwip220/core/inet_chksum.c ****   addr = ip4_addr_get_u32(dest);
 526              		.loc 1 318 7 view .LVU174
 527 0006 14FA83F3 		uxtah	r3, r4, r3
 528              	.LVL68:
 319:ThirdPackage/lwip220/core/inet_chksum.c ****   acc = (u32_t)(acc + (addr & 0xffffUL));
 529              		.loc 1 319 3 is_stmt 1 view .LVU175
 319:ThirdPackage/lwip220/core/inet_chksum.c ****   acc = (u32_t)(acc + (addr & 0xffffUL));
 530              		.loc 1 319 8 is_stmt 0 view .LVU176
 531 000a 029C     		ldr	r4, [sp, #8]
 532 000c 2468     		ldr	r4, [r4]
 533              	.LVL69:
 320:ThirdPackage/lwip220/core/inet_chksum.c ****   acc = (u32_t)(acc + ((addr >> 16) & 0xffffUL));
 534              		.loc 1 320 3 is_stmt 1 view .LVU177
 320:ThirdPackage/lwip220/core/inet_chksum.c ****   acc = (u32_t)(acc + ((addr >> 16) & 0xffffUL));
 535              		.loc 1 320 7 is_stmt 0 view .LVU178
 536 000e 13FA84F3 		uxtah	r3, r3, r4
 537              	.LVL70:
 321:ThirdPackage/lwip220/core/inet_chksum.c ****   /* fold down to 16 bits */
 538              		.loc 1 321 3 is_stmt 1 view .LVU179
 321:ThirdPackage/lwip220/core/inet_chksum.c ****   /* fold down to 16 bits */
 539              		.loc 1 321 7 is_stmt 0 view .LVU180
 540 0012 03EB1443 		add	r3, r3, r4, lsr #16
 541              	.LVL71:
 323:ThirdPackage/lwip220/core/inet_chksum.c ****   acc = FOLD_U32T(acc);
 542              		.loc 1 323 3 is_stmt 1 view .LVU181
 323:ThirdPackage/lwip220/core/inet_chksum.c ****   acc = FOLD_U32T(acc);
 543              		.loc 1 323 9 is_stmt 0 view .LVU182
 544 0016 1FFA83FC 		uxth	ip, r3
 323:ThirdPackage/lwip220/core/inet_chksum.c ****   acc = FOLD_U32T(acc);
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccWeyKqK.s 			page 19


 545              		.loc 1 323 7 view .LVU183
 546 001a 0CEB1343 		add	r3, ip, r3, lsr #16
 547              	.LVL72:
 324:ThirdPackage/lwip220/core/inet_chksum.c **** 
 548              		.loc 1 324 3 is_stmt 1 view .LVU184
 324:ThirdPackage/lwip220/core/inet_chksum.c **** 
 549              		.loc 1 324 9 is_stmt 0 view .LVU185
 550 001e 9CB2     		uxth	r4, r3
 551              	.LVL73:
 326:ThirdPackage/lwip220/core/inet_chksum.c **** }
 552              		.loc 1 326 3 is_stmt 1 view .LVU186
 326:ThirdPackage/lwip220/core/inet_chksum.c **** }
 553              		.loc 1 326 10 is_stmt 0 view .LVU187
 554 0020 04EB1343 		add	r3, r4, r3, lsr #16
 555              	.LVL74:
 326:ThirdPackage/lwip220/core/inet_chksum.c **** }
 556              		.loc 1 326 10 view .LVU188
 557 0024 FFF7FEFF 		bl	inet_cksum_pseudo_base
 558              	.LVL75:
 327:ThirdPackage/lwip220/core/inet_chksum.c **** #endif /* LWIP_IPV4 */
 559              		.loc 1 327 1 view .LVU189
 560 0028 10BD     		pop	{r4, pc}
 327:ThirdPackage/lwip220/core/inet_chksum.c **** #endif /* LWIP_IPV4 */
 561              		.loc 1 327 1 view .LVU190
 562              		.cfi_endproc
 563              	.LFE162:
 565              		.section	.text.ip_chksum_pseudo,"ax",%progbits
 566              		.align	1
 567              		.global	ip_chksum_pseudo
 568              		.syntax unified
 569              		.thumb
 570              		.thumb_func
 572              	ip_chksum_pseudo:
 573              	.LVL76:
 574              	.LFB163:
 381:ThirdPackage/lwip220/core/inet_chksum.c **** #if LWIP_IPV6
 575              		.loc 1 381 1 is_stmt 1 view -0
 576              		.cfi_startproc
 577              		@ args = 4, pretend = 0, frame = 0
 578              		@ frame_needed = 0, uses_anonymous_args = 0
 381:ThirdPackage/lwip220/core/inet_chksum.c **** #if LWIP_IPV6
 579              		.loc 1 381 1 is_stmt 0 view .LVU192
 580 0000 10B5     		push	{r4, lr}
 581              	.LCFI7:
 582              		.cfi_def_cfa_offset 8
 583              		.cfi_offset 4, -8
 584              		.cfi_offset 14, -4
 585 0002 82B0     		sub	sp, sp, #8
 586              	.LCFI8:
 587              		.cfi_def_cfa_offset 16
 392:ThirdPackage/lwip220/core/inet_chksum.c ****   }
 588              		.loc 1 392 5 is_stmt 1 view .LVU193
 392:ThirdPackage/lwip220/core/inet_chksum.c ****   }
 589              		.loc 1 392 12 is_stmt 0 view .LVU194
 590 0004 049C     		ldr	r4, [sp, #16]
 591 0006 0094     		str	r4, [sp]
 592 0008 FFF7FEFF 		bl	inet_chksum_pseudo
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccWeyKqK.s 			page 20


 593              	.LVL77:
 395:ThirdPackage/lwip220/core/inet_chksum.c **** 
 594              		.loc 1 395 1 view .LVU195
 595 000c 02B0     		add	sp, sp, #8
 596              	.LCFI9:
 597              		.cfi_def_cfa_offset 8
 598              		@ sp needed
 599 000e 10BD     		pop	{r4, pc}
 395:ThirdPackage/lwip220/core/inet_chksum.c **** 
 600              		.loc 1 395 1 view .LVU196
 601              		.cfi_endproc
 602              	.LFE163:
 604              		.section	.text.inet_chksum_pseudo_partial,"ax",%progbits
 605              		.align	1
 606              		.global	inet_chksum_pseudo_partial
 607              		.syntax unified
 608              		.thumb
 609              		.thumb_func
 611              	inet_chksum_pseudo_partial:
 612              	.LVL78:
 613              	.LFB165:
 441:ThirdPackage/lwip220/core/inet_chksum.c **** 
 442:ThirdPackage/lwip220/core/inet_chksum.c **** #if LWIP_IPV4
 443:ThirdPackage/lwip220/core/inet_chksum.c **** /* inet_chksum_pseudo_partial:
 444:ThirdPackage/lwip220/core/inet_chksum.c ****  *
 445:ThirdPackage/lwip220/core/inet_chksum.c ****  * Calculates the IPv4 pseudo Internet checksum used by TCP and UDP for a pbuf chain.
 446:ThirdPackage/lwip220/core/inet_chksum.c ****  * IP addresses are expected to be in network byte order.
 447:ThirdPackage/lwip220/core/inet_chksum.c ****  *
 448:ThirdPackage/lwip220/core/inet_chksum.c ****  * @param p chain of pbufs over that a checksum should be calculated (ip data part)
 449:ThirdPackage/lwip220/core/inet_chksum.c ****  * @param src source ip address (used for checksum of pseudo header)
 450:ThirdPackage/lwip220/core/inet_chksum.c ****  * @param dst destination ip address (used for checksum of pseudo header)
 451:ThirdPackage/lwip220/core/inet_chksum.c ****  * @param proto ip protocol (used for checksum of pseudo header)
 452:ThirdPackage/lwip220/core/inet_chksum.c ****  * @param proto_len length of the ip data part (used for checksum of pseudo header)
 453:ThirdPackage/lwip220/core/inet_chksum.c ****  * @return checksum (as u16_t) to be saved directly in the protocol header
 454:ThirdPackage/lwip220/core/inet_chksum.c ****  */
 455:ThirdPackage/lwip220/core/inet_chksum.c **** u16_t
 456:ThirdPackage/lwip220/core/inet_chksum.c **** inet_chksum_pseudo_partial(struct pbuf *p, u8_t proto, u16_t proto_len,
 457:ThirdPackage/lwip220/core/inet_chksum.c ****                            u16_t chksum_len, const ip4_addr_t *src, const ip4_addr_t *dest)
 458:ThirdPackage/lwip220/core/inet_chksum.c **** {
 614              		.loc 1 458 1 is_stmt 1 view -0
 615              		.cfi_startproc
 616              		@ args = 8, pretend = 0, frame = 0
 617              		@ frame_needed = 0, uses_anonymous_args = 0
 618              		.loc 1 458 1 is_stmt 0 view .LVU198
 619 0000 10B5     		push	{r4, lr}
 620              	.LCFI10:
 621              		.cfi_def_cfa_offset 8
 622              		.cfi_offset 4, -8
 623              		.cfi_offset 14, -4
 624 0002 82B0     		sub	sp, sp, #8
 625              	.LCFI11:
 626              		.cfi_def_cfa_offset 16
 459:ThirdPackage/lwip220/core/inet_chksum.c ****   u32_t acc;
 627              		.loc 1 459 3 is_stmt 1 view .LVU199
 460:ThirdPackage/lwip220/core/inet_chksum.c ****   u32_t addr;
 628              		.loc 1 460 3 view .LVU200
 461:ThirdPackage/lwip220/core/inet_chksum.c **** 
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccWeyKqK.s 			page 21


 462:ThirdPackage/lwip220/core/inet_chksum.c ****   addr = ip4_addr_get_u32(src);
 629              		.loc 1 462 3 view .LVU201
 630              		.loc 1 462 8 is_stmt 0 view .LVU202
 631 0004 049C     		ldr	r4, [sp, #16]
 632 0006 2468     		ldr	r4, [r4]
 633              	.LVL79:
 463:ThirdPackage/lwip220/core/inet_chksum.c ****   acc = (addr & 0xffffUL);
 634              		.loc 1 463 3 is_stmt 1 view .LVU203
 464:ThirdPackage/lwip220/core/inet_chksum.c ****   acc = (u32_t)(acc + ((addr >> 16) & 0xffffUL));
 635              		.loc 1 464 3 view .LVU204
 636              		.loc 1 464 30 is_stmt 0 view .LVU205
 637 0008 4FEA144C 		lsr	ip, r4, #16
 638              		.loc 1 464 7 view .LVU206
 639 000c 1CFA84FC 		uxtah	ip, ip, r4
 640              	.LVL80:
 465:ThirdPackage/lwip220/core/inet_chksum.c ****   addr = ip4_addr_get_u32(dest);
 641              		.loc 1 465 3 is_stmt 1 view .LVU207
 642              		.loc 1 465 8 is_stmt 0 view .LVU208
 643 0010 059C     		ldr	r4, [sp, #20]
 644              	.LVL81:
 645              		.loc 1 465 8 view .LVU209
 646 0012 2468     		ldr	r4, [r4]
 647              	.LVL82:
 466:ThirdPackage/lwip220/core/inet_chksum.c ****   acc = (u32_t)(acc + (addr & 0xffffUL));
 648              		.loc 1 466 3 is_stmt 1 view .LVU210
 649              		.loc 1 466 7 is_stmt 0 view .LVU211
 650 0014 1CFA84FC 		uxtah	ip, ip, r4
 651              	.LVL83:
 467:ThirdPackage/lwip220/core/inet_chksum.c ****   acc = (u32_t)(acc + ((addr >> 16) & 0xffffUL));
 652              		.loc 1 467 3 is_stmt 1 view .LVU212
 653              		.loc 1 467 7 is_stmt 0 view .LVU213
 654 0018 0CEB144C 		add	ip, ip, r4, lsr #16
 655              	.LVL84:
 468:ThirdPackage/lwip220/core/inet_chksum.c ****   /* fold down to 16 bits */
 469:ThirdPackage/lwip220/core/inet_chksum.c ****   acc = FOLD_U32T(acc);
 656              		.loc 1 469 3 is_stmt 1 view .LVU214
 657              		.loc 1 469 9 is_stmt 0 view .LVU215
 658 001c 1FFA8CF4 		uxth	r4, ip
 659              	.LVL85:
 660              		.loc 1 469 7 view .LVU216
 661 0020 04EB1C4C 		add	ip, r4, ip, lsr #16
 662              	.LVL86:
 470:ThirdPackage/lwip220/core/inet_chksum.c ****   acc = FOLD_U32T(acc);
 663              		.loc 1 470 3 is_stmt 1 view .LVU217
 664              		.loc 1 470 9 is_stmt 0 view .LVU218
 665 0024 1FFA8CF4 		uxth	r4, ip
 666              		.loc 1 470 7 view .LVU219
 667 0028 04EB1C44 		add	r4, r4, ip, lsr #16
 668              	.LVL87:
 471:ThirdPackage/lwip220/core/inet_chksum.c **** 
 472:ThirdPackage/lwip220/core/inet_chksum.c ****   return inet_cksum_pseudo_partial_base(p, proto, proto_len, chksum_len, acc);
 669              		.loc 1 472 3 is_stmt 1 view .LVU220
 670              		.loc 1 472 10 is_stmt 0 view .LVU221
 671 002c 0094     		str	r4, [sp]
 672              	.LVL88:
 673              		.loc 1 472 10 view .LVU222
 674 002e FFF7FEFF 		bl	inet_cksum_pseudo_partial_base
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccWeyKqK.s 			page 22


 675              	.LVL89:
 473:ThirdPackage/lwip220/core/inet_chksum.c **** }
 676              		.loc 1 473 1 view .LVU223
 677 0032 02B0     		add	sp, sp, #8
 678              	.LCFI12:
 679              		.cfi_def_cfa_offset 8
 680              		@ sp needed
 681 0034 10BD     		pop	{r4, pc}
 682              		.loc 1 473 1 view .LVU224
 683              		.cfi_endproc
 684              	.LFE165:
 686              		.section	.text.ip_chksum_pseudo_partial,"ax",%progbits
 687              		.align	1
 688              		.global	ip_chksum_pseudo_partial
 689              		.syntax unified
 690              		.thumb
 691              		.thumb_func
 693              	ip_chksum_pseudo_partial:
 694              	.LVL90:
 695              	.LFB166:
 474:ThirdPackage/lwip220/core/inet_chksum.c **** #endif /* LWIP_IPV4 */
 475:ThirdPackage/lwip220/core/inet_chksum.c **** 
 476:ThirdPackage/lwip220/core/inet_chksum.c **** #if LWIP_IPV6
 477:ThirdPackage/lwip220/core/inet_chksum.c **** /**
 478:ThirdPackage/lwip220/core/inet_chksum.c ****  * Calculates the checksum with IPv6 pseudo header used by TCP and UDP for a pbuf chain.
 479:ThirdPackage/lwip220/core/inet_chksum.c ****  * IPv6 addresses are expected to be in network byte order. Will only compute for a
 480:ThirdPackage/lwip220/core/inet_chksum.c ****  * portion of the payload.
 481:ThirdPackage/lwip220/core/inet_chksum.c ****  *
 482:ThirdPackage/lwip220/core/inet_chksum.c ****  * @param p chain of pbufs over that a checksum should be calculated (ip data part)
 483:ThirdPackage/lwip220/core/inet_chksum.c ****  * @param proto ipv6 protocol/next header (used for checksum of pseudo header)
 484:ThirdPackage/lwip220/core/inet_chksum.c ****  * @param proto_len length of the ipv6 payload (used for checksum of pseudo header)
 485:ThirdPackage/lwip220/core/inet_chksum.c ****  * @param chksum_len number of payload bytes used to compute chksum
 486:ThirdPackage/lwip220/core/inet_chksum.c ****  * @param src source ipv6 address (used for checksum of pseudo header)
 487:ThirdPackage/lwip220/core/inet_chksum.c ****  * @param dest destination ipv6 address (used for checksum of pseudo header)
 488:ThirdPackage/lwip220/core/inet_chksum.c ****  * @return checksum (as u16_t) to be saved directly in the protocol header
 489:ThirdPackage/lwip220/core/inet_chksum.c ****  */
 490:ThirdPackage/lwip220/core/inet_chksum.c **** u16_t
 491:ThirdPackage/lwip220/core/inet_chksum.c **** ip6_chksum_pseudo_partial(struct pbuf *p, u8_t proto, u16_t proto_len,
 492:ThirdPackage/lwip220/core/inet_chksum.c ****                           u16_t chksum_len, const ip6_addr_t *src, const ip6_addr_t *dest)
 493:ThirdPackage/lwip220/core/inet_chksum.c **** {
 494:ThirdPackage/lwip220/core/inet_chksum.c ****   u32_t acc = 0;
 495:ThirdPackage/lwip220/core/inet_chksum.c ****   u32_t addr;
 496:ThirdPackage/lwip220/core/inet_chksum.c ****   u8_t addr_part;
 497:ThirdPackage/lwip220/core/inet_chksum.c **** 
 498:ThirdPackage/lwip220/core/inet_chksum.c ****   for (addr_part = 0; addr_part < 4; addr_part++) {
 499:ThirdPackage/lwip220/core/inet_chksum.c ****     addr = src->addr[addr_part];
 500:ThirdPackage/lwip220/core/inet_chksum.c ****     acc = (u32_t)(acc + (addr & 0xffffUL));
 501:ThirdPackage/lwip220/core/inet_chksum.c ****     acc = (u32_t)(acc + ((addr >> 16) & 0xffffUL));
 502:ThirdPackage/lwip220/core/inet_chksum.c ****     addr = dest->addr[addr_part];
 503:ThirdPackage/lwip220/core/inet_chksum.c ****     acc = (u32_t)(acc + (addr & 0xffffUL));
 504:ThirdPackage/lwip220/core/inet_chksum.c ****     acc = (u32_t)(acc + ((addr >> 16) & 0xffffUL));
 505:ThirdPackage/lwip220/core/inet_chksum.c ****   }
 506:ThirdPackage/lwip220/core/inet_chksum.c ****   /* fold down to 16 bits */
 507:ThirdPackage/lwip220/core/inet_chksum.c ****   acc = FOLD_U32T(acc);
 508:ThirdPackage/lwip220/core/inet_chksum.c ****   acc = FOLD_U32T(acc);
 509:ThirdPackage/lwip220/core/inet_chksum.c **** 
 510:ThirdPackage/lwip220/core/inet_chksum.c ****   return inet_cksum_pseudo_partial_base(p, proto, proto_len, chksum_len, acc);
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccWeyKqK.s 			page 23


 511:ThirdPackage/lwip220/core/inet_chksum.c **** }
 512:ThirdPackage/lwip220/core/inet_chksum.c **** #endif /* LWIP_IPV6 */
 513:ThirdPackage/lwip220/core/inet_chksum.c **** 
 514:ThirdPackage/lwip220/core/inet_chksum.c **** /* ip_chksum_pseudo_partial:
 515:ThirdPackage/lwip220/core/inet_chksum.c ****  *
 516:ThirdPackage/lwip220/core/inet_chksum.c ****  * Calculates the IPv4 or IPv6 pseudo Internet checksum used by TCP and UDP for a pbuf chain.
 517:ThirdPackage/lwip220/core/inet_chksum.c ****  *
 518:ThirdPackage/lwip220/core/inet_chksum.c ****  * @param p chain of pbufs over that a checksum should be calculated (ip data part)
 519:ThirdPackage/lwip220/core/inet_chksum.c ****  * @param src source ip address (used for checksum of pseudo header)
 520:ThirdPackage/lwip220/core/inet_chksum.c ****  * @param dst destination ip address (used for checksum of pseudo header)
 521:ThirdPackage/lwip220/core/inet_chksum.c ****  * @param proto ip protocol (used for checksum of pseudo header)
 522:ThirdPackage/lwip220/core/inet_chksum.c ****  * @param proto_len length of the ip data part (used for checksum of pseudo header)
 523:ThirdPackage/lwip220/core/inet_chksum.c ****  * @return checksum (as u16_t) to be saved directly in the protocol header
 524:ThirdPackage/lwip220/core/inet_chksum.c ****  */
 525:ThirdPackage/lwip220/core/inet_chksum.c **** u16_t
 526:ThirdPackage/lwip220/core/inet_chksum.c **** ip_chksum_pseudo_partial(struct pbuf *p, u8_t proto, u16_t proto_len,
 527:ThirdPackage/lwip220/core/inet_chksum.c ****                          u16_t chksum_len, const ip_addr_t *src, const ip_addr_t *dest)
 528:ThirdPackage/lwip220/core/inet_chksum.c **** {
 696              		.loc 1 528 1 is_stmt 1 view -0
 697              		.cfi_startproc
 698              		@ args = 8, pretend = 0, frame = 0
 699              		@ frame_needed = 0, uses_anonymous_args = 0
 700              		.loc 1 528 1 is_stmt 0 view .LVU226
 701 0000 10B5     		push	{r4, lr}
 702              	.LCFI13:
 703              		.cfi_def_cfa_offset 8
 704              		.cfi_offset 4, -8
 705              		.cfi_offset 14, -4
 706 0002 82B0     		sub	sp, sp, #8
 707              	.LCFI14:
 708              		.cfi_def_cfa_offset 16
 529:ThirdPackage/lwip220/core/inet_chksum.c **** #if LWIP_IPV6
 530:ThirdPackage/lwip220/core/inet_chksum.c ****   if (IP_IS_V6(dest)) {
 531:ThirdPackage/lwip220/core/inet_chksum.c ****     return ip6_chksum_pseudo_partial(p, proto, proto_len, chksum_len, ip_2_ip6(src), ip_2_ip6(dest)
 532:ThirdPackage/lwip220/core/inet_chksum.c ****   }
 533:ThirdPackage/lwip220/core/inet_chksum.c **** #endif /* LWIP_IPV6 */
 534:ThirdPackage/lwip220/core/inet_chksum.c **** #if LWIP_IPV4 && LWIP_IPV6
 535:ThirdPackage/lwip220/core/inet_chksum.c ****   else
 536:ThirdPackage/lwip220/core/inet_chksum.c **** #endif /* LWIP_IPV4 && LWIP_IPV6 */
 537:ThirdPackage/lwip220/core/inet_chksum.c **** #if LWIP_IPV4
 538:ThirdPackage/lwip220/core/inet_chksum.c ****   {
 539:ThirdPackage/lwip220/core/inet_chksum.c ****     return inet_chksum_pseudo_partial(p, proto, proto_len, chksum_len, ip_2_ip4(src), ip_2_ip4(dest
 709              		.loc 1 539 5 is_stmt 1 view .LVU227
 710              		.loc 1 539 12 is_stmt 0 view .LVU228
 711 0004 059C     		ldr	r4, [sp, #20]
 712 0006 0194     		str	r4, [sp, #4]
 713 0008 049C     		ldr	r4, [sp, #16]
 714 000a 0094     		str	r4, [sp]
 715 000c FFF7FEFF 		bl	inet_chksum_pseudo_partial
 716              	.LVL91:
 540:ThirdPackage/lwip220/core/inet_chksum.c ****   }
 541:ThirdPackage/lwip220/core/inet_chksum.c **** #endif /* LWIP_IPV4 */
 542:ThirdPackage/lwip220/core/inet_chksum.c **** }
 717              		.loc 1 542 1 view .LVU229
 718 0010 02B0     		add	sp, sp, #8
 719              	.LCFI15:
 720              		.cfi_def_cfa_offset 8
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccWeyKqK.s 			page 24


 721              		@ sp needed
 722 0012 10BD     		pop	{r4, pc}
 723              		.loc 1 542 1 view .LVU230
 724              		.cfi_endproc
 725              	.LFE166:
 727              		.section	.text.inet_chksum,"ax",%progbits
 728              		.align	1
 729              		.global	inet_chksum
 730              		.syntax unified
 731              		.thumb
 732              		.thumb_func
 734              	inet_chksum:
 735              	.LVL92:
 736              	.LFB167:
 543:ThirdPackage/lwip220/core/inet_chksum.c **** 
 544:ThirdPackage/lwip220/core/inet_chksum.c **** /* inet_chksum:
 545:ThirdPackage/lwip220/core/inet_chksum.c ****  *
 546:ThirdPackage/lwip220/core/inet_chksum.c ****  * Calculates the Internet checksum over a portion of memory. Used primarily for IP
 547:ThirdPackage/lwip220/core/inet_chksum.c ****  * and ICMP.
 548:ThirdPackage/lwip220/core/inet_chksum.c ****  *
 549:ThirdPackage/lwip220/core/inet_chksum.c ****  * @param dataptr start of the buffer to calculate the checksum (no alignment needed)
 550:ThirdPackage/lwip220/core/inet_chksum.c ****  * @param len length of the buffer to calculate the checksum
 551:ThirdPackage/lwip220/core/inet_chksum.c ****  * @return checksum (as u16_t) to be saved directly in the protocol header
 552:ThirdPackage/lwip220/core/inet_chksum.c ****  */
 553:ThirdPackage/lwip220/core/inet_chksum.c **** 
 554:ThirdPackage/lwip220/core/inet_chksum.c **** u16_t
 555:ThirdPackage/lwip220/core/inet_chksum.c **** inet_chksum(const void *dataptr, u16_t len)
 556:ThirdPackage/lwip220/core/inet_chksum.c **** {
 737              		.loc 1 556 1 is_stmt 1 view -0
 738              		.cfi_startproc
 739              		@ args = 0, pretend = 0, frame = 0
 740              		@ frame_needed = 0, uses_anonymous_args = 0
 741              		.loc 1 556 1 is_stmt 0 view .LVU232
 742 0000 08B5     		push	{r3, lr}
 743              	.LCFI16:
 744              		.cfi_def_cfa_offset 8
 745              		.cfi_offset 3, -8
 746              		.cfi_offset 14, -4
 557:ThirdPackage/lwip220/core/inet_chksum.c ****   return (u16_t)~(unsigned int)LWIP_CHKSUM(dataptr, len);
 747              		.loc 1 557 3 is_stmt 1 view .LVU233
 748              		.loc 1 557 32 is_stmt 0 view .LVU234
 749 0002 FFF7FEFF 		bl	lwip_standard_chksum
 750              	.LVL93:
 751              		.loc 1 557 10 view .LVU235
 752 0006 C043     		mvns	r0, r0
 558:ThirdPackage/lwip220/core/inet_chksum.c **** }
 753              		.loc 1 558 1 view .LVU236
 754 0008 80B2     		uxth	r0, r0
 755 000a 08BD     		pop	{r3, pc}
 756              		.cfi_endproc
 757              	.LFE167:
 759              		.section	.text.inet_chksum_pbuf,"ax",%progbits
 760              		.align	1
 761              		.global	inet_chksum_pbuf
 762              		.syntax unified
 763              		.thumb
 764              		.thumb_func
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccWeyKqK.s 			page 25


 766              	inet_chksum_pbuf:
 767              	.LVL94:
 768              	.LFB168:
 559:ThirdPackage/lwip220/core/inet_chksum.c **** 
 560:ThirdPackage/lwip220/core/inet_chksum.c **** /**
 561:ThirdPackage/lwip220/core/inet_chksum.c ****  * Calculate a checksum over a chain of pbufs (without pseudo-header, much like
 562:ThirdPackage/lwip220/core/inet_chksum.c ****  * inet_chksum only pbufs are used).
 563:ThirdPackage/lwip220/core/inet_chksum.c ****  *
 564:ThirdPackage/lwip220/core/inet_chksum.c ****  * @param p pbuf chain over that the checksum should be calculated
 565:ThirdPackage/lwip220/core/inet_chksum.c ****  * @return checksum (as u16_t) to be saved directly in the protocol header
 566:ThirdPackage/lwip220/core/inet_chksum.c ****  */
 567:ThirdPackage/lwip220/core/inet_chksum.c **** u16_t
 568:ThirdPackage/lwip220/core/inet_chksum.c **** inet_chksum_pbuf(struct pbuf *p)
 569:ThirdPackage/lwip220/core/inet_chksum.c **** {
 769              		.loc 1 569 1 is_stmt 1 view -0
 770              		.cfi_startproc
 771              		@ args = 0, pretend = 0, frame = 0
 772              		@ frame_needed = 0, uses_anonymous_args = 0
 773              		.loc 1 569 1 is_stmt 0 view .LVU238
 774 0000 70B5     		push	{r4, r5, r6, lr}
 775              	.LCFI17:
 776              		.cfi_def_cfa_offset 16
 777              		.cfi_offset 4, -16
 778              		.cfi_offset 5, -12
 779              		.cfi_offset 6, -8
 780              		.cfi_offset 14, -4
 781 0002 0546     		mov	r5, r0
 570:ThirdPackage/lwip220/core/inet_chksum.c ****   u32_t acc;
 782              		.loc 1 570 3 is_stmt 1 view .LVU239
 571:ThirdPackage/lwip220/core/inet_chksum.c ****   struct pbuf *q;
 783              		.loc 1 571 3 view .LVU240
 572:ThirdPackage/lwip220/core/inet_chksum.c ****   int swapped = 0;
 784              		.loc 1 572 3 view .LVU241
 785              	.LVL95:
 573:ThirdPackage/lwip220/core/inet_chksum.c **** 
 574:ThirdPackage/lwip220/core/inet_chksum.c ****   acc = 0;
 786              		.loc 1 574 3 view .LVU242
 575:ThirdPackage/lwip220/core/inet_chksum.c ****   for (q = p; q != NULL; q = q->next) {
 787              		.loc 1 575 3 view .LVU243
 572:ThirdPackage/lwip220/core/inet_chksum.c ****   int swapped = 0;
 788              		.loc 1 572 7 is_stmt 0 view .LVU244
 789 0004 0026     		movs	r6, #0
 574:ThirdPackage/lwip220/core/inet_chksum.c ****   for (q = p; q != NULL; q = q->next) {
 790              		.loc 1 574 7 view .LVU245
 791 0006 3446     		mov	r4, r6
 792              		.loc 1 575 3 view .LVU246
 793 0008 00E0     		b	.L39
 794              	.LVL96:
 795              	.L40:
 796              		.loc 1 575 26 is_stmt 1 discriminator 2 view .LVU247
 797              		.loc 1 575 28 is_stmt 0 discriminator 2 view .LVU248
 798 000a 2D68     		ldr	r5, [r5]
 799              	.LVL97:
 800              	.L39:
 801              		.loc 1 575 15 is_stmt 1 discriminator 1 view .LVU249
 802              		.loc 1 575 3 is_stmt 0 discriminator 1 view .LVU250
 803 000c 9DB1     		cbz	r5, .L44
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccWeyKqK.s 			page 26


 576:ThirdPackage/lwip220/core/inet_chksum.c ****     acc += LWIP_CHKSUM(q->payload, q->len);
 804              		.loc 1 576 5 is_stmt 1 view .LVU251
 805              		.loc 1 576 12 is_stmt 0 view .LVU252
 806 000e 6989     		ldrh	r1, [r5, #10]
 807 0010 6868     		ldr	r0, [r5, #4]
 808 0012 FFF7FEFF 		bl	lwip_standard_chksum
 809              	.LVL98:
 810              		.loc 1 576 9 view .LVU253
 811 0016 0444     		add	r4, r4, r0
 812              	.LVL99:
 577:ThirdPackage/lwip220/core/inet_chksum.c ****     acc = FOLD_U32T(acc);
 813              		.loc 1 577 5 is_stmt 1 view .LVU254
 814              		.loc 1 577 11 is_stmt 0 view .LVU255
 815 0018 A0B2     		uxth	r0, r4
 816              		.loc 1 577 9 view .LVU256
 817 001a 00EB1444 		add	r4, r0, r4, lsr #16
 818              	.LVL100:
 578:ThirdPackage/lwip220/core/inet_chksum.c ****     if (q->len % 2 != 0) {
 819              		.loc 1 578 5 is_stmt 1 view .LVU257
 820              		.loc 1 578 10 is_stmt 0 view .LVU258
 821 001e 6B89     		ldrh	r3, [r5, #10]
 822              		.loc 1 578 8 view .LVU259
 823 0020 13F0010F 		tst	r3, #1
 824 0024 F1D0     		beq	.L40
 579:ThirdPackage/lwip220/core/inet_chksum.c ****       swapped = !swapped;
 825              		.loc 1 579 7 is_stmt 1 view .LVU260
 826              		.loc 1 579 17 is_stmt 0 view .LVU261
 827 0026 86F00106 		eor	r6, r6, #1
 828              	.LVL101:
 580:ThirdPackage/lwip220/core/inet_chksum.c ****       acc = SWAP_BYTES_IN_WORD(acc);
 829              		.loc 1 580 7 is_stmt 1 view .LVU262
 830              		.loc 1 580 13 is_stmt 0 view .LVU263
 831 002a 2302     		lsls	r3, r4, #8
 832 002c 9BB2     		uxth	r3, r3
 833 002e C4F30724 		ubfx	r4, r4, #8, #8
 834              	.LVL102:
 835              		.loc 1 580 11 view .LVU264
 836 0032 1C43     		orrs	r4, r4, r3
 837              	.LVL103:
 838              		.loc 1 580 11 view .LVU265
 839 0034 E9E7     		b	.L40
 840              	.L44:
 581:ThirdPackage/lwip220/core/inet_chksum.c ****     }
 582:ThirdPackage/lwip220/core/inet_chksum.c ****   }
 583:ThirdPackage/lwip220/core/inet_chksum.c **** 
 584:ThirdPackage/lwip220/core/inet_chksum.c ****   if (swapped) {
 841              		.loc 1 584 3 is_stmt 1 view .LVU266
 842              		.loc 1 584 6 is_stmt 0 view .LVU267
 843 0036 26B1     		cbz	r6, .L42
 585:ThirdPackage/lwip220/core/inet_chksum.c ****     acc = SWAP_BYTES_IN_WORD(acc);
 844              		.loc 1 585 5 is_stmt 1 view .LVU268
 845              		.loc 1 585 11 is_stmt 0 view .LVU269
 846 0038 2302     		lsls	r3, r4, #8
 847 003a 9BB2     		uxth	r3, r3
 848 003c C4F30724 		ubfx	r4, r4, #8, #8
 849              	.LVL104:
 850              		.loc 1 585 9 view .LVU270
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccWeyKqK.s 			page 27


 851 0040 1C43     		orrs	r4, r4, r3
 852              	.LVL105:
 853              	.L42:
 586:ThirdPackage/lwip220/core/inet_chksum.c ****   }
 587:ThirdPackage/lwip220/core/inet_chksum.c ****   return (u16_t)~(acc & 0xffffUL);
 854              		.loc 1 587 3 is_stmt 1 view .LVU271
 855              		.loc 1 587 10 is_stmt 0 view .LVU272
 856 0042 E043     		mvns	r0, r4
 588:ThirdPackage/lwip220/core/inet_chksum.c **** }
 857              		.loc 1 588 1 view .LVU273
 858 0044 80B2     		uxth	r0, r0
 859 0046 70BD     		pop	{r4, r5, r6, pc}
 860              		.loc 1 588 1 view .LVU274
 861              		.cfi_endproc
 862              	.LFE168:
 864              		.text
 865              	.Letext0:
 866              		.file 2 "k:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 867              		.file 3 "k:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 868              		.file 4 "ThirdPackage/lwip220/include/lwip/arch.h"
 869              		.file 5 "ThirdPackage/lwip220/include/lwip/pbuf.h"
 870              		.file 6 "ThirdPackage/lwip220/include/lwip/ip4_addr.h"
 871              		.file 7 "ThirdPackage/lwip220/include/lwip/ip_addr.h"
 872              		.file 8 "k:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 873              		.file 9 "ThirdPackage/lwip220/include/lwip/def.h"
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccWeyKqK.s 			page 28


DEFINED SYMBOLS
                            *ABS*:00000000 inet_chksum.c
C:\Users\86188\AppData\Local\Temp\ccWeyKqK.s:20     .text.lwip_standard_chksum:00000000 $t
C:\Users\86188\AppData\Local\Temp\ccWeyKqK.s:26     .text.lwip_standard_chksum:00000000 lwip_standard_chksum
C:\Users\86188\AppData\Local\Temp\ccWeyKqK.s:159    .text.inet_cksum_pseudo_base:00000000 $t
C:\Users\86188\AppData\Local\Temp\ccWeyKqK.s:164    .text.inet_cksum_pseudo_base:00000000 inet_cksum_pseudo_base
C:\Users\86188\AppData\Local\Temp\ccWeyKqK.s:297    .rodata.inet_cksum_pseudo_partial_base.str1.4:00000000 $d
C:\Users\86188\AppData\Local\Temp\ccWeyKqK.s:307    .text.inet_cksum_pseudo_partial_base:00000000 $t
C:\Users\86188\AppData\Local\Temp\ccWeyKqK.s:312    .text.inet_cksum_pseudo_partial_base:00000000 inet_cksum_pseudo_partial_base
C:\Users\86188\AppData\Local\Temp\ccWeyKqK.s:490    .text.inet_cksum_pseudo_partial_base:000000a0 $d
C:\Users\86188\AppData\Local\Temp\ccWeyKqK.s:497    .text.inet_chksum_pseudo:00000000 $t
C:\Users\86188\AppData\Local\Temp\ccWeyKqK.s:503    .text.inet_chksum_pseudo:00000000 inet_chksum_pseudo
C:\Users\86188\AppData\Local\Temp\ccWeyKqK.s:566    .text.ip_chksum_pseudo:00000000 $t
C:\Users\86188\AppData\Local\Temp\ccWeyKqK.s:572    .text.ip_chksum_pseudo:00000000 ip_chksum_pseudo
C:\Users\86188\AppData\Local\Temp\ccWeyKqK.s:605    .text.inet_chksum_pseudo_partial:00000000 $t
C:\Users\86188\AppData\Local\Temp\ccWeyKqK.s:611    .text.inet_chksum_pseudo_partial:00000000 inet_chksum_pseudo_partial
C:\Users\86188\AppData\Local\Temp\ccWeyKqK.s:687    .text.ip_chksum_pseudo_partial:00000000 $t
C:\Users\86188\AppData\Local\Temp\ccWeyKqK.s:693    .text.ip_chksum_pseudo_partial:00000000 ip_chksum_pseudo_partial
C:\Users\86188\AppData\Local\Temp\ccWeyKqK.s:728    .text.inet_chksum:00000000 $t
C:\Users\86188\AppData\Local\Temp\ccWeyKqK.s:734    .text.inet_chksum:00000000 inet_chksum
C:\Users\86188\AppData\Local\Temp\ccWeyKqK.s:760    .text.inet_chksum_pbuf:00000000 $t
C:\Users\86188\AppData\Local\Temp\ccWeyKqK.s:766    .text.inet_chksum_pbuf:00000000 inet_chksum_pbuf

UNDEFINED SYMBOLS
lwip_htons
printf
