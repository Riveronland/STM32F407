ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"api_msg.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.rodata.lwip_netconn_err_to_msg.str1.4,"aMS",%progbits,1
  20              		.align	2
  21              	.LC0:
  22 0000 54686972 		.ascii	"ThirdPackage/lwip220/api/api_msg.c\000"
  22      64506163 
  22      6B616765 
  22      2F6C7769 
  22      70323230 
  23 0023 00       		.align	2
  24              	.LC1:
  25 0024 756E6861 		.ascii	"unhandled error\000"
  25      6E646C65 
  25      64206572 
  25      726F7200 
  26              		.align	2
  27              	.LC2:
  28 0034 41737365 		.ascii	"Assertion \"%s\" failed at line %d in %s\012\000"
  28      7274696F 
  28      6E202225 
  28      73222066 
  28      61696C65 
  29              		.section	.text.lwip_netconn_err_to_msg,"ax",%progbits
  30              		.align	1
  31              		.syntax unified
  32              		.thumb
  33              		.thumb_func
  35              	lwip_netconn_err_to_msg:
  36              	.LVL0:
  37              	.LFB160:
  38              		.file 1 "ThirdPackage/lwip220/api/api_msg.c"
   1:ThirdPackage/lwip220/api/api_msg.c **** /**
   2:ThirdPackage/lwip220/api/api_msg.c ****  * @file
   3:ThirdPackage/lwip220/api/api_msg.c ****  * Sequential API Internal module
   4:ThirdPackage/lwip220/api/api_msg.c ****  *
   5:ThirdPackage/lwip220/api/api_msg.c ****  */
   6:ThirdPackage/lwip220/api/api_msg.c **** 
   7:ThirdPackage/lwip220/api/api_msg.c **** /*
   8:ThirdPackage/lwip220/api/api_msg.c ****  * Copyright (c) 2001-2004 Swedish Institute of Computer Science.
   9:ThirdPackage/lwip220/api/api_msg.c ****  * All rights reserved.
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 2


  10:ThirdPackage/lwip220/api/api_msg.c ****  *
  11:ThirdPackage/lwip220/api/api_msg.c ****  * Redistribution and use in source and binary forms, with or without modification,
  12:ThirdPackage/lwip220/api/api_msg.c ****  * are permitted provided that the following conditions are met:
  13:ThirdPackage/lwip220/api/api_msg.c ****  *
  14:ThirdPackage/lwip220/api/api_msg.c ****  * 1. Redistributions of source code must retain the above copyright notice,
  15:ThirdPackage/lwip220/api/api_msg.c ****  *    this list of conditions and the following disclaimer.
  16:ThirdPackage/lwip220/api/api_msg.c ****  * 2. Redistributions in binary form must reproduce the above copyright notice,
  17:ThirdPackage/lwip220/api/api_msg.c ****  *    this list of conditions and the following disclaimer in the documentation
  18:ThirdPackage/lwip220/api/api_msg.c ****  *    and/or other materials provided with the distribution.
  19:ThirdPackage/lwip220/api/api_msg.c ****  * 3. The name of the author may not be used to endorse or promote products
  20:ThirdPackage/lwip220/api/api_msg.c ****  *    derived from this software without specific prior written permission.
  21:ThirdPackage/lwip220/api/api_msg.c ****  *
  22:ThirdPackage/lwip220/api/api_msg.c ****  * THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED
  23:ThirdPackage/lwip220/api/api_msg.c ****  * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
  24:ThirdPackage/lwip220/api/api_msg.c ****  * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
  25:ThirdPackage/lwip220/api/api_msg.c ****  * SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  26:ThirdPackage/lwip220/api/api_msg.c ****  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT
  27:ThirdPackage/lwip220/api/api_msg.c ****  * OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
  28:ThirdPackage/lwip220/api/api_msg.c ****  * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
  29:ThirdPackage/lwip220/api/api_msg.c ****  * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING
  30:ThirdPackage/lwip220/api/api_msg.c ****  * IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY
  31:ThirdPackage/lwip220/api/api_msg.c ****  * OF SUCH DAMAGE.
  32:ThirdPackage/lwip220/api/api_msg.c ****  *
  33:ThirdPackage/lwip220/api/api_msg.c ****  * This file is part of the lwIP TCP/IP stack.
  34:ThirdPackage/lwip220/api/api_msg.c ****  *
  35:ThirdPackage/lwip220/api/api_msg.c ****  * Author: Adam Dunkels <adam@sics.se>
  36:ThirdPackage/lwip220/api/api_msg.c ****  *
  37:ThirdPackage/lwip220/api/api_msg.c ****  */
  38:ThirdPackage/lwip220/api/api_msg.c **** 
  39:ThirdPackage/lwip220/api/api_msg.c **** #include "lwip/opt.h"
  40:ThirdPackage/lwip220/api/api_msg.c **** 
  41:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_NETCONN /* don't build if not configured for use in lwipopts.h */
  42:ThirdPackage/lwip220/api/api_msg.c **** 
  43:ThirdPackage/lwip220/api/api_msg.c **** #include "lwip/priv/api_msg.h"
  44:ThirdPackage/lwip220/api/api_msg.c **** 
  45:ThirdPackage/lwip220/api/api_msg.c **** #include "lwip/ip.h"
  46:ThirdPackage/lwip220/api/api_msg.c **** #include "lwip/ip_addr.h"
  47:ThirdPackage/lwip220/api/api_msg.c **** #include "lwip/udp.h"
  48:ThirdPackage/lwip220/api/api_msg.c **** #include "lwip/tcp.h"
  49:ThirdPackage/lwip220/api/api_msg.c **** #include "lwip/raw.h"
  50:ThirdPackage/lwip220/api/api_msg.c **** 
  51:ThirdPackage/lwip220/api/api_msg.c **** #include "lwip/memp.h"
  52:ThirdPackage/lwip220/api/api_msg.c **** #include "lwip/igmp.h"
  53:ThirdPackage/lwip220/api/api_msg.c **** #include "lwip/dns.h"
  54:ThirdPackage/lwip220/api/api_msg.c **** #include "lwip/mld6.h"
  55:ThirdPackage/lwip220/api/api_msg.c **** #include "lwip/priv/tcpip_priv.h"
  56:ThirdPackage/lwip220/api/api_msg.c **** 
  57:ThirdPackage/lwip220/api/api_msg.c **** #include <string.h>
  58:ThirdPackage/lwip220/api/api_msg.c **** 
  59:ThirdPackage/lwip220/api/api_msg.c **** /* netconns are polled once per second (e.g. continue write on memory error) */
  60:ThirdPackage/lwip220/api/api_msg.c **** #define NETCONN_TCP_POLL_INTERVAL 2
  61:ThirdPackage/lwip220/api/api_msg.c **** 
  62:ThirdPackage/lwip220/api/api_msg.c **** #define SET_NONBLOCKING_CONNECT(conn, val)  do { if (val) { \
  63:ThirdPackage/lwip220/api/api_msg.c ****   netconn_set_flags(conn, NETCONN_FLAG_IN_NONBLOCKING_CONNECT); \
  64:ThirdPackage/lwip220/api/api_msg.c **** } else { \
  65:ThirdPackage/lwip220/api/api_msg.c ****   netconn_clear_flags(conn, NETCONN_FLAG_IN_NONBLOCKING_CONNECT); }} while(0)
  66:ThirdPackage/lwip220/api/api_msg.c **** #define IN_NONBLOCKING_CONNECT(conn) netconn_is_flag_set(conn, NETCONN_FLAG_IN_NONBLOCKING_CONNECT)
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 3


  67:ThirdPackage/lwip220/api/api_msg.c **** 
  68:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
  69:ThirdPackage/lwip220/api/api_msg.c **** #define NETCONN_MBOX_VALID(conn, mbox) (sys_mbox_valid(mbox) && ((conn->flags & NETCONN_FLAG_MBOXIN
  70:ThirdPackage/lwip220/api/api_msg.c **** #else
  71:ThirdPackage/lwip220/api/api_msg.c **** #define NETCONN_MBOX_VALID(conn, mbox) sys_mbox_valid(mbox)
  72:ThirdPackage/lwip220/api/api_msg.c **** #endif
  73:ThirdPackage/lwip220/api/api_msg.c **** 
  74:ThirdPackage/lwip220/api/api_msg.c **** /* forward declarations */
  75:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_TCP
  76:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
  77:ThirdPackage/lwip220/api/api_msg.c **** #define WRITE_DELAYED         , 1
  78:ThirdPackage/lwip220/api/api_msg.c **** #define WRITE_DELAYED_PARAM   , u8_t delayed
  79:ThirdPackage/lwip220/api/api_msg.c **** #else /* LWIP_TCPIP_CORE_LOCKING */
  80:ThirdPackage/lwip220/api/api_msg.c **** #define WRITE_DELAYED
  81:ThirdPackage/lwip220/api/api_msg.c **** #define WRITE_DELAYED_PARAM
  82:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
  83:ThirdPackage/lwip220/api/api_msg.c **** static err_t lwip_netconn_do_writemore(struct netconn *conn  WRITE_DELAYED_PARAM);
  84:ThirdPackage/lwip220/api/api_msg.c **** static err_t lwip_netconn_do_close_internal(struct netconn *conn  WRITE_DELAYED_PARAM);
  85:ThirdPackage/lwip220/api/api_msg.c **** #endif
  86:ThirdPackage/lwip220/api/api_msg.c **** 
  87:ThirdPackage/lwip220/api/api_msg.c **** static void netconn_drain(struct netconn *conn);
  88:ThirdPackage/lwip220/api/api_msg.c **** 
  89:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
  90:ThirdPackage/lwip220/api/api_msg.c **** #define TCPIP_APIMSG_ACK(m)
  91:ThirdPackage/lwip220/api/api_msg.c **** #else /* LWIP_TCPIP_CORE_LOCKING */
  92:ThirdPackage/lwip220/api/api_msg.c **** #define TCPIP_APIMSG_ACK(m)   do { sys_sem_signal(LWIP_API_MSG_SEM(m)); } while(0)
  93:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
  94:ThirdPackage/lwip220/api/api_msg.c **** 
  95:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
  96:ThirdPackage/lwip220/api/api_msg.c **** static const u8_t netconn_deleted = 0;
  97:ThirdPackage/lwip220/api/api_msg.c **** 
  98:ThirdPackage/lwip220/api/api_msg.c **** int
  99:ThirdPackage/lwip220/api/api_msg.c **** lwip_netconn_is_deallocated_msg(void *msg)
 100:ThirdPackage/lwip220/api/api_msg.c **** {
 101:ThirdPackage/lwip220/api/api_msg.c ****   if (msg == &netconn_deleted) {
 102:ThirdPackage/lwip220/api/api_msg.c ****     return 1;
 103:ThirdPackage/lwip220/api/api_msg.c ****   }
 104:ThirdPackage/lwip220/api/api_msg.c ****   return 0;
 105:ThirdPackage/lwip220/api/api_msg.c **** }
 106:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
 107:ThirdPackage/lwip220/api/api_msg.c **** 
 108:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_TCP
 109:ThirdPackage/lwip220/api/api_msg.c **** static const u8_t netconn_aborted = 0;
 110:ThirdPackage/lwip220/api/api_msg.c **** static const u8_t netconn_reset = 0;
 111:ThirdPackage/lwip220/api/api_msg.c **** static const u8_t netconn_closed = 0;
 112:ThirdPackage/lwip220/api/api_msg.c **** 
 113:ThirdPackage/lwip220/api/api_msg.c **** /** Translate an error to a unique void* passed via an mbox */
 114:ThirdPackage/lwip220/api/api_msg.c **** static void *
 115:ThirdPackage/lwip220/api/api_msg.c **** lwip_netconn_err_to_msg(err_t err)
 116:ThirdPackage/lwip220/api/api_msg.c **** {
  39              		.loc 1 116 1 view -0
  40              		.cfi_startproc
  41              		@ args = 0, pretend = 0, frame = 0
  42              		@ frame_needed = 0, uses_anonymous_args = 0
 117:ThirdPackage/lwip220/api/api_msg.c ****   switch (err) {
  43              		.loc 1 117 3 view .LVU1
  44 0000 10F10E0F 		cmn	r0, #14
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 4


  45 0004 11D0     		beq	.L3
  46 0006 10F10D0F 		cmn	r0, #13
  47 000a 10D0     		beq	.L4
  48 000c 10F10F0F 		cmn	r0, #15
  49 0010 0FD0     		beq	.L5
 118:ThirdPackage/lwip220/api/api_msg.c ****     case ERR_ABRT:
 119:ThirdPackage/lwip220/api/api_msg.c ****       return LWIP_CONST_CAST(void *, &netconn_aborted);
 120:ThirdPackage/lwip220/api/api_msg.c ****     case ERR_RST:
 121:ThirdPackage/lwip220/api/api_msg.c ****       return LWIP_CONST_CAST(void *, &netconn_reset);
 122:ThirdPackage/lwip220/api/api_msg.c ****     case ERR_CLSD:
 123:ThirdPackage/lwip220/api/api_msg.c ****       return LWIP_CONST_CAST(void *, &netconn_closed);
 124:ThirdPackage/lwip220/api/api_msg.c ****     default:
 125:ThirdPackage/lwip220/api/api_msg.c ****       LWIP_ASSERT("unhandled error", err == ERR_OK);
  50              		.loc 1 125 7 view .LVU2
  51              		.loc 1 125 7 view .LVU3
  52 0012 08B9     		cbnz	r0, .L11
 126:ThirdPackage/lwip220/api/api_msg.c ****       return NULL;
  53              		.loc 1 126 14 is_stmt 0 view .LVU4
  54 0014 0020     		movs	r0, #0
  55              	.LVL1:
 127:ThirdPackage/lwip220/api/api_msg.c ****   }
 128:ThirdPackage/lwip220/api/api_msg.c **** }
  56              		.loc 1 128 1 view .LVU5
  57 0016 7047     		bx	lr
  58              	.LVL2:
  59              	.L11:
 116:ThirdPackage/lwip220/api/api_msg.c ****   switch (err) {
  60              		.loc 1 116 1 discriminator 1 view .LVU6
  61 0018 08B5     		push	{r3, lr}
  62              	.LCFI0:
  63              		.cfi_def_cfa_offset 8
  64              		.cfi_offset 3, -8
  65              		.cfi_offset 14, -4
 125:ThirdPackage/lwip220/api/api_msg.c ****       return NULL;
  66              		.loc 1 125 7 is_stmt 1 discriminator 1 view .LVU7
 125:ThirdPackage/lwip220/api/api_msg.c ****       return NULL;
  67              		.loc 1 125 7 discriminator 1 view .LVU8
  68 001a 074B     		ldr	r3, .L12
  69 001c 7D22     		movs	r2, #125
  70 001e 0749     		ldr	r1, .L12+4
  71 0020 0748     		ldr	r0, .L12+8
  72              	.LVL3:
 125:ThirdPackage/lwip220/api/api_msg.c ****       return NULL;
  73              		.loc 1 125 7 is_stmt 0 discriminator 1 view .LVU9
  74 0022 FFF7FEFF 		bl	printf
  75              	.LVL4:
 126:ThirdPackage/lwip220/api/api_msg.c ****   }
  76              		.loc 1 126 14 discriminator 1 view .LVU10
  77 0026 0020     		movs	r0, #0
  78              		.loc 1 128 1 discriminator 1 view .LVU11
  79 0028 08BD     		pop	{r3, pc}
  80              	.LVL5:
  81              	.L3:
  82              	.LCFI1:
  83              		.cfi_def_cfa_offset 0
  84              		.cfi_restore 3
  85              		.cfi_restore 14
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 5


 121:ThirdPackage/lwip220/api/api_msg.c ****     case ERR_CLSD:
  86              		.loc 1 121 14 view .LVU12
  87 002a 0648     		ldr	r0, .L12+12
  88              	.LVL6:
 121:ThirdPackage/lwip220/api/api_msg.c ****     case ERR_CLSD:
  89              		.loc 1 121 14 view .LVU13
  90 002c 7047     		bx	lr
  91              	.LVL7:
  92              	.L4:
 117:ThirdPackage/lwip220/api/api_msg.c ****     case ERR_ABRT:
  93              		.loc 1 117 3 view .LVU14
  94 002e 0648     		ldr	r0, .L12+16
  95              	.LVL8:
 117:ThirdPackage/lwip220/api/api_msg.c ****     case ERR_ABRT:
  96              		.loc 1 117 3 view .LVU15
  97 0030 7047     		bx	lr
  98              	.LVL9:
  99              	.L5:
 123:ThirdPackage/lwip220/api/api_msg.c ****     default:
 100              		.loc 1 123 14 view .LVU16
 101 0032 0648     		ldr	r0, .L12+20
 102              	.LVL10:
 123:ThirdPackage/lwip220/api/api_msg.c ****     default:
 103              		.loc 1 123 14 view .LVU17
 104 0034 7047     		bx	lr
 105              	.L13:
 106 0036 00BF     		.align	2
 107              	.L12:
 108 0038 00000000 		.word	.LC0
 109 003c 24000000 		.word	.LC1
 110 0040 34000000 		.word	.LC2
 111 0044 00000000 		.word	.LANCHOR0
 112 0048 00000000 		.word	.LANCHOR2
 113 004c 00000000 		.word	.LANCHOR1
 114              		.cfi_endproc
 115              	.LFE160:
 117              		.section	.rodata.recv_udp.str1.4,"aMS",%progbits,1
 118              		.align	2
 119              	.LC3:
 120 0000 72656376 		.ascii	"recv_udp must have a pcb argument\000"
 120      5F756470 
 120      206D7573 
 120      74206861 
 120      76652061 
 121 0022 0000     		.align	2
 122              	.LC4:
 123 0024 72656376 		.ascii	"recv_udp must have an argument\000"
 123      5F756470 
 123      206D7573 
 123      74206861 
 123      76652061 
 124 0043 00       		.align	2
 125              	.LC5:
 126 0044 72656376 		.ascii	"recv_udp: recv for wrong pcb!\000"
 126      5F756470 
 126      3A207265 
 126      63762066 
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 6


 126      6F722077 
 127              		.section	.text.recv_udp,"ax",%progbits
 128              		.align	1
 129              		.syntax unified
 130              		.thumb
 131              		.thumb_func
 133              	recv_udp:
 134              	.LVL11:
 135              	.LFB162:
 129:ThirdPackage/lwip220/api/api_msg.c **** 
 130:ThirdPackage/lwip220/api/api_msg.c **** int
 131:ThirdPackage/lwip220/api/api_msg.c **** lwip_netconn_is_err_msg(void *msg, err_t *err)
 132:ThirdPackage/lwip220/api/api_msg.c **** {
 133:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("err != NULL", err != NULL);
 134:ThirdPackage/lwip220/api/api_msg.c **** 
 135:ThirdPackage/lwip220/api/api_msg.c ****   if (msg == &netconn_aborted) {
 136:ThirdPackage/lwip220/api/api_msg.c ****     *err = ERR_ABRT;
 137:ThirdPackage/lwip220/api/api_msg.c ****     return 1;
 138:ThirdPackage/lwip220/api/api_msg.c ****   } else if (msg == &netconn_reset) {
 139:ThirdPackage/lwip220/api/api_msg.c ****     *err = ERR_RST;
 140:ThirdPackage/lwip220/api/api_msg.c ****     return 1;
 141:ThirdPackage/lwip220/api/api_msg.c ****   } else if (msg == &netconn_closed) {
 142:ThirdPackage/lwip220/api/api_msg.c ****     *err = ERR_CLSD;
 143:ThirdPackage/lwip220/api/api_msg.c ****     return 1;
 144:ThirdPackage/lwip220/api/api_msg.c ****   }
 145:ThirdPackage/lwip220/api/api_msg.c ****   return 0;
 146:ThirdPackage/lwip220/api/api_msg.c **** }
 147:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_TCP */
 148:ThirdPackage/lwip220/api/api_msg.c **** 
 149:ThirdPackage/lwip220/api/api_msg.c **** 
 150:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_RAW
 151:ThirdPackage/lwip220/api/api_msg.c **** /**
 152:ThirdPackage/lwip220/api/api_msg.c ****  * Receive callback function for RAW netconns.
 153:ThirdPackage/lwip220/api/api_msg.c ****  * Doesn't 'eat' the packet, only copies it and sends it to
 154:ThirdPackage/lwip220/api/api_msg.c ****  * conn->recvmbox
 155:ThirdPackage/lwip220/api/api_msg.c ****  *
 156:ThirdPackage/lwip220/api/api_msg.c ****  * @see raw.h (struct raw_pcb.recv) for parameters and return value
 157:ThirdPackage/lwip220/api/api_msg.c ****  */
 158:ThirdPackage/lwip220/api/api_msg.c **** static u8_t
 159:ThirdPackage/lwip220/api/api_msg.c **** recv_raw(void *arg, struct raw_pcb *pcb, struct pbuf *p,
 160:ThirdPackage/lwip220/api/api_msg.c ****          const ip_addr_t *addr)
 161:ThirdPackage/lwip220/api/api_msg.c **** {
 162:ThirdPackage/lwip220/api/api_msg.c ****   struct pbuf *q;
 163:ThirdPackage/lwip220/api/api_msg.c ****   struct netbuf *buf;
 164:ThirdPackage/lwip220/api/api_msg.c ****   struct netconn *conn;
 165:ThirdPackage/lwip220/api/api_msg.c **** 
 166:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_UNUSED_ARG(addr);
 167:ThirdPackage/lwip220/api/api_msg.c ****   conn = (struct netconn *)arg;
 168:ThirdPackage/lwip220/api/api_msg.c **** 
 169:ThirdPackage/lwip220/api/api_msg.c ****   if ((conn != NULL) && NETCONN_MBOX_VALID(conn, &conn->recvmbox)) {
 170:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_SO_RCVBUF
 171:ThirdPackage/lwip220/api/api_msg.c ****     int recv_avail;
 172:ThirdPackage/lwip220/api/api_msg.c ****     SYS_ARCH_GET(conn->recv_avail, recv_avail);
 173:ThirdPackage/lwip220/api/api_msg.c ****     if ((recv_avail + (int)(p->tot_len)) > conn->recv_bufsize) {
 174:ThirdPackage/lwip220/api/api_msg.c ****       return 0;
 175:ThirdPackage/lwip220/api/api_msg.c ****     }
 176:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_SO_RCVBUF */
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 7


 177:ThirdPackage/lwip220/api/api_msg.c ****     /* copy the whole packet into new pbufs */
 178:ThirdPackage/lwip220/api/api_msg.c ****     q = pbuf_clone(PBUF_RAW, PBUF_RAM, p);
 179:ThirdPackage/lwip220/api/api_msg.c ****     if (q != NULL) {
 180:ThirdPackage/lwip220/api/api_msg.c ****       u16_t len;
 181:ThirdPackage/lwip220/api/api_msg.c ****       buf = (struct netbuf *)memp_malloc(MEMP_NETBUF);
 182:ThirdPackage/lwip220/api/api_msg.c ****       if (buf == NULL) {
 183:ThirdPackage/lwip220/api/api_msg.c ****         pbuf_free(q);
 184:ThirdPackage/lwip220/api/api_msg.c ****         return 0;
 185:ThirdPackage/lwip220/api/api_msg.c ****       }
 186:ThirdPackage/lwip220/api/api_msg.c **** 
 187:ThirdPackage/lwip220/api/api_msg.c ****       buf->p = q;
 188:ThirdPackage/lwip220/api/api_msg.c ****       buf->ptr = q;
 189:ThirdPackage/lwip220/api/api_msg.c ****       ip_addr_copy(buf->addr, *ip_current_src_addr());
 190:ThirdPackage/lwip220/api/api_msg.c ****       buf->port = pcb->protocol;
 191:ThirdPackage/lwip220/api/api_msg.c **** 
 192:ThirdPackage/lwip220/api/api_msg.c ****       len = q->tot_len;
 193:ThirdPackage/lwip220/api/api_msg.c ****       if (sys_mbox_trypost(&conn->recvmbox, buf) != ERR_OK) {
 194:ThirdPackage/lwip220/api/api_msg.c ****         netbuf_delete(buf);
 195:ThirdPackage/lwip220/api/api_msg.c ****         return 0;
 196:ThirdPackage/lwip220/api/api_msg.c ****       } else {
 197:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_SO_RCVBUF
 198:ThirdPackage/lwip220/api/api_msg.c ****         SYS_ARCH_INC(conn->recv_avail, len);
 199:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_SO_RCVBUF */
 200:ThirdPackage/lwip220/api/api_msg.c ****         /* Register event with callback */
 201:ThirdPackage/lwip220/api/api_msg.c ****         API_EVENT(conn, NETCONN_EVT_RCVPLUS, len);
 202:ThirdPackage/lwip220/api/api_msg.c ****       }
 203:ThirdPackage/lwip220/api/api_msg.c ****     }
 204:ThirdPackage/lwip220/api/api_msg.c ****   }
 205:ThirdPackage/lwip220/api/api_msg.c **** 
 206:ThirdPackage/lwip220/api/api_msg.c ****   return 0; /* do not eat the packet */
 207:ThirdPackage/lwip220/api/api_msg.c **** }
 208:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_RAW*/
 209:ThirdPackage/lwip220/api/api_msg.c **** 
 210:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_UDP
 211:ThirdPackage/lwip220/api/api_msg.c **** /**
 212:ThirdPackage/lwip220/api/api_msg.c ****  * Receive callback function for UDP netconns.
 213:ThirdPackage/lwip220/api/api_msg.c ****  * Posts the packet to conn->recvmbox or deletes it on memory error.
 214:ThirdPackage/lwip220/api/api_msg.c ****  *
 215:ThirdPackage/lwip220/api/api_msg.c ****  * @see udp.h (struct udp_pcb.recv) for parameters
 216:ThirdPackage/lwip220/api/api_msg.c ****  */
 217:ThirdPackage/lwip220/api/api_msg.c **** static void
 218:ThirdPackage/lwip220/api/api_msg.c **** recv_udp(void *arg, struct udp_pcb *pcb, struct pbuf *p,
 219:ThirdPackage/lwip220/api/api_msg.c ****          const ip_addr_t *addr, u16_t port)
 220:ThirdPackage/lwip220/api/api_msg.c **** {
 136              		.loc 1 220 1 is_stmt 1 view -0
 137              		.cfi_startproc
 138              		@ args = 4, pretend = 0, frame = 0
 139              		@ frame_needed = 0, uses_anonymous_args = 0
 140              		.loc 1 220 1 is_stmt 0 view .LVU19
 141 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 142              	.LCFI2:
 143              		.cfi_def_cfa_offset 24
 144              		.cfi_offset 4, -24
 145              		.cfi_offset 5, -20
 146              		.cfi_offset 6, -16
 147              		.cfi_offset 7, -12
 148              		.cfi_offset 8, -8
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 8


 149              		.cfi_offset 14, -4
 150 0004 0446     		mov	r4, r0
 151 0006 1546     		mov	r5, r2
 152 0008 9846     		mov	r8, r3
 221:ThirdPackage/lwip220/api/api_msg.c ****   struct netbuf *buf;
 153              		.loc 1 221 3 is_stmt 1 view .LVU20
 222:ThirdPackage/lwip220/api/api_msg.c ****   struct netconn *conn;
 154              		.loc 1 222 3 view .LVU21
 223:ThirdPackage/lwip220/api/api_msg.c ****   u16_t len;
 155              		.loc 1 223 3 view .LVU22
 224:ThirdPackage/lwip220/api/api_msg.c ****   err_t err;
 156              		.loc 1 224 3 view .LVU23
 225:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_SO_RCVBUF
 226:ThirdPackage/lwip220/api/api_msg.c ****   int recv_avail;
 227:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_SO_RCVBUF */
 228:ThirdPackage/lwip220/api/api_msg.c **** 
 229:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_UNUSED_ARG(pcb); /* only used for asserts... */
 157              		.loc 1 229 3 view .LVU24
 230:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("recv_udp must have a pcb argument", pcb != NULL);
 158              		.loc 1 230 3 view .LVU25
 159              		.loc 1 230 3 view .LVU26
 160 000a 0E46     		mov	r6, r1
 161 000c 79B3     		cbz	r1, .L26
 162              	.LVL12:
 163              	.L15:
 164              		.loc 1 230 3 discriminator 3 view .LVU27
 165              		.loc 1 230 3 discriminator 3 view .LVU28
 231:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("recv_udp must have an argument", arg != NULL);
 166              		.loc 1 231 3 discriminator 3 view .LVU29
 167              		.loc 1 231 3 discriminator 3 view .LVU30
 168 000e 002C     		cmp	r4, #0
 169 0010 34D0     		beq	.L27
 170              	.L16:
 171              		.loc 1 231 3 discriminator 3 view .LVU31
 172              		.loc 1 231 3 discriminator 3 view .LVU32
 232:ThirdPackage/lwip220/api/api_msg.c ****   conn = (struct netconn *)arg;
 173              		.loc 1 232 3 discriminator 3 view .LVU33
 174              	.LVL13:
 233:ThirdPackage/lwip220/api/api_msg.c **** 
 234:ThirdPackage/lwip220/api/api_msg.c ****   if (conn == NULL) {
 175              		.loc 1 234 3 discriminator 3 view .LVU34
 176              		.loc 1 234 6 is_stmt 0 discriminator 3 view .LVU35
 177 0012 002C     		cmp	r4, #0
 178 0014 39D0     		beq	.L28
 235:ThirdPackage/lwip220/api/api_msg.c ****     pbuf_free(p);
 236:ThirdPackage/lwip220/api/api_msg.c ****     return;
 237:ThirdPackage/lwip220/api/api_msg.c ****   }
 238:ThirdPackage/lwip220/api/api_msg.c **** 
 239:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("recv_udp: recv for wrong pcb!", conn->pcb.udp == pcb);
 179              		.loc 1 239 3 is_stmt 1 view .LVU36
 180              		.loc 1 239 3 view .LVU37
 181 0016 6368     		ldr	r3, [r4, #4]
 182 0018 B342     		cmp	r3, r6
 183 001a 05D0     		beq	.L19
 184              		.loc 1 239 3 discriminator 1 view .LVU38
 185              		.loc 1 239 3 discriminator 1 view .LVU39
 186 001c 244B     		ldr	r3, .L32
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 9


 187 001e EF22     		movs	r2, #239
 188 0020 2449     		ldr	r1, .L32+4
 189 0022 2548     		ldr	r0, .L32+8
 190 0024 FFF7FEFF 		bl	printf
 191              	.LVL14:
 192              	.L19:
 193              		.loc 1 239 3 discriminator 3 view .LVU40
 194              		.loc 1 239 3 discriminator 3 view .LVU41
 240:ThirdPackage/lwip220/api/api_msg.c **** 
 241:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_SO_RCVBUF
 242:ThirdPackage/lwip220/api/api_msg.c ****   SYS_ARCH_GET(conn->recv_avail, recv_avail);
 243:ThirdPackage/lwip220/api/api_msg.c ****   if (!NETCONN_MBOX_VALID(conn, &conn->recvmbox) ||
 244:ThirdPackage/lwip220/api/api_msg.c ****       ((recv_avail + (int)(p->tot_len)) > conn->recv_bufsize)) {
 245:ThirdPackage/lwip220/api/api_msg.c **** #else  /* LWIP_SO_RCVBUF */
 246:ThirdPackage/lwip220/api/api_msg.c ****   if (!NETCONN_MBOX_VALID(conn, &conn->recvmbox)) {
 195              		.loc 1 246 3 discriminator 3 view .LVU42
 196              		.loc 1 246 8 is_stmt 0 discriminator 3 view .LVU43
 197 0028 04F11007 		add	r7, r4, #16
 198 002c 3846     		mov	r0, r7
 199 002e FFF7FEFF 		bl	sys_mbox_valid
 200              	.LVL15:
 201              		.loc 1 246 6 discriminator 3 view .LVU44
 202 0032 70B3     		cbz	r0, .L29
 247:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_SO_RCVBUF */
 248:ThirdPackage/lwip220/api/api_msg.c ****     pbuf_free(p);
 249:ThirdPackage/lwip220/api/api_msg.c ****     return;
 250:ThirdPackage/lwip220/api/api_msg.c ****   }
 251:ThirdPackage/lwip220/api/api_msg.c **** 
 252:ThirdPackage/lwip220/api/api_msg.c ****   buf = (struct netbuf *)memp_malloc(MEMP_NETBUF);
 203              		.loc 1 252 3 is_stmt 1 view .LVU45
 204              		.loc 1 252 26 is_stmt 0 view .LVU46
 205 0034 0620     		movs	r0, #6
 206 0036 FFF7FEFF 		bl	memp_malloc
 207              	.LVL16:
 253:ThirdPackage/lwip220/api/api_msg.c ****   if (buf == NULL) {
 208              		.loc 1 253 3 is_stmt 1 view .LVU47
 209              		.loc 1 253 6 is_stmt 0 view .LVU48
 210 003a 0646     		mov	r6, r0
 211              	.LVL17:
 212              		.loc 1 253 6 view .LVU49
 213 003c 70B3     		cbz	r0, .L30
 254:ThirdPackage/lwip220/api/api_msg.c ****     pbuf_free(p);
 255:ThirdPackage/lwip220/api/api_msg.c ****     return;
 256:ThirdPackage/lwip220/api/api_msg.c ****   } else {
 257:ThirdPackage/lwip220/api/api_msg.c ****     buf->p = p;
 214              		.loc 1 257 5 is_stmt 1 view .LVU50
 215              		.loc 1 257 12 is_stmt 0 view .LVU51
 216 003e 0560     		str	r5, [r0]
 258:ThirdPackage/lwip220/api/api_msg.c ****     buf->ptr = p;
 217              		.loc 1 258 5 is_stmt 1 view .LVU52
 218              		.loc 1 258 14 is_stmt 0 view .LVU53
 219 0040 4560     		str	r5, [r0, #4]
 259:ThirdPackage/lwip220/api/api_msg.c ****     ip_addr_set(&buf->addr, addr);
 220              		.loc 1 259 5 is_stmt 1 view .LVU54
 221 0042 B8F1000F 		cmp	r8, #0
 222 0046 2DD0     		beq	.L24
 223              		.loc 1 259 5 is_stmt 0 discriminator 1 view .LVU55
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 10


 224 0048 D8F80030 		ldr	r3, [r8]
 225              	.L22:
 226              		.loc 1 259 5 discriminator 4 view .LVU56
 227 004c B360     		str	r3, [r6, #8]
 260:ThirdPackage/lwip220/api/api_msg.c ****     buf->port = port;
 228              		.loc 1 260 5 is_stmt 1 discriminator 4 view .LVU57
 229              		.loc 1 260 15 is_stmt 0 discriminator 4 view .LVU58
 230 004e BDF81830 		ldrh	r3, [sp, #24]
 231 0052 B381     		strh	r3, [r6, #12]	@ movhi
 261:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_NETBUF_RECVINFO
 262:ThirdPackage/lwip220/api/api_msg.c ****     if (conn->flags & NETCONN_FLAG_PKTINFO) {
 263:ThirdPackage/lwip220/api/api_msg.c ****       /* get the UDP header - always in the first pbuf, ensured by udp_input */
 264:ThirdPackage/lwip220/api/api_msg.c ****       const struct udp_hdr *udphdr = (const struct udp_hdr *)ip_next_header_ptr();
 265:ThirdPackage/lwip220/api/api_msg.c ****       buf->flags = NETBUF_FLAG_DESTADDR;
 266:ThirdPackage/lwip220/api/api_msg.c ****       ip_addr_set(&buf->toaddr, ip_current_dest_addr());
 267:ThirdPackage/lwip220/api/api_msg.c ****       buf->toport_chksum = udphdr->dest;
 268:ThirdPackage/lwip220/api/api_msg.c ****     }
 269:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_NETBUF_RECVINFO */
 270:ThirdPackage/lwip220/api/api_msg.c ****   }
 271:ThirdPackage/lwip220/api/api_msg.c **** 
 272:ThirdPackage/lwip220/api/api_msg.c ****   len = p->tot_len;
 232              		.loc 1 272 3 is_stmt 1 discriminator 4 view .LVU59
 233              		.loc 1 272 7 is_stmt 0 discriminator 4 view .LVU60
 234 0054 2D89     		ldrh	r5, [r5, #8]
 235              	.LVL18:
 273:ThirdPackage/lwip220/api/api_msg.c ****   err = sys_mbox_trypost(&conn->recvmbox, buf);
 236              		.loc 1 273 3 is_stmt 1 discriminator 4 view .LVU61
 237              		.loc 1 273 9 is_stmt 0 discriminator 4 view .LVU62
 238 0056 3146     		mov	r1, r6
 239 0058 3846     		mov	r0, r7
 240              	.LVL19:
 241              		.loc 1 273 9 discriminator 4 view .LVU63
 242 005a FFF7FEFF 		bl	sys_mbox_trypost
 243              	.LVL20:
 274:ThirdPackage/lwip220/api/api_msg.c ****   if (err != ERR_OK) {
 244              		.loc 1 274 3 is_stmt 1 discriminator 4 view .LVU64
 245              		.loc 1 274 6 is_stmt 0 discriminator 4 view .LVU65
 246 005e 18BB     		cbnz	r0, .L31
 275:ThirdPackage/lwip220/api/api_msg.c ****     netbuf_delete(buf);
 276:ThirdPackage/lwip220/api/api_msg.c ****     LWIP_DEBUGF(API_MSG_DEBUG, ("recv_udp: sys_mbox_trypost failed, err=%d\n", err));
 277:ThirdPackage/lwip220/api/api_msg.c ****     return;
 278:ThirdPackage/lwip220/api/api_msg.c ****   } else {
 279:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_SO_RCVBUF
 280:ThirdPackage/lwip220/api/api_msg.c ****     SYS_ARCH_INC(conn->recv_avail, len);
 281:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_SO_RCVBUF */
 282:ThirdPackage/lwip220/api/api_msg.c ****     /* Register event with callback */
 283:ThirdPackage/lwip220/api/api_msg.c ****     API_EVENT(conn, NETCONN_EVT_RCVPLUS, len);
 247              		.loc 1 283 5 is_stmt 1 view .LVU66
 248 0060 636A     		ldr	r3, [r4, #36]
 249 0062 CBB1     		cbz	r3, .L14
 250              		.loc 1 283 5 discriminator 1 view .LVU67
 251 0064 2A46     		mov	r2, r5
 252 0066 0021     		movs	r1, #0
 253 0068 2046     		mov	r0, r4
 254              	.LVL21:
 255              		.loc 1 283 5 is_stmt 0 discriminator 1 view .LVU68
 256 006a 9847     		blx	r3
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 11


 257              	.LVL22:
 258              		.loc 1 283 46 is_stmt 1 discriminator 1 view .LVU69
 259 006c 14E0     		b	.L14
 260              	.LVL23:
 261              	.L26:
 230:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("recv_udp must have an argument", arg != NULL);
 262              		.loc 1 230 3 discriminator 1 view .LVU70
 230:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("recv_udp must have an argument", arg != NULL);
 263              		.loc 1 230 3 discriminator 1 view .LVU71
 264 006e 104B     		ldr	r3, .L32
 265              	.LVL24:
 230:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("recv_udp must have an argument", arg != NULL);
 266              		.loc 1 230 3 is_stmt 0 discriminator 1 view .LVU72
 267 0070 E622     		movs	r2, #230
 268              	.LVL25:
 230:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("recv_udp must have an argument", arg != NULL);
 269              		.loc 1 230 3 discriminator 1 view .LVU73
 270 0072 1249     		ldr	r1, .L32+12
 271              	.LVL26:
 230:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("recv_udp must have an argument", arg != NULL);
 272              		.loc 1 230 3 discriminator 1 view .LVU74
 273 0074 1048     		ldr	r0, .L32+8
 274              	.LVL27:
 230:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("recv_udp must have an argument", arg != NULL);
 275              		.loc 1 230 3 discriminator 1 view .LVU75
 276 0076 FFF7FEFF 		bl	printf
 277              	.LVL28:
 278 007a C8E7     		b	.L15
 279              	.L27:
 231:ThirdPackage/lwip220/api/api_msg.c ****   conn = (struct netconn *)arg;
 280              		.loc 1 231 3 is_stmt 1 discriminator 1 view .LVU76
 231:ThirdPackage/lwip220/api/api_msg.c ****   conn = (struct netconn *)arg;
 281              		.loc 1 231 3 discriminator 1 view .LVU77
 282 007c 0C4B     		ldr	r3, .L32
 283 007e E722     		movs	r2, #231
 284 0080 0F49     		ldr	r1, .L32+16
 285 0082 0D48     		ldr	r0, .L32+8
 286 0084 FFF7FEFF 		bl	printf
 287              	.LVL29:
 288 0088 C3E7     		b	.L16
 289              	.LVL30:
 290              	.L28:
 235:ThirdPackage/lwip220/api/api_msg.c ****     return;
 291              		.loc 1 235 5 view .LVU78
 292 008a 2846     		mov	r0, r5
 293 008c FFF7FEFF 		bl	pbuf_free
 294              	.LVL31:
 236:ThirdPackage/lwip220/api/api_msg.c ****   }
 295              		.loc 1 236 5 view .LVU79
 296 0090 02E0     		b	.L14
 297              	.L29:
 248:ThirdPackage/lwip220/api/api_msg.c ****     return;
 298              		.loc 1 248 5 view .LVU80
 299 0092 2846     		mov	r0, r5
 300 0094 FFF7FEFF 		bl	pbuf_free
 301              	.LVL32:
 249:ThirdPackage/lwip220/api/api_msg.c ****   }
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 12


 302              		.loc 1 249 5 view .LVU81
 303              	.L14:
 284:ThirdPackage/lwip220/api/api_msg.c ****   }
 285:ThirdPackage/lwip220/api/api_msg.c **** }
 304              		.loc 1 285 1 is_stmt 0 view .LVU82
 305 0098 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 306              	.LVL33:
 307              	.L30:
 254:ThirdPackage/lwip220/api/api_msg.c ****     return;
 308              		.loc 1 254 5 is_stmt 1 view .LVU83
 309 009c 2846     		mov	r0, r5
 310              	.LVL34:
 254:ThirdPackage/lwip220/api/api_msg.c ****     return;
 311              		.loc 1 254 5 is_stmt 0 view .LVU84
 312 009e FFF7FEFF 		bl	pbuf_free
 313              	.LVL35:
 255:ThirdPackage/lwip220/api/api_msg.c ****   } else {
 314              		.loc 1 255 5 is_stmt 1 view .LVU85
 315 00a2 F9E7     		b	.L14
 316              	.LVL36:
 317              	.L24:
 259:ThirdPackage/lwip220/api/api_msg.c ****     buf->port = port;
 318              		.loc 1 259 5 is_stmt 0 view .LVU86
 319 00a4 0023     		movs	r3, #0
 320 00a6 D1E7     		b	.L22
 321              	.LVL37:
 322              	.L31:
 275:ThirdPackage/lwip220/api/api_msg.c ****     LWIP_DEBUGF(API_MSG_DEBUG, ("recv_udp: sys_mbox_trypost failed, err=%d\n", err));
 323              		.loc 1 275 5 is_stmt 1 view .LVU87
 324 00a8 3046     		mov	r0, r6
 325              	.LVL38:
 275:ThirdPackage/lwip220/api/api_msg.c ****     LWIP_DEBUGF(API_MSG_DEBUG, ("recv_udp: sys_mbox_trypost failed, err=%d\n", err));
 326              		.loc 1 275 5 is_stmt 0 view .LVU88
 327 00aa FFF7FEFF 		bl	netbuf_delete
 328              	.LVL39:
 276:ThirdPackage/lwip220/api/api_msg.c ****     return;
 329              		.loc 1 276 85 is_stmt 1 view .LVU89
 277:ThirdPackage/lwip220/api/api_msg.c ****   } else {
 330              		.loc 1 277 5 view .LVU90
 331 00ae F3E7     		b	.L14
 332              	.L33:
 333              		.align	2
 334              	.L32:
 335 00b0 00000000 		.word	.LC0
 336 00b4 44000000 		.word	.LC5
 337 00b8 34000000 		.word	.LC2
 338 00bc 00000000 		.word	.LC3
 339 00c0 24000000 		.word	.LC4
 340              		.cfi_endproc
 341              	.LFE162:
 343              		.section	.text.setup_tcp,"ax",%progbits
 344              		.align	1
 345              		.syntax unified
 346              		.thumb
 347              		.thumb_func
 349              	setup_tcp:
 350              	.LVL40:
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 13


 351              	.LFB167:
 286:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_UDP */
 287:ThirdPackage/lwip220/api/api_msg.c **** 
 288:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_TCP
 289:ThirdPackage/lwip220/api/api_msg.c **** /**
 290:ThirdPackage/lwip220/api/api_msg.c ****  * Receive callback function for TCP netconns.
 291:ThirdPackage/lwip220/api/api_msg.c ****  * Posts the packet to conn->recvmbox, but doesn't delete it on errors.
 292:ThirdPackage/lwip220/api/api_msg.c ****  *
 293:ThirdPackage/lwip220/api/api_msg.c ****  * @see tcp.h (struct tcp_pcb.recv) for parameters and return value
 294:ThirdPackage/lwip220/api/api_msg.c ****  */
 295:ThirdPackage/lwip220/api/api_msg.c **** static err_t
 296:ThirdPackage/lwip220/api/api_msg.c **** recv_tcp(void *arg, struct tcp_pcb *pcb, struct pbuf *p, err_t err)
 297:ThirdPackage/lwip220/api/api_msg.c **** {
 298:ThirdPackage/lwip220/api/api_msg.c ****   struct netconn *conn;
 299:ThirdPackage/lwip220/api/api_msg.c ****   u16_t len;
 300:ThirdPackage/lwip220/api/api_msg.c ****   void *msg;
 301:ThirdPackage/lwip220/api/api_msg.c **** 
 302:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_UNUSED_ARG(pcb);
 303:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have a pcb argument", pcb != NULL);
 304:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have an argument", arg != NULL);
 305:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("err != ERR_OK unhandled", err == ERR_OK);
 306:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_UNUSED_ARG(err); /* for LWIP_NOASSERT */
 307:ThirdPackage/lwip220/api/api_msg.c ****   conn = (struct netconn *)arg;
 308:ThirdPackage/lwip220/api/api_msg.c **** 
 309:ThirdPackage/lwip220/api/api_msg.c ****   if (conn == NULL) {
 310:ThirdPackage/lwip220/api/api_msg.c ****     return ERR_VAL;
 311:ThirdPackage/lwip220/api/api_msg.c ****   }
 312:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("recv_tcp: recv for wrong pcb!", conn->pcb.tcp == pcb);
 313:ThirdPackage/lwip220/api/api_msg.c **** 
 314:ThirdPackage/lwip220/api/api_msg.c ****   if (!NETCONN_MBOX_VALID(conn, &conn->recvmbox)) {
 315:ThirdPackage/lwip220/api/api_msg.c ****     /* recvmbox already deleted */
 316:ThirdPackage/lwip220/api/api_msg.c ****     if (p != NULL) {
 317:ThirdPackage/lwip220/api/api_msg.c ****       tcp_recved(pcb, p->tot_len);
 318:ThirdPackage/lwip220/api/api_msg.c ****       pbuf_free(p);
 319:ThirdPackage/lwip220/api/api_msg.c ****     }
 320:ThirdPackage/lwip220/api/api_msg.c ****     return ERR_OK;
 321:ThirdPackage/lwip220/api/api_msg.c ****   }
 322:ThirdPackage/lwip220/api/api_msg.c ****   /* Unlike for UDP or RAW pcbs, don't check for available space
 323:ThirdPackage/lwip220/api/api_msg.c ****      using recv_avail since that could break the connection
 324:ThirdPackage/lwip220/api/api_msg.c ****      (data is already ACKed) */
 325:ThirdPackage/lwip220/api/api_msg.c **** 
 326:ThirdPackage/lwip220/api/api_msg.c ****   if (p != NULL) {
 327:ThirdPackage/lwip220/api/api_msg.c ****     msg = p;
 328:ThirdPackage/lwip220/api/api_msg.c ****     len = p->tot_len;
 329:ThirdPackage/lwip220/api/api_msg.c ****   } else {
 330:ThirdPackage/lwip220/api/api_msg.c ****     msg = LWIP_CONST_CAST(void *, &netconn_closed);
 331:ThirdPackage/lwip220/api/api_msg.c ****     len = 0;
 332:ThirdPackage/lwip220/api/api_msg.c ****   }
 333:ThirdPackage/lwip220/api/api_msg.c **** 
 334:ThirdPackage/lwip220/api/api_msg.c ****   if (sys_mbox_trypost(&conn->recvmbox, msg) != ERR_OK) {
 335:ThirdPackage/lwip220/api/api_msg.c ****     /* don't deallocate p: it is presented to us later again from tcp_fasttmr! */
 336:ThirdPackage/lwip220/api/api_msg.c ****     return ERR_MEM;
 337:ThirdPackage/lwip220/api/api_msg.c ****   } else {
 338:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_SO_RCVBUF
 339:ThirdPackage/lwip220/api/api_msg.c ****     SYS_ARCH_INC(conn->recv_avail, len);
 340:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_SO_RCVBUF */
 341:ThirdPackage/lwip220/api/api_msg.c ****     /* Register event with callback */
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 14


 342:ThirdPackage/lwip220/api/api_msg.c ****     API_EVENT(conn, NETCONN_EVT_RCVPLUS, len);
 343:ThirdPackage/lwip220/api/api_msg.c ****   }
 344:ThirdPackage/lwip220/api/api_msg.c **** 
 345:ThirdPackage/lwip220/api/api_msg.c ****   return ERR_OK;
 346:ThirdPackage/lwip220/api/api_msg.c **** }
 347:ThirdPackage/lwip220/api/api_msg.c **** 
 348:ThirdPackage/lwip220/api/api_msg.c **** /**
 349:ThirdPackage/lwip220/api/api_msg.c ****  * Poll callback function for TCP netconns.
 350:ThirdPackage/lwip220/api/api_msg.c ****  * Wakes up an application thread that waits for a connection to close
 351:ThirdPackage/lwip220/api/api_msg.c ****  * or data to be sent. The application thread then takes the
 352:ThirdPackage/lwip220/api/api_msg.c ****  * appropriate action to go on.
 353:ThirdPackage/lwip220/api/api_msg.c ****  *
 354:ThirdPackage/lwip220/api/api_msg.c ****  * Signals the conn->sem.
 355:ThirdPackage/lwip220/api/api_msg.c ****  * netconn_close waits for conn->sem if closing failed.
 356:ThirdPackage/lwip220/api/api_msg.c ****  *
 357:ThirdPackage/lwip220/api/api_msg.c ****  * @see tcp.h (struct tcp_pcb.poll) for parameters and return value
 358:ThirdPackage/lwip220/api/api_msg.c ****  */
 359:ThirdPackage/lwip220/api/api_msg.c **** static err_t
 360:ThirdPackage/lwip220/api/api_msg.c **** poll_tcp(void *arg, struct tcp_pcb *pcb)
 361:ThirdPackage/lwip220/api/api_msg.c **** {
 362:ThirdPackage/lwip220/api/api_msg.c ****   struct netconn *conn = (struct netconn *)arg;
 363:ThirdPackage/lwip220/api/api_msg.c **** 
 364:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_UNUSED_ARG(pcb);
 365:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("conn != NULL", (conn != NULL));
 366:ThirdPackage/lwip220/api/api_msg.c **** 
 367:ThirdPackage/lwip220/api/api_msg.c ****   if (conn->state == NETCONN_WRITE) {
 368:ThirdPackage/lwip220/api/api_msg.c ****     lwip_netconn_do_writemore(conn  WRITE_DELAYED);
 369:ThirdPackage/lwip220/api/api_msg.c ****   } else if (conn->state == NETCONN_CLOSE) {
 370:ThirdPackage/lwip220/api/api_msg.c **** #if !LWIP_SO_SNDTIMEO && !LWIP_SO_LINGER
 371:ThirdPackage/lwip220/api/api_msg.c ****     if (conn->current_msg && conn->current_msg->msg.sd.polls_left) {
 372:ThirdPackage/lwip220/api/api_msg.c ****       conn->current_msg->msg.sd.polls_left--;
 373:ThirdPackage/lwip220/api/api_msg.c ****     }
 374:ThirdPackage/lwip220/api/api_msg.c **** #endif /* !LWIP_SO_SNDTIMEO && !LWIP_SO_LINGER */
 375:ThirdPackage/lwip220/api/api_msg.c ****     lwip_netconn_do_close_internal(conn  WRITE_DELAYED);
 376:ThirdPackage/lwip220/api/api_msg.c ****   }
 377:ThirdPackage/lwip220/api/api_msg.c ****   /* @todo: implement connect timeout here? */
 378:ThirdPackage/lwip220/api/api_msg.c **** 
 379:ThirdPackage/lwip220/api/api_msg.c ****   /* Did a nonblocking write fail before? Then check available write-space. */
 380:ThirdPackage/lwip220/api/api_msg.c ****   if (conn->flags & NETCONN_FLAG_CHECK_WRITESPACE) {
 381:ThirdPackage/lwip220/api/api_msg.c ****     /* If the queued byte- or pbuf-count drops below the configured low-water limit,
 382:ThirdPackage/lwip220/api/api_msg.c ****        let select mark this pcb as writable again. */
 383:ThirdPackage/lwip220/api/api_msg.c ****     if ((conn->pcb.tcp != NULL) && (tcp_sndbuf(conn->pcb.tcp) > TCP_SNDLOWAT) &&
 384:ThirdPackage/lwip220/api/api_msg.c ****         (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 385:ThirdPackage/lwip220/api/api_msg.c ****       netconn_clear_flags(conn, NETCONN_FLAG_CHECK_WRITESPACE);
 386:ThirdPackage/lwip220/api/api_msg.c ****       API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
 387:ThirdPackage/lwip220/api/api_msg.c ****     }
 388:ThirdPackage/lwip220/api/api_msg.c ****   }
 389:ThirdPackage/lwip220/api/api_msg.c **** 
 390:ThirdPackage/lwip220/api/api_msg.c ****   return ERR_OK;
 391:ThirdPackage/lwip220/api/api_msg.c **** }
 392:ThirdPackage/lwip220/api/api_msg.c **** 
 393:ThirdPackage/lwip220/api/api_msg.c **** /**
 394:ThirdPackage/lwip220/api/api_msg.c ****  * Sent callback function for TCP netconns.
 395:ThirdPackage/lwip220/api/api_msg.c ****  * Signals the conn->sem and calls API_EVENT.
 396:ThirdPackage/lwip220/api/api_msg.c ****  * netconn_write waits for conn->sem if send buffer is low.
 397:ThirdPackage/lwip220/api/api_msg.c ****  *
 398:ThirdPackage/lwip220/api/api_msg.c ****  * @see tcp.h (struct tcp_pcb.sent) for parameters and return value
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 15


 399:ThirdPackage/lwip220/api/api_msg.c ****  */
 400:ThirdPackage/lwip220/api/api_msg.c **** static err_t
 401:ThirdPackage/lwip220/api/api_msg.c **** sent_tcp(void *arg, struct tcp_pcb *pcb, u16_t len)
 402:ThirdPackage/lwip220/api/api_msg.c **** {
 403:ThirdPackage/lwip220/api/api_msg.c ****   struct netconn *conn = (struct netconn *)arg;
 404:ThirdPackage/lwip220/api/api_msg.c **** 
 405:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_UNUSED_ARG(pcb);
 406:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("conn != NULL", (conn != NULL));
 407:ThirdPackage/lwip220/api/api_msg.c **** 
 408:ThirdPackage/lwip220/api/api_msg.c ****   if (conn) {
 409:ThirdPackage/lwip220/api/api_msg.c ****     if (conn->state == NETCONN_WRITE) {
 410:ThirdPackage/lwip220/api/api_msg.c ****       lwip_netconn_do_writemore(conn  WRITE_DELAYED);
 411:ThirdPackage/lwip220/api/api_msg.c ****     } else if (conn->state == NETCONN_CLOSE) {
 412:ThirdPackage/lwip220/api/api_msg.c ****       lwip_netconn_do_close_internal(conn  WRITE_DELAYED);
 413:ThirdPackage/lwip220/api/api_msg.c ****     }
 414:ThirdPackage/lwip220/api/api_msg.c **** 
 415:ThirdPackage/lwip220/api/api_msg.c ****     /* If the queued byte- or pbuf-count drops below the configured low-water limit,
 416:ThirdPackage/lwip220/api/api_msg.c ****        let select mark this pcb as writable again. */
 417:ThirdPackage/lwip220/api/api_msg.c ****     if ((conn->pcb.tcp != NULL) && (tcp_sndbuf(conn->pcb.tcp) > TCP_SNDLOWAT) &&
 418:ThirdPackage/lwip220/api/api_msg.c ****         (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 419:ThirdPackage/lwip220/api/api_msg.c ****       netconn_clear_flags(conn, NETCONN_FLAG_CHECK_WRITESPACE);
 420:ThirdPackage/lwip220/api/api_msg.c ****       API_EVENT(conn, NETCONN_EVT_SENDPLUS, len);
 421:ThirdPackage/lwip220/api/api_msg.c ****     }
 422:ThirdPackage/lwip220/api/api_msg.c ****   }
 423:ThirdPackage/lwip220/api/api_msg.c **** 
 424:ThirdPackage/lwip220/api/api_msg.c ****   return ERR_OK;
 425:ThirdPackage/lwip220/api/api_msg.c **** }
 426:ThirdPackage/lwip220/api/api_msg.c **** 
 427:ThirdPackage/lwip220/api/api_msg.c **** /**
 428:ThirdPackage/lwip220/api/api_msg.c ****  * Error callback function for TCP netconns.
 429:ThirdPackage/lwip220/api/api_msg.c ****  * Signals conn->sem, posts to all conn mboxes and calls API_EVENT.
 430:ThirdPackage/lwip220/api/api_msg.c ****  * The application thread has then to decide what to do.
 431:ThirdPackage/lwip220/api/api_msg.c ****  *
 432:ThirdPackage/lwip220/api/api_msg.c ****  * @see tcp.h (struct tcp_pcb.err) for parameters
 433:ThirdPackage/lwip220/api/api_msg.c ****  */
 434:ThirdPackage/lwip220/api/api_msg.c **** static void
 435:ThirdPackage/lwip220/api/api_msg.c **** err_tcp(void *arg, err_t err)
 436:ThirdPackage/lwip220/api/api_msg.c **** {
 437:ThirdPackage/lwip220/api/api_msg.c ****   struct netconn *conn;
 438:ThirdPackage/lwip220/api/api_msg.c ****   enum netconn_state old_state;
 439:ThirdPackage/lwip220/api/api_msg.c ****   void *mbox_msg;
 440:ThirdPackage/lwip220/api/api_msg.c ****   SYS_ARCH_DECL_PROTECT(lev);
 441:ThirdPackage/lwip220/api/api_msg.c **** 
 442:ThirdPackage/lwip220/api/api_msg.c ****   conn = (struct netconn *)arg;
 443:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("conn != NULL", (conn != NULL));
 444:ThirdPackage/lwip220/api/api_msg.c **** 
 445:ThirdPackage/lwip220/api/api_msg.c ****   SYS_ARCH_PROTECT(lev);
 446:ThirdPackage/lwip220/api/api_msg.c **** 
 447:ThirdPackage/lwip220/api/api_msg.c ****   /* when err is called, the pcb is deallocated, so delete the reference */
 448:ThirdPackage/lwip220/api/api_msg.c ****   conn->pcb.tcp = NULL;
 449:ThirdPackage/lwip220/api/api_msg.c ****   /* store pending error */
 450:ThirdPackage/lwip220/api/api_msg.c ****   conn->pending_err = err;
 451:ThirdPackage/lwip220/api/api_msg.c ****   /* prevent application threads from blocking on 'recvmbox'/'acceptmbox' */
 452:ThirdPackage/lwip220/api/api_msg.c ****   conn->flags |= NETCONN_FLAG_MBOXCLOSED;
 453:ThirdPackage/lwip220/api/api_msg.c **** 
 454:ThirdPackage/lwip220/api/api_msg.c ****   /* reset conn->state now before waking up other threads */
 455:ThirdPackage/lwip220/api/api_msg.c ****   old_state = conn->state;
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 16


 456:ThirdPackage/lwip220/api/api_msg.c ****   conn->state = NETCONN_NONE;
 457:ThirdPackage/lwip220/api/api_msg.c **** 
 458:ThirdPackage/lwip220/api/api_msg.c ****   SYS_ARCH_UNPROTECT(lev);
 459:ThirdPackage/lwip220/api/api_msg.c **** 
 460:ThirdPackage/lwip220/api/api_msg.c ****   /* Notify the user layer about a connection error. Used to signal select. */
 461:ThirdPackage/lwip220/api/api_msg.c ****   API_EVENT(conn, NETCONN_EVT_ERROR, 0);
 462:ThirdPackage/lwip220/api/api_msg.c ****   /* Try to release selects pending on 'read' or 'write', too.
 463:ThirdPackage/lwip220/api/api_msg.c ****      They will get an error if they actually try to read or write. */
 464:ThirdPackage/lwip220/api/api_msg.c ****   API_EVENT(conn, NETCONN_EVT_RCVPLUS, 0);
 465:ThirdPackage/lwip220/api/api_msg.c ****   API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
 466:ThirdPackage/lwip220/api/api_msg.c **** 
 467:ThirdPackage/lwip220/api/api_msg.c ****   mbox_msg = lwip_netconn_err_to_msg(err);
 468:ThirdPackage/lwip220/api/api_msg.c ****   /* pass error message to recvmbox to wake up pending recv */
 469:ThirdPackage/lwip220/api/api_msg.c ****   if (NETCONN_MBOX_VALID(conn, &conn->recvmbox)) {
 470:ThirdPackage/lwip220/api/api_msg.c ****     /* use trypost to prevent deadlock */
 471:ThirdPackage/lwip220/api/api_msg.c ****     sys_mbox_trypost(&conn->recvmbox, mbox_msg);
 472:ThirdPackage/lwip220/api/api_msg.c ****   }
 473:ThirdPackage/lwip220/api/api_msg.c ****   /* pass error message to acceptmbox to wake up pending accept */
 474:ThirdPackage/lwip220/api/api_msg.c ****   if (NETCONN_MBOX_VALID(conn, &conn->acceptmbox)) {
 475:ThirdPackage/lwip220/api/api_msg.c ****     /* use trypost to prevent deadlock */
 476:ThirdPackage/lwip220/api/api_msg.c ****     sys_mbox_trypost(&conn->acceptmbox, mbox_msg);
 477:ThirdPackage/lwip220/api/api_msg.c ****   }
 478:ThirdPackage/lwip220/api/api_msg.c **** 
 479:ThirdPackage/lwip220/api/api_msg.c ****   if ((old_state == NETCONN_WRITE) || (old_state == NETCONN_CLOSE) ||
 480:ThirdPackage/lwip220/api/api_msg.c ****       (old_state == NETCONN_CONNECT)) {
 481:ThirdPackage/lwip220/api/api_msg.c ****     /* calling lwip_netconn_do_writemore/lwip_netconn_do_close_internal is not necessary
 482:ThirdPackage/lwip220/api/api_msg.c ****        since the pcb has already been deleted! */
 483:ThirdPackage/lwip220/api/api_msg.c ****     int was_nonblocking_connect = IN_NONBLOCKING_CONNECT(conn);
 484:ThirdPackage/lwip220/api/api_msg.c ****     SET_NONBLOCKING_CONNECT(conn, 0);
 485:ThirdPackage/lwip220/api/api_msg.c **** 
 486:ThirdPackage/lwip220/api/api_msg.c ****     if (!was_nonblocking_connect) {
 487:ThirdPackage/lwip220/api/api_msg.c ****       sys_sem_t *op_completed_sem;
 488:ThirdPackage/lwip220/api/api_msg.c ****       /* set error return code */
 489:ThirdPackage/lwip220/api/api_msg.c ****       LWIP_ASSERT("conn->current_msg != NULL", conn->current_msg != NULL);
 490:ThirdPackage/lwip220/api/api_msg.c ****       if (old_state == NETCONN_CLOSE) {
 491:ThirdPackage/lwip220/api/api_msg.c ****         /* let close succeed: the connection is closed after all... */
 492:ThirdPackage/lwip220/api/api_msg.c ****         conn->current_msg->err = ERR_OK;
 493:ThirdPackage/lwip220/api/api_msg.c ****       } else {
 494:ThirdPackage/lwip220/api/api_msg.c ****         /* Write and connect fail */
 495:ThirdPackage/lwip220/api/api_msg.c ****         conn->current_msg->err = err;
 496:ThirdPackage/lwip220/api/api_msg.c ****       }
 497:ThirdPackage/lwip220/api/api_msg.c ****       op_completed_sem = LWIP_API_MSG_SEM(conn->current_msg);
 498:ThirdPackage/lwip220/api/api_msg.c ****       LWIP_ASSERT("invalid op_completed_sem", sys_sem_valid(op_completed_sem));
 499:ThirdPackage/lwip220/api/api_msg.c ****       conn->current_msg = NULL;
 500:ThirdPackage/lwip220/api/api_msg.c ****       /* wake up the waiting task */
 501:ThirdPackage/lwip220/api/api_msg.c ****       sys_sem_signal(op_completed_sem);
 502:ThirdPackage/lwip220/api/api_msg.c ****     } else {
 503:ThirdPackage/lwip220/api/api_msg.c ****       /* @todo: test what happens for error on nonblocking connect */
 504:ThirdPackage/lwip220/api/api_msg.c ****     }
 505:ThirdPackage/lwip220/api/api_msg.c ****   } else {
 506:ThirdPackage/lwip220/api/api_msg.c ****     LWIP_ASSERT("conn->current_msg == NULL", conn->current_msg == NULL);
 507:ThirdPackage/lwip220/api/api_msg.c ****   }
 508:ThirdPackage/lwip220/api/api_msg.c **** }
 509:ThirdPackage/lwip220/api/api_msg.c **** 
 510:ThirdPackage/lwip220/api/api_msg.c **** /**
 511:ThirdPackage/lwip220/api/api_msg.c ****  * Setup a tcp_pcb with the correct callback function pointers
 512:ThirdPackage/lwip220/api/api_msg.c ****  * and their arguments.
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 17


 513:ThirdPackage/lwip220/api/api_msg.c ****  *
 514:ThirdPackage/lwip220/api/api_msg.c ****  * @param conn the TCP netconn to setup
 515:ThirdPackage/lwip220/api/api_msg.c ****  */
 516:ThirdPackage/lwip220/api/api_msg.c **** static void
 517:ThirdPackage/lwip220/api/api_msg.c **** setup_tcp(struct netconn *conn)
 518:ThirdPackage/lwip220/api/api_msg.c **** {
 352              		.loc 1 518 1 view -0
 353              		.cfi_startproc
 354              		@ args = 0, pretend = 0, frame = 0
 355              		@ frame_needed = 0, uses_anonymous_args = 0
 356              		.loc 1 518 1 is_stmt 0 view .LVU92
 357 0000 10B5     		push	{r4, lr}
 358              	.LCFI3:
 359              		.cfi_def_cfa_offset 8
 360              		.cfi_offset 4, -8
 361              		.cfi_offset 14, -4
 362 0002 0146     		mov	r1, r0
 519:ThirdPackage/lwip220/api/api_msg.c ****   struct tcp_pcb *pcb;
 363              		.loc 1 519 3 is_stmt 1 view .LVU93
 520:ThirdPackage/lwip220/api/api_msg.c **** 
 521:ThirdPackage/lwip220/api/api_msg.c ****   pcb = conn->pcb.tcp;
 364              		.loc 1 521 3 view .LVU94
 365              		.loc 1 521 7 is_stmt 0 view .LVU95
 366 0004 4468     		ldr	r4, [r0, #4]
 367              	.LVL41:
 522:ThirdPackage/lwip220/api/api_msg.c ****   tcp_arg(pcb, conn);
 368              		.loc 1 522 3 is_stmt 1 view .LVU96
 369 0006 2046     		mov	r0, r4
 370              	.LVL42:
 371              		.loc 1 522 3 is_stmt 0 view .LVU97
 372 0008 FFF7FEFF 		bl	tcp_arg
 373              	.LVL43:
 523:ThirdPackage/lwip220/api/api_msg.c ****   tcp_recv(pcb, recv_tcp);
 374              		.loc 1 523 3 is_stmt 1 view .LVU98
 375 000c 0849     		ldr	r1, .L36
 376 000e 2046     		mov	r0, r4
 377 0010 FFF7FEFF 		bl	tcp_recv
 378              	.LVL44:
 524:ThirdPackage/lwip220/api/api_msg.c ****   tcp_sent(pcb, sent_tcp);
 379              		.loc 1 524 3 view .LVU99
 380 0014 0749     		ldr	r1, .L36+4
 381 0016 2046     		mov	r0, r4
 382 0018 FFF7FEFF 		bl	tcp_sent
 383              	.LVL45:
 525:ThirdPackage/lwip220/api/api_msg.c ****   tcp_poll(pcb, poll_tcp, NETCONN_TCP_POLL_INTERVAL);
 384              		.loc 1 525 3 view .LVU100
 385 001c 0222     		movs	r2, #2
 386 001e 0649     		ldr	r1, .L36+8
 387 0020 2046     		mov	r0, r4
 388 0022 FFF7FEFF 		bl	tcp_poll
 389              	.LVL46:
 526:ThirdPackage/lwip220/api/api_msg.c ****   tcp_err(pcb, err_tcp);
 390              		.loc 1 526 3 view .LVU101
 391 0026 0549     		ldr	r1, .L36+12
 392 0028 2046     		mov	r0, r4
 393 002a FFF7FEFF 		bl	tcp_err
 394              	.LVL47:
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 18


 527:ThirdPackage/lwip220/api/api_msg.c **** }
 395              		.loc 1 527 1 is_stmt 0 view .LVU102
 396 002e 10BD     		pop	{r4, pc}
 397              	.LVL48:
 398              	.L37:
 399              		.loc 1 527 1 view .LVU103
 400              		.align	2
 401              	.L36:
 402 0030 00000000 		.word	recv_tcp
 403 0034 00000000 		.word	sent_tcp
 404 0038 00000000 		.word	poll_tcp
 405 003c 00000000 		.word	err_tcp
 406              		.cfi_endproc
 407              	.LFE167:
 409              		.section	.rodata.pcb_new.str1.4,"aMS",%progbits,1
 410              		.align	2
 411              	.LC6:
 412 0000 7063625F 		.ascii	"pcb_new: pcb already allocated\000"
 412      6E65773A 
 412      20706362 
 412      20616C72 
 412      65616479 
 413              		.section	.text.pcb_new,"ax",%progbits
 414              		.align	1
 415              		.syntax unified
 416              		.thumb
 417              		.thumb_func
 419              	pcb_new:
 420              	.LVL49:
 421              	.LFB169:
 528:ThirdPackage/lwip220/api/api_msg.c **** 
 529:ThirdPackage/lwip220/api/api_msg.c **** /**
 530:ThirdPackage/lwip220/api/api_msg.c ****  * Accept callback function for TCP netconns.
 531:ThirdPackage/lwip220/api/api_msg.c ****  * Allocates a new netconn and posts that to conn->acceptmbox.
 532:ThirdPackage/lwip220/api/api_msg.c ****  *
 533:ThirdPackage/lwip220/api/api_msg.c ****  * @see tcp.h (struct tcp_pcb_listen.accept) for parameters and return value
 534:ThirdPackage/lwip220/api/api_msg.c ****  */
 535:ThirdPackage/lwip220/api/api_msg.c **** static err_t
 536:ThirdPackage/lwip220/api/api_msg.c **** accept_function(void *arg, struct tcp_pcb *newpcb, err_t err)
 537:ThirdPackage/lwip220/api/api_msg.c **** {
 538:ThirdPackage/lwip220/api/api_msg.c ****   struct netconn *newconn;
 539:ThirdPackage/lwip220/api/api_msg.c ****   struct netconn *conn = (struct netconn *)arg;
 540:ThirdPackage/lwip220/api/api_msg.c **** 
 541:ThirdPackage/lwip220/api/api_msg.c ****   if (conn == NULL) {
 542:ThirdPackage/lwip220/api/api_msg.c ****     return ERR_VAL;
 543:ThirdPackage/lwip220/api/api_msg.c ****   }
 544:ThirdPackage/lwip220/api/api_msg.c ****   if (!NETCONN_MBOX_VALID(conn, &conn->acceptmbox)) {
 545:ThirdPackage/lwip220/api/api_msg.c ****     LWIP_DEBUGF(API_MSG_DEBUG, ("accept_function: acceptmbox already deleted\n"));
 546:ThirdPackage/lwip220/api/api_msg.c ****     return ERR_VAL;
 547:ThirdPackage/lwip220/api/api_msg.c ****   }
 548:ThirdPackage/lwip220/api/api_msg.c **** 
 549:ThirdPackage/lwip220/api/api_msg.c ****   if (newpcb == NULL) {
 550:ThirdPackage/lwip220/api/api_msg.c ****     /* out-of-pcbs during connect: pass on this error to the application */
 551:ThirdPackage/lwip220/api/api_msg.c ****     if (sys_mbox_trypost(&conn->acceptmbox, lwip_netconn_err_to_msg(ERR_ABRT)) == ERR_OK) {
 552:ThirdPackage/lwip220/api/api_msg.c ****       /* Register event with callback */
 553:ThirdPackage/lwip220/api/api_msg.c ****       API_EVENT(conn, NETCONN_EVT_RCVPLUS, 0);
 554:ThirdPackage/lwip220/api/api_msg.c ****     }
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 19


 555:ThirdPackage/lwip220/api/api_msg.c ****     return ERR_VAL;
 556:ThirdPackage/lwip220/api/api_msg.c ****   }
 557:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("expect newpcb == NULL or err == ERR_OK", err == ERR_OK);
 558:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_UNUSED_ARG(err); /* for LWIP_NOASSERT */
 559:ThirdPackage/lwip220/api/api_msg.c **** 
 560:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_DEBUGF(API_MSG_DEBUG, ("accept_function: newpcb->state: %s\n", tcp_debug_state_str(newpcb->s
 561:ThirdPackage/lwip220/api/api_msg.c **** 
 562:ThirdPackage/lwip220/api/api_msg.c ****   /* We have to set the callback here even though
 563:ThirdPackage/lwip220/api/api_msg.c ****    * the new socket is unknown. newconn->socket is marked as -1. */
 564:ThirdPackage/lwip220/api/api_msg.c ****   newconn = netconn_alloc(conn->type, conn->callback);
 565:ThirdPackage/lwip220/api/api_msg.c ****   if (newconn == NULL) {
 566:ThirdPackage/lwip220/api/api_msg.c ****     /* outof netconns: pass on this error to the application */
 567:ThirdPackage/lwip220/api/api_msg.c ****     if (sys_mbox_trypost(&conn->acceptmbox, lwip_netconn_err_to_msg(ERR_ABRT)) == ERR_OK) {
 568:ThirdPackage/lwip220/api/api_msg.c ****       /* Register event with callback */
 569:ThirdPackage/lwip220/api/api_msg.c ****       API_EVENT(conn, NETCONN_EVT_RCVPLUS, 0);
 570:ThirdPackage/lwip220/api/api_msg.c ****     }
 571:ThirdPackage/lwip220/api/api_msg.c ****     return ERR_MEM;
 572:ThirdPackage/lwip220/api/api_msg.c ****   }
 573:ThirdPackage/lwip220/api/api_msg.c ****   newconn->pcb.tcp = newpcb;
 574:ThirdPackage/lwip220/api/api_msg.c ****   setup_tcp(newconn);
 575:ThirdPackage/lwip220/api/api_msg.c **** 
 576:ThirdPackage/lwip220/api/api_msg.c ****   /* handle backlog counter */
 577:ThirdPackage/lwip220/api/api_msg.c ****   tcp_backlog_delayed(newpcb);
 578:ThirdPackage/lwip220/api/api_msg.c **** 
 579:ThirdPackage/lwip220/api/api_msg.c ****   if (sys_mbox_trypost(&conn->acceptmbox, newconn) != ERR_OK) {
 580:ThirdPackage/lwip220/api/api_msg.c ****     /* When returning != ERR_OK, the pcb is aborted in tcp_process(),
 581:ThirdPackage/lwip220/api/api_msg.c ****        so do nothing here! */
 582:ThirdPackage/lwip220/api/api_msg.c ****     /* remove all references to this netconn from the pcb */
 583:ThirdPackage/lwip220/api/api_msg.c ****     struct tcp_pcb *pcb = newconn->pcb.tcp;
 584:ThirdPackage/lwip220/api/api_msg.c ****     tcp_arg(pcb, NULL);
 585:ThirdPackage/lwip220/api/api_msg.c ****     tcp_recv(pcb, NULL);
 586:ThirdPackage/lwip220/api/api_msg.c ****     tcp_sent(pcb, NULL);
 587:ThirdPackage/lwip220/api/api_msg.c ****     tcp_poll(pcb, NULL, 0);
 588:ThirdPackage/lwip220/api/api_msg.c ****     tcp_err(pcb, NULL);
 589:ThirdPackage/lwip220/api/api_msg.c ****     /* remove reference from to the pcb from this netconn */
 590:ThirdPackage/lwip220/api/api_msg.c ****     newconn->pcb.tcp = NULL;
 591:ThirdPackage/lwip220/api/api_msg.c ****     /* no need to drain since we know the recvmbox is empty. */
 592:ThirdPackage/lwip220/api/api_msg.c ****     sys_mbox_free(&newconn->recvmbox);
 593:ThirdPackage/lwip220/api/api_msg.c ****     sys_mbox_set_invalid(&newconn->recvmbox);
 594:ThirdPackage/lwip220/api/api_msg.c ****     netconn_free(newconn);
 595:ThirdPackage/lwip220/api/api_msg.c ****     return ERR_MEM;
 596:ThirdPackage/lwip220/api/api_msg.c ****   } else {
 597:ThirdPackage/lwip220/api/api_msg.c ****     /* Register event with callback */
 598:ThirdPackage/lwip220/api/api_msg.c ****     API_EVENT(conn, NETCONN_EVT_RCVPLUS, 0);
 599:ThirdPackage/lwip220/api/api_msg.c ****   }
 600:ThirdPackage/lwip220/api/api_msg.c **** 
 601:ThirdPackage/lwip220/api/api_msg.c ****   return ERR_OK;
 602:ThirdPackage/lwip220/api/api_msg.c **** }
 603:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_TCP */
 604:ThirdPackage/lwip220/api/api_msg.c **** 
 605:ThirdPackage/lwip220/api/api_msg.c **** /**
 606:ThirdPackage/lwip220/api/api_msg.c ****  * Create a new pcb of a specific type.
 607:ThirdPackage/lwip220/api/api_msg.c ****  * Called from lwip_netconn_do_newconn().
 608:ThirdPackage/lwip220/api/api_msg.c ****  *
 609:ThirdPackage/lwip220/api/api_msg.c ****  * @param msg the api_msg describing the connection type
 610:ThirdPackage/lwip220/api/api_msg.c ****  */
 611:ThirdPackage/lwip220/api/api_msg.c **** static void
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 20


 612:ThirdPackage/lwip220/api/api_msg.c **** pcb_new(struct api_msg *msg)
 613:ThirdPackage/lwip220/api/api_msg.c **** {
 422              		.loc 1 613 1 is_stmt 1 view -0
 423              		.cfi_startproc
 424              		@ args = 0, pretend = 0, frame = 0
 425              		@ frame_needed = 0, uses_anonymous_args = 0
 426              		.loc 1 613 1 is_stmt 0 view .LVU105
 427 0000 38B5     		push	{r3, r4, r5, lr}
 428              	.LCFI4:
 429              		.cfi_def_cfa_offset 16
 430              		.cfi_offset 3, -16
 431              		.cfi_offset 4, -12
 432              		.cfi_offset 5, -8
 433              		.cfi_offset 14, -4
 434 0002 0446     		mov	r4, r0
 614:ThirdPackage/lwip220/api/api_msg.c ****   enum lwip_ip_addr_type iptype = IPADDR_TYPE_V4;
 435              		.loc 1 614 3 is_stmt 1 view .LVU106
 436              	.LVL50:
 615:ThirdPackage/lwip220/api/api_msg.c **** 
 616:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("pcb_new: pcb already allocated", msg->conn->pcb.tcp == NULL);
 437              		.loc 1 616 3 view .LVU107
 438              		.loc 1 616 3 view .LVU108
 439 0004 0368     		ldr	r3, [r0]
 440 0006 5B68     		ldr	r3, [r3, #4]
 441 0008 33B1     		cbz	r3, .L39
 442              		.loc 1 616 3 discriminator 1 view .LVU109
 443              		.loc 1 616 3 discriminator 1 view .LVU110
 444 000a 1B4B     		ldr	r3, .L48
 445 000c 4FF41A72 		mov	r2, #616
 446 0010 1A49     		ldr	r1, .L48+4
 447 0012 1B48     		ldr	r0, .L48+8
 448              	.LVL51:
 449              		.loc 1 616 3 is_stmt 0 discriminator 1 view .LVU111
 450 0014 FFF7FEFF 		bl	printf
 451              	.LVL52:
 452              	.L39:
 453              		.loc 1 616 3 is_stmt 1 discriminator 3 view .LVU112
 454              		.loc 1 616 3 discriminator 3 view .LVU113
 617:ThirdPackage/lwip220/api/api_msg.c **** 
 618:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_IPV6 && LWIP_IPV4
 619:ThirdPackage/lwip220/api/api_msg.c ****   /* IPv6: Dual-stack by default, unless netconn_set_ipv6only() is called */
 620:ThirdPackage/lwip220/api/api_msg.c ****   if (NETCONNTYPE_ISIPV6(netconn_type(msg->conn))) {
 621:ThirdPackage/lwip220/api/api_msg.c ****     iptype = IPADDR_TYPE_ANY;
 622:ThirdPackage/lwip220/api/api_msg.c ****   }
 623:ThirdPackage/lwip220/api/api_msg.c **** #endif
 624:ThirdPackage/lwip220/api/api_msg.c **** 
 625:ThirdPackage/lwip220/api/api_msg.c ****   /* Allocate a PCB for this connection */
 626:ThirdPackage/lwip220/api/api_msg.c ****   switch (NETCONNTYPE_GROUP(msg->conn->type)) {
 455              		.loc 1 626 3 discriminator 3 view .LVU114
 456              		.loc 1 626 11 is_stmt 0 discriminator 3 view .LVU115
 457 0018 2568     		ldr	r5, [r4]
 458 001a 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
 459 001c 03F0F003 		and	r3, r3, #240
 460              		.loc 1 626 3 discriminator 3 view .LVU116
 461 0020 102B     		cmp	r3, #16
 462 0022 17D0     		beq	.L40
 463              		.loc 1 626 3 view .LVU117
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 21


 464 0024 202B     		cmp	r3, #32
 465 0026 20D1     		bne	.L41
 627:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_RAW
 628:ThirdPackage/lwip220/api/api_msg.c ****     case NETCONN_RAW:
 629:ThirdPackage/lwip220/api/api_msg.c ****       msg->conn->pcb.raw = raw_new_ip_type(iptype, msg->msg.n.proto);
 630:ThirdPackage/lwip220/api/api_msg.c ****       if (msg->conn->pcb.raw != NULL) {
 631:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_IPV6
 632:ThirdPackage/lwip220/api/api_msg.c ****         /* ICMPv6 packets should always have checksum calculated by the stack as per RFC 3542 chapt
 633:ThirdPackage/lwip220/api/api_msg.c ****         if (NETCONNTYPE_ISIPV6(msg->conn->type) && msg->conn->pcb.raw->protocol == IP6_NEXTH_ICMP6)
 634:ThirdPackage/lwip220/api/api_msg.c ****           msg->conn->pcb.raw->chksum_reqd = 1;
 635:ThirdPackage/lwip220/api/api_msg.c ****           msg->conn->pcb.raw->chksum_offset = 2;
 636:ThirdPackage/lwip220/api/api_msg.c ****         }
 637:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_IPV6 */
 638:ThirdPackage/lwip220/api/api_msg.c ****         raw_recv(msg->conn->pcb.raw, recv_raw, msg->conn);
 639:ThirdPackage/lwip220/api/api_msg.c ****       }
 640:ThirdPackage/lwip220/api/api_msg.c ****       break;
 641:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_RAW */
 642:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_UDP
 643:ThirdPackage/lwip220/api/api_msg.c ****     case NETCONN_UDP:
 644:ThirdPackage/lwip220/api/api_msg.c ****       msg->conn->pcb.udp = udp_new_ip_type(iptype);
 466              		.loc 1 644 7 is_stmt 1 view .LVU118
 467              		.loc 1 644 28 is_stmt 0 view .LVU119
 468 0028 0020     		movs	r0, #0
 469 002a FFF7FEFF 		bl	udp_new_ip_type
 470              	.LVL53:
 471              		.loc 1 644 26 view .LVU120
 472 002e 6860     		str	r0, [r5, #4]
 645:ThirdPackage/lwip220/api/api_msg.c ****       if (msg->conn->pcb.udp != NULL) {
 473              		.loc 1 645 7 is_stmt 1 view .LVU121
 474              		.loc 1 645 14 is_stmt 0 view .LVU122
 475 0030 2368     		ldr	r3, [r4]
 476              		.loc 1 645 25 view .LVU123
 477 0032 5A68     		ldr	r2, [r3, #4]
 478              		.loc 1 645 10 view .LVU124
 479 0034 3AB1     		cbz	r2, .L42
 646:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_UDPLITE
 647:ThirdPackage/lwip220/api/api_msg.c ****         if (NETCONNTYPE_ISUDPLITE(msg->conn->type)) {
 648:ThirdPackage/lwip220/api/api_msg.c ****           udp_setflags(msg->conn->pcb.udp, UDP_FLAGS_UDPLITE);
 649:ThirdPackage/lwip220/api/api_msg.c ****         }
 650:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_UDPLITE */
 651:ThirdPackage/lwip220/api/api_msg.c ****         if (NETCONNTYPE_ISUDPNOCHKSUM(msg->conn->type)) {
 480              		.loc 1 651 9 is_stmt 1 view .LVU125
 481              		.loc 1 651 13 is_stmt 0 view .LVU126
 482 0036 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 483              		.loc 1 651 12 view .LVU127
 484 0038 222B     		cmp	r3, #34
 485 003a 08D0     		beq	.L46
 486              	.L43:
 652:ThirdPackage/lwip220/api/api_msg.c ****           udp_setflags(msg->conn->pcb.udp, UDP_FLAGS_NOCHKSUM);
 653:ThirdPackage/lwip220/api/api_msg.c ****         }
 654:ThirdPackage/lwip220/api/api_msg.c ****         udp_recv(msg->conn->pcb.udp, recv_udp, msg->conn);
 487              		.loc 1 654 9 is_stmt 1 view .LVU128
 488              		.loc 1 654 21 is_stmt 0 view .LVU129
 489 003c 2268     		ldr	r2, [r4]
 490              		.loc 1 654 9 view .LVU130
 491 003e 1149     		ldr	r1, .L48+12
 492 0040 5068     		ldr	r0, [r2, #4]
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 22


 493 0042 FFF7FEFF 		bl	udp_recv
 494              	.LVL54:
 495              	.L42:
 655:ThirdPackage/lwip220/api/api_msg.c ****       }
 656:ThirdPackage/lwip220/api/api_msg.c ****       break;
 657:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_UDP */
 658:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_TCP
 659:ThirdPackage/lwip220/api/api_msg.c ****     case NETCONN_TCP:
 660:ThirdPackage/lwip220/api/api_msg.c ****       msg->conn->pcb.tcp = tcp_new_ip_type(iptype);
 661:ThirdPackage/lwip220/api/api_msg.c ****       if (msg->conn->pcb.tcp != NULL) {
 662:ThirdPackage/lwip220/api/api_msg.c ****         setup_tcp(msg->conn);
 663:ThirdPackage/lwip220/api/api_msg.c ****       }
 664:ThirdPackage/lwip220/api/api_msg.c ****       break;
 665:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_TCP */
 666:ThirdPackage/lwip220/api/api_msg.c ****     default:
 667:ThirdPackage/lwip220/api/api_msg.c ****       /* Unsupported netconn type, e.g. protocol disabled */
 668:ThirdPackage/lwip220/api/api_msg.c ****       msg->err = ERR_VAL;
 669:ThirdPackage/lwip220/api/api_msg.c ****       return;
 670:ThirdPackage/lwip220/api/api_msg.c ****   }
 671:ThirdPackage/lwip220/api/api_msg.c ****   if (msg->conn->pcb.ip == NULL) {
 496              		.loc 1 671 3 is_stmt 1 view .LVU131
 497              		.loc 1 671 10 is_stmt 0 view .LVU132
 498 0046 2368     		ldr	r3, [r4]
 499              		.loc 1 671 21 view .LVU133
 500 0048 5B68     		ldr	r3, [r3, #4]
 501              		.loc 1 671 6 view .LVU134
 502 004a 8BB1     		cbz	r3, .L47
 503              	.L38:
 672:ThirdPackage/lwip220/api/api_msg.c ****     msg->err = ERR_MEM;
 673:ThirdPackage/lwip220/api/api_msg.c ****   }
 674:ThirdPackage/lwip220/api/api_msg.c **** }
 504              		.loc 1 674 1 view .LVU135
 505 004c 38BD     		pop	{r3, r4, r5, pc}
 506              	.LVL55:
 507              	.L46:
 652:ThirdPackage/lwip220/api/api_msg.c ****         }
 508              		.loc 1 652 11 is_stmt 1 view .LVU136
 509 004e 0123     		movs	r3, #1
 510 0050 1374     		strb	r3, [r2, #16]
 511 0052 F3E7     		b	.L43
 512              	.L40:
 660:ThirdPackage/lwip220/api/api_msg.c ****       if (msg->conn->pcb.tcp != NULL) {
 513              		.loc 1 660 7 view .LVU137
 660:ThirdPackage/lwip220/api/api_msg.c ****       if (msg->conn->pcb.tcp != NULL) {
 514              		.loc 1 660 28 is_stmt 0 view .LVU138
 515 0054 0020     		movs	r0, #0
 516 0056 FFF7FEFF 		bl	tcp_new_ip_type
 517              	.LVL56:
 660:ThirdPackage/lwip220/api/api_msg.c ****       if (msg->conn->pcb.tcp != NULL) {
 518              		.loc 1 660 26 view .LVU139
 519 005a 6860     		str	r0, [r5, #4]
 661:ThirdPackage/lwip220/api/api_msg.c ****         setup_tcp(msg->conn);
 520              		.loc 1 661 7 is_stmt 1 view .LVU140
 661:ThirdPackage/lwip220/api/api_msg.c ****         setup_tcp(msg->conn);
 521              		.loc 1 661 14 is_stmt 0 view .LVU141
 522 005c 2068     		ldr	r0, [r4]
 661:ThirdPackage/lwip220/api/api_msg.c ****         setup_tcp(msg->conn);
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 23


 523              		.loc 1 661 25 view .LVU142
 524 005e 4368     		ldr	r3, [r0, #4]
 661:ThirdPackage/lwip220/api/api_msg.c ****         setup_tcp(msg->conn);
 525              		.loc 1 661 10 view .LVU143
 526 0060 002B     		cmp	r3, #0
 527 0062 F0D0     		beq	.L42
 662:ThirdPackage/lwip220/api/api_msg.c ****       }
 528              		.loc 1 662 9 is_stmt 1 view .LVU144
 529 0064 FFF7FEFF 		bl	setup_tcp
 530              	.LVL57:
 531 0068 EDE7     		b	.L42
 532              	.L41:
 668:ThirdPackage/lwip220/api/api_msg.c ****       return;
 533              		.loc 1 668 7 view .LVU145
 668:ThirdPackage/lwip220/api/api_msg.c ****       return;
 534              		.loc 1 668 16 is_stmt 0 view .LVU146
 535 006a FA23     		movs	r3, #250
 536 006c 2371     		strb	r3, [r4, #4]
 669:ThirdPackage/lwip220/api/api_msg.c ****   }
 537              		.loc 1 669 7 is_stmt 1 view .LVU147
 538 006e EDE7     		b	.L38
 539              	.L47:
 672:ThirdPackage/lwip220/api/api_msg.c ****   }
 540              		.loc 1 672 5 view .LVU148
 672:ThirdPackage/lwip220/api/api_msg.c ****   }
 541              		.loc 1 672 14 is_stmt 0 view .LVU149
 542 0070 FF23     		movs	r3, #255
 543 0072 2371     		strb	r3, [r4, #4]
 544 0074 EAE7     		b	.L38
 545              	.L49:
 546 0076 00BF     		.align	2
 547              	.L48:
 548 0078 00000000 		.word	.LC0
 549 007c 00000000 		.word	.LC6
 550 0080 34000000 		.word	.LC2
 551 0084 00000000 		.word	recv_udp
 552              		.cfi_endproc
 553              	.LFE169:
 555              		.section	.rodata.err_tcp.str1.4,"aMS",%progbits,1
 556              		.align	2
 557              	.LC7:
 558 0000 636F6E6E 		.ascii	"conn != NULL\000"
 558      20213D20 
 558      4E554C4C 
 558      00
 559 000d 000000   		.align	2
 560              	.LC8:
 561 0010 636F6E6E 		.ascii	"conn->current_msg != NULL\000"
 561      2D3E6375 
 561      7272656E 
 561      745F6D73 
 561      6720213D 
 562 002a 0000     		.align	2
 563              	.LC9:
 564 002c 696E7661 		.ascii	"invalid op_completed_sem\000"
 564      6C696420 
 564      6F705F63 
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 24


 564      6F6D706C 
 564      65746564 
 565 0045 000000   		.align	2
 566              	.LC10:
 567 0048 636F6E6E 		.ascii	"conn->current_msg == NULL\000"
 567      2D3E6375 
 567      7272656E 
 567      745F6D73 
 567      67203D3D 
 568              		.section	.text.err_tcp,"ax",%progbits
 569              		.align	1
 570              		.syntax unified
 571              		.thumb
 572              		.thumb_func
 574              	err_tcp:
 575              	.LVL58:
 576              	.LFB166:
 436:ThirdPackage/lwip220/api/api_msg.c ****   struct netconn *conn;
 577              		.loc 1 436 1 is_stmt 1 view -0
 578              		.cfi_startproc
 579              		@ args = 0, pretend = 0, frame = 0
 580              		@ frame_needed = 0, uses_anonymous_args = 0
 436:ThirdPackage/lwip220/api/api_msg.c ****   struct netconn *conn;
 581              		.loc 1 436 1 is_stmt 0 view .LVU151
 582 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 583              	.LCFI5:
 584              		.cfi_def_cfa_offset 24
 585              		.cfi_offset 4, -24
 586              		.cfi_offset 5, -20
 587              		.cfi_offset 6, -16
 588              		.cfi_offset 7, -12
 589              		.cfi_offset 8, -8
 590              		.cfi_offset 14, -4
 591 0004 0D46     		mov	r5, r1
 437:ThirdPackage/lwip220/api/api_msg.c ****   enum netconn_state old_state;
 592              		.loc 1 437 3 is_stmt 1 view .LVU152
 438:ThirdPackage/lwip220/api/api_msg.c ****   void *mbox_msg;
 593              		.loc 1 438 3 view .LVU153
 439:ThirdPackage/lwip220/api/api_msg.c ****   SYS_ARCH_DECL_PROTECT(lev);
 594              		.loc 1 439 3 view .LVU154
 440:ThirdPackage/lwip220/api/api_msg.c **** 
 595              		.loc 1 440 3 view .LVU155
 442:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("conn != NULL", (conn != NULL));
 596              		.loc 1 442 3 view .LVU156
 597              	.LVL59:
 443:ThirdPackage/lwip220/api/api_msg.c **** 
 598              		.loc 1 443 3 view .LVU157
 443:ThirdPackage/lwip220/api/api_msg.c **** 
 599              		.loc 1 443 3 view .LVU158
 600 0006 0446     		mov	r4, r0
 601 0008 0028     		cmp	r0, #0
 602 000a 3ED0     		beq	.L65
 603              	.LVL60:
 604              	.L51:
 443:ThirdPackage/lwip220/api/api_msg.c **** 
 605              		.loc 1 443 3 discriminator 3 view .LVU159
 443:ThirdPackage/lwip220/api/api_msg.c **** 
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 25


 606              		.loc 1 443 3 discriminator 3 view .LVU160
 445:ThirdPackage/lwip220/api/api_msg.c **** 
 607              		.loc 1 445 3 discriminator 3 view .LVU161
 608 000c FFF7FEFF 		bl	sys_arch_protect
 609              	.LVL61:
 448:ThirdPackage/lwip220/api/api_msg.c ****   /* store pending error */
 610              		.loc 1 448 3 discriminator 3 view .LVU162
 448:ThirdPackage/lwip220/api/api_msg.c ****   /* store pending error */
 611              		.loc 1 448 17 is_stmt 0 discriminator 3 view .LVU163
 612 0010 0022     		movs	r2, #0
 613 0012 6260     		str	r2, [r4, #4]
 450:ThirdPackage/lwip220/api/api_msg.c ****   /* prevent application threads from blocking on 'recvmbox'/'acceptmbox' */
 614              		.loc 1 450 3 is_stmt 1 discriminator 3 view .LVU164
 450:ThirdPackage/lwip220/api/api_msg.c ****   /* prevent application threads from blocking on 'recvmbox'/'acceptmbox' */
 615              		.loc 1 450 21 is_stmt 0 discriminator 3 view .LVU165
 616 0014 2572     		strb	r5, [r4, #8]
 452:ThirdPackage/lwip220/api/api_msg.c **** 
 617              		.loc 1 452 3 is_stmt 1 discriminator 3 view .LVU166
 452:ThirdPackage/lwip220/api/api_msg.c **** 
 618              		.loc 1 452 15 is_stmt 0 discriminator 3 view .LVU167
 619 0016 237F     		ldrb	r3, [r4, #28]	@ zero_extendqisi2
 620 0018 43F00103 		orr	r3, r3, #1
 621 001c 2377     		strb	r3, [r4, #28]
 455:ThirdPackage/lwip220/api/api_msg.c ****   conn->state = NETCONN_NONE;
 622              		.loc 1 455 3 is_stmt 1 discriminator 3 view .LVU168
 455:ThirdPackage/lwip220/api/api_msg.c ****   conn->state = NETCONN_NONE;
 623              		.loc 1 455 13 is_stmt 0 discriminator 3 view .LVU169
 624 001e 6778     		ldrb	r7, [r4, #1]	@ zero_extendqisi2
 625              	.LVL62:
 456:ThirdPackage/lwip220/api/api_msg.c **** 
 626              		.loc 1 456 3 is_stmt 1 discriminator 3 view .LVU170
 456:ThirdPackage/lwip220/api/api_msg.c **** 
 627              		.loc 1 456 15 is_stmt 0 discriminator 3 view .LVU171
 628 0020 6270     		strb	r2, [r4, #1]
 458:ThirdPackage/lwip220/api/api_msg.c **** 
 629              		.loc 1 458 3 is_stmt 1 discriminator 3 view .LVU172
 630 0022 FFF7FEFF 		bl	sys_arch_unprotect
 631              	.LVL63:
 461:ThirdPackage/lwip220/api/api_msg.c ****   /* Try to release selects pending on 'read' or 'write', too.
 632              		.loc 1 461 3 discriminator 3 view .LVU173
 633 0026 636A     		ldr	r3, [r4, #36]
 634 0028 1BB1     		cbz	r3, .L52
 461:ThirdPackage/lwip220/api/api_msg.c ****   /* Try to release selects pending on 'read' or 'write', too.
 635              		.loc 1 461 3 discriminator 1 view .LVU174
 636 002a 0022     		movs	r2, #0
 637 002c 0421     		movs	r1, #4
 638 002e 2046     		mov	r0, r4
 639 0030 9847     		blx	r3
 640              	.LVL64:
 641              	.L52:
 461:ThirdPackage/lwip220/api/api_msg.c ****   /* Try to release selects pending on 'read' or 'write', too.
 642              		.loc 1 461 40 discriminator 3 view .LVU175
 464:ThirdPackage/lwip220/api/api_msg.c ****   API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
 643              		.loc 1 464 3 discriminator 3 view .LVU176
 644 0032 636A     		ldr	r3, [r4, #36]
 645 0034 1BB1     		cbz	r3, .L53
 464:ThirdPackage/lwip220/api/api_msg.c ****   API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 26


 646              		.loc 1 464 3 discriminator 1 view .LVU177
 647 0036 0022     		movs	r2, #0
 648 0038 1146     		mov	r1, r2
 649 003a 2046     		mov	r0, r4
 650 003c 9847     		blx	r3
 651              	.LVL65:
 652              	.L53:
 464:ThirdPackage/lwip220/api/api_msg.c ****   API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
 653              		.loc 1 464 42 discriminator 3 view .LVU178
 465:ThirdPackage/lwip220/api/api_msg.c **** 
 654              		.loc 1 465 3 discriminator 3 view .LVU179
 655 003e 636A     		ldr	r3, [r4, #36]
 656 0040 1BB1     		cbz	r3, .L54
 465:ThirdPackage/lwip220/api/api_msg.c **** 
 657              		.loc 1 465 3 discriminator 1 view .LVU180
 658 0042 0022     		movs	r2, #0
 659 0044 0221     		movs	r1, #2
 660 0046 2046     		mov	r0, r4
 661 0048 9847     		blx	r3
 662              	.LVL66:
 663              	.L54:
 465:ThirdPackage/lwip220/api/api_msg.c **** 
 664              		.loc 1 465 43 discriminator 3 view .LVU181
 467:ThirdPackage/lwip220/api/api_msg.c ****   /* pass error message to recvmbox to wake up pending recv */
 665              		.loc 1 467 3 discriminator 3 view .LVU182
 467:ThirdPackage/lwip220/api/api_msg.c ****   /* pass error message to recvmbox to wake up pending recv */
 666              		.loc 1 467 14 is_stmt 0 discriminator 3 view .LVU183
 667 004a 2846     		mov	r0, r5
 668 004c FFF7FEFF 		bl	lwip_netconn_err_to_msg
 669              	.LVL67:
 670 0050 0646     		mov	r6, r0
 671              	.LVL68:
 469:ThirdPackage/lwip220/api/api_msg.c ****     /* use trypost to prevent deadlock */
 672              		.loc 1 469 3 is_stmt 1 discriminator 3 view .LVU184
 469:ThirdPackage/lwip220/api/api_msg.c ****     /* use trypost to prevent deadlock */
 673              		.loc 1 469 7 is_stmt 0 discriminator 3 view .LVU185
 674 0052 04F11008 		add	r8, r4, #16
 675 0056 4046     		mov	r0, r8
 676              	.LVL69:
 469:ThirdPackage/lwip220/api/api_msg.c ****     /* use trypost to prevent deadlock */
 677              		.loc 1 469 7 discriminator 3 view .LVU186
 678 0058 FFF7FEFF 		bl	sys_mbox_valid
 679              	.LVL70:
 469:ThirdPackage/lwip220/api/api_msg.c ****     /* use trypost to prevent deadlock */
 680              		.loc 1 469 6 discriminator 3 view .LVU187
 681 005c E8B9     		cbnz	r0, .L66
 682              	.L55:
 474:ThirdPackage/lwip220/api/api_msg.c ****     /* use trypost to prevent deadlock */
 683              		.loc 1 474 3 is_stmt 1 view .LVU188
 474:ThirdPackage/lwip220/api/api_msg.c ****     /* use trypost to prevent deadlock */
 684              		.loc 1 474 7 is_stmt 0 view .LVU189
 685 005e 04F11408 		add	r8, r4, #20
 686 0062 4046     		mov	r0, r8
 687 0064 FFF7FEFF 		bl	sys_mbox_valid
 688              	.LVL71:
 474:ThirdPackage/lwip220/api/api_msg.c ****     /* use trypost to prevent deadlock */
 689              		.loc 1 474 6 view .LVU190
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 27


 690 0068 E0B9     		cbnz	r0, .L67
 691              	.L56:
 479:ThirdPackage/lwip220/api/api_msg.c ****       (old_state == NETCONN_CONNECT)) {
 692              		.loc 1 479 3 is_stmt 1 view .LVU191
 479:ThirdPackage/lwip220/api/api_msg.c ****       (old_state == NETCONN_CONNECT)) {
 693              		.loc 1 479 6 is_stmt 0 view .LVU192
 694 006a 012F     		cmp	r7, #1
 695 006c 1FD0     		beq	.L57
 479:ThirdPackage/lwip220/api/api_msg.c ****       (old_state == NETCONN_CONNECT)) {
 696              		.loc 1 479 36 discriminator 1 view .LVU193
 697 006e 042F     		cmp	r7, #4
 698 0070 1DD0     		beq	.L57
 479:ThirdPackage/lwip220/api/api_msg.c ****       (old_state == NETCONN_CONNECT)) {
 699              		.loc 1 479 68 discriminator 2 view .LVU194
 700 0072 032F     		cmp	r7, #3
 701 0074 1BD0     		beq	.L57
 506:ThirdPackage/lwip220/api/api_msg.c ****   }
 702              		.loc 1 506 5 is_stmt 1 view .LVU195
 506:ThirdPackage/lwip220/api/api_msg.c ****   }
 703              		.loc 1 506 5 view .LVU196
 704 0076 236A     		ldr	r3, [r4, #32]
 705 0078 93B3     		cbz	r3, .L50
 506:ThirdPackage/lwip220/api/api_msg.c ****   }
 706              		.loc 1 506 5 discriminator 1 view .LVU197
 506:ThirdPackage/lwip220/api/api_msg.c ****   }
 707              		.loc 1 506 5 discriminator 1 view .LVU198
 708 007a 244B     		ldr	r3, .L71
 709 007c 4FF4FD72 		mov	r2, #506
 710 0080 2349     		ldr	r1, .L71+4
 711 0082 2448     		ldr	r0, .L71+8
 712 0084 FFF7FEFF 		bl	printf
 713              	.LVL72:
 506:ThirdPackage/lwip220/api/api_msg.c ****   }
 714              		.loc 1 506 5 discriminator 1 view .LVU199
 506:ThirdPackage/lwip220/api/api_msg.c ****   }
 715              		.loc 1 506 5 discriminator 1 view .LVU200
 508:ThirdPackage/lwip220/api/api_msg.c **** 
 716              		.loc 1 508 1 is_stmt 0 discriminator 1 view .LVU201
 717 0088 2AE0     		b	.L50
 718              	.LVL73:
 719              	.L65:
 443:ThirdPackage/lwip220/api/api_msg.c **** 
 720              		.loc 1 443 3 is_stmt 1 discriminator 1 view .LVU202
 443:ThirdPackage/lwip220/api/api_msg.c **** 
 721              		.loc 1 443 3 discriminator 1 view .LVU203
 722 008a 204B     		ldr	r3, .L71
 723 008c 40F2BB12 		movw	r2, #443
 724 0090 2149     		ldr	r1, .L71+12
 725              	.LVL74:
 443:ThirdPackage/lwip220/api/api_msg.c **** 
 726              		.loc 1 443 3 is_stmt 0 discriminator 1 view .LVU204
 727 0092 2048     		ldr	r0, .L71+8
 728              	.LVL75:
 443:ThirdPackage/lwip220/api/api_msg.c **** 
 729              		.loc 1 443 3 discriminator 1 view .LVU205
 730 0094 FFF7FEFF 		bl	printf
 731              	.LVL76:
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 28


 732 0098 B8E7     		b	.L51
 733              	.LVL77:
 734              	.L66:
 471:ThirdPackage/lwip220/api/api_msg.c ****   }
 735              		.loc 1 471 5 is_stmt 1 view .LVU206
 736 009a 3146     		mov	r1, r6
 737 009c 4046     		mov	r0, r8
 738 009e FFF7FEFF 		bl	sys_mbox_trypost
 739              	.LVL78:
 740 00a2 DCE7     		b	.L55
 741              	.L67:
 476:ThirdPackage/lwip220/api/api_msg.c ****   }
 742              		.loc 1 476 5 view .LVU207
 743 00a4 3146     		mov	r1, r6
 744 00a6 4046     		mov	r0, r8
 745 00a8 FFF7FEFF 		bl	sys_mbox_trypost
 746              	.LVL79:
 747 00ac DDE7     		b	.L56
 748              	.L57:
 749              	.LBB2:
 483:ThirdPackage/lwip220/api/api_msg.c ****     SET_NONBLOCKING_CONNECT(conn, 0);
 750              		.loc 1 483 5 view .LVU208
 483:ThirdPackage/lwip220/api/api_msg.c ****     SET_NONBLOCKING_CONNECT(conn, 0);
 751              		.loc 1 483 35 is_stmt 0 view .LVU209
 752 00ae 237F     		ldrb	r3, [r4, #28]	@ zero_extendqisi2
 753              	.LVL80:
 484:ThirdPackage/lwip220/api/api_msg.c **** 
 754              		.loc 1 484 5 is_stmt 1 view .LVU210
 484:ThirdPackage/lwip220/api/api_msg.c **** 
 755              		.loc 1 484 5 view .LVU211
 484:ThirdPackage/lwip220/api/api_msg.c **** 
 756              		.loc 1 484 5 view .LVU212
 484:ThirdPackage/lwip220/api/api_msg.c **** 
 757              		.loc 1 484 5 view .LVU213
 758 00b0 03F0FB02 		and	r2, r3, #251
 759 00b4 2277     		strb	r2, [r4, #28]
 484:ThirdPackage/lwip220/api/api_msg.c **** 
 760              		.loc 1 484 5 view .LVU214
 484:ThirdPackage/lwip220/api/api_msg.c **** 
 761              		.loc 1 484 5 view .LVU215
 486:ThirdPackage/lwip220/api/api_msg.c ****       sys_sem_t *op_completed_sem;
 762              		.loc 1 486 5 view .LVU216
 486:ThirdPackage/lwip220/api/api_msg.c ****       sys_sem_t *op_completed_sem;
 763              		.loc 1 486 8 is_stmt 0 view .LVU217
 764 00b6 13F0040F 		tst	r3, #4
 765 00ba 11D1     		bne	.L50
 766              	.LBB3:
 487:ThirdPackage/lwip220/api/api_msg.c ****       /* set error return code */
 767              		.loc 1 487 7 is_stmt 1 view .LVU218
 489:ThirdPackage/lwip220/api/api_msg.c ****       if (old_state == NETCONN_CLOSE) {
 768              		.loc 1 489 7 view .LVU219
 489:ThirdPackage/lwip220/api/api_msg.c ****       if (old_state == NETCONN_CLOSE) {
 769              		.loc 1 489 7 view .LVU220
 770 00bc 236A     		ldr	r3, [r4, #32]
 771              	.LVL81:
 489:ThirdPackage/lwip220/api/api_msg.c ****       if (old_state == NETCONN_CLOSE) {
 772              		.loc 1 489 7 is_stmt 0 view .LVU221
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 29


 773 00be 8BB1     		cbz	r3, .L68
 774              	.L60:
 489:ThirdPackage/lwip220/api/api_msg.c ****       if (old_state == NETCONN_CLOSE) {
 775              		.loc 1 489 7 is_stmt 1 discriminator 3 view .LVU222
 489:ThirdPackage/lwip220/api/api_msg.c ****       if (old_state == NETCONN_CLOSE) {
 776              		.loc 1 489 7 discriminator 3 view .LVU223
 490:ThirdPackage/lwip220/api/api_msg.c ****         /* let close succeed: the connection is closed after all... */
 777              		.loc 1 490 7 discriminator 3 view .LVU224
 490:ThirdPackage/lwip220/api/api_msg.c ****         /* let close succeed: the connection is closed after all... */
 778              		.loc 1 490 10 is_stmt 0 discriminator 3 view .LVU225
 779 00c0 042F     		cmp	r7, #4
 780 00c2 17D0     		beq	.L69
 495:ThirdPackage/lwip220/api/api_msg.c ****       }
 781              		.loc 1 495 9 is_stmt 1 view .LVU226
 495:ThirdPackage/lwip220/api/api_msg.c ****       }
 782              		.loc 1 495 13 is_stmt 0 view .LVU227
 783 00c4 236A     		ldr	r3, [r4, #32]
 495:ThirdPackage/lwip220/api/api_msg.c ****       }
 784              		.loc 1 495 32 view .LVU228
 785 00c6 1D71     		strb	r5, [r3, #4]
 786              	.L62:
 497:ThirdPackage/lwip220/api/api_msg.c ****       LWIP_ASSERT("invalid op_completed_sem", sys_sem_valid(op_completed_sem));
 787              		.loc 1 497 7 is_stmt 1 view .LVU229
 497:ThirdPackage/lwip220/api/api_msg.c ****       LWIP_ASSERT("invalid op_completed_sem", sys_sem_valid(op_completed_sem));
 788              		.loc 1 497 26 is_stmt 0 view .LVU230
 789 00c8 236A     		ldr	r3, [r4, #32]
 790 00ca 1D68     		ldr	r5, [r3]
 497:ThirdPackage/lwip220/api/api_msg.c ****       LWIP_ASSERT("invalid op_completed_sem", sys_sem_valid(op_completed_sem));
 791              		.loc 1 497 24 view .LVU231
 792 00cc 0C35     		adds	r5, r5, #12
 793              	.LVL82:
 498:ThirdPackage/lwip220/api/api_msg.c ****       conn->current_msg = NULL;
 794              		.loc 1 498 7 is_stmt 1 view .LVU232
 498:ThirdPackage/lwip220/api/api_msg.c ****       conn->current_msg = NULL;
 795              		.loc 1 498 7 view .LVU233
 796 00ce 2846     		mov	r0, r5
 797 00d0 FFF7FEFF 		bl	sys_sem_valid
 798              	.LVL83:
 799 00d4 90B1     		cbz	r0, .L70
 800              	.L63:
 498:ThirdPackage/lwip220/api/api_msg.c ****       conn->current_msg = NULL;
 801              		.loc 1 498 7 discriminator 3 view .LVU234
 498:ThirdPackage/lwip220/api/api_msg.c ****       conn->current_msg = NULL;
 802              		.loc 1 498 7 discriminator 3 view .LVU235
 499:ThirdPackage/lwip220/api/api_msg.c ****       /* wake up the waiting task */
 803              		.loc 1 499 7 discriminator 3 view .LVU236
 499:ThirdPackage/lwip220/api/api_msg.c ****       /* wake up the waiting task */
 804              		.loc 1 499 25 is_stmt 0 discriminator 3 view .LVU237
 805 00d6 0023     		movs	r3, #0
 806 00d8 2362     		str	r3, [r4, #32]
 501:ThirdPackage/lwip220/api/api_msg.c ****     } else {
 807              		.loc 1 501 7 is_stmt 1 discriminator 3 view .LVU238
 808 00da 2846     		mov	r0, r5
 809 00dc FFF7FEFF 		bl	sys_sem_signal
 810              	.LVL84:
 811              	.L50:
 501:ThirdPackage/lwip220/api/api_msg.c ****     } else {
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 30


 812              		.loc 1 501 7 is_stmt 0 discriminator 3 view .LVU239
 813              	.LBE3:
 814              	.LBE2:
 508:ThirdPackage/lwip220/api/api_msg.c **** 
 815              		.loc 1 508 1 view .LVU240
 816 00e0 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 817              	.LVL85:
 818              	.L68:
 819              	.LBB5:
 820              	.LBB4:
 489:ThirdPackage/lwip220/api/api_msg.c ****       if (old_state == NETCONN_CLOSE) {
 821              		.loc 1 489 7 is_stmt 1 discriminator 1 view .LVU241
 489:ThirdPackage/lwip220/api/api_msg.c ****       if (old_state == NETCONN_CLOSE) {
 822              		.loc 1 489 7 discriminator 1 view .LVU242
 823 00e4 094B     		ldr	r3, .L71
 824 00e6 40F2E912 		movw	r2, #489
 825 00ea 0C49     		ldr	r1, .L71+16
 826 00ec 0948     		ldr	r0, .L71+8
 827 00ee FFF7FEFF 		bl	printf
 828              	.LVL86:
 829 00f2 E5E7     		b	.L60
 830              	.L69:
 492:ThirdPackage/lwip220/api/api_msg.c ****       } else {
 831              		.loc 1 492 9 view .LVU243
 492:ThirdPackage/lwip220/api/api_msg.c ****       } else {
 832              		.loc 1 492 13 is_stmt 0 view .LVU244
 833 00f4 236A     		ldr	r3, [r4, #32]
 492:ThirdPackage/lwip220/api/api_msg.c ****       } else {
 834              		.loc 1 492 32 view .LVU245
 835 00f6 0022     		movs	r2, #0
 836 00f8 1A71     		strb	r2, [r3, #4]
 837 00fa E5E7     		b	.L62
 838              	.LVL87:
 839              	.L70:
 498:ThirdPackage/lwip220/api/api_msg.c ****       conn->current_msg = NULL;
 840              		.loc 1 498 7 is_stmt 1 discriminator 1 view .LVU246
 498:ThirdPackage/lwip220/api/api_msg.c ****       conn->current_msg = NULL;
 841              		.loc 1 498 7 discriminator 1 view .LVU247
 842 00fc 034B     		ldr	r3, .L71
 843 00fe 4FF4F972 		mov	r2, #498
 844 0102 0749     		ldr	r1, .L71+20
 845 0104 0348     		ldr	r0, .L71+8
 846 0106 FFF7FEFF 		bl	printf
 847              	.LVL88:
 848 010a E4E7     		b	.L63
 849              	.L72:
 850              		.align	2
 851              	.L71:
 852 010c 00000000 		.word	.LC0
 853 0110 48000000 		.word	.LC10
 854 0114 34000000 		.word	.LC2
 855 0118 00000000 		.word	.LC7
 856 011c 10000000 		.word	.LC8
 857 0120 2C000000 		.word	.LC9
 858              	.LBE4:
 859              	.LBE5:
 860              		.cfi_endproc
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 31


 861              	.LFE166:
 863              		.section	.rodata.lwip_netconn_do_connected.str1.4,"aMS",%progbits,1
 864              		.align	2
 865              	.LC11:
 866 0000 636F6E6E 		.ascii	"conn->state == NETCONN_CONNECT\000"
 866      2D3E7374 
 866      61746520 
 866      3D3D204E 
 866      4554434F 
 867 001f 00       		.align	2
 868              	.LC12:
 869 0020 28636F6E 		.ascii	"(conn->current_msg != NULL) || conn->in_non_blockin"
 869      6E2D3E63 
 869      75727265 
 869      6E745F6D 
 869      73672021 
 870 0053 675F636F 		.ascii	"g_connect\000"
 870      6E6E6563 
 870      7400
 871 005d 000000   		.align	2
 872              	.LC13:
 873 0060 626C6F63 		.ascii	"blocking connect state error\000"
 873      6B696E67 
 873      20636F6E 
 873      6E656374 
 873      20737461 
 874              		.section	.text.lwip_netconn_do_connected,"ax",%progbits
 875              		.align	1
 876              		.syntax unified
 877              		.thumb
 878              		.thumb_func
 880              	lwip_netconn_do_connected:
 881              	.LVL89:
 882              	.LFB178:
 675:ThirdPackage/lwip220/api/api_msg.c **** 
 676:ThirdPackage/lwip220/api/api_msg.c **** /**
 677:ThirdPackage/lwip220/api/api_msg.c ****  * Create a new pcb of a specific type inside a netconn.
 678:ThirdPackage/lwip220/api/api_msg.c ****  * Called from netconn_new_with_proto_and_callback.
 679:ThirdPackage/lwip220/api/api_msg.c ****  *
 680:ThirdPackage/lwip220/api/api_msg.c ****  * @param m the api_msg describing the connection type
 681:ThirdPackage/lwip220/api/api_msg.c ****  */
 682:ThirdPackage/lwip220/api/api_msg.c **** void
 683:ThirdPackage/lwip220/api/api_msg.c **** lwip_netconn_do_newconn(void *m)
 684:ThirdPackage/lwip220/api/api_msg.c **** {
 685:ThirdPackage/lwip220/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 686:ThirdPackage/lwip220/api/api_msg.c **** 
 687:ThirdPackage/lwip220/api/api_msg.c ****   msg->err = ERR_OK;
 688:ThirdPackage/lwip220/api/api_msg.c ****   if (msg->conn->pcb.tcp == NULL) {
 689:ThirdPackage/lwip220/api/api_msg.c ****     pcb_new(msg);
 690:ThirdPackage/lwip220/api/api_msg.c ****   }
 691:ThirdPackage/lwip220/api/api_msg.c ****   /* Else? This "new" connection already has a PCB allocated. */
 692:ThirdPackage/lwip220/api/api_msg.c ****   /* Is this an error condition? Should it be deleted? */
 693:ThirdPackage/lwip220/api/api_msg.c ****   /* We currently just are happy and return. */
 694:ThirdPackage/lwip220/api/api_msg.c **** 
 695:ThirdPackage/lwip220/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
 696:ThirdPackage/lwip220/api/api_msg.c **** }
 697:ThirdPackage/lwip220/api/api_msg.c **** 
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 32


 698:ThirdPackage/lwip220/api/api_msg.c **** /**
 699:ThirdPackage/lwip220/api/api_msg.c ****  * Create a new netconn (of a specific type) that has a callback function.
 700:ThirdPackage/lwip220/api/api_msg.c ****  * The corresponding pcb is NOT created!
 701:ThirdPackage/lwip220/api/api_msg.c ****  *
 702:ThirdPackage/lwip220/api/api_msg.c ****  * @param t the type of 'connection' to create (@see enum netconn_type)
 703:ThirdPackage/lwip220/api/api_msg.c ****  * @param callback a function to call on status changes (RX available, TX'ed)
 704:ThirdPackage/lwip220/api/api_msg.c ****  * @return a newly allocated struct netconn or
 705:ThirdPackage/lwip220/api/api_msg.c ****  *         NULL on memory error
 706:ThirdPackage/lwip220/api/api_msg.c ****  */
 707:ThirdPackage/lwip220/api/api_msg.c **** struct netconn *
 708:ThirdPackage/lwip220/api/api_msg.c **** netconn_alloc(enum netconn_type t, netconn_callback callback)
 709:ThirdPackage/lwip220/api/api_msg.c **** {
 710:ThirdPackage/lwip220/api/api_msg.c ****   struct netconn *conn;
 711:ThirdPackage/lwip220/api/api_msg.c ****   int size;
 712:ThirdPackage/lwip220/api/api_msg.c ****   u8_t init_flags = 0;
 713:ThirdPackage/lwip220/api/api_msg.c **** 
 714:ThirdPackage/lwip220/api/api_msg.c ****   conn = (struct netconn *)memp_malloc(MEMP_NETCONN);
 715:ThirdPackage/lwip220/api/api_msg.c ****   if (conn == NULL) {
 716:ThirdPackage/lwip220/api/api_msg.c ****     return NULL;
 717:ThirdPackage/lwip220/api/api_msg.c ****   }
 718:ThirdPackage/lwip220/api/api_msg.c **** 
 719:ThirdPackage/lwip220/api/api_msg.c ****   conn->pending_err = ERR_OK;
 720:ThirdPackage/lwip220/api/api_msg.c ****   conn->type = t;
 721:ThirdPackage/lwip220/api/api_msg.c ****   conn->pcb.tcp = NULL;
 722:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 723:ThirdPackage/lwip220/api/api_msg.c ****   conn->mbox_threads_waiting = 0;
 724:ThirdPackage/lwip220/api/api_msg.c **** #endif
 725:ThirdPackage/lwip220/api/api_msg.c **** 
 726:ThirdPackage/lwip220/api/api_msg.c ****   /* If all sizes are the same, every compiler should optimize this switch to nothing */
 727:ThirdPackage/lwip220/api/api_msg.c ****   switch (NETCONNTYPE_GROUP(t)) {
 728:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_RAW
 729:ThirdPackage/lwip220/api/api_msg.c ****     case NETCONN_RAW:
 730:ThirdPackage/lwip220/api/api_msg.c ****       size = DEFAULT_RAW_RECVMBOX_SIZE;
 731:ThirdPackage/lwip220/api/api_msg.c ****       break;
 732:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_RAW */
 733:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_UDP
 734:ThirdPackage/lwip220/api/api_msg.c ****     case NETCONN_UDP:
 735:ThirdPackage/lwip220/api/api_msg.c ****       size = DEFAULT_UDP_RECVMBOX_SIZE;
 736:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_NETBUF_RECVINFO
 737:ThirdPackage/lwip220/api/api_msg.c ****       init_flags |= NETCONN_FLAG_PKTINFO;
 738:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_NETBUF_RECVINFO */
 739:ThirdPackage/lwip220/api/api_msg.c ****       break;
 740:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_UDP */
 741:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_TCP
 742:ThirdPackage/lwip220/api/api_msg.c ****     case NETCONN_TCP:
 743:ThirdPackage/lwip220/api/api_msg.c ****       size = DEFAULT_TCP_RECVMBOX_SIZE;
 744:ThirdPackage/lwip220/api/api_msg.c ****       break;
 745:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_TCP */
 746:ThirdPackage/lwip220/api/api_msg.c ****     default:
 747:ThirdPackage/lwip220/api/api_msg.c ****       LWIP_ASSERT("netconn_alloc: undefined netconn_type", 0);
 748:ThirdPackage/lwip220/api/api_msg.c ****       goto free_and_return;
 749:ThirdPackage/lwip220/api/api_msg.c ****   }
 750:ThirdPackage/lwip220/api/api_msg.c **** 
 751:ThirdPackage/lwip220/api/api_msg.c ****   if (sys_mbox_new(&conn->recvmbox, size) != ERR_OK) {
 752:ThirdPackage/lwip220/api/api_msg.c ****     goto free_and_return;
 753:ThirdPackage/lwip220/api/api_msg.c ****   }
 754:ThirdPackage/lwip220/api/api_msg.c **** #if !LWIP_NETCONN_SEM_PER_THREAD
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 33


 755:ThirdPackage/lwip220/api/api_msg.c ****   if (sys_sem_new(&conn->op_completed, 0) != ERR_OK) {
 756:ThirdPackage/lwip220/api/api_msg.c ****     sys_mbox_free(&conn->recvmbox);
 757:ThirdPackage/lwip220/api/api_msg.c ****     goto free_and_return;
 758:ThirdPackage/lwip220/api/api_msg.c ****   }
 759:ThirdPackage/lwip220/api/api_msg.c **** #endif
 760:ThirdPackage/lwip220/api/api_msg.c **** 
 761:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_TCP
 762:ThirdPackage/lwip220/api/api_msg.c ****   sys_mbox_set_invalid(&conn->acceptmbox);
 763:ThirdPackage/lwip220/api/api_msg.c **** #endif
 764:ThirdPackage/lwip220/api/api_msg.c ****   conn->state        = NETCONN_NONE;
 765:ThirdPackage/lwip220/api/api_msg.c ****   /* initialize socket to -1 since 0 is a valid socket */
 766:ThirdPackage/lwip220/api/api_msg.c ****   conn->callback_arg.socket = -1;
 767:ThirdPackage/lwip220/api/api_msg.c ****   conn->callback     = callback;
 768:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_TCP
 769:ThirdPackage/lwip220/api/api_msg.c ****   conn->current_msg  = NULL;
 770:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_TCP */
 771:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_SO_SNDTIMEO
 772:ThirdPackage/lwip220/api/api_msg.c ****   conn->send_timeout = 0;
 773:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_SO_SNDTIMEO */
 774:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_SO_RCVTIMEO
 775:ThirdPackage/lwip220/api/api_msg.c ****   conn->recv_timeout = 0;
 776:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_SO_RCVTIMEO */
 777:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_SO_RCVBUF
 778:ThirdPackage/lwip220/api/api_msg.c ****   conn->recv_bufsize = RECV_BUFSIZE_DEFAULT;
 779:ThirdPackage/lwip220/api/api_msg.c ****   conn->recv_avail   = 0;
 780:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_SO_RCVBUF */
 781:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_SO_LINGER
 782:ThirdPackage/lwip220/api/api_msg.c ****   conn->linger = -1;
 783:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_SO_LINGER */
 784:ThirdPackage/lwip220/api/api_msg.c ****   conn->flags = init_flags;
 785:ThirdPackage/lwip220/api/api_msg.c ****   return conn;
 786:ThirdPackage/lwip220/api/api_msg.c **** free_and_return:
 787:ThirdPackage/lwip220/api/api_msg.c ****   memp_free(MEMP_NETCONN, conn);
 788:ThirdPackage/lwip220/api/api_msg.c ****   return NULL;
 789:ThirdPackage/lwip220/api/api_msg.c **** }
 790:ThirdPackage/lwip220/api/api_msg.c **** 
 791:ThirdPackage/lwip220/api/api_msg.c **** /**
 792:ThirdPackage/lwip220/api/api_msg.c ****  * Delete a netconn and all its resources.
 793:ThirdPackage/lwip220/api/api_msg.c ****  * The pcb is NOT freed (since we might not be in the right thread context do this).
 794:ThirdPackage/lwip220/api/api_msg.c ****  *
 795:ThirdPackage/lwip220/api/api_msg.c ****  * @param conn the netconn to free
 796:ThirdPackage/lwip220/api/api_msg.c ****  */
 797:ThirdPackage/lwip220/api/api_msg.c **** void
 798:ThirdPackage/lwip220/api/api_msg.c **** netconn_free(struct netconn *conn)
 799:ThirdPackage/lwip220/api/api_msg.c **** {
 800:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("PCB must be deallocated outside this function", conn->pcb.tcp == NULL);
 801:ThirdPackage/lwip220/api/api_msg.c **** 
 802:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 803:ThirdPackage/lwip220/api/api_msg.c ****   /* in fullduplex, netconn is drained here */
 804:ThirdPackage/lwip220/api/api_msg.c ****   netconn_drain(conn);
 805:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
 806:ThirdPackage/lwip220/api/api_msg.c **** 
 807:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("recvmbox must be deallocated before calling this function",
 808:ThirdPackage/lwip220/api/api_msg.c ****               !sys_mbox_valid(&conn->recvmbox));
 809:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_TCP
 810:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("acceptmbox must be deallocated before calling this function",
 811:ThirdPackage/lwip220/api/api_msg.c ****               !sys_mbox_valid(&conn->acceptmbox));
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 34


 812:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_TCP */
 813:ThirdPackage/lwip220/api/api_msg.c **** 
 814:ThirdPackage/lwip220/api/api_msg.c **** #if !LWIP_NETCONN_SEM_PER_THREAD
 815:ThirdPackage/lwip220/api/api_msg.c ****   sys_sem_free(&conn->op_completed);
 816:ThirdPackage/lwip220/api/api_msg.c ****   sys_sem_set_invalid(&conn->op_completed);
 817:ThirdPackage/lwip220/api/api_msg.c **** #endif
 818:ThirdPackage/lwip220/api/api_msg.c **** 
 819:ThirdPackage/lwip220/api/api_msg.c ****   memp_free(MEMP_NETCONN, conn);
 820:ThirdPackage/lwip220/api/api_msg.c **** }
 821:ThirdPackage/lwip220/api/api_msg.c **** 
 822:ThirdPackage/lwip220/api/api_msg.c **** /**
 823:ThirdPackage/lwip220/api/api_msg.c ****  * Delete rcvmbox and acceptmbox of a netconn and free the left-over data in
 824:ThirdPackage/lwip220/api/api_msg.c ****  * these mboxes
 825:ThirdPackage/lwip220/api/api_msg.c ****  *
 826:ThirdPackage/lwip220/api/api_msg.c ****  * @param conn the netconn to free
 827:ThirdPackage/lwip220/api/api_msg.c ****  * @bytes_drained bytes drained from recvmbox
 828:ThirdPackage/lwip220/api/api_msg.c ****  * @accepts_drained pending connections drained from acceptmbox
 829:ThirdPackage/lwip220/api/api_msg.c ****  */
 830:ThirdPackage/lwip220/api/api_msg.c **** static void
 831:ThirdPackage/lwip220/api/api_msg.c **** netconn_drain(struct netconn *conn)
 832:ThirdPackage/lwip220/api/api_msg.c **** {
 833:ThirdPackage/lwip220/api/api_msg.c ****   void *mem;
 834:ThirdPackage/lwip220/api/api_msg.c **** 
 835:ThirdPackage/lwip220/api/api_msg.c ****   /* This runs when mbox and netconn are marked as closed,
 836:ThirdPackage/lwip220/api/api_msg.c ****      so we don't need to lock against rx packets */
 837:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 838:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("netconn marked closed", conn->flags & NETCONN_FLAG_MBOXINVALID);
 839:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
 840:ThirdPackage/lwip220/api/api_msg.c **** 
 841:ThirdPackage/lwip220/api/api_msg.c ****   /* Delete and drain the recvmbox. */
 842:ThirdPackage/lwip220/api/api_msg.c ****   if (sys_mbox_valid(&conn->recvmbox)) {
 843:ThirdPackage/lwip220/api/api_msg.c ****     while (sys_mbox_tryfetch(&conn->recvmbox, &mem) != SYS_MBOX_EMPTY) {
 844:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 845:ThirdPackage/lwip220/api/api_msg.c ****       if (!lwip_netconn_is_deallocated_msg(mem))
 846:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
 847:ThirdPackage/lwip220/api/api_msg.c ****       {
 848:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_TCP
 849:ThirdPackage/lwip220/api/api_msg.c ****         if (NETCONNTYPE_GROUP(conn->type) == NETCONN_TCP) {
 850:ThirdPackage/lwip220/api/api_msg.c ****           err_t err;
 851:ThirdPackage/lwip220/api/api_msg.c ****           if (!lwip_netconn_is_err_msg(mem, &err)) {
 852:ThirdPackage/lwip220/api/api_msg.c ****             pbuf_free((struct pbuf *)mem);
 853:ThirdPackage/lwip220/api/api_msg.c ****           }
 854:ThirdPackage/lwip220/api/api_msg.c ****         } else
 855:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_TCP */
 856:ThirdPackage/lwip220/api/api_msg.c ****         {
 857:ThirdPackage/lwip220/api/api_msg.c ****           netbuf_delete((struct netbuf *)mem);
 858:ThirdPackage/lwip220/api/api_msg.c ****         }
 859:ThirdPackage/lwip220/api/api_msg.c ****       }
 860:ThirdPackage/lwip220/api/api_msg.c ****     }
 861:ThirdPackage/lwip220/api/api_msg.c ****     sys_mbox_free(&conn->recvmbox);
 862:ThirdPackage/lwip220/api/api_msg.c ****     sys_mbox_set_invalid(&conn->recvmbox);
 863:ThirdPackage/lwip220/api/api_msg.c ****   }
 864:ThirdPackage/lwip220/api/api_msg.c **** 
 865:ThirdPackage/lwip220/api/api_msg.c ****   /* Delete and drain the acceptmbox. */
 866:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_TCP
 867:ThirdPackage/lwip220/api/api_msg.c ****   if (sys_mbox_valid(&conn->acceptmbox)) {
 868:ThirdPackage/lwip220/api/api_msg.c ****     while (sys_mbox_tryfetch(&conn->acceptmbox, &mem) != SYS_MBOX_EMPTY) {
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 35


 869:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 870:ThirdPackage/lwip220/api/api_msg.c ****       if (!lwip_netconn_is_deallocated_msg(mem))
 871:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
 872:ThirdPackage/lwip220/api/api_msg.c ****       {
 873:ThirdPackage/lwip220/api/api_msg.c ****         err_t err;
 874:ThirdPackage/lwip220/api/api_msg.c ****         if (!lwip_netconn_is_err_msg(mem, &err)) {
 875:ThirdPackage/lwip220/api/api_msg.c ****           struct netconn *newconn = (struct netconn *)mem;
 876:ThirdPackage/lwip220/api/api_msg.c ****           /* Only tcp pcbs have an acceptmbox, so no need to check conn->type */
 877:ThirdPackage/lwip220/api/api_msg.c ****           /* pcb might be set to NULL already by err_tcp() */
 878:ThirdPackage/lwip220/api/api_msg.c ****           /* drain recvmbox */
 879:ThirdPackage/lwip220/api/api_msg.c ****           netconn_drain(newconn);
 880:ThirdPackage/lwip220/api/api_msg.c ****           if (newconn->pcb.tcp != NULL) {
 881:ThirdPackage/lwip220/api/api_msg.c ****             tcp_abort(newconn->pcb.tcp);
 882:ThirdPackage/lwip220/api/api_msg.c ****             newconn->pcb.tcp = NULL;
 883:ThirdPackage/lwip220/api/api_msg.c ****           }
 884:ThirdPackage/lwip220/api/api_msg.c ****           netconn_free(newconn);
 885:ThirdPackage/lwip220/api/api_msg.c ****         }
 886:ThirdPackage/lwip220/api/api_msg.c ****       }
 887:ThirdPackage/lwip220/api/api_msg.c ****     }
 888:ThirdPackage/lwip220/api/api_msg.c ****     sys_mbox_free(&conn->acceptmbox);
 889:ThirdPackage/lwip220/api/api_msg.c ****     sys_mbox_set_invalid(&conn->acceptmbox);
 890:ThirdPackage/lwip220/api/api_msg.c ****   }
 891:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_TCP */
 892:ThirdPackage/lwip220/api/api_msg.c **** }
 893:ThirdPackage/lwip220/api/api_msg.c **** 
 894:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 895:ThirdPackage/lwip220/api/api_msg.c **** static void
 896:ThirdPackage/lwip220/api/api_msg.c **** netconn_mark_mbox_invalid(struct netconn *conn)
 897:ThirdPackage/lwip220/api/api_msg.c **** {
 898:ThirdPackage/lwip220/api/api_msg.c ****   int i, num_waiting;
 899:ThirdPackage/lwip220/api/api_msg.c ****   void *msg = LWIP_CONST_CAST(void *, &netconn_deleted);
 900:ThirdPackage/lwip220/api/api_msg.c **** 
 901:ThirdPackage/lwip220/api/api_msg.c ****   /* Prevent new calls/threads from reading from the mbox */
 902:ThirdPackage/lwip220/api/api_msg.c ****   conn->flags |= NETCONN_FLAG_MBOXINVALID;
 903:ThirdPackage/lwip220/api/api_msg.c **** 
 904:ThirdPackage/lwip220/api/api_msg.c ****   SYS_ARCH_LOCKED(num_waiting = conn->mbox_threads_waiting);
 905:ThirdPackage/lwip220/api/api_msg.c ****   for (i = 0; i < num_waiting; i++) {
 906:ThirdPackage/lwip220/api/api_msg.c ****     if (sys_mbox_valid_val(conn->recvmbox)) {
 907:ThirdPackage/lwip220/api/api_msg.c ****       sys_mbox_trypost(&conn->recvmbox, msg);
 908:ThirdPackage/lwip220/api/api_msg.c ****     } else {
 909:ThirdPackage/lwip220/api/api_msg.c ****       sys_mbox_trypost(&conn->acceptmbox, msg);
 910:ThirdPackage/lwip220/api/api_msg.c ****     }
 911:ThirdPackage/lwip220/api/api_msg.c ****   }
 912:ThirdPackage/lwip220/api/api_msg.c **** }
 913:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
 914:ThirdPackage/lwip220/api/api_msg.c **** 
 915:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_TCP
 916:ThirdPackage/lwip220/api/api_msg.c **** /**
 917:ThirdPackage/lwip220/api/api_msg.c ****  * Internal helper function to close a TCP netconn: since this sometimes
 918:ThirdPackage/lwip220/api/api_msg.c ****  * doesn't work at the first attempt, this function is called from multiple
 919:ThirdPackage/lwip220/api/api_msg.c ****  * places.
 920:ThirdPackage/lwip220/api/api_msg.c ****  *
 921:ThirdPackage/lwip220/api/api_msg.c ****  * @param conn the TCP netconn to close
 922:ThirdPackage/lwip220/api/api_msg.c ****  */
 923:ThirdPackage/lwip220/api/api_msg.c **** static err_t
 924:ThirdPackage/lwip220/api/api_msg.c **** lwip_netconn_do_close_internal(struct netconn *conn  WRITE_DELAYED_PARAM)
 925:ThirdPackage/lwip220/api/api_msg.c **** {
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 36


 926:ThirdPackage/lwip220/api/api_msg.c ****   err_t err;
 927:ThirdPackage/lwip220/api/api_msg.c ****   u8_t shut, shut_rx, shut_tx, shut_close;
 928:ThirdPackage/lwip220/api/api_msg.c ****   u8_t close_finished = 0;
 929:ThirdPackage/lwip220/api/api_msg.c ****   struct tcp_pcb *tpcb;
 930:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_SO_LINGER
 931:ThirdPackage/lwip220/api/api_msg.c ****   u8_t linger_wait_required = 0;
 932:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_SO_LINGER */
 933:ThirdPackage/lwip220/api/api_msg.c **** 
 934:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("invalid conn", (conn != NULL));
 935:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("this is for tcp netconns only", (NETCONNTYPE_GROUP(conn->type) == NETCONN_TCP));
 936:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("conn must be in state NETCONN_CLOSE", (conn->state == NETCONN_CLOSE));
 937:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("pcb already closed", (conn->pcb.tcp != NULL));
 938:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg != NULL", conn->current_msg != NULL);
 939:ThirdPackage/lwip220/api/api_msg.c **** 
 940:ThirdPackage/lwip220/api/api_msg.c ****   tpcb = conn->pcb.tcp;
 941:ThirdPackage/lwip220/api/api_msg.c ****   shut = conn->current_msg->msg.sd.shut;
 942:ThirdPackage/lwip220/api/api_msg.c ****   shut_rx = shut & NETCONN_SHUT_RD;
 943:ThirdPackage/lwip220/api/api_msg.c ****   shut_tx = shut & NETCONN_SHUT_WR;
 944:ThirdPackage/lwip220/api/api_msg.c ****   /* shutting down both ends is the same as closing
 945:ThirdPackage/lwip220/api/api_msg.c ****      (also if RD or WR side was shut down before already) */
 946:ThirdPackage/lwip220/api/api_msg.c ****   if (shut == NETCONN_SHUT_RDWR) {
 947:ThirdPackage/lwip220/api/api_msg.c ****     shut_close = 1;
 948:ThirdPackage/lwip220/api/api_msg.c ****   } else if (shut_rx &&
 949:ThirdPackage/lwip220/api/api_msg.c ****              ((tpcb->state == FIN_WAIT_1) ||
 950:ThirdPackage/lwip220/api/api_msg.c ****               (tpcb->state == FIN_WAIT_2) ||
 951:ThirdPackage/lwip220/api/api_msg.c ****               (tpcb->state == CLOSING))) {
 952:ThirdPackage/lwip220/api/api_msg.c ****     shut_close = 1;
 953:ThirdPackage/lwip220/api/api_msg.c ****   } else if (shut_tx && ((tpcb->flags & TF_RXCLOSED) != 0)) {
 954:ThirdPackage/lwip220/api/api_msg.c ****     shut_close = 1;
 955:ThirdPackage/lwip220/api/api_msg.c ****   } else {
 956:ThirdPackage/lwip220/api/api_msg.c ****     shut_close = 0;
 957:ThirdPackage/lwip220/api/api_msg.c ****   }
 958:ThirdPackage/lwip220/api/api_msg.c **** 
 959:ThirdPackage/lwip220/api/api_msg.c ****   /* Set back some callback pointers */
 960:ThirdPackage/lwip220/api/api_msg.c ****   if (shut_close) {
 961:ThirdPackage/lwip220/api/api_msg.c ****     tcp_arg(tpcb, NULL);
 962:ThirdPackage/lwip220/api/api_msg.c ****   }
 963:ThirdPackage/lwip220/api/api_msg.c ****   if (tpcb->state == LISTEN) {
 964:ThirdPackage/lwip220/api/api_msg.c ****     tcp_accept(tpcb, NULL);
 965:ThirdPackage/lwip220/api/api_msg.c ****   } else {
 966:ThirdPackage/lwip220/api/api_msg.c ****     /* some callbacks have to be reset if tcp_close is not successful */
 967:ThirdPackage/lwip220/api/api_msg.c ****     if (shut_rx) {
 968:ThirdPackage/lwip220/api/api_msg.c ****       tcp_recv(tpcb, NULL);
 969:ThirdPackage/lwip220/api/api_msg.c ****       tcp_accept(tpcb, NULL);
 970:ThirdPackage/lwip220/api/api_msg.c ****     }
 971:ThirdPackage/lwip220/api/api_msg.c ****     if (shut_tx) {
 972:ThirdPackage/lwip220/api/api_msg.c ****       tcp_sent(tpcb, NULL);
 973:ThirdPackage/lwip220/api/api_msg.c ****     }
 974:ThirdPackage/lwip220/api/api_msg.c ****     if (shut_close) {
 975:ThirdPackage/lwip220/api/api_msg.c ****       tcp_poll(tpcb, NULL, 0);
 976:ThirdPackage/lwip220/api/api_msg.c ****       tcp_err(tpcb, NULL);
 977:ThirdPackage/lwip220/api/api_msg.c ****     }
 978:ThirdPackage/lwip220/api/api_msg.c ****   }
 979:ThirdPackage/lwip220/api/api_msg.c ****   /* Try to close the connection */
 980:ThirdPackage/lwip220/api/api_msg.c ****   if (shut_close) {
 981:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_SO_LINGER
 982:ThirdPackage/lwip220/api/api_msg.c ****     /* check linger possibilities before calling tcp_close */
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 37


 983:ThirdPackage/lwip220/api/api_msg.c ****     err = ERR_OK;
 984:ThirdPackage/lwip220/api/api_msg.c ****     /* linger enabled/required at all? (i.e. is there untransmitted data left?) */
 985:ThirdPackage/lwip220/api/api_msg.c ****     if ((conn->linger >= 0) && (conn->pcb.tcp->unsent || conn->pcb.tcp->unacked)) {
 986:ThirdPackage/lwip220/api/api_msg.c ****       if ((conn->linger == 0)) {
 987:ThirdPackage/lwip220/api/api_msg.c ****         /* data left but linger prevents waiting */
 988:ThirdPackage/lwip220/api/api_msg.c ****         tcp_abort(tpcb);
 989:ThirdPackage/lwip220/api/api_msg.c ****         tpcb = NULL;
 990:ThirdPackage/lwip220/api/api_msg.c ****       } else if (conn->linger > 0) {
 991:ThirdPackage/lwip220/api/api_msg.c ****         /* data left and linger says we should wait */
 992:ThirdPackage/lwip220/api/api_msg.c ****         if (netconn_is_nonblocking(conn)) {
 993:ThirdPackage/lwip220/api/api_msg.c ****           /* data left on a nonblocking netconn -> cannot linger */
 994:ThirdPackage/lwip220/api/api_msg.c ****           err = ERR_WOULDBLOCK;
 995:ThirdPackage/lwip220/api/api_msg.c ****         } else if ((s32_t)(sys_now() - conn->current_msg->msg.sd.time_started) >=
 996:ThirdPackage/lwip220/api/api_msg.c ****                    (conn->linger * 1000)) {
 997:ThirdPackage/lwip220/api/api_msg.c ****           /* data left but linger timeout has expired (this happens on further
 998:ThirdPackage/lwip220/api/api_msg.c ****              calls to this function through poll_tcp */
 999:ThirdPackage/lwip220/api/api_msg.c ****           tcp_abort(tpcb);
1000:ThirdPackage/lwip220/api/api_msg.c ****           tpcb = NULL;
1001:ThirdPackage/lwip220/api/api_msg.c ****         } else {
1002:ThirdPackage/lwip220/api/api_msg.c ****           /* data left -> need to wait for ACK after successful close */
1003:ThirdPackage/lwip220/api/api_msg.c ****           linger_wait_required = 1;
1004:ThirdPackage/lwip220/api/api_msg.c ****         }
1005:ThirdPackage/lwip220/api/api_msg.c ****       }
1006:ThirdPackage/lwip220/api/api_msg.c ****     }
1007:ThirdPackage/lwip220/api/api_msg.c ****     if ((err == ERR_OK) && (tpcb != NULL))
1008:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_SO_LINGER */
1009:ThirdPackage/lwip220/api/api_msg.c ****     {
1010:ThirdPackage/lwip220/api/api_msg.c ****       err = tcp_close(tpcb);
1011:ThirdPackage/lwip220/api/api_msg.c ****     }
1012:ThirdPackage/lwip220/api/api_msg.c ****   } else {
1013:ThirdPackage/lwip220/api/api_msg.c ****     err = tcp_shutdown(tpcb, shut_rx, shut_tx);
1014:ThirdPackage/lwip220/api/api_msg.c ****   }
1015:ThirdPackage/lwip220/api/api_msg.c ****   if (err == ERR_OK) {
1016:ThirdPackage/lwip220/api/api_msg.c ****     close_finished = 1;
1017:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_SO_LINGER
1018:ThirdPackage/lwip220/api/api_msg.c ****     if (linger_wait_required) {
1019:ThirdPackage/lwip220/api/api_msg.c ****       /* wait for ACK of all unsent/unacked data by just getting called again */
1020:ThirdPackage/lwip220/api/api_msg.c ****       close_finished = 0;
1021:ThirdPackage/lwip220/api/api_msg.c ****       err = ERR_INPROGRESS;
1022:ThirdPackage/lwip220/api/api_msg.c ****     }
1023:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_SO_LINGER */
1024:ThirdPackage/lwip220/api/api_msg.c ****   } else {
1025:ThirdPackage/lwip220/api/api_msg.c ****     if (err == ERR_MEM) {
1026:ThirdPackage/lwip220/api/api_msg.c ****       /* Closing failed because of memory shortage, try again later. Even for
1027:ThirdPackage/lwip220/api/api_msg.c ****          nonblocking netconns, we have to wait since no standard socket application
1028:ThirdPackage/lwip220/api/api_msg.c ****          is prepared for close failing because of resource shortage.
1029:ThirdPackage/lwip220/api/api_msg.c ****          Check the timeout: this is kind of an lwip addition to the standard sockets:
1030:ThirdPackage/lwip220/api/api_msg.c ****          we wait for some time when failing to allocate a segment for the FIN */
1031:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_SO_SNDTIMEO || LWIP_SO_LINGER
1032:ThirdPackage/lwip220/api/api_msg.c ****       s32_t close_timeout = LWIP_TCP_CLOSE_TIMEOUT_MS_DEFAULT;
1033:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_SO_SNDTIMEO
1034:ThirdPackage/lwip220/api/api_msg.c ****       if (conn->send_timeout > 0) {
1035:ThirdPackage/lwip220/api/api_msg.c ****         close_timeout = conn->send_timeout;
1036:ThirdPackage/lwip220/api/api_msg.c ****       }
1037:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_SO_SNDTIMEO */
1038:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_SO_LINGER
1039:ThirdPackage/lwip220/api/api_msg.c ****       if (conn->linger >= 0) {
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 38


1040:ThirdPackage/lwip220/api/api_msg.c ****         /* use linger timeout (seconds) */
1041:ThirdPackage/lwip220/api/api_msg.c ****         close_timeout = conn->linger * 1000U;
1042:ThirdPackage/lwip220/api/api_msg.c ****       }
1043:ThirdPackage/lwip220/api/api_msg.c **** #endif
1044:ThirdPackage/lwip220/api/api_msg.c ****       if ((s32_t)(sys_now() - conn->current_msg->msg.sd.time_started) >= close_timeout) {
1045:ThirdPackage/lwip220/api/api_msg.c **** #else /* LWIP_SO_SNDTIMEO || LWIP_SO_LINGER */
1046:ThirdPackage/lwip220/api/api_msg.c ****       if (conn->current_msg->msg.sd.polls_left == 0) {
1047:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_SO_SNDTIMEO || LWIP_SO_LINGER */
1048:ThirdPackage/lwip220/api/api_msg.c ****         close_finished = 1;
1049:ThirdPackage/lwip220/api/api_msg.c ****         if (shut_close) {
1050:ThirdPackage/lwip220/api/api_msg.c ****           /* in this case, we want to RST the connection */
1051:ThirdPackage/lwip220/api/api_msg.c ****           tcp_abort(tpcb);
1052:ThirdPackage/lwip220/api/api_msg.c ****           err = ERR_OK;
1053:ThirdPackage/lwip220/api/api_msg.c ****         }
1054:ThirdPackage/lwip220/api/api_msg.c ****       }
1055:ThirdPackage/lwip220/api/api_msg.c ****     } else {
1056:ThirdPackage/lwip220/api/api_msg.c ****       /* Closing failed for a non-memory error: give up */
1057:ThirdPackage/lwip220/api/api_msg.c ****       close_finished = 1;
1058:ThirdPackage/lwip220/api/api_msg.c ****     }
1059:ThirdPackage/lwip220/api/api_msg.c ****   }
1060:ThirdPackage/lwip220/api/api_msg.c ****   if (close_finished) {
1061:ThirdPackage/lwip220/api/api_msg.c ****     /* Closing done (succeeded, non-memory error, nonblocking error or timeout) */
1062:ThirdPackage/lwip220/api/api_msg.c ****     sys_sem_t *op_completed_sem = LWIP_API_MSG_SEM(conn->current_msg);
1063:ThirdPackage/lwip220/api/api_msg.c ****     conn->current_msg->err = err;
1064:ThirdPackage/lwip220/api/api_msg.c ****     conn->current_msg = NULL;
1065:ThirdPackage/lwip220/api/api_msg.c ****     conn->state = NETCONN_NONE;
1066:ThirdPackage/lwip220/api/api_msg.c ****     if (err == ERR_OK) {
1067:ThirdPackage/lwip220/api/api_msg.c ****       if (shut_close) {
1068:ThirdPackage/lwip220/api/api_msg.c ****         /* Set back some callback pointers as conn is going away */
1069:ThirdPackage/lwip220/api/api_msg.c ****         conn->pcb.tcp = NULL;
1070:ThirdPackage/lwip220/api/api_msg.c ****         /* Trigger select() in socket layer. Make sure everybody notices activity
1071:ThirdPackage/lwip220/api/api_msg.c ****          on the connection, error first! */
1072:ThirdPackage/lwip220/api/api_msg.c ****         API_EVENT(conn, NETCONN_EVT_ERROR, 0);
1073:ThirdPackage/lwip220/api/api_msg.c ****       }
1074:ThirdPackage/lwip220/api/api_msg.c ****       if (shut_rx) {
1075:ThirdPackage/lwip220/api/api_msg.c ****         API_EVENT(conn, NETCONN_EVT_RCVPLUS, 0);
1076:ThirdPackage/lwip220/api/api_msg.c ****       }
1077:ThirdPackage/lwip220/api/api_msg.c ****       if (shut_tx) {
1078:ThirdPackage/lwip220/api/api_msg.c ****         API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
1079:ThirdPackage/lwip220/api/api_msg.c ****       }
1080:ThirdPackage/lwip220/api/api_msg.c ****     }
1081:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
1082:ThirdPackage/lwip220/api/api_msg.c ****     if (delayed)
1083:ThirdPackage/lwip220/api/api_msg.c **** #endif
1084:ThirdPackage/lwip220/api/api_msg.c ****     {
1085:ThirdPackage/lwip220/api/api_msg.c ****       /* wake up the application task */
1086:ThirdPackage/lwip220/api/api_msg.c ****       sys_sem_signal(op_completed_sem);
1087:ThirdPackage/lwip220/api/api_msg.c ****     }
1088:ThirdPackage/lwip220/api/api_msg.c ****     return ERR_OK;
1089:ThirdPackage/lwip220/api/api_msg.c ****   }
1090:ThirdPackage/lwip220/api/api_msg.c ****   if (!close_finished) {
1091:ThirdPackage/lwip220/api/api_msg.c ****     /* Closing failed and we want to wait: restore some of the callbacks */
1092:ThirdPackage/lwip220/api/api_msg.c ****     /* Closing of listen pcb will never fail! */
1093:ThirdPackage/lwip220/api/api_msg.c ****     LWIP_ASSERT("Closing a listen pcb may not fail!", (tpcb->state != LISTEN));
1094:ThirdPackage/lwip220/api/api_msg.c ****     if (shut_tx) {
1095:ThirdPackage/lwip220/api/api_msg.c ****       tcp_sent(tpcb, sent_tcp);
1096:ThirdPackage/lwip220/api/api_msg.c ****     }
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 39


1097:ThirdPackage/lwip220/api/api_msg.c ****     /* when waiting for close, set up poll interval to 500ms */
1098:ThirdPackage/lwip220/api/api_msg.c ****     tcp_poll(tpcb, poll_tcp, 1);
1099:ThirdPackage/lwip220/api/api_msg.c ****     tcp_err(tpcb, err_tcp);
1100:ThirdPackage/lwip220/api/api_msg.c ****     tcp_arg(tpcb, conn);
1101:ThirdPackage/lwip220/api/api_msg.c ****     /* don't restore recv callback: we don't want to receive any more data */
1102:ThirdPackage/lwip220/api/api_msg.c ****   }
1103:ThirdPackage/lwip220/api/api_msg.c ****   /* If closing didn't succeed, we get called again either
1104:ThirdPackage/lwip220/api/api_msg.c ****      from poll_tcp or from sent_tcp */
1105:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("err != ERR_OK", err != ERR_OK);
1106:ThirdPackage/lwip220/api/api_msg.c ****   return err;
1107:ThirdPackage/lwip220/api/api_msg.c **** }
1108:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_TCP */
1109:ThirdPackage/lwip220/api/api_msg.c **** 
1110:ThirdPackage/lwip220/api/api_msg.c **** /**
1111:ThirdPackage/lwip220/api/api_msg.c ****  * Delete the pcb inside a netconn.
1112:ThirdPackage/lwip220/api/api_msg.c ****  * Called from netconn_delete.
1113:ThirdPackage/lwip220/api/api_msg.c ****  *
1114:ThirdPackage/lwip220/api/api_msg.c ****  * @param m the api_msg pointing to the connection
1115:ThirdPackage/lwip220/api/api_msg.c ****  */
1116:ThirdPackage/lwip220/api/api_msg.c **** void
1117:ThirdPackage/lwip220/api/api_msg.c **** lwip_netconn_do_delconn(void *m)
1118:ThirdPackage/lwip220/api/api_msg.c **** {
1119:ThirdPackage/lwip220/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
1120:ThirdPackage/lwip220/api/api_msg.c **** 
1121:ThirdPackage/lwip220/api/api_msg.c ****   enum netconn_state state = msg->conn->state;
1122:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("netconn state error", /* this only happens for TCP netconns */
1123:ThirdPackage/lwip220/api/api_msg.c ****               (state == NETCONN_NONE) || (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP));
1124:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
1125:ThirdPackage/lwip220/api/api_msg.c ****   /* In full duplex mode, blocking write/connect is aborted with ERR_CLSD */
1126:ThirdPackage/lwip220/api/api_msg.c ****   if (state != NETCONN_NONE) {
1127:ThirdPackage/lwip220/api/api_msg.c ****     if ((state == NETCONN_WRITE) ||
1128:ThirdPackage/lwip220/api/api_msg.c ****         ((state == NETCONN_CONNECT) && !IN_NONBLOCKING_CONNECT(msg->conn))) {
1129:ThirdPackage/lwip220/api/api_msg.c ****       /* close requested, abort running write/connect */
1130:ThirdPackage/lwip220/api/api_msg.c ****       sys_sem_t *op_completed_sem;
1131:ThirdPackage/lwip220/api/api_msg.c ****       LWIP_ASSERT("msg->conn->current_msg != NULL", msg->conn->current_msg != NULL);
1132:ThirdPackage/lwip220/api/api_msg.c ****       op_completed_sem = LWIP_API_MSG_SEM(msg->conn->current_msg);
1133:ThirdPackage/lwip220/api/api_msg.c ****       msg->conn->current_msg->err = ERR_CLSD;
1134:ThirdPackage/lwip220/api/api_msg.c ****       msg->conn->current_msg = NULL;
1135:ThirdPackage/lwip220/api/api_msg.c ****       msg->conn->state = NETCONN_NONE;
1136:ThirdPackage/lwip220/api/api_msg.c ****       sys_sem_signal(op_completed_sem);
1137:ThirdPackage/lwip220/api/api_msg.c ****     }
1138:ThirdPackage/lwip220/api/api_msg.c ****   }
1139:ThirdPackage/lwip220/api/api_msg.c **** #else /* LWIP_NETCONN_FULLDUPLEX */
1140:ThirdPackage/lwip220/api/api_msg.c ****   if (((state != NETCONN_NONE) &&
1141:ThirdPackage/lwip220/api/api_msg.c ****        (state != NETCONN_LISTEN) &&
1142:ThirdPackage/lwip220/api/api_msg.c ****        (state != NETCONN_CONNECT)) ||
1143:ThirdPackage/lwip220/api/api_msg.c ****       ((state == NETCONN_CONNECT) && !IN_NONBLOCKING_CONNECT(msg->conn))) {
1144:ThirdPackage/lwip220/api/api_msg.c ****     /* This means either a blocking write or blocking connect is running
1145:ThirdPackage/lwip220/api/api_msg.c ****        (nonblocking write returns and sets state to NONE) */
1146:ThirdPackage/lwip220/api/api_msg.c ****     msg->err = ERR_INPROGRESS;
1147:ThirdPackage/lwip220/api/api_msg.c ****   } else
1148:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
1149:ThirdPackage/lwip220/api/api_msg.c ****   {
1150:ThirdPackage/lwip220/api/api_msg.c ****     LWIP_ASSERT("blocking connect in progress",
1151:ThirdPackage/lwip220/api/api_msg.c ****                 (state != NETCONN_CONNECT) || IN_NONBLOCKING_CONNECT(msg->conn));
1152:ThirdPackage/lwip220/api/api_msg.c ****     msg->err = ERR_OK;
1153:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 40


1154:ThirdPackage/lwip220/api/api_msg.c ****     /* Mark mboxes invalid */
1155:ThirdPackage/lwip220/api/api_msg.c ****     netconn_mark_mbox_invalid(msg->conn);
1156:ThirdPackage/lwip220/api/api_msg.c **** #else /* LWIP_NETCONN_FULLDUPLEX */
1157:ThirdPackage/lwip220/api/api_msg.c ****     netconn_drain(msg->conn);
1158:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
1159:ThirdPackage/lwip220/api/api_msg.c **** 
1160:ThirdPackage/lwip220/api/api_msg.c ****     if (msg->conn->pcb.tcp != NULL) {
1161:ThirdPackage/lwip220/api/api_msg.c **** 
1162:ThirdPackage/lwip220/api/api_msg.c ****       switch (NETCONNTYPE_GROUP(msg->conn->type)) {
1163:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_RAW
1164:ThirdPackage/lwip220/api/api_msg.c ****         case NETCONN_RAW:
1165:ThirdPackage/lwip220/api/api_msg.c ****           raw_remove(msg->conn->pcb.raw);
1166:ThirdPackage/lwip220/api/api_msg.c ****           break;
1167:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_RAW */
1168:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_UDP
1169:ThirdPackage/lwip220/api/api_msg.c ****         case NETCONN_UDP:
1170:ThirdPackage/lwip220/api/api_msg.c ****           msg->conn->pcb.udp->recv_arg = NULL;
1171:ThirdPackage/lwip220/api/api_msg.c ****           udp_remove(msg->conn->pcb.udp);
1172:ThirdPackage/lwip220/api/api_msg.c ****           break;
1173:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_UDP */
1174:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_TCP
1175:ThirdPackage/lwip220/api/api_msg.c ****         case NETCONN_TCP:
1176:ThirdPackage/lwip220/api/api_msg.c ****           LWIP_ASSERT("already writing or closing", msg->conn->current_msg == NULL);
1177:ThirdPackage/lwip220/api/api_msg.c ****           msg->conn->state = NETCONN_CLOSE;
1178:ThirdPackage/lwip220/api/api_msg.c ****           msg->msg.sd.shut = NETCONN_SHUT_RDWR;
1179:ThirdPackage/lwip220/api/api_msg.c ****           msg->conn->current_msg = msg;
1180:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
1181:ThirdPackage/lwip220/api/api_msg.c ****           if (lwip_netconn_do_close_internal(msg->conn, 0) != ERR_OK) {
1182:ThirdPackage/lwip220/api/api_msg.c ****             LWIP_ASSERT("state!", msg->conn->state == NETCONN_CLOSE);
1183:ThirdPackage/lwip220/api/api_msg.c ****             UNLOCK_TCPIP_CORE();
1184:ThirdPackage/lwip220/api/api_msg.c ****             sys_arch_sem_wait(LWIP_API_MSG_SEM(msg), 0);
1185:ThirdPackage/lwip220/api/api_msg.c ****             LOCK_TCPIP_CORE();
1186:ThirdPackage/lwip220/api/api_msg.c ****             LWIP_ASSERT("state!", msg->conn->state == NETCONN_NONE);
1187:ThirdPackage/lwip220/api/api_msg.c ****           }
1188:ThirdPackage/lwip220/api/api_msg.c **** #else /* LWIP_TCPIP_CORE_LOCKING */
1189:ThirdPackage/lwip220/api/api_msg.c ****           lwip_netconn_do_close_internal(msg->conn);
1190:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
1191:ThirdPackage/lwip220/api/api_msg.c ****           /* API_EVENT is called inside lwip_netconn_do_close_internal, before releasing
1192:ThirdPackage/lwip220/api/api_msg.c ****              the application thread, so we can return at this point! */
1193:ThirdPackage/lwip220/api/api_msg.c ****           return;
1194:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_TCP */
1195:ThirdPackage/lwip220/api/api_msg.c ****         default:
1196:ThirdPackage/lwip220/api/api_msg.c ****           break;
1197:ThirdPackage/lwip220/api/api_msg.c ****       }
1198:ThirdPackage/lwip220/api/api_msg.c ****       msg->conn->pcb.tcp = NULL;
1199:ThirdPackage/lwip220/api/api_msg.c ****     }
1200:ThirdPackage/lwip220/api/api_msg.c ****     /* tcp netconns don't come here! */
1201:ThirdPackage/lwip220/api/api_msg.c **** 
1202:ThirdPackage/lwip220/api/api_msg.c ****     /* @todo: this lets select make the socket readable and writable,
1203:ThirdPackage/lwip220/api/api_msg.c ****        which is wrong! errfd instead? */
1204:ThirdPackage/lwip220/api/api_msg.c ****     API_EVENT(msg->conn, NETCONN_EVT_RCVPLUS, 0);
1205:ThirdPackage/lwip220/api/api_msg.c ****     API_EVENT(msg->conn, NETCONN_EVT_SENDPLUS, 0);
1206:ThirdPackage/lwip220/api/api_msg.c ****   }
1207:ThirdPackage/lwip220/api/api_msg.c ****   if (sys_sem_valid(LWIP_API_MSG_SEM(msg))) {
1208:ThirdPackage/lwip220/api/api_msg.c ****     TCPIP_APIMSG_ACK(msg);
1209:ThirdPackage/lwip220/api/api_msg.c ****   }
1210:ThirdPackage/lwip220/api/api_msg.c **** }
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 41


1211:ThirdPackage/lwip220/api/api_msg.c **** 
1212:ThirdPackage/lwip220/api/api_msg.c **** /**
1213:ThirdPackage/lwip220/api/api_msg.c ****  * Bind a pcb contained in a netconn
1214:ThirdPackage/lwip220/api/api_msg.c ****  * Called from netconn_bind.
1215:ThirdPackage/lwip220/api/api_msg.c ****  *
1216:ThirdPackage/lwip220/api/api_msg.c ****  * @param m the api_msg pointing to the connection and containing
1217:ThirdPackage/lwip220/api/api_msg.c ****  *          the IP address and port to bind to
1218:ThirdPackage/lwip220/api/api_msg.c ****  */
1219:ThirdPackage/lwip220/api/api_msg.c **** void
1220:ThirdPackage/lwip220/api/api_msg.c **** lwip_netconn_do_bind(void *m)
1221:ThirdPackage/lwip220/api/api_msg.c **** {
1222:ThirdPackage/lwip220/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
1223:ThirdPackage/lwip220/api/api_msg.c ****   err_t err;
1224:ThirdPackage/lwip220/api/api_msg.c **** 
1225:ThirdPackage/lwip220/api/api_msg.c ****   if (msg->conn->pcb.tcp != NULL) {
1226:ThirdPackage/lwip220/api/api_msg.c ****     switch (NETCONNTYPE_GROUP(msg->conn->type)) {
1227:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_RAW
1228:ThirdPackage/lwip220/api/api_msg.c ****       case NETCONN_RAW:
1229:ThirdPackage/lwip220/api/api_msg.c ****         err = raw_bind(msg->conn->pcb.raw, API_EXPR_REF(msg->msg.bc.ipaddr));
1230:ThirdPackage/lwip220/api/api_msg.c ****         break;
1231:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_RAW */
1232:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_UDP
1233:ThirdPackage/lwip220/api/api_msg.c ****       case NETCONN_UDP:
1234:ThirdPackage/lwip220/api/api_msg.c ****         err = udp_bind(msg->conn->pcb.udp, API_EXPR_REF(msg->msg.bc.ipaddr), msg->msg.bc.port);
1235:ThirdPackage/lwip220/api/api_msg.c ****         break;
1236:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_UDP */
1237:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_TCP
1238:ThirdPackage/lwip220/api/api_msg.c ****       case NETCONN_TCP:
1239:ThirdPackage/lwip220/api/api_msg.c ****         err = tcp_bind(msg->conn->pcb.tcp, API_EXPR_REF(msg->msg.bc.ipaddr), msg->msg.bc.port);
1240:ThirdPackage/lwip220/api/api_msg.c ****         break;
1241:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_TCP */
1242:ThirdPackage/lwip220/api/api_msg.c ****       default:
1243:ThirdPackage/lwip220/api/api_msg.c ****         err = ERR_VAL;
1244:ThirdPackage/lwip220/api/api_msg.c ****         break;
1245:ThirdPackage/lwip220/api/api_msg.c ****     }
1246:ThirdPackage/lwip220/api/api_msg.c ****   } else {
1247:ThirdPackage/lwip220/api/api_msg.c ****     err = ERR_VAL;
1248:ThirdPackage/lwip220/api/api_msg.c ****   }
1249:ThirdPackage/lwip220/api/api_msg.c ****   msg->err = err;
1250:ThirdPackage/lwip220/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
1251:ThirdPackage/lwip220/api/api_msg.c **** }
1252:ThirdPackage/lwip220/api/api_msg.c **** /**
1253:ThirdPackage/lwip220/api/api_msg.c ****  * Bind a pcb contained in a netconn to an interface
1254:ThirdPackage/lwip220/api/api_msg.c ****  * Called from netconn_bind_if.
1255:ThirdPackage/lwip220/api/api_msg.c ****  *
1256:ThirdPackage/lwip220/api/api_msg.c ****  * @param m the api_msg pointing to the connection and containing
1257:ThirdPackage/lwip220/api/api_msg.c ****  *          the IP address and port to bind to
1258:ThirdPackage/lwip220/api/api_msg.c ****  */
1259:ThirdPackage/lwip220/api/api_msg.c **** void
1260:ThirdPackage/lwip220/api/api_msg.c **** lwip_netconn_do_bind_if(void *m)
1261:ThirdPackage/lwip220/api/api_msg.c **** {
1262:ThirdPackage/lwip220/api/api_msg.c ****   struct netif *netif;
1263:ThirdPackage/lwip220/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
1264:ThirdPackage/lwip220/api/api_msg.c ****   err_t err;
1265:ThirdPackage/lwip220/api/api_msg.c **** 
1266:ThirdPackage/lwip220/api/api_msg.c ****   netif = netif_get_by_index(msg->msg.bc.if_idx);
1267:ThirdPackage/lwip220/api/api_msg.c **** 
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 42


1268:ThirdPackage/lwip220/api/api_msg.c ****   if ((netif != NULL) && (msg->conn->pcb.tcp != NULL)) {
1269:ThirdPackage/lwip220/api/api_msg.c ****     err = ERR_OK;
1270:ThirdPackage/lwip220/api/api_msg.c ****     switch (NETCONNTYPE_GROUP(msg->conn->type)) {
1271:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_RAW
1272:ThirdPackage/lwip220/api/api_msg.c ****       case NETCONN_RAW:
1273:ThirdPackage/lwip220/api/api_msg.c ****         raw_bind_netif(msg->conn->pcb.raw, netif);
1274:ThirdPackage/lwip220/api/api_msg.c ****         break;
1275:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_RAW */
1276:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_UDP
1277:ThirdPackage/lwip220/api/api_msg.c ****       case NETCONN_UDP:
1278:ThirdPackage/lwip220/api/api_msg.c ****         udp_bind_netif(msg->conn->pcb.udp, netif);
1279:ThirdPackage/lwip220/api/api_msg.c ****         break;
1280:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_UDP */
1281:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_TCP
1282:ThirdPackage/lwip220/api/api_msg.c ****       case NETCONN_TCP:
1283:ThirdPackage/lwip220/api/api_msg.c ****         tcp_bind_netif(msg->conn->pcb.tcp, netif);
1284:ThirdPackage/lwip220/api/api_msg.c ****         break;
1285:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_TCP */
1286:ThirdPackage/lwip220/api/api_msg.c ****       default:
1287:ThirdPackage/lwip220/api/api_msg.c ****         err = ERR_VAL;
1288:ThirdPackage/lwip220/api/api_msg.c ****         break;
1289:ThirdPackage/lwip220/api/api_msg.c ****     }
1290:ThirdPackage/lwip220/api/api_msg.c ****   } else {
1291:ThirdPackage/lwip220/api/api_msg.c ****     err = ERR_VAL;
1292:ThirdPackage/lwip220/api/api_msg.c ****   }
1293:ThirdPackage/lwip220/api/api_msg.c ****   msg->err = err;
1294:ThirdPackage/lwip220/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
1295:ThirdPackage/lwip220/api/api_msg.c **** }
1296:ThirdPackage/lwip220/api/api_msg.c **** 
1297:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_TCP
1298:ThirdPackage/lwip220/api/api_msg.c **** /**
1299:ThirdPackage/lwip220/api/api_msg.c ****  * TCP callback function if a connection (opened by tcp_connect/lwip_netconn_do_connect) has
1300:ThirdPackage/lwip220/api/api_msg.c ****  * been established (or reset by the remote host).
1301:ThirdPackage/lwip220/api/api_msg.c ****  *
1302:ThirdPackage/lwip220/api/api_msg.c ****  * @see tcp.h (struct tcp_pcb.connected) for parameters and return values
1303:ThirdPackage/lwip220/api/api_msg.c ****  */
1304:ThirdPackage/lwip220/api/api_msg.c **** static err_t
1305:ThirdPackage/lwip220/api/api_msg.c **** lwip_netconn_do_connected(void *arg, struct tcp_pcb *pcb, err_t err)
1306:ThirdPackage/lwip220/api/api_msg.c **** {
 883              		.loc 1 1306 1 view -0
 884              		.cfi_startproc
 885              		@ args = 0, pretend = 0, frame = 0
 886              		@ frame_needed = 0, uses_anonymous_args = 0
1307:ThirdPackage/lwip220/api/api_msg.c ****   struct netconn *conn;
 887              		.loc 1 1307 3 view .LVU249
1308:ThirdPackage/lwip220/api/api_msg.c ****   int was_blocking;
 888              		.loc 1 1308 3 view .LVU250
1309:ThirdPackage/lwip220/api/api_msg.c ****   sys_sem_t *op_completed_sem = NULL;
 889              		.loc 1 1309 3 view .LVU251
1310:ThirdPackage/lwip220/api/api_msg.c **** 
1311:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_UNUSED_ARG(pcb);
 890              		.loc 1 1311 3 view .LVU252
1312:ThirdPackage/lwip220/api/api_msg.c **** 
1313:ThirdPackage/lwip220/api/api_msg.c ****   conn = (struct netconn *)arg;
 891              		.loc 1 1313 3 view .LVU253
1314:ThirdPackage/lwip220/api/api_msg.c **** 
1315:ThirdPackage/lwip220/api/api_msg.c ****   if (conn == NULL) {
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 43


 892              		.loc 1 1315 3 view .LVU254
 893              		.loc 1 1315 6 is_stmt 0 view .LVU255
 894 0000 0028     		cmp	r0, #0
 895 0002 4ED0     		beq	.L83
1306:ThirdPackage/lwip220/api/api_msg.c ****   struct netconn *conn;
 896              		.loc 1 1306 1 view .LVU256
 897 0004 70B5     		push	{r4, r5, r6, lr}
 898              	.LCFI6:
 899              		.cfi_def_cfa_offset 16
 900              		.cfi_offset 4, -16
 901              		.cfi_offset 5, -12
 902              		.cfi_offset 6, -8
 903              		.cfi_offset 14, -4
 904 0006 1546     		mov	r5, r2
 905 0008 0446     		mov	r4, r0
1316:ThirdPackage/lwip220/api/api_msg.c ****     return ERR_VAL;
1317:ThirdPackage/lwip220/api/api_msg.c ****   }
1318:ThirdPackage/lwip220/api/api_msg.c **** 
1319:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("conn->state == NETCONN_CONNECT", conn->state == NETCONN_CONNECT);
 906              		.loc 1 1319 3 is_stmt 1 view .LVU257
 907              		.loc 1 1319 3 view .LVU258
 908 000a 4378     		ldrb	r3, [r0, #1]	@ zero_extendqisi2
 909 000c 032B     		cmp	r3, #3
 910 000e 29D1     		bne	.L89
 911              	.LVL90:
 912              	.L75:
 913              		.loc 1 1319 3 discriminator 3 view .LVU259
 914              		.loc 1 1319 3 discriminator 3 view .LVU260
1320:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("(conn->current_msg != NULL) || conn->in_non_blocking_connect",
 915              		.loc 1 1320 3 discriminator 3 view .LVU261
 916              		.loc 1 1320 3 discriminator 3 view .LVU262
 917 0010 236A     		ldr	r3, [r4, #32]
 918 0012 7BB3     		cbz	r3, .L90
 919              	.L76:
 920              		.loc 1 1320 3 discriminator 5 view .LVU263
 921              		.loc 1 1320 3 discriminator 5 view .LVU264
1321:ThirdPackage/lwip220/api/api_msg.c ****               (conn->current_msg != NULL) || IN_NONBLOCKING_CONNECT(conn));
1322:ThirdPackage/lwip220/api/api_msg.c **** 
1323:ThirdPackage/lwip220/api/api_msg.c ****   if (conn->current_msg != NULL) {
 922              		.loc 1 1323 3 discriminator 5 view .LVU265
 923              		.loc 1 1323 11 is_stmt 0 discriminator 5 view .LVU266
 924 0014 266A     		ldr	r6, [r4, #32]
 925              		.loc 1 1323 6 discriminator 5 view .LVU267
 926 0016 1EB1     		cbz	r6, .L77
1324:ThirdPackage/lwip220/api/api_msg.c ****     conn->current_msg->err = err;
 927              		.loc 1 1324 5 is_stmt 1 view .LVU268
 928              		.loc 1 1324 28 is_stmt 0 view .LVU269
 929 0018 3571     		strb	r5, [r6, #4]
1325:ThirdPackage/lwip220/api/api_msg.c ****     op_completed_sem = LWIP_API_MSG_SEM(conn->current_msg);
 930              		.loc 1 1325 5 is_stmt 1 view .LVU270
 931              		.loc 1 1325 24 is_stmt 0 view .LVU271
 932 001a 236A     		ldr	r3, [r4, #32]
 933 001c 1E68     		ldr	r6, [r3]
 934              		.loc 1 1325 22 view .LVU272
 935 001e 0C36     		adds	r6, r6, #12
 936              	.LVL91:
 937              	.L77:
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 44


1326:ThirdPackage/lwip220/api/api_msg.c ****   }
1327:ThirdPackage/lwip220/api/api_msg.c ****   if ((NETCONNTYPE_GROUP(conn->type) == NETCONN_TCP) && (err == ERR_OK)) {
 938              		.loc 1 1327 3 is_stmt 1 view .LVU273
 939              		.loc 1 1327 8 is_stmt 0 view .LVU274
 940 0020 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 941              		.loc 1 1327 6 view .LVU275
 942 0022 03F0F003 		and	r3, r3, #240
 943 0026 102B     		cmp	r3, #16
 944 0028 30D0     		beq	.L91
 945              	.L78:
1328:ThirdPackage/lwip220/api/api_msg.c ****     setup_tcp(conn);
1329:ThirdPackage/lwip220/api/api_msg.c ****   }
1330:ThirdPackage/lwip220/api/api_msg.c ****   was_blocking = !IN_NONBLOCKING_CONNECT(conn);
 946              		.loc 1 1330 3 is_stmt 1 view .LVU276
 947              		.loc 1 1330 19 is_stmt 0 view .LVU277
 948 002a 237F     		ldrb	r3, [r4, #28]	@ zero_extendqisi2
 949              	.LVL92:
1331:ThirdPackage/lwip220/api/api_msg.c ****   SET_NONBLOCKING_CONNECT(conn, 0);
 950              		.loc 1 1331 3 is_stmt 1 view .LVU278
 951              		.loc 1 1331 3 view .LVU279
 952              		.loc 1 1331 3 view .LVU280
 953              		.loc 1 1331 3 view .LVU281
 954 002c 03F0FB02 		and	r2, r3, #251
 955 0030 2277     		strb	r2, [r4, #28]
 956              		.loc 1 1331 3 view .LVU282
 957              		.loc 1 1331 3 view .LVU283
1332:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("blocking connect state error",
 958              		.loc 1 1332 3 view .LVU284
 959              		.loc 1 1332 3 view .LVU285
 960 0032 13F00405 		ands	r5, r3, #4
 961 0036 00D1     		bne	.L79
 962              		.loc 1 1332 3 is_stmt 0 discriminator 2 view .LVU286
 963 0038 46B9     		cbnz	r6, .L80
 964              	.L79:
 965              		.loc 1 1332 3 discriminator 3 view .LVU287
 966 003a 05B1     		cbz	r5, .L81
 967              		.loc 1 1332 3 discriminator 6 view .LVU288
 968 003c 36B1     		cbz	r6, .L80
 969              	.L81:
 970              		.loc 1 1332 3 is_stmt 1 discriminator 7 view .LVU289
 971              		.loc 1 1332 3 discriminator 7 view .LVU290
 972 003e 1A4B     		ldr	r3, .L93
 973              	.LVL93:
 974              		.loc 1 1332 3 is_stmt 0 discriminator 7 view .LVU291
 975 0040 40F23452 		movw	r2, #1332
 976 0044 1949     		ldr	r1, .L93+4
 977 0046 1A48     		ldr	r0, .L93+8
 978 0048 FFF7FEFF 		bl	printf
 979              	.LVL94:
 980              	.L80:
 981              		.loc 1 1332 3 is_stmt 1 discriminator 9 view .LVU292
 982              		.loc 1 1332 3 discriminator 9 view .LVU293
1333:ThirdPackage/lwip220/api/api_msg.c ****               (was_blocking && op_completed_sem != NULL) ||
1334:ThirdPackage/lwip220/api/api_msg.c ****               (!was_blocking && op_completed_sem == NULL));
1335:ThirdPackage/lwip220/api/api_msg.c ****   conn->current_msg = NULL;
 983              		.loc 1 1335 3 discriminator 9 view .LVU294
 984              		.loc 1 1335 21 is_stmt 0 discriminator 9 view .LVU295
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 45


 985 004c 0023     		movs	r3, #0
 986 004e 2362     		str	r3, [r4, #32]
1336:ThirdPackage/lwip220/api/api_msg.c ****   conn->state = NETCONN_NONE;
 987              		.loc 1 1336 3 is_stmt 1 discriminator 9 view .LVU296
 988              		.loc 1 1336 15 is_stmt 0 discriminator 9 view .LVU297
 989 0050 6370     		strb	r3, [r4, #1]
1337:ThirdPackage/lwip220/api/api_msg.c ****   API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
 990              		.loc 1 1337 3 is_stmt 1 discriminator 9 view .LVU298
 991 0052 636A     		ldr	r3, [r4, #36]
 992 0054 1BB1     		cbz	r3, .L82
 993              		.loc 1 1337 3 discriminator 1 view .LVU299
 994 0056 0022     		movs	r2, #0
 995 0058 0221     		movs	r1, #2
 996 005a 2046     		mov	r0, r4
 997 005c 9847     		blx	r3
 998              	.LVL95:
 999              	.L82:
 1000              		.loc 1 1337 43 discriminator 3 view .LVU300
1338:ThirdPackage/lwip220/api/api_msg.c **** 
1339:ThirdPackage/lwip220/api/api_msg.c ****   if (was_blocking) {
 1001              		.loc 1 1339 3 discriminator 3 view .LVU301
 1002              		.loc 1 1339 6 is_stmt 0 discriminator 3 view .LVU302
 1003 005e DDB1     		cbz	r5, .L92
1340:ThirdPackage/lwip220/api/api_msg.c ****     sys_sem_signal(op_completed_sem);
1341:ThirdPackage/lwip220/api/api_msg.c ****   }
1342:ThirdPackage/lwip220/api/api_msg.c ****   return ERR_OK;
 1004              		.loc 1 1342 10 view .LVU303
 1005 0060 0020     		movs	r0, #0
 1006              	.L74:
1343:ThirdPackage/lwip220/api/api_msg.c **** }
 1007              		.loc 1 1343 1 view .LVU304
 1008 0062 70BD     		pop	{r4, r5, r6, pc}
 1009              	.LVL96:
 1010              	.L89:
1319:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("(conn->current_msg != NULL) || conn->in_non_blocking_connect",
 1011              		.loc 1 1319 3 is_stmt 1 discriminator 1 view .LVU305
1319:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("(conn->current_msg != NULL) || conn->in_non_blocking_connect",
 1012              		.loc 1 1319 3 discriminator 1 view .LVU306
 1013 0064 104B     		ldr	r3, .L93
 1014 0066 40F22752 		movw	r2, #1319
 1015              	.LVL97:
1319:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("(conn->current_msg != NULL) || conn->in_non_blocking_connect",
 1016              		.loc 1 1319 3 is_stmt 0 discriminator 1 view .LVU307
 1017 006a 1249     		ldr	r1, .L93+12
 1018              	.LVL98:
1319:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("(conn->current_msg != NULL) || conn->in_non_blocking_connect",
 1019              		.loc 1 1319 3 discriminator 1 view .LVU308
 1020 006c 1048     		ldr	r0, .L93+8
 1021              	.LVL99:
1319:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("(conn->current_msg != NULL) || conn->in_non_blocking_connect",
 1022              		.loc 1 1319 3 discriminator 1 view .LVU309
 1023 006e FFF7FEFF 		bl	printf
 1024              	.LVL100:
 1025 0072 CDE7     		b	.L75
 1026              	.L90:
1320:ThirdPackage/lwip220/api/api_msg.c ****               (conn->current_msg != NULL) || IN_NONBLOCKING_CONNECT(conn));
 1027              		.loc 1 1320 3 discriminator 1 view .LVU310
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 46


 1028 0074 237F     		ldrb	r3, [r4, #28]	@ zero_extendqisi2
 1029 0076 13F0040F 		tst	r3, #4
 1030 007a CBD1     		bne	.L76
1320:ThirdPackage/lwip220/api/api_msg.c ****               (conn->current_msg != NULL) || IN_NONBLOCKING_CONNECT(conn));
 1031              		.loc 1 1320 3 is_stmt 1 discriminator 3 view .LVU311
1320:ThirdPackage/lwip220/api/api_msg.c ****               (conn->current_msg != NULL) || IN_NONBLOCKING_CONNECT(conn));
 1032              		.loc 1 1320 3 discriminator 3 view .LVU312
 1033 007c 0A4B     		ldr	r3, .L93
 1034 007e 4FF4A562 		mov	r2, #1320
 1035 0082 0D49     		ldr	r1, .L93+16
 1036 0084 0A48     		ldr	r0, .L93+8
 1037 0086 FFF7FEFF 		bl	printf
 1038              	.LVL101:
 1039 008a C3E7     		b	.L76
 1040              	.LVL102:
 1041              	.L91:
1327:ThirdPackage/lwip220/api/api_msg.c ****     setup_tcp(conn);
 1042              		.loc 1 1327 54 is_stmt 0 discriminator 1 view .LVU313
 1043 008c 002D     		cmp	r5, #0
 1044 008e CCD1     		bne	.L78
1328:ThirdPackage/lwip220/api/api_msg.c ****   }
 1045              		.loc 1 1328 5 is_stmt 1 view .LVU314
 1046 0090 2046     		mov	r0, r4
 1047 0092 FFF7FEFF 		bl	setup_tcp
 1048              	.LVL103:
 1049 0096 C8E7     		b	.L78
 1050              	.L92:
1340:ThirdPackage/lwip220/api/api_msg.c ****   }
 1051              		.loc 1 1340 5 view .LVU315
 1052 0098 3046     		mov	r0, r6
 1053 009a FFF7FEFF 		bl	sys_sem_signal
 1054              	.LVL104:
1342:ThirdPackage/lwip220/api/api_msg.c **** }
 1055              		.loc 1 1342 10 is_stmt 0 view .LVU316
 1056 009e 0020     		movs	r0, #0
 1057 00a0 DFE7     		b	.L74
 1058              	.LVL105:
 1059              	.L83:
 1060              	.LCFI7:
 1061              		.cfi_def_cfa_offset 0
 1062              		.cfi_restore 4
 1063              		.cfi_restore 5
 1064              		.cfi_restore 6
 1065              		.cfi_restore 14
1316:ThirdPackage/lwip220/api/api_msg.c ****   }
 1066              		.loc 1 1316 12 view .LVU317
 1067 00a2 6FF00500 		mvn	r0, #5
 1068              	.LVL106:
 1069              		.loc 1 1343 1 view .LVU318
 1070 00a6 7047     		bx	lr
 1071              	.L94:
 1072              		.align	2
 1073              	.L93:
 1074 00a8 00000000 		.word	.LC0
 1075 00ac 60000000 		.word	.LC13
 1076 00b0 34000000 		.word	.LC2
 1077 00b4 00000000 		.word	.LC11
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 47


 1078 00b8 20000000 		.word	.LC12
 1079              		.cfi_endproc
 1080              	.LFE178:
 1082              		.section	.rodata.lwip_netconn_do_writemore.str1.4,"aMS",%progbits,1
 1083              		.align	2
 1084              	.LC14:
 1085 0000 636F6E6E 		.ascii	"conn->state == NETCONN_WRITE\000"
 1085      2D3E7374 
 1085      61746520 
 1085      3D3D204E 
 1085      4554434F 
 1086 001d 000000   		.align	2
 1087              	.LC15:
 1088 0020 636F6E6E 		.ascii	"conn->pcb.tcp != NULL\000"
 1088      2D3E7063 
 1088      622E7463 
 1088      7020213D 
 1088      204E554C 
 1089 0036 0000     		.align	2
 1090              	.LC16:
 1091 0038 636F6E6E 		.ascii	"conn->current_msg->msg.w.offset < conn->current_msg"
 1091      2D3E6375 
 1091      7272656E 
 1091      745F6D73 
 1091      672D3E6D 
 1092 006b 2D3E6D73 		.ascii	"->msg.w.len\000"
 1092      672E772E 
 1092      6C656E00 
 1093 0077 00       		.align	2
 1094              	.LC17:
 1095 0078 636F6E6E 		.ascii	"conn->current_msg->msg.w.vector_cnt > 0\000"
 1095      2D3E6375 
 1095      7272656E 
 1095      745F6D73 
 1095      672D3E6D 
 1096              		.align	2
 1097              	.LC18:
 1098 00a0 6C776970 		.ascii	"lwip_netconn_do_writemore: invalid length!\000"
 1098      5F6E6574 
 1098      636F6E6E 
 1098      5F646F5F 
 1098      77726974 
 1099              		.section	.text.lwip_netconn_do_writemore,"ax",%progbits
 1100              		.align	1
 1101              		.syntax unified
 1102              		.thumb
 1103              		.thumb_func
 1105              	lwip_netconn_do_writemore:
 1106              	.LVL107:
 1107              	.LFB184:
1344:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_TCP */
1345:ThirdPackage/lwip220/api/api_msg.c **** 
1346:ThirdPackage/lwip220/api/api_msg.c **** /**
1347:ThirdPackage/lwip220/api/api_msg.c ****  * Connect a pcb contained inside a netconn
1348:ThirdPackage/lwip220/api/api_msg.c ****  * Called from netconn_connect.
1349:ThirdPackage/lwip220/api/api_msg.c ****  *
1350:ThirdPackage/lwip220/api/api_msg.c ****  * @param m the api_msg pointing to the connection and containing
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 48


1351:ThirdPackage/lwip220/api/api_msg.c ****  *          the IP address and port to connect to
1352:ThirdPackage/lwip220/api/api_msg.c ****  */
1353:ThirdPackage/lwip220/api/api_msg.c **** void
1354:ThirdPackage/lwip220/api/api_msg.c **** lwip_netconn_do_connect(void *m)
1355:ThirdPackage/lwip220/api/api_msg.c **** {
1356:ThirdPackage/lwip220/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
1357:ThirdPackage/lwip220/api/api_msg.c ****   err_t err;
1358:ThirdPackage/lwip220/api/api_msg.c **** 
1359:ThirdPackage/lwip220/api/api_msg.c ****   if (msg->conn->pcb.tcp == NULL) {
1360:ThirdPackage/lwip220/api/api_msg.c ****     /* This may happen when calling netconn_connect() a second time */
1361:ThirdPackage/lwip220/api/api_msg.c ****     err = ERR_CLSD;
1362:ThirdPackage/lwip220/api/api_msg.c ****   } else {
1363:ThirdPackage/lwip220/api/api_msg.c ****     switch (NETCONNTYPE_GROUP(msg->conn->type)) {
1364:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_RAW
1365:ThirdPackage/lwip220/api/api_msg.c ****       case NETCONN_RAW:
1366:ThirdPackage/lwip220/api/api_msg.c ****         err = raw_connect(msg->conn->pcb.raw, API_EXPR_REF(msg->msg.bc.ipaddr));
1367:ThirdPackage/lwip220/api/api_msg.c ****         break;
1368:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_RAW */
1369:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_UDP
1370:ThirdPackage/lwip220/api/api_msg.c ****       case NETCONN_UDP:
1371:ThirdPackage/lwip220/api/api_msg.c ****         err = udp_connect(msg->conn->pcb.udp, API_EXPR_REF(msg->msg.bc.ipaddr), msg->msg.bc.port);
1372:ThirdPackage/lwip220/api/api_msg.c ****         break;
1373:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_UDP */
1374:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_TCP
1375:ThirdPackage/lwip220/api/api_msg.c ****       case NETCONN_TCP:
1376:ThirdPackage/lwip220/api/api_msg.c ****         /* Prevent connect while doing any other action. */
1377:ThirdPackage/lwip220/api/api_msg.c ****         if (msg->conn->state == NETCONN_CONNECT) {
1378:ThirdPackage/lwip220/api/api_msg.c ****           err = ERR_ALREADY;
1379:ThirdPackage/lwip220/api/api_msg.c ****         } else if (msg->conn->state != NETCONN_NONE) {
1380:ThirdPackage/lwip220/api/api_msg.c ****           err = ERR_ISCONN;
1381:ThirdPackage/lwip220/api/api_msg.c ****         } else {
1382:ThirdPackage/lwip220/api/api_msg.c ****           setup_tcp(msg->conn);
1383:ThirdPackage/lwip220/api/api_msg.c ****           err = tcp_connect(msg->conn->pcb.tcp, API_EXPR_REF(msg->msg.bc.ipaddr),
1384:ThirdPackage/lwip220/api/api_msg.c ****                             msg->msg.bc.port, lwip_netconn_do_connected);
1385:ThirdPackage/lwip220/api/api_msg.c ****           if (err == ERR_OK) {
1386:ThirdPackage/lwip220/api/api_msg.c ****             u8_t non_blocking = netconn_is_nonblocking(msg->conn);
1387:ThirdPackage/lwip220/api/api_msg.c ****             msg->conn->state = NETCONN_CONNECT;
1388:ThirdPackage/lwip220/api/api_msg.c ****             SET_NONBLOCKING_CONNECT(msg->conn, non_blocking);
1389:ThirdPackage/lwip220/api/api_msg.c ****             if (non_blocking) {
1390:ThirdPackage/lwip220/api/api_msg.c ****               err = ERR_INPROGRESS;
1391:ThirdPackage/lwip220/api/api_msg.c ****             } else {
1392:ThirdPackage/lwip220/api/api_msg.c ****               msg->conn->current_msg = msg;
1393:ThirdPackage/lwip220/api/api_msg.c ****               /* sys_sem_signal() is called from lwip_netconn_do_connected (or err_tcp()),
1394:ThirdPackage/lwip220/api/api_msg.c ****                  when the connection is established! */
1395:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
1396:ThirdPackage/lwip220/api/api_msg.c ****               LWIP_ASSERT("state!", msg->conn->state == NETCONN_CONNECT);
1397:ThirdPackage/lwip220/api/api_msg.c ****               UNLOCK_TCPIP_CORE();
1398:ThirdPackage/lwip220/api/api_msg.c ****               sys_arch_sem_wait(LWIP_API_MSG_SEM(msg), 0);
1399:ThirdPackage/lwip220/api/api_msg.c ****               LOCK_TCPIP_CORE();
1400:ThirdPackage/lwip220/api/api_msg.c ****               LWIP_ASSERT("state!", msg->conn->state != NETCONN_CONNECT);
1401:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
1402:ThirdPackage/lwip220/api/api_msg.c ****               return;
1403:ThirdPackage/lwip220/api/api_msg.c ****             }
1404:ThirdPackage/lwip220/api/api_msg.c ****           }
1405:ThirdPackage/lwip220/api/api_msg.c ****         }
1406:ThirdPackage/lwip220/api/api_msg.c ****         break;
1407:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_TCP */
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 49


1408:ThirdPackage/lwip220/api/api_msg.c ****       default:
1409:ThirdPackage/lwip220/api/api_msg.c ****         LWIP_ERROR("Invalid netconn type", 0, do {
1410:ThirdPackage/lwip220/api/api_msg.c ****           err = ERR_VAL;
1411:ThirdPackage/lwip220/api/api_msg.c ****         } while (0));
1412:ThirdPackage/lwip220/api/api_msg.c ****         break;
1413:ThirdPackage/lwip220/api/api_msg.c ****     }
1414:ThirdPackage/lwip220/api/api_msg.c ****   }
1415:ThirdPackage/lwip220/api/api_msg.c ****   msg->err = err;
1416:ThirdPackage/lwip220/api/api_msg.c ****   /* For all other protocols, netconn_connect() calls netconn_apimsg(),
1417:ThirdPackage/lwip220/api/api_msg.c ****      so use TCPIP_APIMSG_ACK() here. */
1418:ThirdPackage/lwip220/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
1419:ThirdPackage/lwip220/api/api_msg.c **** }
1420:ThirdPackage/lwip220/api/api_msg.c **** 
1421:ThirdPackage/lwip220/api/api_msg.c **** /**
1422:ThirdPackage/lwip220/api/api_msg.c ****  * Disconnect a pcb contained inside a netconn
1423:ThirdPackage/lwip220/api/api_msg.c ****  * Only used for UDP netconns.
1424:ThirdPackage/lwip220/api/api_msg.c ****  * Called from netconn_disconnect.
1425:ThirdPackage/lwip220/api/api_msg.c ****  *
1426:ThirdPackage/lwip220/api/api_msg.c ****  * @param m the api_msg pointing to the connection to disconnect
1427:ThirdPackage/lwip220/api/api_msg.c ****  */
1428:ThirdPackage/lwip220/api/api_msg.c **** void
1429:ThirdPackage/lwip220/api/api_msg.c **** lwip_netconn_do_disconnect(void *m)
1430:ThirdPackage/lwip220/api/api_msg.c **** {
1431:ThirdPackage/lwip220/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
1432:ThirdPackage/lwip220/api/api_msg.c **** 
1433:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_UDP
1434:ThirdPackage/lwip220/api/api_msg.c ****   if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_UDP) {
1435:ThirdPackage/lwip220/api/api_msg.c ****     udp_disconnect(msg->conn->pcb.udp);
1436:ThirdPackage/lwip220/api/api_msg.c ****     msg->err = ERR_OK;
1437:ThirdPackage/lwip220/api/api_msg.c ****   } else
1438:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_UDP */
1439:ThirdPackage/lwip220/api/api_msg.c ****   {
1440:ThirdPackage/lwip220/api/api_msg.c ****     msg->err = ERR_VAL;
1441:ThirdPackage/lwip220/api/api_msg.c ****   }
1442:ThirdPackage/lwip220/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
1443:ThirdPackage/lwip220/api/api_msg.c **** }
1444:ThirdPackage/lwip220/api/api_msg.c **** 
1445:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_TCP
1446:ThirdPackage/lwip220/api/api_msg.c **** /**
1447:ThirdPackage/lwip220/api/api_msg.c ****  * Set a TCP pcb contained in a netconn into listen mode
1448:ThirdPackage/lwip220/api/api_msg.c ****  * Called from netconn_listen.
1449:ThirdPackage/lwip220/api/api_msg.c ****  *
1450:ThirdPackage/lwip220/api/api_msg.c ****  * @param m the api_msg pointing to the connection
1451:ThirdPackage/lwip220/api/api_msg.c ****  */
1452:ThirdPackage/lwip220/api/api_msg.c **** void
1453:ThirdPackage/lwip220/api/api_msg.c **** lwip_netconn_do_listen(void *m)
1454:ThirdPackage/lwip220/api/api_msg.c **** {
1455:ThirdPackage/lwip220/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
1456:ThirdPackage/lwip220/api/api_msg.c ****   err_t err;
1457:ThirdPackage/lwip220/api/api_msg.c **** 
1458:ThirdPackage/lwip220/api/api_msg.c ****   if (msg->conn->pcb.tcp != NULL) {
1459:ThirdPackage/lwip220/api/api_msg.c ****     if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) {
1460:ThirdPackage/lwip220/api/api_msg.c ****       if (msg->conn->state == NETCONN_NONE) {
1461:ThirdPackage/lwip220/api/api_msg.c ****         struct tcp_pcb *lpcb;
1462:ThirdPackage/lwip220/api/api_msg.c ****         if (msg->conn->pcb.tcp->state != CLOSED) {
1463:ThirdPackage/lwip220/api/api_msg.c ****           /* connection is not closed, cannot listen */
1464:ThirdPackage/lwip220/api/api_msg.c ****           err = ERR_VAL;
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 50


1465:ThirdPackage/lwip220/api/api_msg.c ****         } else {
1466:ThirdPackage/lwip220/api/api_msg.c ****           u8_t backlog;
1467:ThirdPackage/lwip220/api/api_msg.c **** #if TCP_LISTEN_BACKLOG
1468:ThirdPackage/lwip220/api/api_msg.c ****           backlog = msg->msg.lb.backlog;
1469:ThirdPackage/lwip220/api/api_msg.c **** #else  /* TCP_LISTEN_BACKLOG */
1470:ThirdPackage/lwip220/api/api_msg.c ****           backlog = TCP_DEFAULT_LISTEN_BACKLOG;
1471:ThirdPackage/lwip220/api/api_msg.c **** #endif /* TCP_LISTEN_BACKLOG */
1472:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_IPV4 && LWIP_IPV6
1473:ThirdPackage/lwip220/api/api_msg.c ****           /* "Socket API like" dual-stack support: If IP to listen to is IP6_ADDR_ANY,
1474:ThirdPackage/lwip220/api/api_msg.c ****             * and NETCONN_FLAG_IPV6_V6ONLY is NOT set, use IP_ANY_TYPE to listen
1475:ThirdPackage/lwip220/api/api_msg.c ****             */
1476:ThirdPackage/lwip220/api/api_msg.c ****           if (ip_addr_eq(&msg->conn->pcb.ip->local_ip, IP6_ADDR_ANY) &&
1477:ThirdPackage/lwip220/api/api_msg.c ****               (netconn_get_ipv6only(msg->conn) == 0)) {
1478:ThirdPackage/lwip220/api/api_msg.c ****             /* change PCB type to IPADDR_TYPE_ANY */
1479:ThirdPackage/lwip220/api/api_msg.c ****             IP_SET_TYPE_VAL(msg->conn->pcb.tcp->local_ip,  IPADDR_TYPE_ANY);
1480:ThirdPackage/lwip220/api/api_msg.c ****             IP_SET_TYPE_VAL(msg->conn->pcb.tcp->remote_ip, IPADDR_TYPE_ANY);
1481:ThirdPackage/lwip220/api/api_msg.c ****           }
1482:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_IPV4 && LWIP_IPV6 */
1483:ThirdPackage/lwip220/api/api_msg.c **** 
1484:ThirdPackage/lwip220/api/api_msg.c ****           lpcb = tcp_listen_with_backlog_and_err(msg->conn->pcb.tcp, backlog, &err);
1485:ThirdPackage/lwip220/api/api_msg.c **** 
1486:ThirdPackage/lwip220/api/api_msg.c ****           if (lpcb == NULL) {
1487:ThirdPackage/lwip220/api/api_msg.c ****             /* in this case, the old pcb is still allocated */
1488:ThirdPackage/lwip220/api/api_msg.c ****           } else {
1489:ThirdPackage/lwip220/api/api_msg.c ****             /* delete the recvmbox and allocate the acceptmbox */
1490:ThirdPackage/lwip220/api/api_msg.c ****             if (sys_mbox_valid(&msg->conn->recvmbox)) {
1491:ThirdPackage/lwip220/api/api_msg.c ****               /** @todo: should we drain the recvmbox here? */
1492:ThirdPackage/lwip220/api/api_msg.c ****               sys_mbox_free(&msg->conn->recvmbox);
1493:ThirdPackage/lwip220/api/api_msg.c ****               sys_mbox_set_invalid(&msg->conn->recvmbox);
1494:ThirdPackage/lwip220/api/api_msg.c ****             }
1495:ThirdPackage/lwip220/api/api_msg.c ****             err = ERR_OK;
1496:ThirdPackage/lwip220/api/api_msg.c ****             if (!sys_mbox_valid(&msg->conn->acceptmbox)) {
1497:ThirdPackage/lwip220/api/api_msg.c ****               err = sys_mbox_new(&msg->conn->acceptmbox, DEFAULT_ACCEPTMBOX_SIZE);
1498:ThirdPackage/lwip220/api/api_msg.c ****             }
1499:ThirdPackage/lwip220/api/api_msg.c ****             if (err == ERR_OK) {
1500:ThirdPackage/lwip220/api/api_msg.c ****               msg->conn->state = NETCONN_LISTEN;
1501:ThirdPackage/lwip220/api/api_msg.c ****               msg->conn->pcb.tcp = lpcb;
1502:ThirdPackage/lwip220/api/api_msg.c ****               tcp_arg(msg->conn->pcb.tcp, msg->conn);
1503:ThirdPackage/lwip220/api/api_msg.c ****               tcp_accept(msg->conn->pcb.tcp, accept_function);
1504:ThirdPackage/lwip220/api/api_msg.c ****             } else {
1505:ThirdPackage/lwip220/api/api_msg.c ****               /* since the old pcb is already deallocated, free lpcb now */
1506:ThirdPackage/lwip220/api/api_msg.c ****               tcp_close(lpcb);
1507:ThirdPackage/lwip220/api/api_msg.c ****               msg->conn->pcb.tcp = NULL;
1508:ThirdPackage/lwip220/api/api_msg.c ****             }
1509:ThirdPackage/lwip220/api/api_msg.c ****           }
1510:ThirdPackage/lwip220/api/api_msg.c ****         }
1511:ThirdPackage/lwip220/api/api_msg.c ****       } else if (msg->conn->state == NETCONN_LISTEN) {
1512:ThirdPackage/lwip220/api/api_msg.c ****         /* already listening, allow updating of the backlog */
1513:ThirdPackage/lwip220/api/api_msg.c ****         err = ERR_OK;
1514:ThirdPackage/lwip220/api/api_msg.c ****         tcp_backlog_set(msg->conn->pcb.tcp, msg->msg.lb.backlog);
1515:ThirdPackage/lwip220/api/api_msg.c ****       } else {
1516:ThirdPackage/lwip220/api/api_msg.c ****         err = ERR_CONN;
1517:ThirdPackage/lwip220/api/api_msg.c ****       }
1518:ThirdPackage/lwip220/api/api_msg.c ****     } else {
1519:ThirdPackage/lwip220/api/api_msg.c ****       err = ERR_ARG;
1520:ThirdPackage/lwip220/api/api_msg.c ****     }
1521:ThirdPackage/lwip220/api/api_msg.c ****   } else {
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 51


1522:ThirdPackage/lwip220/api/api_msg.c ****     err = ERR_CONN;
1523:ThirdPackage/lwip220/api/api_msg.c ****   }
1524:ThirdPackage/lwip220/api/api_msg.c ****   msg->err = err;
1525:ThirdPackage/lwip220/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
1526:ThirdPackage/lwip220/api/api_msg.c **** }
1527:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_TCP */
1528:ThirdPackage/lwip220/api/api_msg.c **** 
1529:ThirdPackage/lwip220/api/api_msg.c **** /**
1530:ThirdPackage/lwip220/api/api_msg.c ****  * Send some data on a RAW or UDP pcb contained in a netconn
1531:ThirdPackage/lwip220/api/api_msg.c ****  * Called from netconn_send
1532:ThirdPackage/lwip220/api/api_msg.c ****  *
1533:ThirdPackage/lwip220/api/api_msg.c ****  * @param m the api_msg pointing to the connection
1534:ThirdPackage/lwip220/api/api_msg.c ****  */
1535:ThirdPackage/lwip220/api/api_msg.c **** void
1536:ThirdPackage/lwip220/api/api_msg.c **** lwip_netconn_do_send(void *m)
1537:ThirdPackage/lwip220/api/api_msg.c **** {
1538:ThirdPackage/lwip220/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
1539:ThirdPackage/lwip220/api/api_msg.c **** 
1540:ThirdPackage/lwip220/api/api_msg.c ****   err_t err = netconn_err(msg->conn);
1541:ThirdPackage/lwip220/api/api_msg.c ****   if (err == ERR_OK) {
1542:ThirdPackage/lwip220/api/api_msg.c ****     if (msg->conn->pcb.tcp != NULL) {
1543:ThirdPackage/lwip220/api/api_msg.c ****       switch (NETCONNTYPE_GROUP(msg->conn->type)) {
1544:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_RAW
1545:ThirdPackage/lwip220/api/api_msg.c ****         case NETCONN_RAW:
1546:ThirdPackage/lwip220/api/api_msg.c ****           if (ip_addr_isany(&msg->msg.b->addr) || IP_IS_ANY_TYPE_VAL(msg->msg.b->addr)) {
1547:ThirdPackage/lwip220/api/api_msg.c ****             err = raw_send(msg->conn->pcb.raw, msg->msg.b->p);
1548:ThirdPackage/lwip220/api/api_msg.c ****           } else {
1549:ThirdPackage/lwip220/api/api_msg.c ****             err = raw_sendto(msg->conn->pcb.raw, msg->msg.b->p, &msg->msg.b->addr);
1550:ThirdPackage/lwip220/api/api_msg.c ****           }
1551:ThirdPackage/lwip220/api/api_msg.c ****           break;
1552:ThirdPackage/lwip220/api/api_msg.c **** #endif
1553:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_UDP
1554:ThirdPackage/lwip220/api/api_msg.c ****         case NETCONN_UDP:
1555:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_CHECKSUM_ON_COPY
1556:ThirdPackage/lwip220/api/api_msg.c ****           if (ip_addr_isany(&msg->msg.b->addr) || IP_IS_ANY_TYPE_VAL(msg->msg.b->addr)) {
1557:ThirdPackage/lwip220/api/api_msg.c ****             err = udp_send_chksum(msg->conn->pcb.udp, msg->msg.b->p,
1558:ThirdPackage/lwip220/api/api_msg.c ****                                   msg->msg.b->flags & NETBUF_FLAG_CHKSUM, msg->msg.b->toport_chksum
1559:ThirdPackage/lwip220/api/api_msg.c ****           } else {
1560:ThirdPackage/lwip220/api/api_msg.c ****             err = udp_sendto_chksum(msg->conn->pcb.udp, msg->msg.b->p,
1561:ThirdPackage/lwip220/api/api_msg.c ****                                     &msg->msg.b->addr, msg->msg.b->port,
1562:ThirdPackage/lwip220/api/api_msg.c ****                                     msg->msg.b->flags & NETBUF_FLAG_CHKSUM, msg->msg.b->toport_chks
1563:ThirdPackage/lwip220/api/api_msg.c ****           }
1564:ThirdPackage/lwip220/api/api_msg.c **** #else /* LWIP_CHECKSUM_ON_COPY */
1565:ThirdPackage/lwip220/api/api_msg.c ****           if (ip_addr_isany_val(msg->msg.b->addr) || IP_IS_ANY_TYPE_VAL(msg->msg.b->addr)) {
1566:ThirdPackage/lwip220/api/api_msg.c ****             err = udp_send(msg->conn->pcb.udp, msg->msg.b->p);
1567:ThirdPackage/lwip220/api/api_msg.c ****           } else {
1568:ThirdPackage/lwip220/api/api_msg.c ****             err = udp_sendto(msg->conn->pcb.udp, msg->msg.b->p, &msg->msg.b->addr, msg->msg.b->port
1569:ThirdPackage/lwip220/api/api_msg.c ****           }
1570:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_CHECKSUM_ON_COPY */
1571:ThirdPackage/lwip220/api/api_msg.c ****           break;
1572:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_UDP */
1573:ThirdPackage/lwip220/api/api_msg.c ****         default:
1574:ThirdPackage/lwip220/api/api_msg.c ****           err = ERR_CONN;
1575:ThirdPackage/lwip220/api/api_msg.c ****           break;
1576:ThirdPackage/lwip220/api/api_msg.c ****       }
1577:ThirdPackage/lwip220/api/api_msg.c ****     } else {
1578:ThirdPackage/lwip220/api/api_msg.c ****       err = ERR_CONN;
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 52


1579:ThirdPackage/lwip220/api/api_msg.c ****     }
1580:ThirdPackage/lwip220/api/api_msg.c ****   }
1581:ThirdPackage/lwip220/api/api_msg.c ****   msg->err = err;
1582:ThirdPackage/lwip220/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
1583:ThirdPackage/lwip220/api/api_msg.c **** }
1584:ThirdPackage/lwip220/api/api_msg.c **** 
1585:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_TCP
1586:ThirdPackage/lwip220/api/api_msg.c **** /**
1587:ThirdPackage/lwip220/api/api_msg.c ****  * Indicate data has been received from a TCP pcb contained in a netconn
1588:ThirdPackage/lwip220/api/api_msg.c ****  * Called from netconn_recv
1589:ThirdPackage/lwip220/api/api_msg.c ****  *
1590:ThirdPackage/lwip220/api/api_msg.c ****  * @param m the api_msg pointing to the connection
1591:ThirdPackage/lwip220/api/api_msg.c ****  */
1592:ThirdPackage/lwip220/api/api_msg.c **** void
1593:ThirdPackage/lwip220/api/api_msg.c **** lwip_netconn_do_recv(void *m)
1594:ThirdPackage/lwip220/api/api_msg.c **** {
1595:ThirdPackage/lwip220/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
1596:ThirdPackage/lwip220/api/api_msg.c **** 
1597:ThirdPackage/lwip220/api/api_msg.c ****   msg->err = ERR_OK;
1598:ThirdPackage/lwip220/api/api_msg.c ****   if (msg->conn->pcb.tcp != NULL) {
1599:ThirdPackage/lwip220/api/api_msg.c ****     if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) {
1600:ThirdPackage/lwip220/api/api_msg.c ****       size_t remaining = msg->msg.r.len;
1601:ThirdPackage/lwip220/api/api_msg.c ****       do {
1602:ThirdPackage/lwip220/api/api_msg.c ****         u16_t recved = (u16_t)((remaining > 0xffff) ? 0xffff : remaining);
1603:ThirdPackage/lwip220/api/api_msg.c ****         tcp_recved(msg->conn->pcb.tcp, recved);
1604:ThirdPackage/lwip220/api/api_msg.c ****         remaining -= recved;
1605:ThirdPackage/lwip220/api/api_msg.c ****       } while (remaining != 0);
1606:ThirdPackage/lwip220/api/api_msg.c ****     }
1607:ThirdPackage/lwip220/api/api_msg.c ****   }
1608:ThirdPackage/lwip220/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
1609:ThirdPackage/lwip220/api/api_msg.c **** }
1610:ThirdPackage/lwip220/api/api_msg.c **** 
1611:ThirdPackage/lwip220/api/api_msg.c **** #if TCP_LISTEN_BACKLOG
1612:ThirdPackage/lwip220/api/api_msg.c **** /** Indicate that a TCP pcb has been accepted
1613:ThirdPackage/lwip220/api/api_msg.c ****  * Called from netconn_accept
1614:ThirdPackage/lwip220/api/api_msg.c ****  *
1615:ThirdPackage/lwip220/api/api_msg.c ****  * @param m the api_msg pointing to the connection
1616:ThirdPackage/lwip220/api/api_msg.c ****  */
1617:ThirdPackage/lwip220/api/api_msg.c **** void
1618:ThirdPackage/lwip220/api/api_msg.c **** lwip_netconn_do_accepted(void *m)
1619:ThirdPackage/lwip220/api/api_msg.c **** {
1620:ThirdPackage/lwip220/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
1621:ThirdPackage/lwip220/api/api_msg.c **** 
1622:ThirdPackage/lwip220/api/api_msg.c ****   msg->err = ERR_OK;
1623:ThirdPackage/lwip220/api/api_msg.c ****   if (msg->conn->pcb.tcp != NULL) {
1624:ThirdPackage/lwip220/api/api_msg.c ****     if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) {
1625:ThirdPackage/lwip220/api/api_msg.c ****       tcp_backlog_accepted(msg->conn->pcb.tcp);
1626:ThirdPackage/lwip220/api/api_msg.c ****     }
1627:ThirdPackage/lwip220/api/api_msg.c ****   }
1628:ThirdPackage/lwip220/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
1629:ThirdPackage/lwip220/api/api_msg.c **** }
1630:ThirdPackage/lwip220/api/api_msg.c **** #endif /* TCP_LISTEN_BACKLOG */
1631:ThirdPackage/lwip220/api/api_msg.c **** 
1632:ThirdPackage/lwip220/api/api_msg.c **** /**
1633:ThirdPackage/lwip220/api/api_msg.c ****  * See if more data needs to be written from a previous call to netconn_write.
1634:ThirdPackage/lwip220/api/api_msg.c ****  * Called initially from lwip_netconn_do_write. If the first call can't send all data
1635:ThirdPackage/lwip220/api/api_msg.c ****  * (because of low memory or empty send-buffer), this function is called again
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 53


1636:ThirdPackage/lwip220/api/api_msg.c ****  * from sent_tcp() or poll_tcp() to send more data. If all data is sent, the
1637:ThirdPackage/lwip220/api/api_msg.c ****  * blocking application thread (waiting in netconn_write) is released.
1638:ThirdPackage/lwip220/api/api_msg.c ****  *
1639:ThirdPackage/lwip220/api/api_msg.c ****  * @param conn netconn (that is currently in state NETCONN_WRITE) to process
1640:ThirdPackage/lwip220/api/api_msg.c ****  * @return ERR_OK
1641:ThirdPackage/lwip220/api/api_msg.c ****  *         ERR_MEM if LWIP_TCPIP_CORE_LOCKING=1 and sending hasn't yet finished
1642:ThirdPackage/lwip220/api/api_msg.c ****  */
1643:ThirdPackage/lwip220/api/api_msg.c **** static err_t
1644:ThirdPackage/lwip220/api/api_msg.c **** lwip_netconn_do_writemore(struct netconn *conn  WRITE_DELAYED_PARAM)
1645:ThirdPackage/lwip220/api/api_msg.c **** {
 1108              		.loc 1 1645 1 is_stmt 1 view -0
 1109              		.cfi_startproc
 1110              		@ args = 0, pretend = 0, frame = 0
 1111              		@ frame_needed = 0, uses_anonymous_args = 0
 1112              		.loc 1 1645 1 is_stmt 0 view .LVU320
 1113 0000 2DE9F84F 		push	{r3, r4, r5, r6, r7, r8, r9, r10, fp, lr}
 1114              	.LCFI8:
 1115              		.cfi_def_cfa_offset 40
 1116              		.cfi_offset 3, -40
 1117              		.cfi_offset 4, -36
 1118              		.cfi_offset 5, -32
 1119              		.cfi_offset 6, -28
 1120              		.cfi_offset 7, -24
 1121              		.cfi_offset 8, -20
 1122              		.cfi_offset 9, -16
 1123              		.cfi_offset 10, -12
 1124              		.cfi_offset 11, -8
 1125              		.cfi_offset 14, -4
 1126 0004 8B46     		mov	fp, r1
1646:ThirdPackage/lwip220/api/api_msg.c ****   err_t err;
 1127              		.loc 1 1646 3 is_stmt 1 view .LVU321
1647:ThirdPackage/lwip220/api/api_msg.c ****   const void *dataptr;
 1128              		.loc 1 1647 3 view .LVU322
1648:ThirdPackage/lwip220/api/api_msg.c ****   u16_t len, available;
 1129              		.loc 1 1648 3 view .LVU323
1649:ThirdPackage/lwip220/api/api_msg.c ****   u8_t write_finished = 0;
 1130              		.loc 1 1649 3 view .LVU324
 1131              	.LVL108:
1650:ThirdPackage/lwip220/api/api_msg.c ****   size_t diff;
 1132              		.loc 1 1650 3 view .LVU325
1651:ThirdPackage/lwip220/api/api_msg.c ****   u8_t dontblock;
 1133              		.loc 1 1651 3 view .LVU326
1652:ThirdPackage/lwip220/api/api_msg.c ****   u8_t apiflags;
 1134              		.loc 1 1652 3 view .LVU327
1653:ThirdPackage/lwip220/api/api_msg.c ****   u8_t write_more;
 1135              		.loc 1 1653 3 view .LVU328
1654:ThirdPackage/lwip220/api/api_msg.c **** 
1655:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("conn != NULL", conn != NULL);
 1136              		.loc 1 1655 3 view .LVU329
 1137              		.loc 1 1655 3 view .LVU330
 1138 0006 0546     		mov	r5, r0
 1139 0008 E0B1     		cbz	r0, .L139
 1140              	.LVL109:
 1141              	.L96:
 1142              		.loc 1 1655 3 discriminator 3 view .LVU331
 1143              		.loc 1 1655 3 discriminator 3 view .LVU332
1656:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("conn->state == NETCONN_WRITE", (conn->state == NETCONN_WRITE));
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 54


 1144              		.loc 1 1656 3 discriminator 3 view .LVU333
 1145              		.loc 1 1656 3 discriminator 3 view .LVU334
 1146 000a 6B78     		ldrb	r3, [r5, #1]	@ zero_extendqisi2
 1147 000c 012B     		cmp	r3, #1
 1148 000e 21D1     		bne	.L140
 1149              	.L97:
 1150              		.loc 1 1656 3 discriminator 3 view .LVU335
 1151              		.loc 1 1656 3 discriminator 3 view .LVU336
1657:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg != NULL", conn->current_msg != NULL);
 1152              		.loc 1 1657 3 discriminator 3 view .LVU337
 1153              		.loc 1 1657 3 discriminator 3 view .LVU338
 1154 0010 2B6A     		ldr	r3, [r5, #32]
 1155 0012 3BB3     		cbz	r3, .L141
 1156              	.L98:
 1157              		.loc 1 1657 3 discriminator 3 view .LVU339
 1158              		.loc 1 1657 3 discriminator 3 view .LVU340
1658:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("conn->pcb.tcp != NULL", conn->pcb.tcp != NULL);
 1159              		.loc 1 1658 3 discriminator 3 view .LVU341
 1160              		.loc 1 1658 3 discriminator 3 view .LVU342
 1161 0014 6B68     		ldr	r3, [r5, #4]
 1162 0016 6BB3     		cbz	r3, .L142
 1163              	.L99:
 1164              		.loc 1 1658 3 discriminator 3 view .LVU343
 1165              		.loc 1 1658 3 discriminator 3 view .LVU344
1659:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg->msg.w.offset < conn->current_msg->msg.w.len",
 1166              		.loc 1 1659 3 discriminator 3 view .LVU345
 1167              		.loc 1 1659 3 discriminator 3 view .LVU346
 1168 0018 2B6A     		ldr	r3, [r5, #32]
 1169 001a 9A69     		ldr	r2, [r3, #24]
 1170 001c 5B69     		ldr	r3, [r3, #20]
 1171 001e 9A42     		cmp	r2, r3
 1172 0020 30D2     		bcs	.L143
 1173              	.L100:
 1174              		.loc 1 1659 3 discriminator 3 view .LVU347
 1175              		.loc 1 1659 3 discriminator 3 view .LVU348
1660:ThirdPackage/lwip220/api/api_msg.c ****               conn->current_msg->msg.w.offset < conn->current_msg->msg.w.len);
1661:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg->msg.w.vector_cnt > 0", conn->current_msg->msg.w.vector_cnt > 0);
 1176              		.loc 1 1661 3 discriminator 3 view .LVU349
 1177              		.loc 1 1661 3 discriminator 3 view .LVU350
 1178 0022 2B6A     		ldr	r3, [r5, #32]
 1179 0024 9B89     		ldrh	r3, [r3, #12]
 1180 0026 002B     		cmp	r3, #0
 1181 0028 34D0     		beq	.L144
 1182              	.L101:
 1183              		.loc 1 1661 3 discriminator 3 view .LVU351
 1184              		.loc 1 1661 3 discriminator 3 view .LVU352
1662:ThirdPackage/lwip220/api/api_msg.c **** 
1663:ThirdPackage/lwip220/api/api_msg.c ****   apiflags = conn->current_msg->msg.w.apiflags;
 1185              		.loc 1 1663 3 discriminator 3 view .LVU353
 1186              		.loc 1 1663 18 is_stmt 0 discriminator 3 view .LVU354
 1187 002a 2B6A     		ldr	r3, [r5, #32]
 1188              		.loc 1 1663 12 discriminator 3 view .LVU355
 1189 002c 93F81C80 		ldrb	r8, [r3, #28]	@ zero_extendqisi2
 1190              	.LVL110:
1664:ThirdPackage/lwip220/api/api_msg.c ****   dontblock = netconn_is_nonblocking(conn) || (apiflags & NETCONN_DONTBLOCK);
 1191              		.loc 1 1664 3 is_stmt 1 discriminator 3 view .LVU356
 1192              		.loc 1 1664 15 is_stmt 0 discriminator 3 view .LVU357
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 55


 1193 0030 2B7F     		ldrb	r3, [r5, #28]	@ zero_extendqisi2
 1194              		.loc 1 1664 44 discriminator 3 view .LVU358
 1195 0032 13F0020F 		tst	r3, #2
 1196 0036 35D1     		bne	.L126
 1197              		.loc 1 1664 44 discriminator 2 view .LVU359
 1198 0038 18F0040F 		tst	r8, #4
 1199 003c 37D0     		beq	.L127
 1200              		.loc 1 1664 44 view .LVU360
 1201 003e 4FF0010A 		mov	r10, #1
 1202 0042 31E0     		b	.L102
 1203              	.LVL111:
 1204              	.L139:
1655:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("conn->state == NETCONN_WRITE", (conn->state == NETCONN_WRITE));
 1205              		.loc 1 1655 3 is_stmt 1 discriminator 1 view .LVU361
1655:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("conn->state == NETCONN_WRITE", (conn->state == NETCONN_WRITE));
 1206              		.loc 1 1655 3 discriminator 1 view .LVU362
 1207 0044 8A4B     		ldr	r3, .L152
 1208 0046 40F27762 		movw	r2, #1655
 1209 004a 8A49     		ldr	r1, .L152+4
 1210              	.LVL112:
1655:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("conn->state == NETCONN_WRITE", (conn->state == NETCONN_WRITE));
 1211              		.loc 1 1655 3 is_stmt 0 discriminator 1 view .LVU363
 1212 004c 8A48     		ldr	r0, .L152+8
 1213              	.LVL113:
1655:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("conn->state == NETCONN_WRITE", (conn->state == NETCONN_WRITE));
 1214              		.loc 1 1655 3 discriminator 1 view .LVU364
 1215 004e FFF7FEFF 		bl	printf
 1216              	.LVL114:
 1217 0052 DAE7     		b	.L96
 1218              	.L140:
1656:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg != NULL", conn->current_msg != NULL);
 1219              		.loc 1 1656 3 is_stmt 1 discriminator 1 view .LVU365
1656:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg != NULL", conn->current_msg != NULL);
 1220              		.loc 1 1656 3 discriminator 1 view .LVU366
 1221 0054 864B     		ldr	r3, .L152
 1222 0056 4FF4CF62 		mov	r2, #1656
 1223 005a 8849     		ldr	r1, .L152+12
 1224 005c 8648     		ldr	r0, .L152+8
 1225 005e FFF7FEFF 		bl	printf
 1226              	.LVL115:
 1227 0062 D5E7     		b	.L97
 1228              	.L141:
1657:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("conn->pcb.tcp != NULL", conn->pcb.tcp != NULL);
 1229              		.loc 1 1657 3 discriminator 1 view .LVU367
1657:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("conn->pcb.tcp != NULL", conn->pcb.tcp != NULL);
 1230              		.loc 1 1657 3 discriminator 1 view .LVU368
 1231 0064 824B     		ldr	r3, .L152
 1232 0066 40F27962 		movw	r2, #1657
 1233 006a 8549     		ldr	r1, .L152+16
 1234 006c 8248     		ldr	r0, .L152+8
 1235 006e FFF7FEFF 		bl	printf
 1236              	.LVL116:
 1237 0072 CFE7     		b	.L98
 1238              	.L142:
1658:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg->msg.w.offset < conn->current_msg->msg.w.len",
 1239              		.loc 1 1658 3 discriminator 1 view .LVU369
1658:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg->msg.w.offset < conn->current_msg->msg.w.len",
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 56


 1240              		.loc 1 1658 3 discriminator 1 view .LVU370
 1241 0074 7E4B     		ldr	r3, .L152
 1242 0076 40F27A62 		movw	r2, #1658
 1243 007a 8249     		ldr	r1, .L152+20
 1244 007c 7E48     		ldr	r0, .L152+8
 1245 007e FFF7FEFF 		bl	printf
 1246              	.LVL117:
 1247 0082 C9E7     		b	.L99
 1248              	.L143:
1659:ThirdPackage/lwip220/api/api_msg.c ****               conn->current_msg->msg.w.offset < conn->current_msg->msg.w.len);
 1249              		.loc 1 1659 3 discriminator 1 view .LVU371
1659:ThirdPackage/lwip220/api/api_msg.c ****               conn->current_msg->msg.w.offset < conn->current_msg->msg.w.len);
 1250              		.loc 1 1659 3 discriminator 1 view .LVU372
 1251 0084 7A4B     		ldr	r3, .L152
 1252 0086 40F27B62 		movw	r2, #1659
 1253 008a 7F49     		ldr	r1, .L152+24
 1254 008c 7A48     		ldr	r0, .L152+8
 1255 008e FFF7FEFF 		bl	printf
 1256              	.LVL118:
 1257 0092 C6E7     		b	.L100
 1258              	.L144:
1661:ThirdPackage/lwip220/api/api_msg.c **** 
 1259              		.loc 1 1661 3 discriminator 1 view .LVU373
1661:ThirdPackage/lwip220/api/api_msg.c **** 
 1260              		.loc 1 1661 3 discriminator 1 view .LVU374
 1261 0094 764B     		ldr	r3, .L152
 1262 0096 40F27D62 		movw	r2, #1661
 1263 009a 7C49     		ldr	r1, .L152+28
 1264 009c 7648     		ldr	r0, .L152+8
 1265 009e FFF7FEFF 		bl	printf
 1266              	.LVL119:
 1267 00a2 C2E7     		b	.L101
 1268              	.LVL120:
 1269              	.L126:
 1270              		.loc 1 1664 44 is_stmt 0 view .LVU375
 1271 00a4 4FF0010A 		mov	r10, #1
 1272              	.L102:
 1273              		.loc 1 1664 13 discriminator 6 view .LVU376
 1274 00a8 5FFA8AFA 		uxtb	r10, r10
 1275              	.LVL121:
 1276              		.loc 1 1664 13 discriminator 6 view .LVU377
 1277 00ac 4EE0     		b	.L115
 1278              	.LVL122:
 1279              	.L127:
 1280              		.loc 1 1664 44 view .LVU378
 1281 00ae 4FF0000A 		mov	r10, #0
 1282 00b2 F9E7     		b	.L102
 1283              	.LVL123:
 1284              	.L103:
1665:ThirdPackage/lwip220/api/api_msg.c **** 
1666:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_SO_SNDTIMEO
1667:ThirdPackage/lwip220/api/api_msg.c ****   if ((conn->send_timeout != 0) &&
1668:ThirdPackage/lwip220/api/api_msg.c ****       ((s32_t)(sys_now() - conn->current_msg->msg.w.time_started) >= conn->send_timeout)) {
1669:ThirdPackage/lwip220/api/api_msg.c ****     write_finished = 1;
1670:ThirdPackage/lwip220/api/api_msg.c ****     if (conn->current_msg->msg.w.offset == 0) {
1671:ThirdPackage/lwip220/api/api_msg.c ****       /* nothing has been written */
1672:ThirdPackage/lwip220/api/api_msg.c ****       err = ERR_WOULDBLOCK;
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 57


1673:ThirdPackage/lwip220/api/api_msg.c ****     } else {
1674:ThirdPackage/lwip220/api/api_msg.c ****       /* partial write */
1675:ThirdPackage/lwip220/api/api_msg.c ****       err = ERR_OK;
1676:ThirdPackage/lwip220/api/api_msg.c ****     }
1677:ThirdPackage/lwip220/api/api_msg.c ****   } else
1678:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_SO_SNDTIMEO */
1679:ThirdPackage/lwip220/api/api_msg.c ****   {
1680:ThirdPackage/lwip220/api/api_msg.c ****     do {
1681:ThirdPackage/lwip220/api/api_msg.c ****       dataptr = (const u8_t *)conn->current_msg->msg.w.vector->ptr + conn->current_msg->msg.w.vecto
1682:ThirdPackage/lwip220/api/api_msg.c ****       diff = conn->current_msg->msg.w.vector->len - conn->current_msg->msg.w.vector_off;
1683:ThirdPackage/lwip220/api/api_msg.c ****       if (diff > 0xffffUL) { /* max_u16_t */
1684:ThirdPackage/lwip220/api/api_msg.c ****         len = 0xffff;
1685:ThirdPackage/lwip220/api/api_msg.c ****         apiflags |= TCP_WRITE_FLAG_MORE;
1686:ThirdPackage/lwip220/api/api_msg.c ****       } else {
1687:ThirdPackage/lwip220/api/api_msg.c ****         len = (u16_t)diff;
 1285              		.loc 1 1687 9 is_stmt 1 view .LVU379
 1286              		.loc 1 1687 13 is_stmt 0 view .LVU380
 1287 00b4 B4B2     		uxth	r4, r6
 1288              	.LVL124:
 1289              		.loc 1 1687 13 view .LVU381
 1290 00b6 57E0     		b	.L104
 1291              	.LVL125:
 1292              	.L148:
1688:ThirdPackage/lwip220/api/api_msg.c ****       }
1689:ThirdPackage/lwip220/api/api_msg.c ****       available = tcp_sndbuf(conn->pcb.tcp);
1690:ThirdPackage/lwip220/api/api_msg.c ****       if (available < len) {
1691:ThirdPackage/lwip220/api/api_msg.c ****         /* don't try to write more than sendbuf */
1692:ThirdPackage/lwip220/api/api_msg.c ****         len = available;
1693:ThirdPackage/lwip220/api/api_msg.c ****         if (dontblock) {
1694:ThirdPackage/lwip220/api/api_msg.c ****           if (!len) {
1695:ThirdPackage/lwip220/api/api_msg.c ****             /* set error according to partial write or not */
1696:ThirdPackage/lwip220/api/api_msg.c ****             err = (conn->current_msg->msg.w.offset == 0) ? ERR_WOULDBLOCK : ERR_OK;
 1293              		.loc 1 1696 13 is_stmt 1 view .LVU382
 1294              		.loc 1 1696 44 is_stmt 0 view .LVU383
 1295 00b8 9369     		ldr	r3, [r2, #24]
 1296              		.loc 1 1696 17 view .LVU384
 1297 00ba B3B9     		cbnz	r3, .L129
 1298 00bc 6FF00604 		mvn	r4, #6
 1299              	.LVL126:
 1300              	.L108:
1697:ThirdPackage/lwip220/api/api_msg.c ****             goto err_mem;
1698:ThirdPackage/lwip220/api/api_msg.c ****           }
1699:ThirdPackage/lwip220/api/api_msg.c ****         } else {
1700:ThirdPackage/lwip220/api/api_msg.c ****           apiflags |= TCP_WRITE_FLAG_MORE;
1701:ThirdPackage/lwip220/api/api_msg.c ****         }
1702:ThirdPackage/lwip220/api/api_msg.c ****       }
1703:ThirdPackage/lwip220/api/api_msg.c ****       LWIP_ASSERT("lwip_netconn_do_writemore: invalid length!",
1704:ThirdPackage/lwip220/api/api_msg.c ****                   ((conn->current_msg->msg.w.vector_off + len) <= conn->current_msg->msg.w.vector->
1705:ThirdPackage/lwip220/api/api_msg.c ****       /* we should loop around for more sending in the following cases:
1706:ThirdPackage/lwip220/api/api_msg.c ****            1) We couldn't finish the current vector because of 16-bit size limitations.
1707:ThirdPackage/lwip220/api/api_msg.c ****               tcp_write() and tcp_sndbuf() both are limited to 16-bit sizes
1708:ThirdPackage/lwip220/api/api_msg.c ****            2) We are sending the remainder of the current vector and have more */
1709:ThirdPackage/lwip220/api/api_msg.c ****       if ((len == 0xffff && diff > 0xffffUL) ||
1710:ThirdPackage/lwip220/api/api_msg.c ****           (len == (u16_t)diff && conn->current_msg->msg.w.vector_cnt > 1)) {
1711:ThirdPackage/lwip220/api/api_msg.c ****         write_more = 1;
1712:ThirdPackage/lwip220/api/api_msg.c ****         apiflags |= TCP_WRITE_FLAG_MORE;
1713:ThirdPackage/lwip220/api/api_msg.c ****       } else {
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 58


1714:ThirdPackage/lwip220/api/api_msg.c ****         write_more = 0;
1715:ThirdPackage/lwip220/api/api_msg.c ****       }
1716:ThirdPackage/lwip220/api/api_msg.c ****       err = tcp_write(conn->pcb.tcp, dataptr, len, apiflags);
1717:ThirdPackage/lwip220/api/api_msg.c ****       if (err == ERR_OK) {
1718:ThirdPackage/lwip220/api/api_msg.c ****         conn->current_msg->msg.w.offset += len;
1719:ThirdPackage/lwip220/api/api_msg.c ****         conn->current_msg->msg.w.vector_off += len;
1720:ThirdPackage/lwip220/api/api_msg.c ****         /* check if current vector is finished */
1721:ThirdPackage/lwip220/api/api_msg.c ****         if (conn->current_msg->msg.w.vector_off == conn->current_msg->msg.w.vector->len) {
1722:ThirdPackage/lwip220/api/api_msg.c ****           conn->current_msg->msg.w.vector_cnt--;
1723:ThirdPackage/lwip220/api/api_msg.c ****           /* if we have additional vectors, move on to them */
1724:ThirdPackage/lwip220/api/api_msg.c ****           if (conn->current_msg->msg.w.vector_cnt > 0) {
1725:ThirdPackage/lwip220/api/api_msg.c ****             conn->current_msg->msg.w.vector++;
1726:ThirdPackage/lwip220/api/api_msg.c ****             conn->current_msg->msg.w.vector_off = 0;
1727:ThirdPackage/lwip220/api/api_msg.c ****           }
1728:ThirdPackage/lwip220/api/api_msg.c ****         }
1729:ThirdPackage/lwip220/api/api_msg.c ****       }
1730:ThirdPackage/lwip220/api/api_msg.c ****     } while (write_more && err == ERR_OK);
1731:ThirdPackage/lwip220/api/api_msg.c ****     /* if OK or memory error, check available space */
1732:ThirdPackage/lwip220/api/api_msg.c ****     if ((err == ERR_OK) || (err == ERR_MEM)) {
1733:ThirdPackage/lwip220/api/api_msg.c **** err_mem:
1734:ThirdPackage/lwip220/api/api_msg.c ****       if (dontblock && (conn->current_msg->msg.w.offset < conn->current_msg->msg.w.len)) {
 1301              		.loc 1 1734 7 is_stmt 1 view .LVU385
 1302              		.loc 1 1734 10 is_stmt 0 view .LVU386
 1303 00c0 BAF1000F 		cmp	r10, #0
 1304 00c4 00F08B80 		beq	.L117
 1305              		.loc 1 1734 29 discriminator 1 view .LVU387
 1306 00c8 2B6A     		ldr	r3, [r5, #32]
 1307              		.loc 1 1734 49 discriminator 1 view .LVU388
 1308 00ca 9A69     		ldr	r2, [r3, #24]
 1309              		.loc 1 1734 83 discriminator 1 view .LVU389
 1310 00cc 5B69     		ldr	r3, [r3, #20]
 1311              		.loc 1 1734 21 discriminator 1 view .LVU390
 1312 00ce 9A42     		cmp	r2, r3
 1313 00d0 80F08580 		bcs	.L117
1735:ThirdPackage/lwip220/api/api_msg.c ****         /* non-blocking write did not write everything: mark the pcb non-writable
1736:ThirdPackage/lwip220/api/api_msg.c ****            and let poll_tcp check writable space to mark the pcb writable again */
1737:ThirdPackage/lwip220/api/api_msg.c ****         API_EVENT(conn, NETCONN_EVT_SENDMINUS, 0);
 1314              		.loc 1 1737 9 is_stmt 1 view .LVU391
 1315 00d4 6B6A     		ldr	r3, [r5, #36]
 1316 00d6 1BB1     		cbz	r3, .L118
 1317              		.loc 1 1737 9 discriminator 1 view .LVU392
 1318 00d8 0022     		movs	r2, #0
 1319 00da 0321     		movs	r1, #3
 1320 00dc 2846     		mov	r0, r5
 1321 00de 9847     		blx	r3
 1322              	.LVL127:
 1323              	.L118:
 1324              		.loc 1 1737 50 discriminator 3 view .LVU393
1738:ThirdPackage/lwip220/api/api_msg.c ****         conn->flags |= NETCONN_FLAG_CHECK_WRITESPACE;
 1325              		.loc 1 1738 9 discriminator 3 view .LVU394
 1326              		.loc 1 1738 21 is_stmt 0 discriminator 3 view .LVU395
 1327 00e0 2B7F     		ldrb	r3, [r5, #28]	@ zero_extendqisi2
 1328 00e2 43F01003 		orr	r3, r3, #16
 1329 00e6 2B77     		strb	r3, [r5, #28]
 1330 00e8 6DE0     		b	.L116
 1331              	.LVL128:
 1332              	.L129:
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 59


1696:ThirdPackage/lwip220/api/api_msg.c ****             goto err_mem;
 1333              		.loc 1 1696 17 view .LVU396
 1334 00ea 0024     		movs	r4, #0
 1335              	.LVL129:
1697:ThirdPackage/lwip220/api/api_msg.c ****           }
 1336              		.loc 1 1697 13 is_stmt 1 view .LVU397
 1337 00ec E8E7     		b	.L108
 1338              	.LVL130:
 1339              	.L106:
1700:ThirdPackage/lwip220/api/api_msg.c ****         }
 1340              		.loc 1 1700 11 view .LVU398
1700:ThirdPackage/lwip220/api/api_msg.c ****         }
 1341              		.loc 1 1700 20 is_stmt 0 view .LVU399
 1342 00ee 48F00208 		orr	r8, r8, #2
 1343              	.LVL131:
1692:ThirdPackage/lwip220/api/api_msg.c ****         if (dontblock) {
 1344              		.loc 1 1692 13 view .LVU400
 1345 00f2 0446     		mov	r4, r0
 1346              	.LVL132:
 1347              	.L105:
1703:ThirdPackage/lwip220/api/api_msg.c ****                   ((conn->current_msg->msg.w.vector_off + len) <= conn->current_msg->msg.w.vector->
 1348              		.loc 1 1703 7 is_stmt 1 view .LVU401
1703:ThirdPackage/lwip220/api/api_msg.c ****                   ((conn->current_msg->msg.w.vector_off + len) <= conn->current_msg->msg.w.vector->
 1349              		.loc 1 1703 7 view .LVU402
 1350 00f4 A146     		mov	r9, r4
 1351 00f6 2344     		add	r3, r3, r4
 1352 00f8 9942     		cmp	r1, r3
 1353 00fa 41D3     		bcc	.L145
 1354              	.LVL133:
 1355              	.L109:
1703:ThirdPackage/lwip220/api/api_msg.c ****                   ((conn->current_msg->msg.w.vector_off + len) <= conn->current_msg->msg.w.vector->
 1356              		.loc 1 1703 7 discriminator 3 view .LVU403
1703:ThirdPackage/lwip220/api/api_msg.c ****                   ((conn->current_msg->msg.w.vector_off + len) <= conn->current_msg->msg.w.vector->
 1357              		.loc 1 1703 7 discriminator 3 view .LVU404
1709:ThirdPackage/lwip220/api/api_msg.c ****           (len == (u16_t)diff && conn->current_msg->msg.w.vector_cnt > 1)) {
 1358              		.loc 1 1709 7 discriminator 3 view .LVU405
1709:ThirdPackage/lwip220/api/api_msg.c ****           (len == (u16_t)diff && conn->current_msg->msg.w.vector_cnt > 1)) {
 1359              		.loc 1 1709 10 is_stmt 0 discriminator 3 view .LVU406
 1360 00fc 4FF6FF73 		movw	r3, #65535
 1361 0100 9C42     		cmp	r4, r3
 1362 0102 45D0     		beq	.L146
 1363              	.L110:
1710:ThirdPackage/lwip220/api/api_msg.c ****         write_more = 1;
 1364              		.loc 1 1710 19 discriminator 3 view .LVU407
 1365 0104 B6B2     		uxth	r6, r6
 1366              	.LVL134:
1709:ThirdPackage/lwip220/api/api_msg.c ****           (len == (u16_t)diff && conn->current_msg->msg.w.vector_cnt > 1)) {
 1367              		.loc 1 1709 46 discriminator 3 view .LVU408
 1368 0106 A642     		cmp	r6, r4
 1369 0108 46D1     		bne	.L130
1710:ThirdPackage/lwip220/api/api_msg.c ****         write_more = 1;
 1370              		.loc 1 1710 38 view .LVU409
 1371 010a 2B6A     		ldr	r3, [r5, #32]
1710:ThirdPackage/lwip220/api/api_msg.c ****         write_more = 1;
 1372              		.loc 1 1710 58 view .LVU410
 1373 010c 9B89     		ldrh	r3, [r3, #12]
1710:ThirdPackage/lwip220/api/api_msg.c ****         write_more = 1;
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 60


 1374              		.loc 1 1710 31 view .LVU411
 1375 010e 012B     		cmp	r3, #1
 1376 0110 44D9     		bls	.L131
 1377              	.L111:
1711:ThirdPackage/lwip220/api/api_msg.c ****         apiflags |= TCP_WRITE_FLAG_MORE;
 1378              		.loc 1 1711 9 is_stmt 1 view .LVU412
 1379              	.LVL135:
1712:ThirdPackage/lwip220/api/api_msg.c ****       } else {
 1380              		.loc 1 1712 9 view .LVU413
1712:ThirdPackage/lwip220/api/api_msg.c ****       } else {
 1381              		.loc 1 1712 18 is_stmt 0 view .LVU414
 1382 0112 48F00208 		orr	r8, r8, #2
 1383              	.LVL136:
1711:ThirdPackage/lwip220/api/api_msg.c ****         apiflags |= TCP_WRITE_FLAG_MORE;
 1384              		.loc 1 1711 20 view .LVU415
 1385 0116 0126     		movs	r6, #1
 1386              	.LVL137:
 1387              	.L112:
1716:ThirdPackage/lwip220/api/api_msg.c ****       if (err == ERR_OK) {
 1388              		.loc 1 1716 7 is_stmt 1 view .LVU416
1716:ThirdPackage/lwip220/api/api_msg.c ****       if (err == ERR_OK) {
 1389              		.loc 1 1716 13 is_stmt 0 view .LVU417
 1390 0118 4346     		mov	r3, r8
 1391 011a 2246     		mov	r2, r4
 1392 011c 3946     		mov	r1, r7
 1393 011e 6868     		ldr	r0, [r5, #4]
 1394 0120 FFF7FEFF 		bl	tcp_write
 1395              	.LVL138:
1717:ThirdPackage/lwip220/api/api_msg.c ****         conn->current_msg->msg.w.offset += len;
 1396              		.loc 1 1717 7 is_stmt 1 view .LVU418
1717:ThirdPackage/lwip220/api/api_msg.c ****         conn->current_msg->msg.w.offset += len;
 1397              		.loc 1 1717 10 is_stmt 0 view .LVU419
 1398 0124 0446     		mov	r4, r0
 1399              	.LVL139:
1717:ThirdPackage/lwip220/api/api_msg.c ****         conn->current_msg->msg.w.offset += len;
 1400              		.loc 1 1717 10 view .LVU420
 1401 0126 68B9     		cbnz	r0, .L113
1718:ThirdPackage/lwip220/api/api_msg.c ****         conn->current_msg->msg.w.vector_off += len;
 1402              		.loc 1 1718 9 is_stmt 1 view .LVU421
1718:ThirdPackage/lwip220/api/api_msg.c ****         conn->current_msg->msg.w.vector_off += len;
 1403              		.loc 1 1718 13 is_stmt 0 view .LVU422
 1404 0128 2A6A     		ldr	r2, [r5, #32]
1718:ThirdPackage/lwip220/api/api_msg.c ****         conn->current_msg->msg.w.vector_off += len;
 1405              		.loc 1 1718 41 view .LVU423
 1406 012a 9369     		ldr	r3, [r2, #24]
 1407 012c 4B44     		add	r3, r3, r9
 1408 012e 9361     		str	r3, [r2, #24]
1719:ThirdPackage/lwip220/api/api_msg.c ****         /* check if current vector is finished */
 1409              		.loc 1 1719 9 is_stmt 1 view .LVU424
1719:ThirdPackage/lwip220/api/api_msg.c ****         /* check if current vector is finished */
 1410              		.loc 1 1719 13 is_stmt 0 view .LVU425
 1411 0130 2A6A     		ldr	r2, [r5, #32]
1719:ThirdPackage/lwip220/api/api_msg.c ****         /* check if current vector is finished */
 1412              		.loc 1 1719 45 view .LVU426
 1413 0132 1369     		ldr	r3, [r2, #16]
 1414 0134 4B44     		add	r3, r3, r9
 1415 0136 1361     		str	r3, [r2, #16]
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 61


1721:ThirdPackage/lwip220/api/api_msg.c ****           conn->current_msg->msg.w.vector_cnt--;
 1416              		.loc 1 1721 9 is_stmt 1 view .LVU427
1721:ThirdPackage/lwip220/api/api_msg.c ****           conn->current_msg->msg.w.vector_cnt--;
 1417              		.loc 1 1721 17 is_stmt 0 view .LVU428
 1418 0138 2B6A     		ldr	r3, [r5, #32]
1721:ThirdPackage/lwip220/api/api_msg.c ****           conn->current_msg->msg.w.vector_cnt--;
 1419              		.loc 1 1721 37 view .LVU429
 1420 013a 1969     		ldr	r1, [r3, #16]
1721:ThirdPackage/lwip220/api/api_msg.c ****           conn->current_msg->msg.w.vector_cnt--;
 1421              		.loc 1 1721 76 view .LVU430
 1422 013c 9A68     		ldr	r2, [r3, #8]
1721:ThirdPackage/lwip220/api/api_msg.c ****           conn->current_msg->msg.w.vector_cnt--;
 1423              		.loc 1 1721 83 view .LVU431
 1424 013e 5268     		ldr	r2, [r2, #4]
1721:ThirdPackage/lwip220/api/api_msg.c ****           conn->current_msg->msg.w.vector_cnt--;
 1425              		.loc 1 1721 12 view .LVU432
 1426 0140 9142     		cmp	r1, r2
 1427 0142 2DD0     		beq	.L147
 1428              	.L113:
1730:ThirdPackage/lwip220/api/api_msg.c ****     /* if OK or memory error, check available space */
 1429              		.loc 1 1730 13 is_stmt 1 view .LVU433
1730:ThirdPackage/lwip220/api/api_msg.c ****     /* if OK or memory error, check available space */
 1430              		.loc 1 1730 5 is_stmt 0 view .LVU434
 1431 0144 002E     		cmp	r6, #0
 1432 0146 39D0     		beq	.L114
1730:ThirdPackage/lwip220/api/api_msg.c ****     /* if OK or memory error, check available space */
 1433              		.loc 1 1730 25 discriminator 1 view .LVU435
 1434 0148 002C     		cmp	r4, #0
 1435 014a 37D1     		bne	.L114
 1436              	.LVL140:
 1437              	.L115:
1680:ThirdPackage/lwip220/api/api_msg.c ****       dataptr = (const u8_t *)conn->current_msg->msg.w.vector->ptr + conn->current_msg->msg.w.vecto
 1438              		.loc 1 1680 5 is_stmt 1 view .LVU436
1681:ThirdPackage/lwip220/api/api_msg.c ****       diff = conn->current_msg->msg.w.vector->len - conn->current_msg->msg.w.vector_off;
 1439              		.loc 1 1681 7 view .LVU437
1681:ThirdPackage/lwip220/api/api_msg.c ****       diff = conn->current_msg->msg.w.vector->len - conn->current_msg->msg.w.vector_off;
 1440              		.loc 1 1681 35 is_stmt 0 view .LVU438
 1441 014c 2A6A     		ldr	r2, [r5, #32]
1681:ThirdPackage/lwip220/api/api_msg.c ****       diff = conn->current_msg->msg.w.vector->len - conn->current_msg->msg.w.vector_off;
 1442              		.loc 1 1681 55 view .LVU439
 1443 014e 9168     		ldr	r1, [r2, #8]
1681:ThirdPackage/lwip220/api/api_msg.c ****       diff = conn->current_msg->msg.w.vector->len - conn->current_msg->msg.w.vector_off;
 1444              		.loc 1 1681 62 view .LVU440
 1445 0150 0F68     		ldr	r7, [r1]
1681:ThirdPackage/lwip220/api/api_msg.c ****       diff = conn->current_msg->msg.w.vector->len - conn->current_msg->msg.w.vector_off;
 1446              		.loc 1 1681 94 view .LVU441
 1447 0152 1369     		ldr	r3, [r2, #16]
1681:ThirdPackage/lwip220/api/api_msg.c ****       diff = conn->current_msg->msg.w.vector->len - conn->current_msg->msg.w.vector_off;
 1448              		.loc 1 1681 15 view .LVU442
 1449 0154 1F44     		add	r7, r7, r3
 1450              	.LVL141:
1682:ThirdPackage/lwip220/api/api_msg.c ****       if (diff > 0xffffUL) { /* max_u16_t */
 1451              		.loc 1 1682 7 is_stmt 1 view .LVU443
1682:ThirdPackage/lwip220/api/api_msg.c ****       if (diff > 0xffffUL) { /* max_u16_t */
 1452              		.loc 1 1682 45 is_stmt 0 view .LVU444
 1453 0156 4968     		ldr	r1, [r1, #4]
1682:ThirdPackage/lwip220/api/api_msg.c ****       if (diff > 0xffffUL) { /* max_u16_t */
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 62


 1454              		.loc 1 1682 12 view .LVU445
 1455 0158 CE1A     		subs	r6, r1, r3
 1456              	.LVL142:
1683:ThirdPackage/lwip220/api/api_msg.c ****         len = 0xffff;
 1457              		.loc 1 1683 7 is_stmt 1 view .LVU446
1683:ThirdPackage/lwip220/api/api_msg.c ****         len = 0xffff;
 1458              		.loc 1 1683 10 is_stmt 0 view .LVU447
 1459 015a B6F5803F 		cmp	r6, #65536
 1460 015e A9D3     		bcc	.L103
1684:ThirdPackage/lwip220/api/api_msg.c ****         apiflags |= TCP_WRITE_FLAG_MORE;
 1461              		.loc 1 1684 9 is_stmt 1 view .LVU448
 1462              	.LVL143:
1685:ThirdPackage/lwip220/api/api_msg.c ****       } else {
 1463              		.loc 1 1685 9 view .LVU449
1685:ThirdPackage/lwip220/api/api_msg.c ****       } else {
 1464              		.loc 1 1685 18 is_stmt 0 view .LVU450
 1465 0160 48F00208 		orr	r8, r8, #2
 1466              	.LVL144:
1684:ThirdPackage/lwip220/api/api_msg.c ****         apiflags |= TCP_WRITE_FLAG_MORE;
 1467              		.loc 1 1684 13 view .LVU451
 1468 0164 4FF6FF74 		movw	r4, #65535
 1469              	.LVL145:
 1470              	.L104:
1689:ThirdPackage/lwip220/api/api_msg.c ****       if (available < len) {
 1471              		.loc 1 1689 7 is_stmt 1 view .LVU452
1689:ThirdPackage/lwip220/api/api_msg.c ****       if (available < len) {
 1472              		.loc 1 1689 19 is_stmt 0 view .LVU453
 1473 0168 6868     		ldr	r0, [r5, #4]
1689:ThirdPackage/lwip220/api/api_msg.c ****       if (available < len) {
 1474              		.loc 1 1689 17 view .LVU454
 1475 016a B0F86400 		ldrh	r0, [r0, #100]
 1476              	.LVL146:
1690:ThirdPackage/lwip220/api/api_msg.c ****         /* don't try to write more than sendbuf */
 1477              		.loc 1 1690 7 is_stmt 1 view .LVU455
1690:ThirdPackage/lwip220/api/api_msg.c ****         /* don't try to write more than sendbuf */
 1478              		.loc 1 1690 10 is_stmt 0 view .LVU456
 1479 016e 8442     		cmp	r4, r0
 1480 0170 C0D9     		bls	.L105
1692:ThirdPackage/lwip220/api/api_msg.c ****         if (dontblock) {
 1481              		.loc 1 1692 9 is_stmt 1 view .LVU457
 1482              	.LVL147:
1693:ThirdPackage/lwip220/api/api_msg.c ****           if (!len) {
 1483              		.loc 1 1693 9 view .LVU458
1693:ThirdPackage/lwip220/api/api_msg.c ****           if (!len) {
 1484              		.loc 1 1693 12 is_stmt 0 view .LVU459
 1485 0172 BAF1000F 		cmp	r10, #0
 1486 0176 BAD0     		beq	.L106
1694:ThirdPackage/lwip220/api/api_msg.c ****             /* set error according to partial write or not */
 1487              		.loc 1 1694 11 is_stmt 1 view .LVU460
1694:ThirdPackage/lwip220/api/api_msg.c ****             /* set error according to partial write or not */
 1488              		.loc 1 1694 14 is_stmt 0 view .LVU461
 1489 0178 0028     		cmp	r0, #0
 1490 017a 9DD0     		beq	.L148
1692:ThirdPackage/lwip220/api/api_msg.c ****         if (dontblock) {
 1491              		.loc 1 1692 13 view .LVU462
 1492 017c 0446     		mov	r4, r0
 1493 017e B9E7     		b	.L105
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 63


 1494              	.LVL148:
 1495              	.L145:
1703:ThirdPackage/lwip220/api/api_msg.c ****                   ((conn->current_msg->msg.w.vector_off + len) <= conn->current_msg->msg.w.vector->
 1496              		.loc 1 1703 7 is_stmt 1 discriminator 1 view .LVU463
1703:ThirdPackage/lwip220/api/api_msg.c ****                   ((conn->current_msg->msg.w.vector_off + len) <= conn->current_msg->msg.w.vector->
 1497              		.loc 1 1703 7 discriminator 1 view .LVU464
 1498 0180 3B4B     		ldr	r3, .L152
 1499 0182 40F2A762 		movw	r2, #1703
 1500 0186 4249     		ldr	r1, .L152+32
 1501 0188 3B48     		ldr	r0, .L152+8
 1502              	.LVL149:
1703:ThirdPackage/lwip220/api/api_msg.c ****                   ((conn->current_msg->msg.w.vector_off + len) <= conn->current_msg->msg.w.vector->
 1503              		.loc 1 1703 7 is_stmt 0 discriminator 1 view .LVU465
 1504 018a FFF7FEFF 		bl	printf
 1505              	.LVL150:
1703:ThirdPackage/lwip220/api/api_msg.c ****                   ((conn->current_msg->msg.w.vector_off + len) <= conn->current_msg->msg.w.vector->
 1506              		.loc 1 1703 7 discriminator 1 view .LVU466
 1507 018e B5E7     		b	.L109
 1508              	.L146:
1709:ThirdPackage/lwip220/api/api_msg.c ****           (len == (u16_t)diff && conn->current_msg->msg.w.vector_cnt > 1)) {
 1509              		.loc 1 1709 26 discriminator 1 view .LVU467
 1510 0190 B6F5803F 		cmp	r6, #65536
 1511 0194 BDD2     		bcs	.L111
 1512 0196 B5E7     		b	.L110
 1513              	.LVL151:
 1514              	.L130:
1714:ThirdPackage/lwip220/api/api_msg.c ****       }
 1515              		.loc 1 1714 20 view .LVU468
 1516 0198 0026     		movs	r6, #0
 1517 019a BDE7     		b	.L112
 1518              	.L131:
1714:ThirdPackage/lwip220/api/api_msg.c ****       }
 1519              		.loc 1 1714 20 view .LVU469
 1520 019c 0026     		movs	r6, #0
 1521 019e BBE7     		b	.L112
 1522              	.LVL152:
 1523              	.L147:
1722:ThirdPackage/lwip220/api/api_msg.c ****           /* if we have additional vectors, move on to them */
 1524              		.loc 1 1722 11 is_stmt 1 view .LVU470
1722:ThirdPackage/lwip220/api/api_msg.c ****           /* if we have additional vectors, move on to them */
 1525              		.loc 1 1722 35 is_stmt 0 view .LVU471
 1526 01a0 9A89     		ldrh	r2, [r3, #12]
1722:ThirdPackage/lwip220/api/api_msg.c ****           /* if we have additional vectors, move on to them */
 1527              		.loc 1 1722 46 view .LVU472
 1528 01a2 013A     		subs	r2, r2, #1
 1529 01a4 9A81     		strh	r2, [r3, #12]	@ movhi
1724:ThirdPackage/lwip220/api/api_msg.c ****             conn->current_msg->msg.w.vector++;
 1530              		.loc 1 1724 11 is_stmt 1 view .LVU473
1724:ThirdPackage/lwip220/api/api_msg.c ****             conn->current_msg->msg.w.vector++;
 1531              		.loc 1 1724 19 is_stmt 0 view .LVU474
 1532 01a6 2B6A     		ldr	r3, [r5, #32]
1724:ThirdPackage/lwip220/api/api_msg.c ****             conn->current_msg->msg.w.vector++;
 1533              		.loc 1 1724 39 view .LVU475
 1534 01a8 9A89     		ldrh	r2, [r3, #12]
1724:ThirdPackage/lwip220/api/api_msg.c ****             conn->current_msg->msg.w.vector++;
 1535              		.loc 1 1724 14 view .LVU476
 1536 01aa 002A     		cmp	r2, #0
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 64


 1537 01ac CAD0     		beq	.L113
1725:ThirdPackage/lwip220/api/api_msg.c ****             conn->current_msg->msg.w.vector_off = 0;
 1538              		.loc 1 1725 13 is_stmt 1 view .LVU477
1725:ThirdPackage/lwip220/api/api_msg.c ****             conn->current_msg->msg.w.vector_off = 0;
 1539              		.loc 1 1725 37 is_stmt 0 view .LVU478
 1540 01ae 9A68     		ldr	r2, [r3, #8]
1725:ThirdPackage/lwip220/api/api_msg.c ****             conn->current_msg->msg.w.vector_off = 0;
 1541              		.loc 1 1725 44 view .LVU479
 1542 01b0 0832     		adds	r2, r2, #8
 1543 01b2 9A60     		str	r2, [r3, #8]
1726:ThirdPackage/lwip220/api/api_msg.c ****           }
 1544              		.loc 1 1726 13 is_stmt 1 view .LVU480
1726:ThirdPackage/lwip220/api/api_msg.c ****           }
 1545              		.loc 1 1726 17 is_stmt 0 view .LVU481
 1546 01b4 2B6A     		ldr	r3, [r5, #32]
1726:ThirdPackage/lwip220/api/api_msg.c ****           }
 1547              		.loc 1 1726 49 view .LVU482
 1548 01b6 0022     		movs	r2, #0
 1549 01b8 1A61     		str	r2, [r3, #16]
 1550 01ba C3E7     		b	.L113
 1551              	.L114:
1732:ThirdPackage/lwip220/api/api_msg.c **** err_mem:
 1552              		.loc 1 1732 5 is_stmt 1 view .LVU483
1732:ThirdPackage/lwip220/api/api_msg.c **** err_mem:
 1553              		.loc 1 1732 25 is_stmt 0 view .LVU484
 1554 01bc 631C     		adds	r3, r4, #1
 1555 01be DBB2     		uxtb	r3, r3
1732:ThirdPackage/lwip220/api/api_msg.c **** err_mem:
 1556              		.loc 1 1732 8 view .LVU485
 1557 01c0 012B     		cmp	r3, #1
 1558 01c2 7FF67DAF 		bls	.L108
 1559              	.LVL153:
 1560              	.L116:
1739:ThirdPackage/lwip220/api/api_msg.c ****       } else if ((tcp_sndbuf(conn->pcb.tcp) <= TCP_SNDLOWAT) ||
1740:ThirdPackage/lwip220/api/api_msg.c ****                  (tcp_sndqueuelen(conn->pcb.tcp) >= TCP_SNDQUEUELOWAT)) {
1741:ThirdPackage/lwip220/api/api_msg.c ****         /* The queued byte- or pbuf-count exceeds the configured low-water limit,
1742:ThirdPackage/lwip220/api/api_msg.c ****            let select mark this pcb as non-writable. */
1743:ThirdPackage/lwip220/api/api_msg.c ****         API_EVENT(conn, NETCONN_EVT_SENDMINUS, 0);
 1561              		.loc 1 1743 50 is_stmt 1 discriminator 3 view .LVU486
1744:ThirdPackage/lwip220/api/api_msg.c ****       }
1745:ThirdPackage/lwip220/api/api_msg.c ****     }
1746:ThirdPackage/lwip220/api/api_msg.c **** 
1747:ThirdPackage/lwip220/api/api_msg.c ****     if (err == ERR_OK) {
 1562              		.loc 1 1747 5 discriminator 3 view .LVU487
 1563              		.loc 1 1747 8 is_stmt 0 discriminator 3 view .LVU488
 1564 01c6 54BB     		cbnz	r4, .L120
 1565              	.LBB6:
1748:ThirdPackage/lwip220/api/api_msg.c ****       err_t out_err;
 1566              		.loc 1 1748 7 is_stmt 1 view .LVU489
1749:ThirdPackage/lwip220/api/api_msg.c ****       if ((conn->current_msg->msg.w.offset == conn->current_msg->msg.w.len) || dontblock) {
 1567              		.loc 1 1749 7 view .LVU490
 1568              		.loc 1 1749 16 is_stmt 0 view .LVU491
 1569 01c8 2B6A     		ldr	r3, [r5, #32]
 1570              		.loc 1 1749 36 view .LVU492
 1571 01ca 9A69     		ldr	r2, [r3, #24]
 1572              		.loc 1 1749 71 view .LVU493
 1573 01cc 5B69     		ldr	r3, [r3, #20]
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 65


 1574              		.loc 1 1749 10 view .LVU494
 1575 01ce 9A42     		cmp	r2, r3
 1576 01d0 17D0     		beq	.L132
 1577              		.loc 1 1749 77 discriminator 1 view .LVU495
 1578 01d2 BAF1000F 		cmp	r10, #0
 1579 01d6 16D0     		beq	.L121
1750:ThirdPackage/lwip220/api/api_msg.c ****         /* return sent length (caller reads length from msg.w.offset) */
1751:ThirdPackage/lwip220/api/api_msg.c ****         write_finished = 1;
 1580              		.loc 1 1751 24 view .LVU496
 1581 01d8 4FF0010A 		mov	r10, #1
 1582              	.LVL154:
 1583              		.loc 1 1751 24 view .LVU497
 1584 01dc 13E0     		b	.L121
 1585              	.LVL155:
 1586              	.L117:
 1587              		.loc 1 1751 24 view .LVU498
 1588              	.LBE6:
1739:ThirdPackage/lwip220/api/api_msg.c ****                  (tcp_sndqueuelen(conn->pcb.tcp) >= TCP_SNDQUEUELOWAT)) {
 1589              		.loc 1 1739 14 is_stmt 1 view .LVU499
1739:ThirdPackage/lwip220/api/api_msg.c ****                  (tcp_sndqueuelen(conn->pcb.tcp) >= TCP_SNDQUEUELOWAT)) {
 1590              		.loc 1 1739 19 is_stmt 0 view .LVU500
 1591 01de 6B68     		ldr	r3, [r5, #4]
 1592 01e0 B3F86420 		ldrh	r2, [r3, #100]
1739:ThirdPackage/lwip220/api/api_msg.c ****                  (tcp_sndqueuelen(conn->pcb.tcp) >= TCP_SNDQUEUELOWAT)) {
 1593              		.loc 1 1739 17 view .LVU501
 1594 01e4 B2F5866F 		cmp	r2, #1072
 1595 01e8 03D3     		bcc	.L119
1740:ThirdPackage/lwip220/api/api_msg.c ****         /* The queued byte- or pbuf-count exceeds the configured low-water limit,
 1596              		.loc 1 1740 19 discriminator 1 view .LVU502
 1597 01ea B3F86630 		ldrh	r3, [r3, #102]
1739:ThirdPackage/lwip220/api/api_msg.c ****                  (tcp_sndqueuelen(conn->pcb.tcp) >= TCP_SNDQUEUELOWAT)) {
 1598              		.loc 1 1739 62 discriminator 1 view .LVU503
 1599 01ee 042B     		cmp	r3, #4
 1600 01f0 E9D9     		bls	.L116
 1601              	.L119:
1743:ThirdPackage/lwip220/api/api_msg.c ****       }
 1602              		.loc 1 1743 9 is_stmt 1 view .LVU504
 1603 01f2 6B6A     		ldr	r3, [r5, #36]
 1604 01f4 002B     		cmp	r3, #0
 1605 01f6 E6D0     		beq	.L116
1743:ThirdPackage/lwip220/api/api_msg.c ****       }
 1606              		.loc 1 1743 9 discriminator 1 view .LVU505
 1607 01f8 0022     		movs	r2, #0
 1608 01fa 0321     		movs	r1, #3
 1609 01fc 2846     		mov	r0, r5
 1610 01fe 9847     		blx	r3
 1611              	.LVL156:
 1612 0200 E1E7     		b	.L116
 1613              	.L132:
 1614              	.LBB7:
 1615              		.loc 1 1751 24 is_stmt 0 view .LVU506
 1616 0202 4FF0010A 		mov	r10, #1
 1617              	.LVL157:
 1618              	.L121:
1752:ThirdPackage/lwip220/api/api_msg.c ****       }
1753:ThirdPackage/lwip220/api/api_msg.c ****       out_err = tcp_output(conn->pcb.tcp);
 1619              		.loc 1 1753 7 is_stmt 1 view .LVU507
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 66


 1620              		.loc 1 1753 17 is_stmt 0 view .LVU508
 1621 0206 6868     		ldr	r0, [r5, #4]
 1622 0208 FFF7FEFF 		bl	tcp_output
 1623              	.LVL158:
1754:ThirdPackage/lwip220/api/api_msg.c ****       if (out_err == ERR_RTE) {
 1624              		.loc 1 1754 7 is_stmt 1 view .LVU509
 1625              		.loc 1 1754 10 is_stmt 0 view .LVU510
 1626 020c 10F1040F 		cmn	r0, #4
 1627 0210 25D0     		beq	.L149
 1628              		.loc 1 1754 10 view .LVU511
 1629              	.LBE7:
1755:ThirdPackage/lwip220/api/api_msg.c ****         /* If tcp_output fails because no route is found,
1756:ThirdPackage/lwip220/api/api_msg.c ****            don't try writing any more but return the error
1757:ThirdPackage/lwip220/api/api_msg.c ****            to the application thread. */
1758:ThirdPackage/lwip220/api/api_msg.c ****         err = out_err;
1759:ThirdPackage/lwip220/api/api_msg.c ****         write_finished = 1;
1760:ThirdPackage/lwip220/api/api_msg.c ****       }
1761:ThirdPackage/lwip220/api/api_msg.c ****     } else if (err == ERR_MEM) {
1762:ThirdPackage/lwip220/api/api_msg.c ****       /* If ERR_MEM, we wait for sent_tcp or poll_tcp to be called.
1763:ThirdPackage/lwip220/api/api_msg.c ****          For blocking sockets, we do NOT return to the application
1764:ThirdPackage/lwip220/api/api_msg.c ****          thread, since ERR_MEM is only a temporary error! Non-blocking
1765:ThirdPackage/lwip220/api/api_msg.c ****          will remain non-writable until sent_tcp/poll_tcp is called */
1766:ThirdPackage/lwip220/api/api_msg.c **** 
1767:ThirdPackage/lwip220/api/api_msg.c ****       /* tcp_write returned ERR_MEM, try tcp_output anyway */
1768:ThirdPackage/lwip220/api/api_msg.c ****       err_t out_err = tcp_output(conn->pcb.tcp);
1769:ThirdPackage/lwip220/api/api_msg.c ****       if (out_err == ERR_RTE) {
1770:ThirdPackage/lwip220/api/api_msg.c ****         /* If tcp_output fails because no route is found,
1771:ThirdPackage/lwip220/api/api_msg.c ****            don't try writing any more but return the error
1772:ThirdPackage/lwip220/api/api_msg.c ****            to the application thread. */
1773:ThirdPackage/lwip220/api/api_msg.c ****         err = out_err;
1774:ThirdPackage/lwip220/api/api_msg.c ****         write_finished = 1;
1775:ThirdPackage/lwip220/api/api_msg.c ****       } else if (dontblock) {
1776:ThirdPackage/lwip220/api/api_msg.c ****         /* non-blocking write is done on ERR_MEM, set error according
1777:ThirdPackage/lwip220/api/api_msg.c ****            to partial write or not */
1778:ThirdPackage/lwip220/api/api_msg.c ****         err = (conn->current_msg->msg.w.offset == 0) ? ERR_WOULDBLOCK : ERR_OK;
1779:ThirdPackage/lwip220/api/api_msg.c ****         write_finished = 1;
1780:ThirdPackage/lwip220/api/api_msg.c ****       }
1781:ThirdPackage/lwip220/api/api_msg.c ****     } else {
1782:ThirdPackage/lwip220/api/api_msg.c ****       /* On errors != ERR_MEM, we don't try writing any more but return
1783:ThirdPackage/lwip220/api/api_msg.c ****          the error to the application thread. */
1784:ThirdPackage/lwip220/api/api_msg.c ****       write_finished = 1;
1785:ThirdPackage/lwip220/api/api_msg.c ****     }
1786:ThirdPackage/lwip220/api/api_msg.c ****   }
1787:ThirdPackage/lwip220/api/api_msg.c ****   if (write_finished) {
 1630              		.loc 1 1787 3 is_stmt 1 view .LVU512
 1631              		.loc 1 1787 6 is_stmt 0 view .LVU513
 1632 0212 BAF1000F 		cmp	r10, #0
 1633 0216 05D1     		bne	.L122
 1634              	.LVL159:
 1635              	.L124:
1788:ThirdPackage/lwip220/api/api_msg.c ****     /* everything was written: set back connection state
1789:ThirdPackage/lwip220/api/api_msg.c ****        and back to application task */
1790:ThirdPackage/lwip220/api/api_msg.c ****     sys_sem_t *op_completed_sem = LWIP_API_MSG_SEM(conn->current_msg);
1791:ThirdPackage/lwip220/api/api_msg.c ****     conn->current_msg->err = err;
1792:ThirdPackage/lwip220/api/api_msg.c ****     conn->current_msg = NULL;
1793:ThirdPackage/lwip220/api/api_msg.c ****     conn->state = NETCONN_NONE;
1794:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 67


1795:ThirdPackage/lwip220/api/api_msg.c ****     if (delayed)
1796:ThirdPackage/lwip220/api/api_msg.c **** #endif
1797:ThirdPackage/lwip220/api/api_msg.c ****     {
1798:ThirdPackage/lwip220/api/api_msg.c ****       sys_sem_signal(op_completed_sem);
1799:ThirdPackage/lwip220/api/api_msg.c ****     }
1800:ThirdPackage/lwip220/api/api_msg.c ****   }
1801:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
1802:ThirdPackage/lwip220/api/api_msg.c ****   else {
1803:ThirdPackage/lwip220/api/api_msg.c ****     return ERR_MEM;
 1636              		.loc 1 1803 5 is_stmt 1 view .LVU514
 1637              		.loc 1 1803 12 is_stmt 0 view .LVU515
 1638 0218 4FF0FF30 		mov	r0, #-1
 1639 021c 0DE0     		b	.L125
 1640              	.LVL160:
 1641              	.L120:
1761:ThirdPackage/lwip220/api/api_msg.c ****       /* If ERR_MEM, we wait for sent_tcp or poll_tcp to be called.
 1642              		.loc 1 1761 12 is_stmt 1 view .LVU516
1761:ThirdPackage/lwip220/api/api_msg.c ****       /* If ERR_MEM, we wait for sent_tcp or poll_tcp to be called.
 1643              		.loc 1 1761 15 is_stmt 0 view .LVU517
 1644 021e B4F1FF3F 		cmp	r4, #-1
 1645 0222 0CD0     		beq	.L150
 1646              	.LVL161:
 1647              	.L122:
 1648              	.LBB8:
1790:ThirdPackage/lwip220/api/api_msg.c ****     conn->current_msg->err = err;
 1649              		.loc 1 1790 5 is_stmt 1 view .LVU518
1790:ThirdPackage/lwip220/api/api_msg.c ****     conn->current_msg->err = err;
 1650              		.loc 1 1790 35 is_stmt 0 view .LVU519
 1651 0224 2B6A     		ldr	r3, [r5, #32]
 1652 0226 1868     		ldr	r0, [r3]
1790:ThirdPackage/lwip220/api/api_msg.c ****     conn->current_msg->err = err;
 1653              		.loc 1 1790 16 view .LVU520
 1654 0228 0C30     		adds	r0, r0, #12
 1655              	.LVL162:
1791:ThirdPackage/lwip220/api/api_msg.c ****     conn->current_msg = NULL;
 1656              		.loc 1 1791 5 is_stmt 1 view .LVU521
1791:ThirdPackage/lwip220/api/api_msg.c ****     conn->current_msg = NULL;
 1657              		.loc 1 1791 28 is_stmt 0 view .LVU522
 1658 022a 1C71     		strb	r4, [r3, #4]
1792:ThirdPackage/lwip220/api/api_msg.c ****     conn->state = NETCONN_NONE;
 1659              		.loc 1 1792 5 is_stmt 1 view .LVU523
1792:ThirdPackage/lwip220/api/api_msg.c ****     conn->state = NETCONN_NONE;
 1660              		.loc 1 1792 23 is_stmt 0 view .LVU524
 1661 022c 0023     		movs	r3, #0
 1662 022e 2B62     		str	r3, [r5, #32]
1793:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 1663              		.loc 1 1793 5 is_stmt 1 view .LVU525
1793:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 1664              		.loc 1 1793 17 is_stmt 0 view .LVU526
 1665 0230 6B70     		strb	r3, [r5, #1]
1795:ThirdPackage/lwip220/api/api_msg.c **** #endif
 1666              		.loc 1 1795 5 is_stmt 1 view .LVU527
1795:ThirdPackage/lwip220/api/api_msg.c **** #endif
 1667              		.loc 1 1795 8 is_stmt 0 view .LVU528
 1668 0232 BBF1000F 		cmp	fp, #0
 1669 0236 16D1     		bne	.L151
 1670              	.LBE8:
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 68


1804:ThirdPackage/lwip220/api/api_msg.c ****   }
1805:ThirdPackage/lwip220/api/api_msg.c **** #endif
1806:ThirdPackage/lwip220/api/api_msg.c ****   return ERR_OK;
 1671              		.loc 1 1806 10 view .LVU529
 1672 0238 0020     		movs	r0, #0
 1673              	.LVL163:
 1674              	.L125:
1807:ThirdPackage/lwip220/api/api_msg.c **** }
 1675              		.loc 1 1807 1 view .LVU530
 1676 023a BDE8F88F 		pop	{r3, r4, r5, r6, r7, r8, r9, r10, fp, pc}
 1677              	.LVL164:
 1678              	.L150:
 1679              	.LBB9:
1768:ThirdPackage/lwip220/api/api_msg.c ****       if (out_err == ERR_RTE) {
 1680              		.loc 1 1768 7 is_stmt 1 view .LVU531
1768:ThirdPackage/lwip220/api/api_msg.c ****       if (out_err == ERR_RTE) {
 1681              		.loc 1 1768 23 is_stmt 0 view .LVU532
 1682 023e 6868     		ldr	r0, [r5, #4]
 1683 0240 FFF7FEFF 		bl	tcp_output
 1684              	.LVL165:
 1685 0244 0446     		mov	r4, r0
 1686              	.LVL166:
1769:ThirdPackage/lwip220/api/api_msg.c ****         /* If tcp_output fails because no route is found,
 1687              		.loc 1 1769 7 is_stmt 1 view .LVU533
1769:ThirdPackage/lwip220/api/api_msg.c ****         /* If tcp_output fails because no route is found,
 1688              		.loc 1 1769 10 is_stmt 0 view .LVU534
 1689 0246 10F1040F 		cmn	r0, #4
 1690 024a EBD0     		beq	.L122
1775:ThirdPackage/lwip220/api/api_msg.c ****         /* non-blocking write is done on ERR_MEM, set error according
 1691              		.loc 1 1775 14 is_stmt 1 view .LVU535
1775:ThirdPackage/lwip220/api/api_msg.c ****         /* non-blocking write is done on ERR_MEM, set error according
 1692              		.loc 1 1775 17 is_stmt 0 view .LVU536
 1693 024c BAF1000F 		cmp	r10, #0
 1694 0250 E2D0     		beq	.L124
1778:ThirdPackage/lwip220/api/api_msg.c ****         write_finished = 1;
 1695              		.loc 1 1778 9 is_stmt 1 view .LVU537
1778:ThirdPackage/lwip220/api/api_msg.c ****         write_finished = 1;
 1696              		.loc 1 1778 20 is_stmt 0 view .LVU538
 1697 0252 2B6A     		ldr	r3, [r5, #32]
1778:ThirdPackage/lwip220/api/api_msg.c ****         write_finished = 1;
 1698              		.loc 1 1778 40 view .LVU539
 1699 0254 9B69     		ldr	r3, [r3, #24]
1778:ThirdPackage/lwip220/api/api_msg.c ****         write_finished = 1;
 1700              		.loc 1 1778 13 view .LVU540
 1701 0256 23B9     		cbnz	r3, .L135
 1702 0258 6FF00604 		mvn	r4, #6
 1703 025c E2E7     		b	.L122
 1704              	.LVL167:
 1705              	.L149:
1778:ThirdPackage/lwip220/api/api_msg.c ****         write_finished = 1;
 1706              		.loc 1 1778 13 view .LVU541
 1707              	.LBE9:
 1708              	.LBB10:
1758:ThirdPackage/lwip220/api/api_msg.c ****         write_finished = 1;
 1709              		.loc 1 1758 13 view .LVU542
 1710 025e 0446     		mov	r4, r0
 1711              	.LVL168:
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 69


1758:ThirdPackage/lwip220/api/api_msg.c ****         write_finished = 1;
 1712              		.loc 1 1758 13 view .LVU543
 1713 0260 E0E7     		b	.L122
 1714              	.LVL169:
 1715              	.L135:
1758:ThirdPackage/lwip220/api/api_msg.c ****         write_finished = 1;
 1716              		.loc 1 1758 13 view .LVU544
 1717              	.LBE10:
 1718              	.LBB11:
1778:ThirdPackage/lwip220/api/api_msg.c ****         write_finished = 1;
 1719              		.loc 1 1778 13 view .LVU545
 1720 0262 0024     		movs	r4, #0
 1721 0264 DEE7     		b	.L122
 1722              	.LVL170:
 1723              	.L151:
1778:ThirdPackage/lwip220/api/api_msg.c ****         write_finished = 1;
 1724              		.loc 1 1778 13 view .LVU546
 1725              	.LBE11:
 1726              	.LBB12:
1798:ThirdPackage/lwip220/api/api_msg.c ****     }
 1727              		.loc 1 1798 7 is_stmt 1 view .LVU547
 1728 0266 FFF7FEFF 		bl	sys_sem_signal
 1729              	.LVL171:
1798:ThirdPackage/lwip220/api/api_msg.c ****     }
 1730              		.loc 1 1798 7 is_stmt 0 view .LVU548
 1731              	.LBE12:
1806:ThirdPackage/lwip220/api/api_msg.c **** }
 1732              		.loc 1 1806 10 view .LVU549
 1733 026a 0020     		movs	r0, #0
 1734 026c E5E7     		b	.L125
 1735              	.L153:
 1736 026e 00BF     		.align	2
 1737              	.L152:
 1738 0270 00000000 		.word	.LC0
 1739 0274 00000000 		.word	.LC7
 1740 0278 34000000 		.word	.LC2
 1741 027c 00000000 		.word	.LC14
 1742 0280 10000000 		.word	.LC8
 1743 0284 20000000 		.word	.LC15
 1744 0288 38000000 		.word	.LC16
 1745 028c 78000000 		.word	.LC17
 1746 0290 A0000000 		.word	.LC18
 1747              		.cfi_endproc
 1748              	.LFE184:
 1750              		.section	.rodata.lwip_netconn_do_close_internal.str1.4,"aMS",%progbits,1
 1751              		.align	2
 1752              	.LC19:
 1753 0000 696E7661 		.ascii	"invalid conn\000"
 1753      6C696420 
 1753      636F6E6E 
 1753      00
 1754 000d 000000   		.align	2
 1755              	.LC20:
 1756 0010 74686973 		.ascii	"this is for tcp netconns only\000"
 1756      20697320 
 1756      666F7220 
 1756      74637020 
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 70


 1756      6E657463 
 1757 002e 0000     		.align	2
 1758              	.LC21:
 1759 0030 636F6E6E 		.ascii	"conn must be in state NETCONN_CLOSE\000"
 1759      206D7573 
 1759      74206265 
 1759      20696E20 
 1759      73746174 
 1760              		.align	2
 1761              	.LC22:
 1762 0054 70636220 		.ascii	"pcb already closed\000"
 1762      616C7265 
 1762      61647920 
 1762      636C6F73 
 1762      656400
 1763 0067 00       		.align	2
 1764              	.LC23:
 1765 0068 436C6F73 		.ascii	"Closing a listen pcb may not fail!\000"
 1765      696E6720 
 1765      61206C69 
 1765      7374656E 
 1765      20706362 
 1766              		.section	.text.lwip_netconn_do_close_internal,"ax",%progbits
 1767              		.align	1
 1768              		.syntax unified
 1769              		.thumb
 1770              		.thumb_func
 1772              	lwip_netconn_do_close_internal:
 1773              	.LVL172:
 1774              	.LFB174:
 925:ThirdPackage/lwip220/api/api_msg.c ****   err_t err;
 1775              		.loc 1 925 1 is_stmt 1 view -0
 1776              		.cfi_startproc
 1777              		@ args = 0, pretend = 0, frame = 0
 1778              		@ frame_needed = 0, uses_anonymous_args = 0
 925:ThirdPackage/lwip220/api/api_msg.c ****   err_t err;
 1779              		.loc 1 925 1 is_stmt 0 view .LVU551
 1780 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 1781              	.LCFI9:
 1782              		.cfi_def_cfa_offset 32
 1783              		.cfi_offset 4, -32
 1784              		.cfi_offset 5, -28
 1785              		.cfi_offset 6, -24
 1786              		.cfi_offset 7, -20
 1787              		.cfi_offset 8, -16
 1788              		.cfi_offset 9, -12
 1789              		.cfi_offset 10, -8
 1790              		.cfi_offset 14, -4
 1791 0004 0F46     		mov	r7, r1
 926:ThirdPackage/lwip220/api/api_msg.c ****   u8_t shut, shut_rx, shut_tx, shut_close;
 1792              		.loc 1 926 3 is_stmt 1 view .LVU552
 927:ThirdPackage/lwip220/api/api_msg.c ****   u8_t close_finished = 0;
 1793              		.loc 1 927 3 view .LVU553
 928:ThirdPackage/lwip220/api/api_msg.c ****   struct tcp_pcb *tpcb;
 1794              		.loc 1 928 3 view .LVU554
 1795              	.LVL173:
 929:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_SO_LINGER
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 71


 1796              		.loc 1 929 3 view .LVU555
 934:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("this is for tcp netconns only", (NETCONNTYPE_GROUP(conn->type) == NETCONN_TCP));
 1797              		.loc 1 934 3 view .LVU556
 934:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("this is for tcp netconns only", (NETCONNTYPE_GROUP(conn->type) == NETCONN_TCP));
 1798              		.loc 1 934 3 view .LVU557
 1799 0006 0446     		mov	r4, r0
 1800 0008 0028     		cmp	r0, #0
 1801 000a 5FD0     		beq	.L182
 1802              	.LVL174:
 1803              	.L155:
 934:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("this is for tcp netconns only", (NETCONNTYPE_GROUP(conn->type) == NETCONN_TCP));
 1804              		.loc 1 934 3 discriminator 3 view .LVU558
 934:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("this is for tcp netconns only", (NETCONNTYPE_GROUP(conn->type) == NETCONN_TCP));
 1805              		.loc 1 934 3 discriminator 3 view .LVU559
 935:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("conn must be in state NETCONN_CLOSE", (conn->state == NETCONN_CLOSE));
 1806              		.loc 1 935 3 discriminator 3 view .LVU560
 935:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("conn must be in state NETCONN_CLOSE", (conn->state == NETCONN_CLOSE));
 1807              		.loc 1 935 3 discriminator 3 view .LVU561
 1808 000c 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 1809 000e 03F0F003 		and	r3, r3, #240
 1810 0012 102B     		cmp	r3, #16
 1811 0014 62D1     		bne	.L183
 1812              	.L156:
 935:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("conn must be in state NETCONN_CLOSE", (conn->state == NETCONN_CLOSE));
 1813              		.loc 1 935 3 discriminator 3 view .LVU562
 935:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("conn must be in state NETCONN_CLOSE", (conn->state == NETCONN_CLOSE));
 1814              		.loc 1 935 3 discriminator 3 view .LVU563
 936:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("pcb already closed", (conn->pcb.tcp != NULL));
 1815              		.loc 1 936 3 discriminator 3 view .LVU564
 936:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("pcb already closed", (conn->pcb.tcp != NULL));
 1816              		.loc 1 936 3 discriminator 3 view .LVU565
 1817 0016 6378     		ldrb	r3, [r4, #1]	@ zero_extendqisi2
 1818 0018 042B     		cmp	r3, #4
 1819 001a 67D1     		bne	.L184
 1820              	.L157:
 936:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("pcb already closed", (conn->pcb.tcp != NULL));
 1821              		.loc 1 936 3 discriminator 3 view .LVU566
 936:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("pcb already closed", (conn->pcb.tcp != NULL));
 1822              		.loc 1 936 3 discriminator 3 view .LVU567
 937:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg != NULL", conn->current_msg != NULL);
 1823              		.loc 1 937 3 discriminator 3 view .LVU568
 937:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg != NULL", conn->current_msg != NULL);
 1824              		.loc 1 937 3 discriminator 3 view .LVU569
 1825 001c 6368     		ldr	r3, [r4, #4]
 1826 001e 002B     		cmp	r3, #0
 1827 0020 6CD0     		beq	.L185
 1828              	.L158:
 937:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg != NULL", conn->current_msg != NULL);
 1829              		.loc 1 937 3 discriminator 3 view .LVU570
 937:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg != NULL", conn->current_msg != NULL);
 1830              		.loc 1 937 3 discriminator 3 view .LVU571
 938:ThirdPackage/lwip220/api/api_msg.c **** 
 1831              		.loc 1 938 3 discriminator 3 view .LVU572
 938:ThirdPackage/lwip220/api/api_msg.c **** 
 1832              		.loc 1 938 3 discriminator 3 view .LVU573
 1833 0022 236A     		ldr	r3, [r4, #32]
 1834 0024 002B     		cmp	r3, #0
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 72


 1835 0026 71D0     		beq	.L186
 1836              	.L159:
 938:ThirdPackage/lwip220/api/api_msg.c **** 
 1837              		.loc 1 938 3 discriminator 3 view .LVU574
 938:ThirdPackage/lwip220/api/api_msg.c **** 
 1838              		.loc 1 938 3 discriminator 3 view .LVU575
 940:ThirdPackage/lwip220/api/api_msg.c ****   shut = conn->current_msg->msg.sd.shut;
 1839              		.loc 1 940 3 discriminator 3 view .LVU576
 940:ThirdPackage/lwip220/api/api_msg.c ****   shut = conn->current_msg->msg.sd.shut;
 1840              		.loc 1 940 8 is_stmt 0 discriminator 3 view .LVU577
 1841 0028 6668     		ldr	r6, [r4, #4]
 1842              	.LVL175:
 941:ThirdPackage/lwip220/api/api_msg.c ****   shut_rx = shut & NETCONN_SHUT_RD;
 1843              		.loc 1 941 3 is_stmt 1 discriminator 3 view .LVU578
 941:ThirdPackage/lwip220/api/api_msg.c ****   shut_rx = shut & NETCONN_SHUT_RD;
 1844              		.loc 1 941 14 is_stmt 0 discriminator 3 view .LVU579
 1845 002a 236A     		ldr	r3, [r4, #32]
 941:ThirdPackage/lwip220/api/api_msg.c ****   shut_rx = shut & NETCONN_SHUT_RD;
 1846              		.loc 1 941 8 discriminator 3 view .LVU580
 1847 002c 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 1848              	.LVL176:
 942:ThirdPackage/lwip220/api/api_msg.c ****   shut_tx = shut & NETCONN_SHUT_WR;
 1849              		.loc 1 942 3 is_stmt 1 discriminator 3 view .LVU581
 942:ThirdPackage/lwip220/api/api_msg.c ****   shut_tx = shut & NETCONN_SHUT_WR;
 1850              		.loc 1 942 11 is_stmt 0 discriminator 3 view .LVU582
 1851 002e 03F00109 		and	r9, r3, #1
 1852              	.LVL177:
 943:ThirdPackage/lwip220/api/api_msg.c ****   /* shutting down both ends is the same as closing
 1853              		.loc 1 943 3 is_stmt 1 discriminator 3 view .LVU583
 943:ThirdPackage/lwip220/api/api_msg.c ****   /* shutting down both ends is the same as closing
 1854              		.loc 1 943 11 is_stmt 0 discriminator 3 view .LVU584
 1855 0032 03F00208 		and	r8, r3, #2
 1856              	.LVL178:
 946:ThirdPackage/lwip220/api/api_msg.c ****     shut_close = 1;
 1857              		.loc 1 946 3 is_stmt 1 discriminator 3 view .LVU585
 946:ThirdPackage/lwip220/api/api_msg.c ****     shut_close = 1;
 1858              		.loc 1 946 6 is_stmt 0 discriminator 3 view .LVU586
 1859 0036 032B     		cmp	r3, #3
 1860 0038 10D0     		beq	.L160
 948:ThirdPackage/lwip220/api/api_msg.c ****              ((tpcb->state == FIN_WAIT_1) ||
 1861              		.loc 1 948 10 is_stmt 1 view .LVU587
 948:ThirdPackage/lwip220/api/api_msg.c ****              ((tpcb->state == FIN_WAIT_1) ||
 1862              		.loc 1 948 13 is_stmt 0 view .LVU588
 1863 003a B9F1000F 		cmp	r9, #0
 1864 003e 06D0     		beq	.L161
 949:ThirdPackage/lwip220/api/api_msg.c ****               (tpcb->state == FIN_WAIT_2) ||
 1865              		.loc 1 949 20 discriminator 1 view .LVU589
 1866 0040 327D     		ldrb	r2, [r6, #20]	@ zero_extendqisi2
 949:ThirdPackage/lwip220/api/api_msg.c ****               (tpcb->state == FIN_WAIT_2) ||
 1867              		.loc 1 949 43 discriminator 1 view .LVU590
 1868 0042 531F     		subs	r3, r2, #5
 1869              	.LVL179:
 949:ThirdPackage/lwip220/api/api_msg.c ****               (tpcb->state == FIN_WAIT_2) ||
 1870              		.loc 1 949 43 discriminator 1 view .LVU591
 1871 0044 DBB2     		uxtb	r3, r3
 948:ThirdPackage/lwip220/api/api_msg.c ****              ((tpcb->state == FIN_WAIT_1) ||
 1872              		.loc 1 948 22 discriminator 1 view .LVU592
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 73


 1873 0046 012B     		cmp	r3, #1
 1874 0048 08D9     		bls	.L160
 950:ThirdPackage/lwip220/api/api_msg.c ****               (tpcb->state == CLOSING))) {
 1875              		.loc 1 950 43 view .LVU593
 1876 004a 082A     		cmp	r2, #8
 1877 004c 06D0     		beq	.L160
 1878              	.L161:
 953:ThirdPackage/lwip220/api/api_msg.c ****     shut_close = 1;
 1879              		.loc 1 953 10 is_stmt 1 view .LVU594
 953:ThirdPackage/lwip220/api/api_msg.c ****     shut_close = 1;
 1880              		.loc 1 953 13 is_stmt 0 view .LVU595
 1881 004e B8F1000F 		cmp	r8, #0
 1882 0052 63D0     		beq	.L179
 953:ThirdPackage/lwip220/api/api_msg.c ****     shut_close = 1;
 1883              		.loc 1 953 31 discriminator 1 view .LVU596
 1884 0054 738B     		ldrh	r3, [r6, #26]
 953:ThirdPackage/lwip220/api/api_msg.c ****     shut_close = 1;
 1885              		.loc 1 953 22 discriminator 1 view .LVU597
 1886 0056 13F0100F 		tst	r3, #16
 1887 005a 61D0     		beq	.L180
 1888              	.L160:
 961:ThirdPackage/lwip220/api/api_msg.c ****   }
 1889              		.loc 1 961 5 is_stmt 1 view .LVU598
 1890 005c 0021     		movs	r1, #0
 1891 005e 3046     		mov	r0, r6
 1892 0060 FFF7FEFF 		bl	tcp_arg
 1893              	.LVL180:
 961:ThirdPackage/lwip220/api/api_msg.c ****   }
 1894              		.loc 1 961 5 is_stmt 0 view .LVU599
 1895 0064 4FF0010A 		mov	r10, #1
 1896              	.L162:
 963:ThirdPackage/lwip220/api/api_msg.c ****     tcp_accept(tpcb, NULL);
 1897              		.loc 1 963 3 is_stmt 1 view .LVU600
 963:ThirdPackage/lwip220/api/api_msg.c ****     tcp_accept(tpcb, NULL);
 1898              		.loc 1 963 11 is_stmt 0 view .LVU601
 1899 0068 337D     		ldrb	r3, [r6, #20]	@ zero_extendqisi2
 963:ThirdPackage/lwip220/api/api_msg.c ****     tcp_accept(tpcb, NULL);
 1900              		.loc 1 963 6 view .LVU602
 1901 006a 012B     		cmp	r3, #1
 1902 006c 5BD0     		beq	.L187
 967:ThirdPackage/lwip220/api/api_msg.c ****       tcp_recv(tpcb, NULL);
 1903              		.loc 1 967 5 is_stmt 1 view .LVU603
 967:ThirdPackage/lwip220/api/api_msg.c ****       tcp_recv(tpcb, NULL);
 1904              		.loc 1 967 8 is_stmt 0 view .LVU604
 1905 006e B9F1000F 		cmp	r9, #0
 1906 0072 5DD1     		bne	.L188
 1907              	.L165:
 971:ThirdPackage/lwip220/api/api_msg.c ****       tcp_sent(tpcb, NULL);
 1908              		.loc 1 971 5 is_stmt 1 view .LVU605
 971:ThirdPackage/lwip220/api/api_msg.c ****       tcp_sent(tpcb, NULL);
 1909              		.loc 1 971 8 is_stmt 0 view .LVU606
 1910 0074 B8F1000F 		cmp	r8, #0
 1911 0078 63D1     		bne	.L189
 1912              	.L166:
 974:ThirdPackage/lwip220/api/api_msg.c ****       tcp_poll(tpcb, NULL, 0);
 1913              		.loc 1 974 5 is_stmt 1 view .LVU607
 974:ThirdPackage/lwip220/api/api_msg.c ****       tcp_poll(tpcb, NULL, 0);
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 74


 1914              		.loc 1 974 8 is_stmt 0 view .LVU608
 1915 007a BAF1000F 		cmp	r10, #0
 1916 007e 65D1     		bne	.L190
 1917              	.L164:
 980:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_SO_LINGER
 1918              		.loc 1 980 3 is_stmt 1 view .LVU609
 980:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_SO_LINGER
 1919              		.loc 1 980 6 is_stmt 0 view .LVU610
 1920 0080 BAF1000F 		cmp	r10, #0
 1921 0084 6CD0     		beq	.L167
1010:ThirdPackage/lwip220/api/api_msg.c ****     }
 1922              		.loc 1 1010 7 is_stmt 1 view .LVU611
1010:ThirdPackage/lwip220/api/api_msg.c ****     }
 1923              		.loc 1 1010 13 is_stmt 0 view .LVU612
 1924 0086 3046     		mov	r0, r6
 1925 0088 FFF7FEFF 		bl	tcp_close
 1926              	.LVL181:
 1927 008c 0546     		mov	r5, r0
 1928              	.LVL182:
 1929              	.L168:
1015:ThirdPackage/lwip220/api/api_msg.c ****     close_finished = 1;
 1930              		.loc 1 1015 3 is_stmt 1 view .LVU613
1015:ThirdPackage/lwip220/api/api_msg.c ****     close_finished = 1;
 1931              		.loc 1 1015 6 is_stmt 0 view .LVU614
 1932 008e 002D     		cmp	r5, #0
 1933 0090 70D0     		beq	.L169
1025:ThirdPackage/lwip220/api/api_msg.c ****       /* Closing failed because of memory shortage, try again later. Even for
 1934              		.loc 1 1025 5 is_stmt 1 view .LVU615
1025:ThirdPackage/lwip220/api/api_msg.c ****       /* Closing failed because of memory shortage, try again later. Even for
 1935              		.loc 1 1025 8 is_stmt 0 view .LVU616
 1936 0092 B5F1FF3F 		cmp	r5, #-1
 1937 0096 6DD1     		bne	.L169
1046:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_SO_SNDTIMEO || LWIP_SO_LINGER */
 1938              		.loc 1 1046 7 is_stmt 1 view .LVU617
1046:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_SO_SNDTIMEO || LWIP_SO_LINGER */
 1939              		.loc 1 1046 15 is_stmt 0 view .LVU618
 1940 0098 236A     		ldr	r3, [r4, #32]
1046:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_SO_SNDTIMEO || LWIP_SO_LINGER */
 1941              		.loc 1 1046 36 view .LVU619
 1942 009a 5B7A     		ldrb	r3, [r3, #9]	@ zero_extendqisi2
1046:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_SO_SNDTIMEO || LWIP_SO_LINGER */
 1943              		.loc 1 1046 10 view .LVU620
 1944 009c 002B     		cmp	r3, #0
 1945 009e 66D0     		beq	.L191
1060:ThirdPackage/lwip220/api/api_msg.c ****     /* Closing done (succeeded, non-memory error, nonblocking error or timeout) */
 1946              		.loc 1 1060 3 is_stmt 1 view .LVU621
1090:ThirdPackage/lwip220/api/api_msg.c ****     /* Closing failed and we want to wait: restore some of the callbacks */
 1947              		.loc 1 1090 3 view .LVU622
1093:ThirdPackage/lwip220/api/api_msg.c ****     if (shut_tx) {
 1948              		.loc 1 1093 5 view .LVU623
1093:ThirdPackage/lwip220/api/api_msg.c ****     if (shut_tx) {
 1949              		.loc 1 1093 5 view .LVU624
 1950 00a0 337D     		ldrb	r3, [r6, #20]	@ zero_extendqisi2
 1951 00a2 012B     		cmp	r3, #1
 1952 00a4 00F09880 		beq	.L192
 1953              	.L172:
1093:ThirdPackage/lwip220/api/api_msg.c ****     if (shut_tx) {
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 75


 1954              		.loc 1 1093 5 discriminator 3 view .LVU625
1093:ThirdPackage/lwip220/api/api_msg.c ****     if (shut_tx) {
 1955              		.loc 1 1093 5 discriminator 3 view .LVU626
1094:ThirdPackage/lwip220/api/api_msg.c ****       tcp_sent(tpcb, sent_tcp);
 1956              		.loc 1 1094 5 discriminator 3 view .LVU627
1094:ThirdPackage/lwip220/api/api_msg.c ****       tcp_sent(tpcb, sent_tcp);
 1957              		.loc 1 1094 8 is_stmt 0 discriminator 3 view .LVU628
 1958 00a8 B8F1000F 		cmp	r8, #0
 1959 00ac 40F09C80 		bne	.L193
 1960              	.L178:
1098:ThirdPackage/lwip220/api/api_msg.c ****     tcp_err(tpcb, err_tcp);
 1961              		.loc 1 1098 5 is_stmt 1 view .LVU629
 1962 00b0 0122     		movs	r2, #1
 1963 00b2 5049     		ldr	r1, .L196
 1964 00b4 3046     		mov	r0, r6
 1965 00b6 FFF7FEFF 		bl	tcp_poll
 1966              	.LVL183:
1099:ThirdPackage/lwip220/api/api_msg.c ****     tcp_arg(tpcb, conn);
 1967              		.loc 1 1099 5 view .LVU630
 1968 00ba 4F49     		ldr	r1, .L196+4
 1969 00bc 3046     		mov	r0, r6
 1970 00be FFF7FEFF 		bl	tcp_err
 1971              	.LVL184:
1100:ThirdPackage/lwip220/api/api_msg.c ****     /* don't restore recv callback: we don't want to receive any more data */
 1972              		.loc 1 1100 5 view .LVU631
 1973 00c2 2146     		mov	r1, r4
 1974 00c4 3046     		mov	r0, r6
 1975 00c6 FFF7FEFF 		bl	tcp_arg
 1976              	.LVL185:
1105:ThirdPackage/lwip220/api/api_msg.c ****   return err;
 1977              		.loc 1 1105 3 view .LVU632
1105:ThirdPackage/lwip220/api/api_msg.c ****   return err;
 1978              		.loc 1 1105 3 view .LVU633
1105:ThirdPackage/lwip220/api/api_msg.c ****   return err;
 1979              		.loc 1 1105 3 view .LVU634
1105:ThirdPackage/lwip220/api/api_msg.c ****   return err;
 1980              		.loc 1 1105 3 view .LVU635
1106:ThirdPackage/lwip220/api/api_msg.c **** }
 1981              		.loc 1 1106 3 view .LVU636
1106:ThirdPackage/lwip220/api/api_msg.c **** }
 1982              		.loc 1 1106 10 is_stmt 0 view .LVU637
 1983 00ca 79E0     		b	.L177
 1984              	.LVL186:
 1985              	.L182:
 934:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("this is for tcp netconns only", (NETCONNTYPE_GROUP(conn->type) == NETCONN_TCP));
 1986              		.loc 1 934 3 is_stmt 1 discriminator 1 view .LVU638
 934:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("this is for tcp netconns only", (NETCONNTYPE_GROUP(conn->type) == NETCONN_TCP));
 1987              		.loc 1 934 3 discriminator 1 view .LVU639
 1988 00cc 4B4B     		ldr	r3, .L196+8
 1989 00ce 40F2A632 		movw	r2, #934
 1990 00d2 4B49     		ldr	r1, .L196+12
 1991              	.LVL187:
 934:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("this is for tcp netconns only", (NETCONNTYPE_GROUP(conn->type) == NETCONN_TCP));
 1992              		.loc 1 934 3 is_stmt 0 discriminator 1 view .LVU640
 1993 00d4 4B48     		ldr	r0, .L196+16
 1994              	.LVL188:
 934:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("this is for tcp netconns only", (NETCONNTYPE_GROUP(conn->type) == NETCONN_TCP));
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 76


 1995              		.loc 1 934 3 discriminator 1 view .LVU641
 1996 00d6 FFF7FEFF 		bl	printf
 1997              	.LVL189:
 1998 00da 97E7     		b	.L155
 1999              	.L183:
 935:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("conn must be in state NETCONN_CLOSE", (conn->state == NETCONN_CLOSE));
 2000              		.loc 1 935 3 is_stmt 1 discriminator 1 view .LVU642
 935:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("conn must be in state NETCONN_CLOSE", (conn->state == NETCONN_CLOSE));
 2001              		.loc 1 935 3 discriminator 1 view .LVU643
 2002 00dc 474B     		ldr	r3, .L196+8
 2003 00de 40F2A732 		movw	r2, #935
 2004 00e2 4949     		ldr	r1, .L196+20
 2005 00e4 4748     		ldr	r0, .L196+16
 2006 00e6 FFF7FEFF 		bl	printf
 2007              	.LVL190:
 2008 00ea 94E7     		b	.L156
 2009              	.L184:
 936:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("pcb already closed", (conn->pcb.tcp != NULL));
 2010              		.loc 1 936 3 discriminator 1 view .LVU644
 936:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("pcb already closed", (conn->pcb.tcp != NULL));
 2011              		.loc 1 936 3 discriminator 1 view .LVU645
 2012 00ec 434B     		ldr	r3, .L196+8
 2013 00ee 4FF46A72 		mov	r2, #936
 2014 00f2 4649     		ldr	r1, .L196+24
 2015 00f4 4348     		ldr	r0, .L196+16
 2016 00f6 FFF7FEFF 		bl	printf
 2017              	.LVL191:
 2018 00fa 8FE7     		b	.L157
 2019              	.L185:
 937:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg != NULL", conn->current_msg != NULL);
 2020              		.loc 1 937 3 discriminator 1 view .LVU646
 937:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg != NULL", conn->current_msg != NULL);
 2021              		.loc 1 937 3 discriminator 1 view .LVU647
 2022 00fc 3F4B     		ldr	r3, .L196+8
 2023 00fe 40F2A932 		movw	r2, #937
 2024 0102 4349     		ldr	r1, .L196+28
 2025 0104 3F48     		ldr	r0, .L196+16
 2026 0106 FFF7FEFF 		bl	printf
 2027              	.LVL192:
 2028 010a 8AE7     		b	.L158
 2029              	.L186:
 938:ThirdPackage/lwip220/api/api_msg.c **** 
 2030              		.loc 1 938 3 discriminator 1 view .LVU648
 938:ThirdPackage/lwip220/api/api_msg.c **** 
 2031              		.loc 1 938 3 discriminator 1 view .LVU649
 2032 010c 3B4B     		ldr	r3, .L196+8
 2033 010e 40F2AA32 		movw	r2, #938
 2034 0112 4049     		ldr	r1, .L196+32
 2035 0114 3B48     		ldr	r0, .L196+16
 2036 0116 FFF7FEFF 		bl	printf
 2037              	.LVL193:
 2038 011a 85E7     		b	.L159
 2039              	.LVL194:
 2040              	.L179:
 956:ThirdPackage/lwip220/api/api_msg.c ****   }
 2041              		.loc 1 956 16 is_stmt 0 view .LVU650
 2042 011c C246     		mov	r10, r8
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 77


 2043 011e A3E7     		b	.L162
 2044              	.L180:
 956:ThirdPackage/lwip220/api/api_msg.c ****   }
 2045              		.loc 1 956 16 view .LVU651
 2046 0120 4FF0000A 		mov	r10, #0
 2047 0124 A0E7     		b	.L162
 2048              	.LVL195:
 2049              	.L187:
 964:ThirdPackage/lwip220/api/api_msg.c ****   } else {
 2050              		.loc 1 964 5 is_stmt 1 view .LVU652
 2051 0126 0021     		movs	r1, #0
 2052 0128 3046     		mov	r0, r6
 2053 012a FFF7FEFF 		bl	tcp_accept
 2054              	.LVL196:
 2055 012e A7E7     		b	.L164
 2056              	.L188:
 968:ThirdPackage/lwip220/api/api_msg.c ****       tcp_accept(tpcb, NULL);
 2057              		.loc 1 968 7 view .LVU653
 2058 0130 0021     		movs	r1, #0
 2059 0132 3046     		mov	r0, r6
 2060 0134 FFF7FEFF 		bl	tcp_recv
 2061              	.LVL197:
 969:ThirdPackage/lwip220/api/api_msg.c ****     }
 2062              		.loc 1 969 7 view .LVU654
 2063 0138 0021     		movs	r1, #0
 2064 013a 3046     		mov	r0, r6
 2065 013c FFF7FEFF 		bl	tcp_accept
 2066              	.LVL198:
 2067 0140 98E7     		b	.L165
 2068              	.L189:
 972:ThirdPackage/lwip220/api/api_msg.c ****     }
 2069              		.loc 1 972 7 view .LVU655
 2070 0142 0021     		movs	r1, #0
 2071 0144 3046     		mov	r0, r6
 2072 0146 FFF7FEFF 		bl	tcp_sent
 2073              	.LVL199:
 2074 014a 96E7     		b	.L166
 2075              	.L190:
 975:ThirdPackage/lwip220/api/api_msg.c ****       tcp_err(tpcb, NULL);
 2076              		.loc 1 975 7 view .LVU656
 2077 014c 0022     		movs	r2, #0
 2078 014e 1146     		mov	r1, r2
 2079 0150 3046     		mov	r0, r6
 2080 0152 FFF7FEFF 		bl	tcp_poll
 2081              	.LVL200:
 976:ThirdPackage/lwip220/api/api_msg.c ****     }
 2082              		.loc 1 976 7 view .LVU657
 2083 0156 0021     		movs	r1, #0
 2084 0158 3046     		mov	r0, r6
 2085 015a FFF7FEFF 		bl	tcp_err
 2086              	.LVL201:
 2087 015e 8FE7     		b	.L164
 2088              	.L167:
1013:ThirdPackage/lwip220/api/api_msg.c ****   }
 2089              		.loc 1 1013 5 view .LVU658
1013:ThirdPackage/lwip220/api/api_msg.c ****   }
 2090              		.loc 1 1013 11 is_stmt 0 view .LVU659
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 78


 2091 0160 4246     		mov	r2, r8
 2092 0162 4946     		mov	r1, r9
 2093 0164 3046     		mov	r0, r6
 2094 0166 FFF7FEFF 		bl	tcp_shutdown
 2095              	.LVL202:
 2096 016a 0546     		mov	r5, r0
 2097              	.LVL203:
1013:ThirdPackage/lwip220/api/api_msg.c ****   }
 2098              		.loc 1 1013 11 view .LVU660
 2099 016c 8FE7     		b	.L168
 2100              	.L191:
1048:ThirdPackage/lwip220/api/api_msg.c ****         if (shut_close) {
 2101              		.loc 1 1048 9 is_stmt 1 view .LVU661
 2102              	.LVL204:
1049:ThirdPackage/lwip220/api/api_msg.c ****           /* in this case, we want to RST the connection */
 2103              		.loc 1 1049 9 view .LVU662
1049:ThirdPackage/lwip220/api/api_msg.c ****           /* in this case, we want to RST the connection */
 2104              		.loc 1 1049 12 is_stmt 0 view .LVU663
 2105 016e BAF1000F 		cmp	r10, #0
 2106 0172 28D1     		bne	.L194
 2107              	.LVL205:
 2108              	.L169:
 2109              	.LBB13:
1062:ThirdPackage/lwip220/api/api_msg.c ****     conn->current_msg->err = err;
 2110              		.loc 1 1062 5 is_stmt 1 view .LVU664
1062:ThirdPackage/lwip220/api/api_msg.c ****     conn->current_msg->err = err;
 2111              		.loc 1 1062 35 is_stmt 0 view .LVU665
 2112 0174 236A     		ldr	r3, [r4, #32]
 2113 0176 1E68     		ldr	r6, [r3]
 2114              	.LVL206:
1062:ThirdPackage/lwip220/api/api_msg.c ****     conn->current_msg->err = err;
 2115              		.loc 1 1062 16 view .LVU666
 2116 0178 0C36     		adds	r6, r6, #12
 2117              	.LVL207:
1063:ThirdPackage/lwip220/api/api_msg.c ****     conn->current_msg = NULL;
 2118              		.loc 1 1063 5 is_stmt 1 view .LVU667
1063:ThirdPackage/lwip220/api/api_msg.c ****     conn->current_msg = NULL;
 2119              		.loc 1 1063 28 is_stmt 0 view .LVU668
 2120 017a 1D71     		strb	r5, [r3, #4]
1064:ThirdPackage/lwip220/api/api_msg.c ****     conn->state = NETCONN_NONE;
 2121              		.loc 1 1064 5 is_stmt 1 view .LVU669
1064:ThirdPackage/lwip220/api/api_msg.c ****     conn->state = NETCONN_NONE;
 2122              		.loc 1 1064 23 is_stmt 0 view .LVU670
 2123 017c 0023     		movs	r3, #0
 2124 017e 2362     		str	r3, [r4, #32]
1065:ThirdPackage/lwip220/api/api_msg.c ****     if (err == ERR_OK) {
 2125              		.loc 1 1065 5 is_stmt 1 view .LVU671
1065:ThirdPackage/lwip220/api/api_msg.c ****     if (err == ERR_OK) {
 2126              		.loc 1 1065 17 is_stmt 0 view .LVU672
 2127 0180 6370     		strb	r3, [r4, #1]
1066:ThirdPackage/lwip220/api/api_msg.c ****       if (shut_close) {
 2128              		.loc 1 1066 5 is_stmt 1 view .LVU673
1066:ThirdPackage/lwip220/api/api_msg.c ****       if (shut_close) {
 2129              		.loc 1 1066 8 is_stmt 0 view .LVU674
 2130 0182 DDB9     		cbnz	r5, .L173
1067:ThirdPackage/lwip220/api/api_msg.c ****         /* Set back some callback pointers as conn is going away */
 2131              		.loc 1 1067 7 is_stmt 1 view .LVU675
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 79


1067:ThirdPackage/lwip220/api/api_msg.c ****         /* Set back some callback pointers as conn is going away */
 2132              		.loc 1 1067 10 is_stmt 0 view .LVU676
 2133 0184 BAF1000F 		cmp	r10, #0
 2134 0188 06D0     		beq	.L174
1069:ThirdPackage/lwip220/api/api_msg.c ****         /* Trigger select() in socket layer. Make sure everybody notices activity
 2135              		.loc 1 1069 9 is_stmt 1 view .LVU677
1069:ThirdPackage/lwip220/api/api_msg.c ****         /* Trigger select() in socket layer. Make sure everybody notices activity
 2136              		.loc 1 1069 23 is_stmt 0 view .LVU678
 2137 018a 6360     		str	r3, [r4, #4]
1072:ThirdPackage/lwip220/api/api_msg.c ****       }
 2138              		.loc 1 1072 9 is_stmt 1 view .LVU679
 2139 018c 636A     		ldr	r3, [r4, #36]
 2140 018e 1BB1     		cbz	r3, .L174
1072:ThirdPackage/lwip220/api/api_msg.c ****       }
 2141              		.loc 1 1072 9 discriminator 1 view .LVU680
 2142 0190 0022     		movs	r2, #0
 2143 0192 0421     		movs	r1, #4
 2144 0194 2046     		mov	r0, r4
 2145 0196 9847     		blx	r3
 2146              	.LVL208:
 2147              	.L174:
1072:ThirdPackage/lwip220/api/api_msg.c ****       }
 2148              		.loc 1 1072 46 discriminator 3 view .LVU681
1074:ThirdPackage/lwip220/api/api_msg.c ****         API_EVENT(conn, NETCONN_EVT_RCVPLUS, 0);
 2149              		.loc 1 1074 7 discriminator 3 view .LVU682
1074:ThirdPackage/lwip220/api/api_msg.c ****         API_EVENT(conn, NETCONN_EVT_RCVPLUS, 0);
 2150              		.loc 1 1074 10 is_stmt 0 discriminator 3 view .LVU683
 2151 0198 B9F1000F 		cmp	r9, #0
 2152 019c 05D0     		beq	.L175
1075:ThirdPackage/lwip220/api/api_msg.c ****       }
 2153              		.loc 1 1075 9 is_stmt 1 view .LVU684
 2154 019e 636A     		ldr	r3, [r4, #36]
 2155 01a0 1BB1     		cbz	r3, .L175
1075:ThirdPackage/lwip220/api/api_msg.c ****       }
 2156              		.loc 1 1075 9 discriminator 1 view .LVU685
 2157 01a2 0022     		movs	r2, #0
 2158 01a4 1146     		mov	r1, r2
 2159 01a6 2046     		mov	r0, r4
 2160 01a8 9847     		blx	r3
 2161              	.LVL209:
 2162              	.L175:
1075:ThirdPackage/lwip220/api/api_msg.c ****       }
 2163              		.loc 1 1075 48 discriminator 3 view .LVU686
1077:ThirdPackage/lwip220/api/api_msg.c ****         API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
 2164              		.loc 1 1077 7 discriminator 3 view .LVU687
1077:ThirdPackage/lwip220/api/api_msg.c ****         API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
 2165              		.loc 1 1077 10 is_stmt 0 discriminator 3 view .LVU688
 2166 01aa B8F1000F 		cmp	r8, #0
 2167 01ae 05D0     		beq	.L173
1078:ThirdPackage/lwip220/api/api_msg.c ****       }
 2168              		.loc 1 1078 9 is_stmt 1 view .LVU689
 2169 01b0 636A     		ldr	r3, [r4, #36]
 2170 01b2 1BB1     		cbz	r3, .L173
1078:ThirdPackage/lwip220/api/api_msg.c ****       }
 2171              		.loc 1 1078 9 discriminator 1 view .LVU690
 2172 01b4 0022     		movs	r2, #0
 2173 01b6 0221     		movs	r1, #2
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 80


 2174 01b8 2046     		mov	r0, r4
 2175 01ba 9847     		blx	r3
 2176              	.LVL210:
 2177              	.L173:
1078:ThirdPackage/lwip220/api/api_msg.c ****       }
 2178              		.loc 1 1078 49 discriminator 3 view .LVU691
1082:ThirdPackage/lwip220/api/api_msg.c **** #endif
 2179              		.loc 1 1082 5 discriminator 3 view .LVU692
1082:ThirdPackage/lwip220/api/api_msg.c **** #endif
 2180              		.loc 1 1082 8 is_stmt 0 discriminator 3 view .LVU693
 2181 01bc 47B9     		cbnz	r7, .L195
 2182              	.L176:
1088:ThirdPackage/lwip220/api/api_msg.c ****   }
 2183              		.loc 1 1088 5 is_stmt 1 view .LVU694
1088:ThirdPackage/lwip220/api/api_msg.c ****   }
 2184              		.loc 1 1088 12 is_stmt 0 view .LVU695
 2185 01be 0025     		movs	r5, #0
 2186              	.LVL211:
 2187              	.L177:
1088:ThirdPackage/lwip220/api/api_msg.c ****   }
 2188              		.loc 1 1088 12 view .LVU696
 2189              	.LBE13:
1107:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_TCP */
 2190              		.loc 1 1107 1 view .LVU697
 2191 01c0 2846     		mov	r0, r5
 2192 01c2 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 2193              	.LVL212:
 2194              	.L194:
1051:ThirdPackage/lwip220/api/api_msg.c ****           err = ERR_OK;
 2195              		.loc 1 1051 11 is_stmt 1 view .LVU698
 2196 01c6 3046     		mov	r0, r6
 2197 01c8 FFF7FEFF 		bl	tcp_abort
 2198              	.LVL213:
1052:ThirdPackage/lwip220/api/api_msg.c ****         }
 2199              		.loc 1 1052 11 view .LVU699
1060:ThirdPackage/lwip220/api/api_msg.c ****     /* Closing done (succeeded, non-memory error, nonblocking error or timeout) */
 2200              		.loc 1 1060 3 view .LVU700
1052:ThirdPackage/lwip220/api/api_msg.c ****         }
 2201              		.loc 1 1052 15 is_stmt 0 view .LVU701
 2202 01cc 0025     		movs	r5, #0
 2203 01ce D1E7     		b	.L169
 2204              	.LVL214:
 2205              	.L195:
 2206              	.LBB14:
1086:ThirdPackage/lwip220/api/api_msg.c ****     }
 2207              		.loc 1 1086 7 is_stmt 1 view .LVU702
 2208 01d0 3046     		mov	r0, r6
 2209 01d2 FFF7FEFF 		bl	sys_sem_signal
 2210              	.LVL215:
 2211 01d6 F2E7     		b	.L176
 2212              	.LVL216:
 2213              	.L192:
1086:ThirdPackage/lwip220/api/api_msg.c ****     }
 2214              		.loc 1 1086 7 is_stmt 0 view .LVU703
 2215              	.LBE14:
1093:ThirdPackage/lwip220/api/api_msg.c ****     if (shut_tx) {
 2216              		.loc 1 1093 5 is_stmt 1 discriminator 1 view .LVU704
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 81


1093:ThirdPackage/lwip220/api/api_msg.c ****     if (shut_tx) {
 2217              		.loc 1 1093 5 discriminator 1 view .LVU705
 2218 01d8 084B     		ldr	r3, .L196+8
 2219 01da 40F24542 		movw	r2, #1093
 2220 01de 0E49     		ldr	r1, .L196+36
 2221 01e0 0848     		ldr	r0, .L196+16
 2222 01e2 FFF7FEFF 		bl	printf
 2223              	.LVL217:
 2224 01e6 5FE7     		b	.L172
 2225              	.L193:
1095:ThirdPackage/lwip220/api/api_msg.c ****     }
 2226              		.loc 1 1095 7 view .LVU706
 2227 01e8 0C49     		ldr	r1, .L196+40
 2228 01ea 3046     		mov	r0, r6
 2229 01ec FFF7FEFF 		bl	tcp_sent
 2230              	.LVL218:
 2231 01f0 5EE7     		b	.L178
 2232              	.L197:
 2233 01f2 00BF     		.align	2
 2234              	.L196:
 2235 01f4 00000000 		.word	poll_tcp
 2236 01f8 00000000 		.word	err_tcp
 2237 01fc 00000000 		.word	.LC0
 2238 0200 00000000 		.word	.LC19
 2239 0204 34000000 		.word	.LC2
 2240 0208 10000000 		.word	.LC20
 2241 020c 30000000 		.word	.LC21
 2242 0210 54000000 		.word	.LC22
 2243 0214 10000000 		.word	.LC8
 2244 0218 68000000 		.word	.LC23
 2245 021c 00000000 		.word	sent_tcp
 2246              		.cfi_endproc
 2247              	.LFE174:
 2249              		.section	.text.poll_tcp,"ax",%progbits
 2250              		.align	1
 2251              		.syntax unified
 2252              		.thumb
 2253              		.thumb_func
 2255              	poll_tcp:
 2256              	.LVL219:
 2257              	.LFB164:
 361:ThirdPackage/lwip220/api/api_msg.c ****   struct netconn *conn = (struct netconn *)arg;
 2258              		.loc 1 361 1 view -0
 2259              		.cfi_startproc
 2260              		@ args = 0, pretend = 0, frame = 0
 2261              		@ frame_needed = 0, uses_anonymous_args = 0
 361:ThirdPackage/lwip220/api/api_msg.c ****   struct netconn *conn = (struct netconn *)arg;
 2262              		.loc 1 361 1 is_stmt 0 view .LVU708
 2263 0000 10B5     		push	{r4, lr}
 2264              	.LCFI10:
 2265              		.cfi_def_cfa_offset 8
 2266              		.cfi_offset 4, -8
 2267              		.cfi_offset 14, -4
 362:ThirdPackage/lwip220/api/api_msg.c **** 
 2268              		.loc 1 362 3 is_stmt 1 view .LVU709
 2269              	.LVL220:
 364:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("conn != NULL", (conn != NULL));
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 82


 2270              		.loc 1 364 3 view .LVU710
 365:ThirdPackage/lwip220/api/api_msg.c **** 
 2271              		.loc 1 365 3 view .LVU711
 365:ThirdPackage/lwip220/api/api_msg.c **** 
 2272              		.loc 1 365 3 view .LVU712
 2273 0002 0446     		mov	r4, r0
 2274 0004 F0B1     		cbz	r0, .L205
 2275              	.LVL221:
 2276              	.L199:
 365:ThirdPackage/lwip220/api/api_msg.c **** 
 2277              		.loc 1 365 3 discriminator 3 view .LVU713
 365:ThirdPackage/lwip220/api/api_msg.c **** 
 2278              		.loc 1 365 3 discriminator 3 view .LVU714
 367:ThirdPackage/lwip220/api/api_msg.c ****     lwip_netconn_do_writemore(conn  WRITE_DELAYED);
 2279              		.loc 1 367 3 discriminator 3 view .LVU715
 367:ThirdPackage/lwip220/api/api_msg.c ****     lwip_netconn_do_writemore(conn  WRITE_DELAYED);
 2280              		.loc 1 367 11 is_stmt 0 discriminator 3 view .LVU716
 2281 0006 6378     		ldrb	r3, [r4, #1]	@ zero_extendqisi2
 367:ThirdPackage/lwip220/api/api_msg.c ****     lwip_netconn_do_writemore(conn  WRITE_DELAYED);
 2282              		.loc 1 367 6 discriminator 3 view .LVU717
 2283 0008 012B     		cmp	r3, #1
 2284 000a 23D0     		beq	.L206
 369:ThirdPackage/lwip220/api/api_msg.c **** #if !LWIP_SO_SNDTIMEO && !LWIP_SO_LINGER
 2285              		.loc 1 369 10 is_stmt 1 view .LVU718
 369:ThirdPackage/lwip220/api/api_msg.c **** #if !LWIP_SO_SNDTIMEO && !LWIP_SO_LINGER
 2286              		.loc 1 369 13 is_stmt 0 view .LVU719
 2287 000c 042B     		cmp	r3, #4
 2288 000e 26D0     		beq	.L207
 2289              	.L201:
 380:ThirdPackage/lwip220/api/api_msg.c ****     /* If the queued byte- or pbuf-count drops below the configured low-water limit,
 2290              		.loc 1 380 3 is_stmt 1 view .LVU720
 380:ThirdPackage/lwip220/api/api_msg.c ****     /* If the queued byte- or pbuf-count drops below the configured low-water limit,
 2291              		.loc 1 380 11 is_stmt 0 view .LVU721
 2292 0010 237F     		ldrb	r3, [r4, #28]	@ zero_extendqisi2
 380:ThirdPackage/lwip220/api/api_msg.c ****     /* If the queued byte- or pbuf-count drops below the configured low-water limit,
 2293              		.loc 1 380 6 view .LVU722
 2294 0012 13F0100F 		tst	r3, #16
 2295 0016 13D0     		beq	.L203
 383:ThirdPackage/lwip220/api/api_msg.c ****         (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 2296              		.loc 1 383 5 is_stmt 1 view .LVU723
 383:ThirdPackage/lwip220/api/api_msg.c ****         (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 2297              		.loc 1 383 19 is_stmt 0 view .LVU724
 2298 0018 6268     		ldr	r2, [r4, #4]
 383:ThirdPackage/lwip220/api/api_msg.c ****         (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 2299              		.loc 1 383 8 view .LVU725
 2300 001a 8AB1     		cbz	r2, .L203
 383:ThirdPackage/lwip220/api/api_msg.c ****         (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 2301              		.loc 1 383 37 discriminator 1 view .LVU726
 2302 001c B2F86410 		ldrh	r1, [r2, #100]
 383:ThirdPackage/lwip220/api/api_msg.c ****         (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 2303              		.loc 1 383 33 discriminator 1 view .LVU727
 2304 0020 B1F5866F 		cmp	r1, #1072
 2305 0024 0CD3     		bcc	.L203
 384:ThirdPackage/lwip220/api/api_msg.c ****       netconn_clear_flags(conn, NETCONN_FLAG_CHECK_WRITESPACE);
 2306              		.loc 1 384 10 discriminator 2 view .LVU728
 2307 0026 B2F86620 		ldrh	r2, [r2, #102]
 383:ThirdPackage/lwip220/api/api_msg.c ****         (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 83


 2308              		.loc 1 383 79 discriminator 2 view .LVU729
 2309 002a 042A     		cmp	r2, #4
 2310 002c 08D8     		bhi	.L203
 385:ThirdPackage/lwip220/api/api_msg.c ****       API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
 2311              		.loc 1 385 7 is_stmt 1 view .LVU730
 385:ThirdPackage/lwip220/api/api_msg.c ****       API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
 2312              		.loc 1 385 7 view .LVU731
 2313 002e 03F0EF03 		and	r3, r3, #239
 2314 0032 2377     		strb	r3, [r4, #28]
 385:ThirdPackage/lwip220/api/api_msg.c ****       API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
 2315              		.loc 1 385 7 view .LVU732
 386:ThirdPackage/lwip220/api/api_msg.c ****     }
 2316              		.loc 1 386 7 view .LVU733
 2317 0034 636A     		ldr	r3, [r4, #36]
 2318 0036 1BB1     		cbz	r3, .L203
 386:ThirdPackage/lwip220/api/api_msg.c ****     }
 2319              		.loc 1 386 7 discriminator 1 view .LVU734
 2320 0038 0022     		movs	r2, #0
 2321 003a 0221     		movs	r1, #2
 2322 003c 2046     		mov	r0, r4
 2323 003e 9847     		blx	r3
 2324              	.LVL222:
 2325              	.L203:
 386:ThirdPackage/lwip220/api/api_msg.c ****     }
 2326              		.loc 1 386 47 discriminator 3 view .LVU735
 390:ThirdPackage/lwip220/api/api_msg.c **** }
 2327              		.loc 1 390 3 discriminator 3 view .LVU736
 391:ThirdPackage/lwip220/api/api_msg.c **** 
 2328              		.loc 1 391 1 is_stmt 0 discriminator 3 view .LVU737
 2329 0040 0020     		movs	r0, #0
 2330 0042 10BD     		pop	{r4, pc}
 2331              	.LVL223:
 2332              	.L205:
 365:ThirdPackage/lwip220/api/api_msg.c **** 
 2333              		.loc 1 365 3 is_stmt 1 discriminator 1 view .LVU738
 365:ThirdPackage/lwip220/api/api_msg.c **** 
 2334              		.loc 1 365 3 discriminator 1 view .LVU739
 2335 0044 0B4B     		ldr	r3, .L208
 2336 0046 40F26D12 		movw	r2, #365
 2337 004a 0B49     		ldr	r1, .L208+4
 2338              	.LVL224:
 365:ThirdPackage/lwip220/api/api_msg.c **** 
 2339              		.loc 1 365 3 is_stmt 0 discriminator 1 view .LVU740
 2340 004c 0B48     		ldr	r0, .L208+8
 2341              	.LVL225:
 365:ThirdPackage/lwip220/api/api_msg.c **** 
 2342              		.loc 1 365 3 discriminator 1 view .LVU741
 2343 004e FFF7FEFF 		bl	printf
 2344              	.LVL226:
 2345 0052 D8E7     		b	.L199
 2346              	.L206:
 368:ThirdPackage/lwip220/api/api_msg.c ****   } else if (conn->state == NETCONN_CLOSE) {
 2347              		.loc 1 368 5 is_stmt 1 view .LVU742
 2348 0054 0121     		movs	r1, #1
 2349 0056 2046     		mov	r0, r4
 2350 0058 FFF7FEFF 		bl	lwip_netconn_do_writemore
 2351              	.LVL227:
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 84


 2352 005c D8E7     		b	.L201
 2353              	.L207:
 371:ThirdPackage/lwip220/api/api_msg.c ****       conn->current_msg->msg.sd.polls_left--;
 2354              		.loc 1 371 5 view .LVU743
 371:ThirdPackage/lwip220/api/api_msg.c ****       conn->current_msg->msg.sd.polls_left--;
 2355              		.loc 1 371 13 is_stmt 0 view .LVU744
 2356 005e 236A     		ldr	r3, [r4, #32]
 371:ThirdPackage/lwip220/api/api_msg.c ****       conn->current_msg->msg.sd.polls_left--;
 2357              		.loc 1 371 8 view .LVU745
 2358 0060 1BB1     		cbz	r3, .L202
 371:ThirdPackage/lwip220/api/api_msg.c ****       conn->current_msg->msg.sd.polls_left--;
 2359              		.loc 1 371 55 discriminator 1 view .LVU746
 2360 0062 5A7A     		ldrb	r2, [r3, #9]	@ zero_extendqisi2
 371:ThirdPackage/lwip220/api/api_msg.c ****       conn->current_msg->msg.sd.polls_left--;
 2361              		.loc 1 371 27 discriminator 1 view .LVU747
 2362 0064 0AB1     		cbz	r2, .L202
 372:ThirdPackage/lwip220/api/api_msg.c ****     }
 2363              		.loc 1 372 7 is_stmt 1 view .LVU748
 372:ThirdPackage/lwip220/api/api_msg.c ****     }
 2364              		.loc 1 372 43 is_stmt 0 view .LVU749
 2365 0066 013A     		subs	r2, r2, #1
 2366 0068 5A72     		strb	r2, [r3, #9]
 2367              	.L202:
 375:ThirdPackage/lwip220/api/api_msg.c ****   }
 2368              		.loc 1 375 5 is_stmt 1 view .LVU750
 2369 006a 0121     		movs	r1, #1
 2370 006c 2046     		mov	r0, r4
 2371 006e FFF7FEFF 		bl	lwip_netconn_do_close_internal
 2372              	.LVL228:
 2373 0072 CDE7     		b	.L201
 2374              	.L209:
 2375              		.align	2
 2376              	.L208:
 2377 0074 00000000 		.word	.LC0
 2378 0078 00000000 		.word	.LC7
 2379 007c 34000000 		.word	.LC2
 2380              		.cfi_endproc
 2381              	.LFE164:
 2383              		.section	.text.sent_tcp,"ax",%progbits
 2384              		.align	1
 2385              		.syntax unified
 2386              		.thumb
 2387              		.thumb_func
 2389              	sent_tcp:
 2390              	.LVL229:
 2391              	.LFB165:
 402:ThirdPackage/lwip220/api/api_msg.c ****   struct netconn *conn = (struct netconn *)arg;
 2392              		.loc 1 402 1 view -0
 2393              		.cfi_startproc
 2394              		@ args = 0, pretend = 0, frame = 0
 2395              		@ frame_needed = 0, uses_anonymous_args = 0
 402:ThirdPackage/lwip220/api/api_msg.c ****   struct netconn *conn = (struct netconn *)arg;
 2396              		.loc 1 402 1 is_stmt 0 view .LVU752
 2397 0000 38B5     		push	{r3, r4, r5, lr}
 2398              	.LCFI11:
 2399              		.cfi_def_cfa_offset 16
 2400              		.cfi_offset 3, -16
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 85


 2401              		.cfi_offset 4, -12
 2402              		.cfi_offset 5, -8
 2403              		.cfi_offset 14, -4
 2404 0002 1546     		mov	r5, r2
 403:ThirdPackage/lwip220/api/api_msg.c **** 
 2405              		.loc 1 403 3 is_stmt 1 view .LVU753
 2406              	.LVL230:
 405:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("conn != NULL", (conn != NULL));
 2407              		.loc 1 405 3 view .LVU754
 406:ThirdPackage/lwip220/api/api_msg.c **** 
 2408              		.loc 1 406 3 view .LVU755
 406:ThirdPackage/lwip220/api/api_msg.c **** 
 2409              		.loc 1 406 3 view .LVU756
 2410 0004 0446     		mov	r4, r0
 2411 0006 E0B1     		cbz	r0, .L216
 2412              	.LVL231:
 2413              	.L211:
 406:ThirdPackage/lwip220/api/api_msg.c **** 
 2414              		.loc 1 406 3 discriminator 3 view .LVU757
 406:ThirdPackage/lwip220/api/api_msg.c **** 
 2415              		.loc 1 406 3 discriminator 3 view .LVU758
 408:ThirdPackage/lwip220/api/api_msg.c ****     if (conn->state == NETCONN_WRITE) {
 2416              		.loc 1 408 3 discriminator 3 view .LVU759
 408:ThirdPackage/lwip220/api/api_msg.c ****     if (conn->state == NETCONN_WRITE) {
 2417              		.loc 1 408 6 is_stmt 0 discriminator 3 view .LVU760
 2418 0008 CCB1     		cbz	r4, .L212
 409:ThirdPackage/lwip220/api/api_msg.c ****       lwip_netconn_do_writemore(conn  WRITE_DELAYED);
 2419              		.loc 1 409 5 is_stmt 1 view .LVU761
 409:ThirdPackage/lwip220/api/api_msg.c ****       lwip_netconn_do_writemore(conn  WRITE_DELAYED);
 2420              		.loc 1 409 13 is_stmt 0 view .LVU762
 2421 000a 6378     		ldrb	r3, [r4, #1]	@ zero_extendqisi2
 409:ThirdPackage/lwip220/api/api_msg.c ****       lwip_netconn_do_writemore(conn  WRITE_DELAYED);
 2422              		.loc 1 409 8 view .LVU763
 2423 000c 012B     		cmp	r3, #1
 2424 000e 20D0     		beq	.L217
 411:ThirdPackage/lwip220/api/api_msg.c ****       lwip_netconn_do_close_internal(conn  WRITE_DELAYED);
 2425              		.loc 1 411 12 is_stmt 1 view .LVU764
 411:ThirdPackage/lwip220/api/api_msg.c ****       lwip_netconn_do_close_internal(conn  WRITE_DELAYED);
 2426              		.loc 1 411 15 is_stmt 0 view .LVU765
 2427 0010 042B     		cmp	r3, #4
 2428 0012 23D0     		beq	.L218
 2429              	.L214:
 417:ThirdPackage/lwip220/api/api_msg.c ****         (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 2430              		.loc 1 417 5 is_stmt 1 view .LVU766
 417:ThirdPackage/lwip220/api/api_msg.c ****         (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 2431              		.loc 1 417 19 is_stmt 0 view .LVU767
 2432 0014 6368     		ldr	r3, [r4, #4]
 417:ThirdPackage/lwip220/api/api_msg.c ****         (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 2433              		.loc 1 417 8 view .LVU768
 2434 0016 93B1     		cbz	r3, .L212
 417:ThirdPackage/lwip220/api/api_msg.c ****         (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 2435              		.loc 1 417 37 discriminator 1 view .LVU769
 2436 0018 B3F86420 		ldrh	r2, [r3, #100]
 417:ThirdPackage/lwip220/api/api_msg.c ****         (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 2437              		.loc 1 417 33 discriminator 1 view .LVU770
 2438 001c B2F5866F 		cmp	r2, #1072
 2439 0020 0DD3     		bcc	.L212
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 86


 418:ThirdPackage/lwip220/api/api_msg.c ****       netconn_clear_flags(conn, NETCONN_FLAG_CHECK_WRITESPACE);
 2440              		.loc 1 418 10 discriminator 2 view .LVU771
 2441 0022 B3F86630 		ldrh	r3, [r3, #102]
 417:ThirdPackage/lwip220/api/api_msg.c ****         (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 2442              		.loc 1 417 79 discriminator 2 view .LVU772
 2443 0026 042B     		cmp	r3, #4
 2444 0028 09D8     		bhi	.L212
 419:ThirdPackage/lwip220/api/api_msg.c ****       API_EVENT(conn, NETCONN_EVT_SENDPLUS, len);
 2445              		.loc 1 419 7 is_stmt 1 view .LVU773
 419:ThirdPackage/lwip220/api/api_msg.c ****       API_EVENT(conn, NETCONN_EVT_SENDPLUS, len);
 2446              		.loc 1 419 7 view .LVU774
 2447 002a 237F     		ldrb	r3, [r4, #28]	@ zero_extendqisi2
 2448 002c 03F0EF03 		and	r3, r3, #239
 2449 0030 2377     		strb	r3, [r4, #28]
 419:ThirdPackage/lwip220/api/api_msg.c ****       API_EVENT(conn, NETCONN_EVT_SENDPLUS, len);
 2450              		.loc 1 419 7 view .LVU775
 420:ThirdPackage/lwip220/api/api_msg.c ****     }
 2451              		.loc 1 420 7 view .LVU776
 2452 0032 636A     		ldr	r3, [r4, #36]
 2453 0034 1BB1     		cbz	r3, .L212
 420:ThirdPackage/lwip220/api/api_msg.c ****     }
 2454              		.loc 1 420 7 discriminator 1 view .LVU777
 2455 0036 2A46     		mov	r2, r5
 2456 0038 0221     		movs	r1, #2
 2457 003a 2046     		mov	r0, r4
 2458 003c 9847     		blx	r3
 2459              	.LVL232:
 2460              	.L212:
 420:ThirdPackage/lwip220/api/api_msg.c ****     }
 2461              		.loc 1 420 49 discriminator 3 view .LVU778
 424:ThirdPackage/lwip220/api/api_msg.c **** }
 2462              		.loc 1 424 3 discriminator 3 view .LVU779
 425:ThirdPackage/lwip220/api/api_msg.c **** 
 2463              		.loc 1 425 1 is_stmt 0 discriminator 3 view .LVU780
 2464 003e 0020     		movs	r0, #0
 2465 0040 38BD     		pop	{r3, r4, r5, pc}
 2466              	.LVL233:
 2467              	.L216:
 406:ThirdPackage/lwip220/api/api_msg.c **** 
 2468              		.loc 1 406 3 is_stmt 1 discriminator 1 view .LVU781
 406:ThirdPackage/lwip220/api/api_msg.c **** 
 2469              		.loc 1 406 3 discriminator 1 view .LVU782
 2470 0042 094B     		ldr	r3, .L219
 2471 0044 4FF4CB72 		mov	r2, #406
 2472              	.LVL234:
 406:ThirdPackage/lwip220/api/api_msg.c **** 
 2473              		.loc 1 406 3 is_stmt 0 discriminator 1 view .LVU783
 2474 0048 0849     		ldr	r1, .L219+4
 2475              	.LVL235:
 406:ThirdPackage/lwip220/api/api_msg.c **** 
 2476              		.loc 1 406 3 discriminator 1 view .LVU784
 2477 004a 0948     		ldr	r0, .L219+8
 2478              	.LVL236:
 406:ThirdPackage/lwip220/api/api_msg.c **** 
 2479              		.loc 1 406 3 discriminator 1 view .LVU785
 2480 004c FFF7FEFF 		bl	printf
 2481              	.LVL237:
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 87


 2482 0050 DAE7     		b	.L211
 2483              	.L217:
 410:ThirdPackage/lwip220/api/api_msg.c ****     } else if (conn->state == NETCONN_CLOSE) {
 2484              		.loc 1 410 7 is_stmt 1 view .LVU786
 2485 0052 0121     		movs	r1, #1
 2486 0054 2046     		mov	r0, r4
 2487 0056 FFF7FEFF 		bl	lwip_netconn_do_writemore
 2488              	.LVL238:
 2489 005a DBE7     		b	.L214
 2490              	.L218:
 412:ThirdPackage/lwip220/api/api_msg.c ****     }
 2491              		.loc 1 412 7 view .LVU787
 2492 005c 0121     		movs	r1, #1
 2493 005e 2046     		mov	r0, r4
 2494 0060 FFF7FEFF 		bl	lwip_netconn_do_close_internal
 2495              	.LVL239:
 2496 0064 D6E7     		b	.L214
 2497              	.L220:
 2498 0066 00BF     		.align	2
 2499              	.L219:
 2500 0068 00000000 		.word	.LC0
 2501 006c 00000000 		.word	.LC7
 2502 0070 34000000 		.word	.LC2
 2503              		.cfi_endproc
 2504              	.LFE165:
 2506              		.section	.rodata.recv_tcp.str1.4,"aMS",%progbits,1
 2507              		.align	2
 2508              	.LC24:
 2509 0000 72656376 		.ascii	"recv_tcp must have a pcb argument\000"
 2509      5F746370 
 2509      206D7573 
 2509      74206861 
 2509      76652061 
 2510 0022 0000     		.align	2
 2511              	.LC25:
 2512 0024 72656376 		.ascii	"recv_tcp must have an argument\000"
 2512      5F746370 
 2512      206D7573 
 2512      74206861 
 2512      76652061 
 2513 0043 00       		.align	2
 2514              	.LC26:
 2515 0044 65727220 		.ascii	"err != ERR_OK unhandled\000"
 2515      213D2045 
 2515      52525F4F 
 2515      4B20756E 
 2515      68616E64 
 2516              		.align	2
 2517              	.LC27:
 2518 005c 72656376 		.ascii	"recv_tcp: recv for wrong pcb!\000"
 2518      5F746370 
 2518      3A207265 
 2518      63762066 
 2518      6F722077 
 2519              		.section	.text.recv_tcp,"ax",%progbits
 2520              		.align	1
 2521              		.syntax unified
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 88


 2522              		.thumb
 2523              		.thumb_func
 2525              	recv_tcp:
 2526              	.LVL240:
 2527              	.LFB163:
 297:ThirdPackage/lwip220/api/api_msg.c ****   struct netconn *conn;
 2528              		.loc 1 297 1 view -0
 2529              		.cfi_startproc
 2530              		@ args = 0, pretend = 0, frame = 0
 2531              		@ frame_needed = 0, uses_anonymous_args = 0
 297:ThirdPackage/lwip220/api/api_msg.c ****   struct netconn *conn;
 2532              		.loc 1 297 1 is_stmt 0 view .LVU789
 2533 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 2534              	.LCFI12:
 2535              		.cfi_def_cfa_offset 24
 2536              		.cfi_offset 3, -24
 2537              		.cfi_offset 4, -20
 2538              		.cfi_offset 5, -16
 2539              		.cfi_offset 6, -12
 2540              		.cfi_offset 7, -8
 2541              		.cfi_offset 14, -4
 2542 0002 0446     		mov	r4, r0
 2543 0004 1546     		mov	r5, r2
 2544 0006 1E46     		mov	r6, r3
 298:ThirdPackage/lwip220/api/api_msg.c ****   u16_t len;
 2545              		.loc 1 298 3 is_stmt 1 view .LVU790
 299:ThirdPackage/lwip220/api/api_msg.c ****   void *msg;
 2546              		.loc 1 299 3 view .LVU791
 300:ThirdPackage/lwip220/api/api_msg.c **** 
 2547              		.loc 1 300 3 view .LVU792
 302:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have a pcb argument", pcb != NULL);
 2548              		.loc 1 302 3 view .LVU793
 303:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have an argument", arg != NULL);
 2549              		.loc 1 303 3 view .LVU794
 303:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have an argument", arg != NULL);
 2550              		.loc 1 303 3 view .LVU795
 2551 0008 0F46     		mov	r7, r1
 2552 000a 21B3     		cbz	r1, .L234
 2553              	.LVL241:
 2554              	.L222:
 303:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have an argument", arg != NULL);
 2555              		.loc 1 303 3 discriminator 3 view .LVU796
 303:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have an argument", arg != NULL);
 2556              		.loc 1 303 3 discriminator 3 view .LVU797
 304:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("err != ERR_OK unhandled", err == ERR_OK);
 2557              		.loc 1 304 3 discriminator 3 view .LVU798
 304:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("err != ERR_OK unhandled", err == ERR_OK);
 2558              		.loc 1 304 3 discriminator 3 view .LVU799
 2559 000c 5CB3     		cbz	r4, .L235
 2560              	.L223:
 304:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("err != ERR_OK unhandled", err == ERR_OK);
 2561              		.loc 1 304 3 discriminator 3 view .LVU800
 304:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("err != ERR_OK unhandled", err == ERR_OK);
 2562              		.loc 1 304 3 discriminator 3 view .LVU801
 305:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_UNUSED_ARG(err); /* for LWIP_NOASSERT */
 2563              		.loc 1 305 3 discriminator 3 view .LVU802
 305:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_UNUSED_ARG(err); /* for LWIP_NOASSERT */
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 89


 2564              		.loc 1 305 3 discriminator 3 view .LVU803
 2565 000e 002E     		cmp	r6, #0
 2566 0010 31D1     		bne	.L236
 2567              	.L224:
 305:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_UNUSED_ARG(err); /* for LWIP_NOASSERT */
 2568              		.loc 1 305 3 discriminator 3 view .LVU804
 305:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_UNUSED_ARG(err); /* for LWIP_NOASSERT */
 2569              		.loc 1 305 3 discriminator 3 view .LVU805
 306:ThirdPackage/lwip220/api/api_msg.c ****   conn = (struct netconn *)arg;
 2570              		.loc 1 306 3 discriminator 3 view .LVU806
 307:ThirdPackage/lwip220/api/api_msg.c **** 
 2571              		.loc 1 307 3 discriminator 3 view .LVU807
 2572              	.LVL242:
 309:ThirdPackage/lwip220/api/api_msg.c ****     return ERR_VAL;
 2573              		.loc 1 309 3 discriminator 3 view .LVU808
 309:ThirdPackage/lwip220/api/api_msg.c ****     return ERR_VAL;
 2574              		.loc 1 309 6 is_stmt 0 discriminator 3 view .LVU809
 2575 0012 002C     		cmp	r4, #0
 2576 0014 44D0     		beq	.L230
 312:ThirdPackage/lwip220/api/api_msg.c **** 
 2577              		.loc 1 312 3 is_stmt 1 view .LVU810
 312:ThirdPackage/lwip220/api/api_msg.c **** 
 2578              		.loc 1 312 3 view .LVU811
 2579 0016 6368     		ldr	r3, [r4, #4]
 2580 0018 BB42     		cmp	r3, r7
 2581 001a 06D0     		beq	.L226
 312:ThirdPackage/lwip220/api/api_msg.c **** 
 2582              		.loc 1 312 3 discriminator 1 view .LVU812
 312:ThirdPackage/lwip220/api/api_msg.c **** 
 2583              		.loc 1 312 3 discriminator 1 view .LVU813
 2584 001c 234B     		ldr	r3, .L238
 2585 001e 4FF49C72 		mov	r2, #312
 2586 0022 2349     		ldr	r1, .L238+4
 2587 0024 2348     		ldr	r0, .L238+8
 2588 0026 FFF7FEFF 		bl	printf
 2589              	.LVL243:
 2590              	.L226:
 312:ThirdPackage/lwip220/api/api_msg.c **** 
 2591              		.loc 1 312 3 discriminator 3 view .LVU814
 312:ThirdPackage/lwip220/api/api_msg.c **** 
 2592              		.loc 1 312 3 discriminator 3 view .LVU815
 314:ThirdPackage/lwip220/api/api_msg.c ****     /* recvmbox already deleted */
 2593              		.loc 1 314 3 discriminator 3 view .LVU816
 314:ThirdPackage/lwip220/api/api_msg.c ****     /* recvmbox already deleted */
 2594              		.loc 1 314 8 is_stmt 0 discriminator 3 view .LVU817
 2595 002a 04F11006 		add	r6, r4, #16
 2596 002e 3046     		mov	r0, r6
 2597 0030 FFF7FEFF 		bl	sys_mbox_valid
 2598              	.LVL244:
 314:ThirdPackage/lwip220/api/api_msg.c ****     /* recvmbox already deleted */
 2599              		.loc 1 314 6 discriminator 3 view .LVU818
 2600 0034 38B3     		cbz	r0, .L237
 326:ThirdPackage/lwip220/api/api_msg.c ****     msg = p;
 2601              		.loc 1 326 3 is_stmt 1 view .LVU819
 326:ThirdPackage/lwip220/api/api_msg.c ****     msg = p;
 2602              		.loc 1 326 6 is_stmt 0 view .LVU820
 2603 0036 85B3     		cbz	r5, .L231
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 90


 327:ThirdPackage/lwip220/api/api_msg.c ****     len = p->tot_len;
 2604              		.loc 1 327 5 is_stmt 1 view .LVU821
 2605              	.LVL245:
 328:ThirdPackage/lwip220/api/api_msg.c ****   } else {
 2606              		.loc 1 328 5 view .LVU822
 328:ThirdPackage/lwip220/api/api_msg.c ****   } else {
 2607              		.loc 1 328 9 is_stmt 0 view .LVU823
 2608 0038 2F89     		ldrh	r7, [r5, #8]
 2609              	.LVL246:
 2610              	.L229:
 334:ThirdPackage/lwip220/api/api_msg.c ****     /* don't deallocate p: it is presented to us later again from tcp_fasttmr! */
 2611              		.loc 1 334 3 is_stmt 1 view .LVU824
 334:ThirdPackage/lwip220/api/api_msg.c ****     /* don't deallocate p: it is presented to us later again from tcp_fasttmr! */
 2612              		.loc 1 334 7 is_stmt 0 view .LVU825
 2613 003a 2946     		mov	r1, r5
 2614 003c 3046     		mov	r0, r6
 2615 003e FFF7FEFF 		bl	sys_mbox_trypost
 2616              	.LVL247:
 334:ThirdPackage/lwip220/api/api_msg.c ****     /* don't deallocate p: it is presented to us later again from tcp_fasttmr! */
 2617              		.loc 1 334 6 view .LVU826
 2618 0042 0546     		mov	r5, r0
 2619              	.LVL248:
 334:ThirdPackage/lwip220/api/api_msg.c ****     /* don't deallocate p: it is presented to us later again from tcp_fasttmr! */
 2620              		.loc 1 334 6 view .LVU827
 2621 0044 78BB     		cbnz	r0, .L232
 342:ThirdPackage/lwip220/api/api_msg.c ****   }
 2622              		.loc 1 342 5 is_stmt 1 view .LVU828
 2623 0046 636A     		ldr	r3, [r4, #36]
 2624 0048 1BB1     		cbz	r3, .L225
 342:ThirdPackage/lwip220/api/api_msg.c ****   }
 2625              		.loc 1 342 5 discriminator 1 view .LVU829
 2626 004a 3A46     		mov	r2, r7
 2627 004c 0021     		movs	r1, #0
 2628 004e 2046     		mov	r0, r4
 2629 0050 9847     		blx	r3
 2630              	.LVL249:
 2631              	.L225:
 346:ThirdPackage/lwip220/api/api_msg.c **** 
 2632              		.loc 1 346 1 is_stmt 0 view .LVU830
 2633 0052 2846     		mov	r0, r5
 2634 0054 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 2635              	.LVL250:
 2636              	.L234:
 303:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have an argument", arg != NULL);
 2637              		.loc 1 303 3 is_stmt 1 discriminator 1 view .LVU831
 303:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have an argument", arg != NULL);
 2638              		.loc 1 303 3 discriminator 1 view .LVU832
 2639 0056 154B     		ldr	r3, .L238
 2640              	.LVL251:
 303:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have an argument", arg != NULL);
 2641              		.loc 1 303 3 is_stmt 0 discriminator 1 view .LVU833
 2642 0058 40F22F12 		movw	r2, #303
 2643              	.LVL252:
 303:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have an argument", arg != NULL);
 2644              		.loc 1 303 3 discriminator 1 view .LVU834
 2645 005c 1649     		ldr	r1, .L238+12
 2646              	.LVL253:
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 91


 303:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have an argument", arg != NULL);
 2647              		.loc 1 303 3 discriminator 1 view .LVU835
 2648 005e 1548     		ldr	r0, .L238+8
 2649              	.LVL254:
 303:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have an argument", arg != NULL);
 2650              		.loc 1 303 3 discriminator 1 view .LVU836
 2651 0060 FFF7FEFF 		bl	printf
 2652              	.LVL255:
 2653 0064 D2E7     		b	.L222
 2654              	.L235:
 304:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("err != ERR_OK unhandled", err == ERR_OK);
 2655              		.loc 1 304 3 is_stmt 1 discriminator 1 view .LVU837
 304:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("err != ERR_OK unhandled", err == ERR_OK);
 2656              		.loc 1 304 3 discriminator 1 view .LVU838
 2657 0066 114B     		ldr	r3, .L238
 2658 0068 4FF49872 		mov	r2, #304
 2659 006c 1349     		ldr	r1, .L238+16
 2660 006e 1148     		ldr	r0, .L238+8
 2661 0070 FFF7FEFF 		bl	printf
 2662              	.LVL256:
 2663 0074 CBE7     		b	.L223
 2664              	.L236:
 305:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_UNUSED_ARG(err); /* for LWIP_NOASSERT */
 2665              		.loc 1 305 3 discriminator 1 view .LVU839
 305:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_UNUSED_ARG(err); /* for LWIP_NOASSERT */
 2666              		.loc 1 305 3 discriminator 1 view .LVU840
 2667 0076 0D4B     		ldr	r3, .L238
 2668 0078 40F23112 		movw	r2, #305
 2669 007c 1049     		ldr	r1, .L238+20
 2670 007e 0D48     		ldr	r0, .L238+8
 2671 0080 FFF7FEFF 		bl	printf
 2672              	.LVL257:
 2673 0084 C5E7     		b	.L224
 2674              	.LVL258:
 2675              	.L237:
 316:ThirdPackage/lwip220/api/api_msg.c ****       tcp_recved(pcb, p->tot_len);
 2676              		.loc 1 316 5 view .LVU841
 316:ThirdPackage/lwip220/api/api_msg.c ****       tcp_recved(pcb, p->tot_len);
 2677              		.loc 1 316 8 is_stmt 0 view .LVU842
 2678 0086 35B1     		cbz	r5, .L228
 317:ThirdPackage/lwip220/api/api_msg.c ****       pbuf_free(p);
 2679              		.loc 1 317 7 is_stmt 1 view .LVU843
 2680 0088 2989     		ldrh	r1, [r5, #8]
 2681 008a 3846     		mov	r0, r7
 2682 008c FFF7FEFF 		bl	tcp_recved
 2683              	.LVL259:
 318:ThirdPackage/lwip220/api/api_msg.c ****     }
 2684              		.loc 1 318 7 view .LVU844
 2685 0090 2846     		mov	r0, r5
 2686 0092 FFF7FEFF 		bl	pbuf_free
 2687              	.LVL260:
 2688              	.L228:
 320:ThirdPackage/lwip220/api/api_msg.c ****   }
 2689              		.loc 1 320 5 view .LVU845
 320:ThirdPackage/lwip220/api/api_msg.c ****   }
 2690              		.loc 1 320 12 is_stmt 0 view .LVU846
 2691 0096 0025     		movs	r5, #0
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 92


 2692              	.LVL261:
 320:ThirdPackage/lwip220/api/api_msg.c ****   }
 2693              		.loc 1 320 12 view .LVU847
 2694 0098 DBE7     		b	.L225
 2695              	.LVL262:
 2696              	.L231:
 330:ThirdPackage/lwip220/api/api_msg.c ****     len = 0;
 2697              		.loc 1 330 9 view .LVU848
 2698 009a 0A4D     		ldr	r5, .L238+24
 2699              	.LVL263:
 331:ThirdPackage/lwip220/api/api_msg.c ****   }
 2700              		.loc 1 331 9 view .LVU849
 2701 009c 0027     		movs	r7, #0
 2702              	.LVL264:
 331:ThirdPackage/lwip220/api/api_msg.c ****   }
 2703              		.loc 1 331 9 view .LVU850
 2704 009e CCE7     		b	.L229
 2705              	.LVL265:
 2706              	.L230:
 310:ThirdPackage/lwip220/api/api_msg.c ****   }
 2707              		.loc 1 310 12 view .LVU851
 2708 00a0 6FF00505 		mvn	r5, #5
 2709              	.LVL266:
 310:ThirdPackage/lwip220/api/api_msg.c ****   }
 2710              		.loc 1 310 12 view .LVU852
 2711 00a4 D5E7     		b	.L225
 2712              	.LVL267:
 2713              	.L232:
 336:ThirdPackage/lwip220/api/api_msg.c ****   } else {
 2714              		.loc 1 336 12 view .LVU853
 2715 00a6 4FF0FF35 		mov	r5, #-1
 2716 00aa D2E7     		b	.L225
 2717              	.L239:
 2718              		.align	2
 2719              	.L238:
 2720 00ac 00000000 		.word	.LC0
 2721 00b0 5C000000 		.word	.LC27
 2722 00b4 34000000 		.word	.LC2
 2723 00b8 00000000 		.word	.LC24
 2724 00bc 24000000 		.word	.LC25
 2725 00c0 44000000 		.word	.LC26
 2726 00c4 00000000 		.word	.LANCHOR1
 2727              		.cfi_endproc
 2728              	.LFE163:
 2730              		.section	.rodata.lwip_netconn_is_err_msg.str1.4,"aMS",%progbits,1
 2731              		.align	2
 2732              	.LC28:
 2733 0000 65727220 		.ascii	"err != NULL\000"
 2733      213D204E 
 2733      554C4C00 
 2734              		.section	.text.lwip_netconn_is_err_msg,"ax",%progbits
 2735              		.align	1
 2736              		.global	lwip_netconn_is_err_msg
 2737              		.syntax unified
 2738              		.thumb
 2739              		.thumb_func
 2741              	lwip_netconn_is_err_msg:
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 93


 2742              	.LVL268:
 2743              	.LFB161:
 132:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("err != NULL", err != NULL);
 2744              		.loc 1 132 1 is_stmt 1 view -0
 2745              		.cfi_startproc
 2746              		@ args = 0, pretend = 0, frame = 0
 2747              		@ frame_needed = 0, uses_anonymous_args = 0
 132:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("err != NULL", err != NULL);
 2748              		.loc 1 132 1 is_stmt 0 view .LVU855
 2749 0000 38B5     		push	{r3, r4, r5, lr}
 2750              	.LCFI13:
 2751              		.cfi_def_cfa_offset 16
 2752              		.cfi_offset 3, -16
 2753              		.cfi_offset 4, -12
 2754              		.cfi_offset 5, -8
 2755              		.cfi_offset 14, -4
 2756 0002 0446     		mov	r4, r0
 133:ThirdPackage/lwip220/api/api_msg.c **** 
 2757              		.loc 1 133 3 is_stmt 1 view .LVU856
 133:ThirdPackage/lwip220/api/api_msg.c **** 
 2758              		.loc 1 133 3 view .LVU857
 2759 0004 0D46     		mov	r5, r1
 2760 0006 51B1     		cbz	r1, .L247
 2761              	.LVL269:
 2762              	.L241:
 133:ThirdPackage/lwip220/api/api_msg.c **** 
 2763              		.loc 1 133 3 discriminator 3 view .LVU858
 133:ThirdPackage/lwip220/api/api_msg.c **** 
 2764              		.loc 1 133 3 discriminator 3 view .LVU859
 135:ThirdPackage/lwip220/api/api_msg.c ****     *err = ERR_ABRT;
 2765              		.loc 1 135 3 discriminator 3 view .LVU860
 135:ThirdPackage/lwip220/api/api_msg.c ****     *err = ERR_ABRT;
 2766              		.loc 1 135 6 is_stmt 0 discriminator 3 view .LVU861
 2767 0008 0E4B     		ldr	r3, .L251
 2768 000a 9C42     		cmp	r4, r3
 2769 000c 0ED0     		beq	.L248
 138:ThirdPackage/lwip220/api/api_msg.c ****     *err = ERR_RST;
 2770              		.loc 1 138 10 is_stmt 1 view .LVU862
 138:ThirdPackage/lwip220/api/api_msg.c ****     *err = ERR_RST;
 2771              		.loc 1 138 13 is_stmt 0 view .LVU863
 2772 000e 0E4B     		ldr	r3, .L251+4
 2773 0010 9C42     		cmp	r4, r3
 2774 0012 0FD0     		beq	.L249
 141:ThirdPackage/lwip220/api/api_msg.c ****     *err = ERR_CLSD;
 2775              		.loc 1 141 10 is_stmt 1 view .LVU864
 141:ThirdPackage/lwip220/api/api_msg.c ****     *err = ERR_CLSD;
 2776              		.loc 1 141 13 is_stmt 0 view .LVU865
 2777 0014 0D4B     		ldr	r3, .L251+8
 2778 0016 9C42     		cmp	r4, r3
 2779 0018 10D0     		beq	.L250
 145:ThirdPackage/lwip220/api/api_msg.c **** }
 2780              		.loc 1 145 10 view .LVU866
 2781 001a 0020     		movs	r0, #0
 2782              	.L240:
 146:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_TCP */
 2783              		.loc 1 146 1 view .LVU867
 2784 001c 38BD     		pop	{r3, r4, r5, pc}
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 94


 2785              	.LVL270:
 2786              	.L247:
 133:ThirdPackage/lwip220/api/api_msg.c **** 
 2787              		.loc 1 133 3 is_stmt 1 discriminator 1 view .LVU868
 133:ThirdPackage/lwip220/api/api_msg.c **** 
 2788              		.loc 1 133 3 discriminator 1 view .LVU869
 2789 001e 0C4B     		ldr	r3, .L251+12
 2790 0020 8522     		movs	r2, #133
 2791 0022 0C49     		ldr	r1, .L251+16
 2792              	.LVL271:
 133:ThirdPackage/lwip220/api/api_msg.c **** 
 2793              		.loc 1 133 3 is_stmt 0 discriminator 1 view .LVU870
 2794 0024 0C48     		ldr	r0, .L251+20
 2795              	.LVL272:
 133:ThirdPackage/lwip220/api/api_msg.c **** 
 2796              		.loc 1 133 3 discriminator 1 view .LVU871
 2797 0026 FFF7FEFF 		bl	printf
 2798              	.LVL273:
 2799 002a EDE7     		b	.L241
 2800              	.L248:
 136:ThirdPackage/lwip220/api/api_msg.c ****     return 1;
 2801              		.loc 1 136 5 is_stmt 1 view .LVU872
 136:ThirdPackage/lwip220/api/api_msg.c ****     return 1;
 2802              		.loc 1 136 10 is_stmt 0 view .LVU873
 2803 002c F323     		movs	r3, #243
 2804 002e 2B70     		strb	r3, [r5]
 137:ThirdPackage/lwip220/api/api_msg.c ****   } else if (msg == &netconn_reset) {
 2805              		.loc 1 137 5 is_stmt 1 view .LVU874
 137:ThirdPackage/lwip220/api/api_msg.c ****   } else if (msg == &netconn_reset) {
 2806              		.loc 1 137 12 is_stmt 0 view .LVU875
 2807 0030 0120     		movs	r0, #1
 2808 0032 F3E7     		b	.L240
 2809              	.L249:
 139:ThirdPackage/lwip220/api/api_msg.c ****     return 1;
 2810              		.loc 1 139 5 is_stmt 1 view .LVU876
 139:ThirdPackage/lwip220/api/api_msg.c ****     return 1;
 2811              		.loc 1 139 10 is_stmt 0 view .LVU877
 2812 0034 F223     		movs	r3, #242
 2813 0036 2B70     		strb	r3, [r5]
 140:ThirdPackage/lwip220/api/api_msg.c ****   } else if (msg == &netconn_closed) {
 2814              		.loc 1 140 5 is_stmt 1 view .LVU878
 140:ThirdPackage/lwip220/api/api_msg.c ****   } else if (msg == &netconn_closed) {
 2815              		.loc 1 140 12 is_stmt 0 view .LVU879
 2816 0038 0120     		movs	r0, #1
 2817 003a EFE7     		b	.L240
 2818              	.L250:
 142:ThirdPackage/lwip220/api/api_msg.c ****     return 1;
 2819              		.loc 1 142 5 is_stmt 1 view .LVU880
 142:ThirdPackage/lwip220/api/api_msg.c ****     return 1;
 2820              		.loc 1 142 10 is_stmt 0 view .LVU881
 2821 003c F123     		movs	r3, #241
 2822 003e 2B70     		strb	r3, [r5]
 143:ThirdPackage/lwip220/api/api_msg.c ****   }
 2823              		.loc 1 143 5 is_stmt 1 view .LVU882
 143:ThirdPackage/lwip220/api/api_msg.c ****   }
 2824              		.loc 1 143 12 is_stmt 0 view .LVU883
 2825 0040 0120     		movs	r0, #1
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 95


 2826 0042 EBE7     		b	.L240
 2827              	.L252:
 2828              		.align	2
 2829              	.L251:
 2830 0044 00000000 		.word	.LANCHOR2
 2831 0048 00000000 		.word	.LANCHOR0
 2832 004c 00000000 		.word	.LANCHOR1
 2833 0050 00000000 		.word	.LC0
 2834 0054 00000000 		.word	.LC28
 2835 0058 34000000 		.word	.LC2
 2836              		.cfi_endproc
 2837              	.LFE161:
 2839              		.section	.text.lwip_netconn_do_newconn,"ax",%progbits
 2840              		.align	1
 2841              		.global	lwip_netconn_do_newconn
 2842              		.syntax unified
 2843              		.thumb
 2844              		.thumb_func
 2846              	lwip_netconn_do_newconn:
 2847              	.LVL274:
 2848              	.LFB170:
 684:ThirdPackage/lwip220/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 2849              		.loc 1 684 1 is_stmt 1 view -0
 2850              		.cfi_startproc
 2851              		@ args = 0, pretend = 0, frame = 0
 2852              		@ frame_needed = 0, uses_anonymous_args = 0
 684:ThirdPackage/lwip220/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 2853              		.loc 1 684 1 is_stmt 0 view .LVU885
 2854 0000 08B5     		push	{r3, lr}
 2855              	.LCFI14:
 2856              		.cfi_def_cfa_offset 8
 2857              		.cfi_offset 3, -8
 2858              		.cfi_offset 14, -4
 685:ThirdPackage/lwip220/api/api_msg.c **** 
 2859              		.loc 1 685 3 is_stmt 1 view .LVU886
 2860              	.LVL275:
 687:ThirdPackage/lwip220/api/api_msg.c ****   if (msg->conn->pcb.tcp == NULL) {
 2861              		.loc 1 687 3 view .LVU887
 687:ThirdPackage/lwip220/api/api_msg.c ****   if (msg->conn->pcb.tcp == NULL) {
 2862              		.loc 1 687 12 is_stmt 0 view .LVU888
 2863 0002 0023     		movs	r3, #0
 2864 0004 0371     		strb	r3, [r0, #4]
 688:ThirdPackage/lwip220/api/api_msg.c ****     pcb_new(msg);
 2865              		.loc 1 688 3 is_stmt 1 view .LVU889
 688:ThirdPackage/lwip220/api/api_msg.c ****     pcb_new(msg);
 2866              		.loc 1 688 10 is_stmt 0 view .LVU890
 2867 0006 0368     		ldr	r3, [r0]
 688:ThirdPackage/lwip220/api/api_msg.c ****     pcb_new(msg);
 2868              		.loc 1 688 21 view .LVU891
 2869 0008 5B68     		ldr	r3, [r3, #4]
 688:ThirdPackage/lwip220/api/api_msg.c ****     pcb_new(msg);
 2870              		.loc 1 688 6 view .LVU892
 2871 000a 03B1     		cbz	r3, .L256
 2872              	.LVL276:
 2873              	.L253:
 696:ThirdPackage/lwip220/api/api_msg.c **** 
 2874              		.loc 1 696 1 view .LVU893
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 96


 2875 000c 08BD     		pop	{r3, pc}
 2876              	.LVL277:
 2877              	.L256:
 689:ThirdPackage/lwip220/api/api_msg.c ****   }
 2878              		.loc 1 689 5 is_stmt 1 view .LVU894
 2879 000e FFF7FEFF 		bl	pcb_new
 2880              	.LVL278:
 695:ThirdPackage/lwip220/api/api_msg.c **** }
 2881              		.loc 1 695 24 view .LVU895
 696:ThirdPackage/lwip220/api/api_msg.c **** 
 2882              		.loc 1 696 1 is_stmt 0 view .LVU896
 2883 0012 FBE7     		b	.L253
 2884              		.cfi_endproc
 2885              	.LFE170:
 2887              		.section	.rodata.netconn_alloc.str1.4,"aMS",%progbits,1
 2888              		.align	2
 2889              	.LC29:
 2890 0000 6E657463 		.ascii	"netconn_alloc: undefined netconn_type\000"
 2890      6F6E6E5F 
 2890      616C6C6F 
 2890      633A2075 
 2890      6E646566 
 2891              		.section	.text.netconn_alloc,"ax",%progbits
 2892              		.align	1
 2893              		.global	netconn_alloc
 2894              		.syntax unified
 2895              		.thumb
 2896              		.thumb_func
 2898              	netconn_alloc:
 2899              	.LVL279:
 2900              	.LFB171:
 709:ThirdPackage/lwip220/api/api_msg.c ****   struct netconn *conn;
 2901              		.loc 1 709 1 is_stmt 1 view -0
 2902              		.cfi_startproc
 2903              		@ args = 0, pretend = 0, frame = 0
 2904              		@ frame_needed = 0, uses_anonymous_args = 0
 709:ThirdPackage/lwip220/api/api_msg.c ****   struct netconn *conn;
 2905              		.loc 1 709 1 is_stmt 0 view .LVU898
 2906 0000 70B5     		push	{r4, r5, r6, lr}
 2907              	.LCFI15:
 2908              		.cfi_def_cfa_offset 16
 2909              		.cfi_offset 4, -16
 2910              		.cfi_offset 5, -12
 2911              		.cfi_offset 6, -8
 2912              		.cfi_offset 14, -4
 2913 0002 0546     		mov	r5, r0
 2914 0004 0E46     		mov	r6, r1
 710:ThirdPackage/lwip220/api/api_msg.c ****   int size;
 2915              		.loc 1 710 3 is_stmt 1 view .LVU899
 711:ThirdPackage/lwip220/api/api_msg.c ****   u8_t init_flags = 0;
 2916              		.loc 1 711 3 view .LVU900
 712:ThirdPackage/lwip220/api/api_msg.c **** 
 2917              		.loc 1 712 3 view .LVU901
 2918              	.LVL280:
 714:ThirdPackage/lwip220/api/api_msg.c ****   if (conn == NULL) {
 2919              		.loc 1 714 3 view .LVU902
 714:ThirdPackage/lwip220/api/api_msg.c ****   if (conn == NULL) {
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 97


 2920              		.loc 1 714 28 is_stmt 0 view .LVU903
 2921 0006 0720     		movs	r0, #7
 2922              	.LVL281:
 714:ThirdPackage/lwip220/api/api_msg.c ****   if (conn == NULL) {
 2923              		.loc 1 714 28 view .LVU904
 2924 0008 FFF7FEFF 		bl	memp_malloc
 2925              	.LVL282:
 715:ThirdPackage/lwip220/api/api_msg.c ****     return NULL;
 2926              		.loc 1 715 3 is_stmt 1 view .LVU905
 715:ThirdPackage/lwip220/api/api_msg.c ****     return NULL;
 2927              		.loc 1 715 6 is_stmt 0 view .LVU906
 2928 000c 0446     		mov	r4, r0
 2929 000e 78B3     		cbz	r0, .L257
 719:ThirdPackage/lwip220/api/api_msg.c ****   conn->type = t;
 2930              		.loc 1 719 3 is_stmt 1 view .LVU907
 719:ThirdPackage/lwip220/api/api_msg.c ****   conn->type = t;
 2931              		.loc 1 719 21 is_stmt 0 view .LVU908
 2932 0010 0023     		movs	r3, #0
 2933 0012 0372     		strb	r3, [r0, #8]
 720:ThirdPackage/lwip220/api/api_msg.c ****   conn->pcb.tcp = NULL;
 2934              		.loc 1 720 3 is_stmt 1 view .LVU909
 720:ThirdPackage/lwip220/api/api_msg.c ****   conn->pcb.tcp = NULL;
 2935              		.loc 1 720 14 is_stmt 0 view .LVU910
 2936 0014 0570     		strb	r5, [r0]
 721:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 2937              		.loc 1 721 3 is_stmt 1 view .LVU911
 721:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 2938              		.loc 1 721 17 is_stmt 0 view .LVU912
 2939 0016 4360     		str	r3, [r0, #4]
 727:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_RAW
 2940              		.loc 1 727 3 is_stmt 1 view .LVU913
 2941 0018 05F0F005 		and	r5, r5, #240
 2942 001c 102D     		cmp	r5, #16
 2943 001e 01D0     		beq	.L259
 2944 0020 202D     		cmp	r5, #32
 2945 0022 19D1     		bne	.L263
 2946              	.L259:
 2947              	.LVL283:
 751:ThirdPackage/lwip220/api/api_msg.c ****     goto free_and_return;
 2948              		.loc 1 751 3 view .LVU914
 751:ThirdPackage/lwip220/api/api_msg.c ****     goto free_and_return;
 2949              		.loc 1 751 7 is_stmt 0 view .LVU915
 2950 0024 04F11005 		add	r5, r4, #16
 2951 0028 0621     		movs	r1, #6
 2952 002a 2846     		mov	r0, r5
 2953              	.LVL284:
 751:ThirdPackage/lwip220/api/api_msg.c ****     goto free_and_return;
 2954              		.loc 1 751 7 view .LVU916
 2955 002c FFF7FEFF 		bl	sys_mbox_new
 2956              	.LVL285:
 751:ThirdPackage/lwip220/api/api_msg.c ****     goto free_and_return;
 2957              		.loc 1 751 6 view .LVU917
 2958 0030 C8B9     		cbnz	r0, .L260
 755:ThirdPackage/lwip220/api/api_msg.c ****     sys_mbox_free(&conn->recvmbox);
 2959              		.loc 1 755 3 is_stmt 1 view .LVU918
 755:ThirdPackage/lwip220/api/api_msg.c ****     sys_mbox_free(&conn->recvmbox);
 2960              		.loc 1 755 7 is_stmt 0 view .LVU919
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 98


 2961 0032 0021     		movs	r1, #0
 2962 0034 04F10C00 		add	r0, r4, #12
 2963 0038 FFF7FEFF 		bl	sys_sem_new
 2964              	.LVL286:
 755:ThirdPackage/lwip220/api/api_msg.c ****     sys_mbox_free(&conn->recvmbox);
 2965              		.loc 1 755 6 view .LVU920
 2966 003c D0B9     		cbnz	r0, .L264
 762:ThirdPackage/lwip220/api/api_msg.c **** #endif
 2967              		.loc 1 762 3 is_stmt 1 view .LVU921
 2968 003e 04F11400 		add	r0, r4, #20
 2969 0042 FFF7FEFF 		bl	sys_mbox_set_invalid
 2970              	.LVL287:
 764:ThirdPackage/lwip220/api/api_msg.c ****   /* initialize socket to -1 since 0 is a valid socket */
 2971              		.loc 1 764 3 view .LVU922
 764:ThirdPackage/lwip220/api/api_msg.c ****   /* initialize socket to -1 since 0 is a valid socket */
 2972              		.loc 1 764 22 is_stmt 0 view .LVU923
 2973 0046 0023     		movs	r3, #0
 2974 0048 6370     		strb	r3, [r4, #1]
 766:ThirdPackage/lwip220/api/api_msg.c ****   conn->callback     = callback;
 2975              		.loc 1 766 3 is_stmt 1 view .LVU924
 766:ThirdPackage/lwip220/api/api_msg.c ****   conn->callback     = callback;
 2976              		.loc 1 766 29 is_stmt 0 view .LVU925
 2977 004a 4FF0FF32 		mov	r2, #-1
 2978 004e A261     		str	r2, [r4, #24]
 767:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_TCP
 2979              		.loc 1 767 3 is_stmt 1 view .LVU926
 767:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_TCP
 2980              		.loc 1 767 22 is_stmt 0 view .LVU927
 2981 0050 6662     		str	r6, [r4, #36]
 769:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_TCP */
 2982              		.loc 1 769 3 is_stmt 1 view .LVU928
 769:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_TCP */
 2983              		.loc 1 769 22 is_stmt 0 view .LVU929
 2984 0052 2362     		str	r3, [r4, #32]
 784:ThirdPackage/lwip220/api/api_msg.c ****   return conn;
 2985              		.loc 1 784 3 is_stmt 1 view .LVU930
 784:ThirdPackage/lwip220/api/api_msg.c ****   return conn;
 2986              		.loc 1 784 15 is_stmt 0 view .LVU931
 2987 0054 2377     		strb	r3, [r4, #28]
 785:ThirdPackage/lwip220/api/api_msg.c **** free_and_return:
 2988              		.loc 1 785 3 is_stmt 1 view .LVU932
 785:ThirdPackage/lwip220/api/api_msg.c **** free_and_return:
 2989              		.loc 1 785 10 is_stmt 0 view .LVU933
 2990 0056 0BE0     		b	.L257
 2991              	.LVL288:
 2992              	.L263:
 747:ThirdPackage/lwip220/api/api_msg.c ****       goto free_and_return;
 2993              		.loc 1 747 7 is_stmt 1 discriminator 1 view .LVU934
 747:ThirdPackage/lwip220/api/api_msg.c ****       goto free_and_return;
 2994              		.loc 1 747 7 discriminator 1 view .LVU935
 747:ThirdPackage/lwip220/api/api_msg.c ****       goto free_and_return;
 2995              		.loc 1 747 7 discriminator 1 view .LVU936
 747:ThirdPackage/lwip220/api/api_msg.c ****       goto free_and_return;
 2996              		.loc 1 747 7 discriminator 1 view .LVU937
 2997 0058 084B     		ldr	r3, .L265
 2998 005a 40F2EB22 		movw	r2, #747
 2999 005e 0849     		ldr	r1, .L265+4
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 99


 3000 0060 0848     		ldr	r0, .L265+8
 3001              	.LVL289:
 747:ThirdPackage/lwip220/api/api_msg.c ****       goto free_and_return;
 3002              		.loc 1 747 7 is_stmt 0 discriminator 1 view .LVU938
 3003 0062 FFF7FEFF 		bl	printf
 3004              	.LVL290:
 747:ThirdPackage/lwip220/api/api_msg.c ****       goto free_and_return;
 3005              		.loc 1 747 7 is_stmt 1 discriminator 1 view .LVU939
 747:ThirdPackage/lwip220/api/api_msg.c ****       goto free_and_return;
 3006              		.loc 1 747 7 discriminator 1 view .LVU940
 748:ThirdPackage/lwip220/api/api_msg.c ****   }
 3007              		.loc 1 748 7 discriminator 1 view .LVU941
 3008              	.L260:
 787:ThirdPackage/lwip220/api/api_msg.c ****   return NULL;
 3009              		.loc 1 787 3 view .LVU942
 3010 0066 2146     		mov	r1, r4
 3011 0068 0720     		movs	r0, #7
 3012 006a FFF7FEFF 		bl	memp_free
 3013              	.LVL291:
 788:ThirdPackage/lwip220/api/api_msg.c **** }
 3014              		.loc 1 788 3 view .LVU943
 788:ThirdPackage/lwip220/api/api_msg.c **** }
 3015              		.loc 1 788 10 is_stmt 0 view .LVU944
 3016 006e 0024     		movs	r4, #0
 3017              	.LVL292:
 3018              	.L257:
 789:ThirdPackage/lwip220/api/api_msg.c **** 
 3019              		.loc 1 789 1 view .LVU945
 3020 0070 2046     		mov	r0, r4
 3021 0072 70BD     		pop	{r4, r5, r6, pc}
 3022              	.LVL293:
 3023              	.L264:
 756:ThirdPackage/lwip220/api/api_msg.c ****     goto free_and_return;
 3024              		.loc 1 756 5 is_stmt 1 view .LVU946
 3025 0074 2846     		mov	r0, r5
 3026 0076 FFF7FEFF 		bl	sys_mbox_free
 3027              	.LVL294:
 757:ThirdPackage/lwip220/api/api_msg.c ****   }
 3028              		.loc 1 757 5 view .LVU947
 3029 007a F4E7     		b	.L260
 3030              	.L266:
 3031              		.align	2
 3032              	.L265:
 3033 007c 00000000 		.word	.LC0
 3034 0080 00000000 		.word	.LC29
 3035 0084 34000000 		.word	.LC2
 3036              		.cfi_endproc
 3037              	.LFE171:
 3039              		.section	.rodata.netconn_free.str1.4,"aMS",%progbits,1
 3040              		.align	2
 3041              	.LC30:
 3042 0000 50434220 		.ascii	"PCB must be deallocated outside this function\000"
 3042      6D757374 
 3042      20626520 
 3042      6465616C 
 3042      6C6F6361 
 3043 002e 0000     		.align	2
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 100


 3044              	.LC31:
 3045 0030 72656376 		.ascii	"recvmbox must be deallocated before calling this fu"
 3045      6D626F78 
 3045      206D7573 
 3045      74206265 
 3045      20646561 
 3046 0063 6E637469 		.ascii	"nction\000"
 3046      6F6E00
 3047 006a 0000     		.align	2
 3048              	.LC32:
 3049 006c 61636365 		.ascii	"acceptmbox must be deallocated before calling this "
 3049      70746D62 
 3049      6F78206D 
 3049      75737420 
 3049      62652064 
 3050 009f 66756E63 		.ascii	"function\000"
 3050      74696F6E 
 3050      00
 3051              		.section	.text.netconn_free,"ax",%progbits
 3052              		.align	1
 3053              		.global	netconn_free
 3054              		.syntax unified
 3055              		.thumb
 3056              		.thumb_func
 3058              	netconn_free:
 3059              	.LVL295:
 3060              	.LFB172:
 799:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("PCB must be deallocated outside this function", conn->pcb.tcp == NULL);
 3061              		.loc 1 799 1 view -0
 3062              		.cfi_startproc
 3063              		@ args = 0, pretend = 0, frame = 0
 3064              		@ frame_needed = 0, uses_anonymous_args = 0
 799:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("PCB must be deallocated outside this function", conn->pcb.tcp == NULL);
 3065              		.loc 1 799 1 is_stmt 0 view .LVU949
 3066 0000 38B5     		push	{r3, r4, r5, lr}
 3067              	.LCFI16:
 3068              		.cfi_def_cfa_offset 16
 3069              		.cfi_offset 3, -16
 3070              		.cfi_offset 4, -12
 3071              		.cfi_offset 5, -8
 3072              		.cfi_offset 14, -4
 3073 0002 0446     		mov	r4, r0
 800:ThirdPackage/lwip220/api/api_msg.c **** 
 3074              		.loc 1 800 3 is_stmt 1 view .LVU950
 800:ThirdPackage/lwip220/api/api_msg.c **** 
 3075              		.loc 1 800 3 view .LVU951
 3076 0004 4368     		ldr	r3, [r0, #4]
 3077 0006 33B1     		cbz	r3, .L268
 800:ThirdPackage/lwip220/api/api_msg.c **** 
 3078              		.loc 1 800 3 discriminator 1 view .LVU952
 800:ThirdPackage/lwip220/api/api_msg.c **** 
 3079              		.loc 1 800 3 discriminator 1 view .LVU953
 3080 0008 164B     		ldr	r3, .L274
 3081 000a 4FF44872 		mov	r2, #800
 3082 000e 1649     		ldr	r1, .L274+4
 3083 0010 1648     		ldr	r0, .L274+8
 3084              	.LVL296:
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 101


 800:ThirdPackage/lwip220/api/api_msg.c **** 
 3085              		.loc 1 800 3 is_stmt 0 discriminator 1 view .LVU954
 3086 0012 FFF7FEFF 		bl	printf
 3087              	.LVL297:
 3088              	.L268:
 800:ThirdPackage/lwip220/api/api_msg.c **** 
 3089              		.loc 1 800 3 is_stmt 1 discriminator 3 view .LVU955
 800:ThirdPackage/lwip220/api/api_msg.c **** 
 3090              		.loc 1 800 3 discriminator 3 view .LVU956
 807:ThirdPackage/lwip220/api/api_msg.c ****               !sys_mbox_valid(&conn->recvmbox));
 3091              		.loc 1 807 3 discriminator 3 view .LVU957
 807:ThirdPackage/lwip220/api/api_msg.c ****               !sys_mbox_valid(&conn->recvmbox));
 3092              		.loc 1 807 3 discriminator 3 view .LVU958
 3093 0016 04F11000 		add	r0, r4, #16
 3094 001a FFF7FEFF 		bl	sys_mbox_valid
 3095              	.LVL298:
 3096 001e 88B9     		cbnz	r0, .L272
 3097              	.L269:
 807:ThirdPackage/lwip220/api/api_msg.c ****               !sys_mbox_valid(&conn->recvmbox));
 3098              		.loc 1 807 3 discriminator 3 view .LVU959
 807:ThirdPackage/lwip220/api/api_msg.c ****               !sys_mbox_valid(&conn->recvmbox));
 3099              		.loc 1 807 3 discriminator 3 view .LVU960
 810:ThirdPackage/lwip220/api/api_msg.c ****               !sys_mbox_valid(&conn->acceptmbox));
 3100              		.loc 1 810 3 discriminator 3 view .LVU961
 810:ThirdPackage/lwip220/api/api_msg.c ****               !sys_mbox_valid(&conn->acceptmbox));
 3101              		.loc 1 810 3 discriminator 3 view .LVU962
 3102 0020 04F11400 		add	r0, r4, #20
 3103 0024 FFF7FEFF 		bl	sys_mbox_valid
 3104              	.LVL299:
 3105 0028 A0B9     		cbnz	r0, .L273
 3106              	.L270:
 810:ThirdPackage/lwip220/api/api_msg.c ****               !sys_mbox_valid(&conn->acceptmbox));
 3107              		.loc 1 810 3 discriminator 3 view .LVU963
 810:ThirdPackage/lwip220/api/api_msg.c ****               !sys_mbox_valid(&conn->acceptmbox));
 3108              		.loc 1 810 3 discriminator 3 view .LVU964
 815:ThirdPackage/lwip220/api/api_msg.c ****   sys_sem_set_invalid(&conn->op_completed);
 3109              		.loc 1 815 3 discriminator 3 view .LVU965
 3110 002a 04F10C05 		add	r5, r4, #12
 3111 002e 2846     		mov	r0, r5
 3112 0030 FFF7FEFF 		bl	sys_sem_free
 3113              	.LVL300:
 816:ThirdPackage/lwip220/api/api_msg.c **** #endif
 3114              		.loc 1 816 3 discriminator 3 view .LVU966
 3115 0034 2846     		mov	r0, r5
 3116 0036 FFF7FEFF 		bl	sys_sem_set_invalid
 3117              	.LVL301:
 819:ThirdPackage/lwip220/api/api_msg.c **** }
 3118              		.loc 1 819 3 discriminator 3 view .LVU967
 3119 003a 2146     		mov	r1, r4
 3120 003c 0720     		movs	r0, #7
 3121 003e FFF7FEFF 		bl	memp_free
 3122              	.LVL302:
 820:ThirdPackage/lwip220/api/api_msg.c **** 
 3123              		.loc 1 820 1 is_stmt 0 discriminator 3 view .LVU968
 3124 0042 38BD     		pop	{r3, r4, r5, pc}
 3125              	.LVL303:
 3126              	.L272:
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 102


 807:ThirdPackage/lwip220/api/api_msg.c ****               !sys_mbox_valid(&conn->recvmbox));
 3127              		.loc 1 807 3 is_stmt 1 discriminator 1 view .LVU969
 807:ThirdPackage/lwip220/api/api_msg.c ****               !sys_mbox_valid(&conn->recvmbox));
 3128              		.loc 1 807 3 discriminator 1 view .LVU970
 3129 0044 074B     		ldr	r3, .L274
 3130 0046 40F22732 		movw	r2, #807
 3131 004a 0949     		ldr	r1, .L274+12
 3132 004c 0748     		ldr	r0, .L274+8
 3133 004e FFF7FEFF 		bl	printf
 3134              	.LVL304:
 3135 0052 E5E7     		b	.L269
 3136              	.L273:
 810:ThirdPackage/lwip220/api/api_msg.c ****               !sys_mbox_valid(&conn->acceptmbox));
 3137              		.loc 1 810 3 discriminator 1 view .LVU971
 810:ThirdPackage/lwip220/api/api_msg.c ****               !sys_mbox_valid(&conn->acceptmbox));
 3138              		.loc 1 810 3 discriminator 1 view .LVU972
 3139 0054 034B     		ldr	r3, .L274
 3140 0056 40F22A32 		movw	r2, #810
 3141 005a 0649     		ldr	r1, .L274+16
 3142 005c 0348     		ldr	r0, .L274+8
 3143 005e FFF7FEFF 		bl	printf
 3144              	.LVL305:
 3145 0062 E2E7     		b	.L270
 3146              	.L275:
 3147              		.align	2
 3148              	.L274:
 3149 0064 00000000 		.word	.LC0
 3150 0068 00000000 		.word	.LC30
 3151 006c 34000000 		.word	.LC2
 3152 0070 30000000 		.word	.LC31
 3153 0074 6C000000 		.word	.LC32
 3154              		.cfi_endproc
 3155              	.LFE172:
 3157              		.section	.text.netconn_drain,"ax",%progbits
 3158              		.align	1
 3159              		.syntax unified
 3160              		.thumb
 3161              		.thumb_func
 3163              	netconn_drain:
 3164              	.LVL306:
 3165              	.LFB173:
 832:ThirdPackage/lwip220/api/api_msg.c ****   void *mem;
 3166              		.loc 1 832 1 view -0
 3167              		.cfi_startproc
 3168              		@ args = 0, pretend = 0, frame = 8
 3169              		@ frame_needed = 0, uses_anonymous_args = 0
 832:ThirdPackage/lwip220/api/api_msg.c ****   void *mem;
 3170              		.loc 1 832 1 is_stmt 0 view .LVU974
 3171 0000 30B5     		push	{r4, r5, lr}
 3172              	.LCFI17:
 3173              		.cfi_def_cfa_offset 12
 3174              		.cfi_offset 4, -12
 3175              		.cfi_offset 5, -8
 3176              		.cfi_offset 14, -4
 3177 0002 83B0     		sub	sp, sp, #12
 3178              	.LCFI18:
 3179              		.cfi_def_cfa_offset 24
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 103


 3180 0004 0446     		mov	r4, r0
 833:ThirdPackage/lwip220/api/api_msg.c **** 
 3181              		.loc 1 833 3 is_stmt 1 view .LVU975
 842:ThirdPackage/lwip220/api/api_msg.c ****     while (sys_mbox_tryfetch(&conn->recvmbox, &mem) != SYS_MBOX_EMPTY) {
 3182              		.loc 1 842 3 view .LVU976
 842:ThirdPackage/lwip220/api/api_msg.c ****     while (sys_mbox_tryfetch(&conn->recvmbox, &mem) != SYS_MBOX_EMPTY) {
 3183              		.loc 1 842 7 is_stmt 0 view .LVU977
 3184 0006 00F11005 		add	r5, r0, #16
 3185 000a 2846     		mov	r0, r5
 3186              	.LVL307:
 842:ThirdPackage/lwip220/api/api_msg.c ****     while (sys_mbox_tryfetch(&conn->recvmbox, &mem) != SYS_MBOX_EMPTY) {
 3187              		.loc 1 842 7 view .LVU978
 3188 000c FFF7FEFF 		bl	sys_mbox_valid
 3189              	.LVL308:
 842:ThirdPackage/lwip220/api/api_msg.c ****     while (sys_mbox_tryfetch(&conn->recvmbox, &mem) != SYS_MBOX_EMPTY) {
 3190              		.loc 1 842 6 view .LVU979
 3191 0010 58B9     		cbnz	r0, .L277
 3192              	.L278:
 867:ThirdPackage/lwip220/api/api_msg.c ****     while (sys_mbox_tryfetch(&conn->acceptmbox, &mem) != SYS_MBOX_EMPTY) {
 3193              		.loc 1 867 3 is_stmt 1 view .LVU980
 867:ThirdPackage/lwip220/api/api_msg.c ****     while (sys_mbox_tryfetch(&conn->acceptmbox, &mem) != SYS_MBOX_EMPTY) {
 3194              		.loc 1 867 7 is_stmt 0 view .LVU981
 3195 0012 1434     		adds	r4, r4, #20
 3196              	.LVL309:
 867:ThirdPackage/lwip220/api/api_msg.c ****     while (sys_mbox_tryfetch(&conn->acceptmbox, &mem) != SYS_MBOX_EMPTY) {
 3197              		.loc 1 867 7 view .LVU982
 3198 0014 2046     		mov	r0, r4
 3199 0016 FFF7FEFF 		bl	sys_mbox_valid
 3200              	.LVL310:
 867:ThirdPackage/lwip220/api/api_msg.c ****     while (sys_mbox_tryfetch(&conn->acceptmbox, &mem) != SYS_MBOX_EMPTY) {
 3201              		.loc 1 867 6 view .LVU983
 3202 001a 20BB     		cbnz	r0, .L283
 3203 001c 43E0     		b	.L276
 3204              	.LVL311:
 3205              	.L291:
 3206              	.LBB15:
 850:ThirdPackage/lwip220/api/api_msg.c ****           if (!lwip_netconn_is_err_msg(mem, &err)) {
 3207              		.loc 1 850 11 is_stmt 1 view .LVU984
 851:ThirdPackage/lwip220/api/api_msg.c ****             pbuf_free((struct pbuf *)mem);
 3208              		.loc 1 851 11 view .LVU985
 851:ThirdPackage/lwip220/api/api_msg.c ****             pbuf_free((struct pbuf *)mem);
 3209              		.loc 1 851 16 is_stmt 0 view .LVU986
 3210 001e 0DF10301 		add	r1, sp, #3
 3211 0022 0198     		ldr	r0, [sp, #4]
 3212 0024 FFF7FEFF 		bl	lwip_netconn_is_err_msg
 3213              	.LVL312:
 851:ThirdPackage/lwip220/api/api_msg.c ****             pbuf_free((struct pbuf *)mem);
 3214              		.loc 1 851 14 view .LVU987
 3215 0028 78B1     		cbz	r0, .L289
 3216              	.L277:
 851:ThirdPackage/lwip220/api/api_msg.c ****             pbuf_free((struct pbuf *)mem);
 3217              		.loc 1 851 14 view .LVU988
 3218              	.LBE15:
 843:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 3219              		.loc 1 843 11 is_stmt 1 view .LVU989
 843:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 3220              		.loc 1 843 12 is_stmt 0 view .LVU990
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 104


 3221 002a 01A9     		add	r1, sp, #4
 3222 002c 2846     		mov	r0, r5
 3223 002e FFF7FEFF 		bl	sys_arch_mbox_tryfetch
 3224              	.LVL313:
 843:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 3225              		.loc 1 843 11 view .LVU991
 3226 0032 B0F1FF3F 		cmp	r0, #-1
 3227 0036 0CD0     		beq	.L290
 849:ThirdPackage/lwip220/api/api_msg.c ****           err_t err;
 3228              		.loc 1 849 9 is_stmt 1 view .LVU992
 849:ThirdPackage/lwip220/api/api_msg.c ****           err_t err;
 3229              		.loc 1 849 13 is_stmt 0 view .LVU993
 3230 0038 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 849:ThirdPackage/lwip220/api/api_msg.c ****           err_t err;
 3231              		.loc 1 849 12 view .LVU994
 3232 003a 03F0F003 		and	r3, r3, #240
 3233 003e 102B     		cmp	r3, #16
 3234 0040 EDD0     		beq	.L291
 857:ThirdPackage/lwip220/api/api_msg.c ****         }
 3235              		.loc 1 857 11 is_stmt 1 view .LVU995
 3236 0042 0198     		ldr	r0, [sp, #4]
 3237 0044 FFF7FEFF 		bl	netbuf_delete
 3238              	.LVL314:
 3239 0048 EFE7     		b	.L277
 3240              	.L289:
 3241              	.LBB16:
 852:ThirdPackage/lwip220/api/api_msg.c ****           }
 3242              		.loc 1 852 13 view .LVU996
 3243 004a 0198     		ldr	r0, [sp, #4]
 3244 004c FFF7FEFF 		bl	pbuf_free
 3245              	.LVL315:
 3246 0050 EBE7     		b	.L277
 3247              	.L290:
 852:ThirdPackage/lwip220/api/api_msg.c ****           }
 3248              		.loc 1 852 13 is_stmt 0 view .LVU997
 3249              	.LBE16:
 861:ThirdPackage/lwip220/api/api_msg.c ****     sys_mbox_set_invalid(&conn->recvmbox);
 3250              		.loc 1 861 5 is_stmt 1 view .LVU998
 3251 0052 2846     		mov	r0, r5
 3252 0054 FFF7FEFF 		bl	sys_mbox_free
 3253              	.LVL316:
 862:ThirdPackage/lwip220/api/api_msg.c ****   }
 3254              		.loc 1 862 5 view .LVU999
 3255 0058 2846     		mov	r0, r5
 3256 005a FFF7FEFF 		bl	sys_mbox_set_invalid
 3257              	.LVL317:
 3258 005e D8E7     		b	.L278
 3259              	.LVL318:
 3260              	.L286:
 3261              	.LBB17:
 3262              	.LBB18:
 884:ThirdPackage/lwip220/api/api_msg.c ****         }
 3263              		.loc 1 884 11 view .LVU1000
 3264 0060 2846     		mov	r0, r5
 3265 0062 FFF7FEFF 		bl	netconn_free
 3266              	.LVL319:
 3267              	.L283:
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 105


 884:ThirdPackage/lwip220/api/api_msg.c ****         }
 3268              		.loc 1 884 11 is_stmt 0 view .LVU1001
 3269              	.LBE18:
 3270              	.LBE17:
 868:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 3271              		.loc 1 868 11 is_stmt 1 view .LVU1002
 868:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 3272              		.loc 1 868 12 is_stmt 0 view .LVU1003
 3273 0066 01A9     		add	r1, sp, #4
 3274 0068 2046     		mov	r0, r4
 3275 006a FFF7FEFF 		bl	sys_arch_mbox_tryfetch
 3276              	.LVL320:
 868:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 3277              		.loc 1 868 11 view .LVU1004
 3278 006e B0F1FF3F 		cmp	r0, #-1
 3279 0072 12D0     		beq	.L292
 3280              	.LBB20:
 873:ThirdPackage/lwip220/api/api_msg.c ****         if (!lwip_netconn_is_err_msg(mem, &err)) {
 3281              		.loc 1 873 9 is_stmt 1 view .LVU1005
 874:ThirdPackage/lwip220/api/api_msg.c ****           struct netconn *newconn = (struct netconn *)mem;
 3282              		.loc 1 874 9 view .LVU1006
 874:ThirdPackage/lwip220/api/api_msg.c ****           struct netconn *newconn = (struct netconn *)mem;
 3283              		.loc 1 874 14 is_stmt 0 view .LVU1007
 3284 0074 0DF10301 		add	r1, sp, #3
 3285 0078 0198     		ldr	r0, [sp, #4]
 3286 007a FFF7FEFF 		bl	lwip_netconn_is_err_msg
 3287              	.LVL321:
 874:ThirdPackage/lwip220/api/api_msg.c ****           struct netconn *newconn = (struct netconn *)mem;
 3288              		.loc 1 874 12 view .LVU1008
 3289 007e 0028     		cmp	r0, #0
 3290 0080 F1D1     		bne	.L283
 3291              	.LBB19:
 875:ThirdPackage/lwip220/api/api_msg.c ****           /* Only tcp pcbs have an acceptmbox, so no need to check conn->type */
 3292              		.loc 1 875 11 is_stmt 1 view .LVU1009
 875:ThirdPackage/lwip220/api/api_msg.c ****           /* Only tcp pcbs have an acceptmbox, so no need to check conn->type */
 3293              		.loc 1 875 27 is_stmt 0 view .LVU1010
 3294 0082 019D     		ldr	r5, [sp, #4]
 3295              	.LVL322:
 879:ThirdPackage/lwip220/api/api_msg.c ****           if (newconn->pcb.tcp != NULL) {
 3296              		.loc 1 879 11 is_stmt 1 view .LVU1011
 3297 0084 2846     		mov	r0, r5
 3298 0086 FFF7BBFF 		bl	netconn_drain
 3299              	.LVL323:
 880:ThirdPackage/lwip220/api/api_msg.c ****             tcp_abort(newconn->pcb.tcp);
 3300              		.loc 1 880 11 view .LVU1012
 880:ThirdPackage/lwip220/api/api_msg.c ****             tcp_abort(newconn->pcb.tcp);
 3301              		.loc 1 880 27 is_stmt 0 view .LVU1013
 3302 008a 6868     		ldr	r0, [r5, #4]
 880:ThirdPackage/lwip220/api/api_msg.c ****             tcp_abort(newconn->pcb.tcp);
 3303              		.loc 1 880 14 view .LVU1014
 3304 008c 0028     		cmp	r0, #0
 3305 008e E7D0     		beq	.L286
 881:ThirdPackage/lwip220/api/api_msg.c ****             newconn->pcb.tcp = NULL;
 3306              		.loc 1 881 13 is_stmt 1 view .LVU1015
 3307 0090 FFF7FEFF 		bl	tcp_abort
 3308              	.LVL324:
 882:ThirdPackage/lwip220/api/api_msg.c ****           }
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 106


 3309              		.loc 1 882 13 view .LVU1016
 882:ThirdPackage/lwip220/api/api_msg.c ****           }
 3310              		.loc 1 882 30 is_stmt 0 view .LVU1017
 3311 0094 0023     		movs	r3, #0
 3312 0096 6B60     		str	r3, [r5, #4]
 3313 0098 E2E7     		b	.L286
 3314              	.LVL325:
 3315              	.L292:
 882:ThirdPackage/lwip220/api/api_msg.c ****           }
 3316              		.loc 1 882 30 view .LVU1018
 3317              	.LBE19:
 3318              	.LBE20:
 888:ThirdPackage/lwip220/api/api_msg.c ****     sys_mbox_set_invalid(&conn->acceptmbox);
 3319              		.loc 1 888 5 is_stmt 1 view .LVU1019
 3320 009a 2046     		mov	r0, r4
 3321 009c FFF7FEFF 		bl	sys_mbox_free
 3322              	.LVL326:
 889:ThirdPackage/lwip220/api/api_msg.c ****   }
 3323              		.loc 1 889 5 view .LVU1020
 3324 00a0 2046     		mov	r0, r4
 3325 00a2 FFF7FEFF 		bl	sys_mbox_set_invalid
 3326              	.LVL327:
 3327              	.L276:
 892:ThirdPackage/lwip220/api/api_msg.c **** 
 3328              		.loc 1 892 1 is_stmt 0 view .LVU1021
 3329 00a6 03B0     		add	sp, sp, #12
 3330              	.LCFI19:
 3331              		.cfi_def_cfa_offset 12
 3332              		@ sp needed
 3333 00a8 30BD     		pop	{r4, r5, pc}
 892:ThirdPackage/lwip220/api/api_msg.c **** 
 3334              		.loc 1 892 1 view .LVU1022
 3335              		.cfi_endproc
 3336              	.LFE173:
 3338              		.section	.rodata.accept_function.str1.4,"aMS",%progbits,1
 3339              		.align	2
 3340              	.LC33:
 3341 0000 65787065 		.ascii	"expect newpcb == NULL or err == ERR_OK\000"
 3341      6374206E 
 3341      65777063 
 3341      62203D3D 
 3341      204E554C 
 3342              		.section	.text.accept_function,"ax",%progbits
 3343              		.align	1
 3344              		.syntax unified
 3345              		.thumb
 3346              		.thumb_func
 3348              	accept_function:
 3349              	.LVL328:
 3350              	.LFB168:
 537:ThirdPackage/lwip220/api/api_msg.c ****   struct netconn *newconn;
 3351              		.loc 1 537 1 is_stmt 1 view -0
 3352              		.cfi_startproc
 3353              		@ args = 0, pretend = 0, frame = 0
 3354              		@ frame_needed = 0, uses_anonymous_args = 0
 537:ThirdPackage/lwip220/api/api_msg.c ****   struct netconn *newconn;
 3355              		.loc 1 537 1 is_stmt 0 view .LVU1024
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 107


 3356 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 3357              	.LCFI20:
 3358              		.cfi_def_cfa_offset 24
 3359              		.cfi_offset 3, -24
 3360              		.cfi_offset 4, -20
 3361              		.cfi_offset 5, -16
 3362              		.cfi_offset 6, -12
 3363              		.cfi_offset 7, -8
 3364              		.cfi_offset 14, -4
 538:ThirdPackage/lwip220/api/api_msg.c ****   struct netconn *conn = (struct netconn *)arg;
 3365              		.loc 1 538 3 is_stmt 1 view .LVU1025
 539:ThirdPackage/lwip220/api/api_msg.c **** 
 3366              		.loc 1 539 3 view .LVU1026
 3367              	.LVL329:
 541:ThirdPackage/lwip220/api/api_msg.c ****     return ERR_VAL;
 3368              		.loc 1 541 3 view .LVU1027
 541:ThirdPackage/lwip220/api/api_msg.c ****     return ERR_VAL;
 3369              		.loc 1 541 6 is_stmt 0 view .LVU1028
 3370 0002 0028     		cmp	r0, #0
 3371 0004 74D0     		beq	.L301
 3372 0006 0D46     		mov	r5, r1
 3373 0008 1646     		mov	r6, r2
 3374 000a 0446     		mov	r4, r0
 544:ThirdPackage/lwip220/api/api_msg.c ****     LWIP_DEBUGF(API_MSG_DEBUG, ("accept_function: acceptmbox already deleted\n"));
 3375              		.loc 1 544 3 is_stmt 1 view .LVU1029
 544:ThirdPackage/lwip220/api/api_msg.c ****     LWIP_DEBUGF(API_MSG_DEBUG, ("accept_function: acceptmbox already deleted\n"));
 3376              		.loc 1 544 8 is_stmt 0 view .LVU1030
 3377 000c 00F11407 		add	r7, r0, #20
 3378 0010 3846     		mov	r0, r7
 3379              	.LVL330:
 544:ThirdPackage/lwip220/api/api_msg.c ****     LWIP_DEBUGF(API_MSG_DEBUG, ("accept_function: acceptmbox already deleted\n"));
 3380              		.loc 1 544 8 view .LVU1031
 3381 0012 FFF7FEFF 		bl	sys_mbox_valid
 3382              	.LVL331:
 544:ThirdPackage/lwip220/api/api_msg.c ****     LWIP_DEBUGF(API_MSG_DEBUG, ("accept_function: acceptmbox already deleted\n"));
 3383              		.loc 1 544 6 view .LVU1032
 3384 0016 0028     		cmp	r0, #0
 3385 0018 6DD0     		beq	.L302
 549:ThirdPackage/lwip220/api/api_msg.c ****     /* out-of-pcbs during connect: pass on this error to the application */
 3386              		.loc 1 549 3 is_stmt 1 view .LVU1033
 549:ThirdPackage/lwip220/api/api_msg.c ****     /* out-of-pcbs during connect: pass on this error to the application */
 3387              		.loc 1 549 6 is_stmt 0 view .LVU1034
 3388 001a BDB1     		cbz	r5, .L304
 557:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_UNUSED_ARG(err); /* for LWIP_NOASSERT */
 3389              		.loc 1 557 3 is_stmt 1 view .LVU1035
 557:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_UNUSED_ARG(err); /* for LWIP_NOASSERT */
 3390              		.loc 1 557 3 view .LVU1036
 3391 001c 46BB     		cbnz	r6, .L305
 3392              	.L297:
 557:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_UNUSED_ARG(err); /* for LWIP_NOASSERT */
 3393              		.loc 1 557 3 discriminator 3 view .LVU1037
 557:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_UNUSED_ARG(err); /* for LWIP_NOASSERT */
 3394              		.loc 1 557 3 discriminator 3 view .LVU1038
 558:ThirdPackage/lwip220/api/api_msg.c **** 
 3395              		.loc 1 558 3 discriminator 3 view .LVU1039
 560:ThirdPackage/lwip220/api/api_msg.c **** 
 3396              		.loc 1 560 107 discriminator 3 view .LVU1040
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 108


 564:ThirdPackage/lwip220/api/api_msg.c ****   if (newconn == NULL) {
 3397              		.loc 1 564 3 discriminator 3 view .LVU1041
 564:ThirdPackage/lwip220/api/api_msg.c ****   if (newconn == NULL) {
 3398              		.loc 1 564 13 is_stmt 0 discriminator 3 view .LVU1042
 3399 001e 616A     		ldr	r1, [r4, #36]
 3400 0020 2078     		ldrb	r0, [r4]	@ zero_extendqisi2
 3401 0022 FFF7FEFF 		bl	netconn_alloc
 3402              	.LVL332:
 565:ThirdPackage/lwip220/api/api_msg.c ****     /* outof netconns: pass on this error to the application */
 3403              		.loc 1 565 3 is_stmt 1 discriminator 3 view .LVU1043
 565:ThirdPackage/lwip220/api/api_msg.c ****     /* outof netconns: pass on this error to the application */
 3404              		.loc 1 565 6 is_stmt 0 discriminator 3 view .LVU1044
 3405 0026 0646     		mov	r6, r0
 3406 0028 50B3     		cbz	r0, .L306
 573:ThirdPackage/lwip220/api/api_msg.c ****   setup_tcp(newconn);
 3407              		.loc 1 573 3 is_stmt 1 view .LVU1045
 573:ThirdPackage/lwip220/api/api_msg.c ****   setup_tcp(newconn);
 3408              		.loc 1 573 20 is_stmt 0 view .LVU1046
 3409 002a 4560     		str	r5, [r0, #4]
 574:ThirdPackage/lwip220/api/api_msg.c **** 
 3410              		.loc 1 574 3 is_stmt 1 view .LVU1047
 3411 002c FFF7FEFF 		bl	setup_tcp
 3412              	.LVL333:
 577:ThirdPackage/lwip220/api/api_msg.c **** 
 3413              		.loc 1 577 30 view .LVU1048
 579:ThirdPackage/lwip220/api/api_msg.c ****     /* When returning != ERR_OK, the pcb is aborted in tcp_process(),
 3414              		.loc 1 579 3 view .LVU1049
 579:ThirdPackage/lwip220/api/api_msg.c ****     /* When returning != ERR_OK, the pcb is aborted in tcp_process(),
 3415              		.loc 1 579 7 is_stmt 0 view .LVU1050
 3416 0030 3146     		mov	r1, r6
 3417 0032 3846     		mov	r0, r7
 3418 0034 FFF7FEFF 		bl	sys_mbox_trypost
 3419              	.LVL334:
 579:ThirdPackage/lwip220/api/api_msg.c ****     /* When returning != ERR_OK, the pcb is aborted in tcp_process(),
 3420              		.loc 1 579 6 view .LVU1051
 3421 0038 0546     		mov	r5, r0
 3422              	.LVL335:
 579:ThirdPackage/lwip220/api/api_msg.c ****     /* When returning != ERR_OK, the pcb is aborted in tcp_process(),
 3423              		.loc 1 579 6 view .LVU1052
 3424 003a 98BB     		cbnz	r0, .L307
 598:ThirdPackage/lwip220/api/api_msg.c ****   }
 3425              		.loc 1 598 5 is_stmt 1 view .LVU1053
 3426 003c 636A     		ldr	r3, [r4, #36]
 3427 003e 1BB1     		cbz	r3, .L294
 598:ThirdPackage/lwip220/api/api_msg.c ****   }
 3428              		.loc 1 598 5 discriminator 1 view .LVU1054
 3429 0040 0022     		movs	r2, #0
 3430 0042 1146     		mov	r1, r2
 3431 0044 2046     		mov	r0, r4
 3432 0046 9847     		blx	r3
 3433              	.LVL336:
 3434              	.L294:
 602:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_TCP */
 3435              		.loc 1 602 1 is_stmt 0 view .LVU1055
 3436 0048 2846     		mov	r0, r5
 3437 004a F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 3438              	.LVL337:
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 109


 3439              	.L304:
 551:ThirdPackage/lwip220/api/api_msg.c ****       /* Register event with callback */
 3440              		.loc 1 551 5 is_stmt 1 view .LVU1056
 551:ThirdPackage/lwip220/api/api_msg.c ****       /* Register event with callback */
 3441              		.loc 1 551 9 is_stmt 0 view .LVU1057
 3442 004c 6FF00C00 		mvn	r0, #12
 3443 0050 FFF7FEFF 		bl	lwip_netconn_err_to_msg
 3444              	.LVL338:
 3445 0054 0146     		mov	r1, r0
 3446 0056 3846     		mov	r0, r7
 3447 0058 FFF7FEFF 		bl	sys_mbox_trypost
 3448              	.LVL339:
 551:ThirdPackage/lwip220/api/api_msg.c ****       /* Register event with callback */
 3449              		.loc 1 551 8 view .LVU1058
 3450 005c 28B9     		cbnz	r0, .L296
 553:ThirdPackage/lwip220/api/api_msg.c ****     }
 3451              		.loc 1 553 7 is_stmt 1 view .LVU1059
 3452 005e 636A     		ldr	r3, [r4, #36]
 3453 0060 1BB1     		cbz	r3, .L296
 553:ThirdPackage/lwip220/api/api_msg.c ****     }
 3454              		.loc 1 553 7 discriminator 1 view .LVU1060
 3455 0062 0022     		movs	r2, #0
 3456 0064 1146     		mov	r1, r2
 3457 0066 2046     		mov	r0, r4
 3458 0068 9847     		blx	r3
 3459              	.LVL340:
 3460              	.L296:
 553:ThirdPackage/lwip220/api/api_msg.c ****     }
 3461              		.loc 1 553 46 discriminator 3 view .LVU1061
 555:ThirdPackage/lwip220/api/api_msg.c ****   }
 3462              		.loc 1 555 5 discriminator 3 view .LVU1062
 555:ThirdPackage/lwip220/api/api_msg.c ****   }
 3463              		.loc 1 555 12 is_stmt 0 discriminator 3 view .LVU1063
 3464 006a 6FF00505 		mvn	r5, #5
 3465              	.LVL341:
 555:ThirdPackage/lwip220/api/api_msg.c ****   }
 3466              		.loc 1 555 12 discriminator 3 view .LVU1064
 3467 006e EBE7     		b	.L294
 3468              	.LVL342:
 3469              	.L305:
 557:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_UNUSED_ARG(err); /* for LWIP_NOASSERT */
 3470              		.loc 1 557 3 is_stmt 1 discriminator 1 view .LVU1065
 557:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_UNUSED_ARG(err); /* for LWIP_NOASSERT */
 3471              		.loc 1 557 3 discriminator 1 view .LVU1066
 3472 0070 224B     		ldr	r3, .L308
 3473 0072 40F22D22 		movw	r2, #557
 3474 0076 2249     		ldr	r1, .L308+4
 3475 0078 2248     		ldr	r0, .L308+8
 3476 007a FFF7FEFF 		bl	printf
 3477              	.LVL343:
 3478 007e CEE7     		b	.L297
 3479              	.LVL344:
 3480              	.L306:
 567:ThirdPackage/lwip220/api/api_msg.c ****       /* Register event with callback */
 3481              		.loc 1 567 5 view .LVU1067
 567:ThirdPackage/lwip220/api/api_msg.c ****       /* Register event with callback */
 3482              		.loc 1 567 9 is_stmt 0 view .LVU1068
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 110


 3483 0080 6FF00C00 		mvn	r0, #12
 3484              	.LVL345:
 567:ThirdPackage/lwip220/api/api_msg.c ****       /* Register event with callback */
 3485              		.loc 1 567 9 view .LVU1069
 3486 0084 FFF7FEFF 		bl	lwip_netconn_err_to_msg
 3487              	.LVL346:
 3488 0088 0146     		mov	r1, r0
 3489 008a 3846     		mov	r0, r7
 3490 008c FFF7FEFF 		bl	sys_mbox_trypost
 3491              	.LVL347:
 567:ThirdPackage/lwip220/api/api_msg.c ****       /* Register event with callback */
 3492              		.loc 1 567 8 view .LVU1070
 3493 0090 28B9     		cbnz	r0, .L299
 569:ThirdPackage/lwip220/api/api_msg.c ****     }
 3494              		.loc 1 569 7 is_stmt 1 view .LVU1071
 3495 0092 636A     		ldr	r3, [r4, #36]
 3496 0094 1BB1     		cbz	r3, .L299
 569:ThirdPackage/lwip220/api/api_msg.c ****     }
 3497              		.loc 1 569 7 discriminator 1 view .LVU1072
 3498 0096 0022     		movs	r2, #0
 3499 0098 1146     		mov	r1, r2
 3500 009a 2046     		mov	r0, r4
 3501 009c 9847     		blx	r3
 3502              	.LVL348:
 3503              	.L299:
 569:ThirdPackage/lwip220/api/api_msg.c ****     }
 3504              		.loc 1 569 46 discriminator 3 view .LVU1073
 571:ThirdPackage/lwip220/api/api_msg.c ****   }
 3505              		.loc 1 571 5 discriminator 3 view .LVU1074
 571:ThirdPackage/lwip220/api/api_msg.c ****   }
 3506              		.loc 1 571 12 is_stmt 0 discriminator 3 view .LVU1075
 3507 009e 4FF0FF35 		mov	r5, #-1
 3508              	.LVL349:
 571:ThirdPackage/lwip220/api/api_msg.c ****   }
 3509              		.loc 1 571 12 discriminator 3 view .LVU1076
 3510 00a2 D1E7     		b	.L294
 3511              	.L307:
 3512              	.LBB21:
 583:ThirdPackage/lwip220/api/api_msg.c ****     tcp_arg(pcb, NULL);
 3513              		.loc 1 583 5 is_stmt 1 view .LVU1077
 583:ThirdPackage/lwip220/api/api_msg.c ****     tcp_arg(pcb, NULL);
 3514              		.loc 1 583 21 is_stmt 0 view .LVU1078
 3515 00a4 7468     		ldr	r4, [r6, #4]
 3516              	.LVL350:
 584:ThirdPackage/lwip220/api/api_msg.c ****     tcp_recv(pcb, NULL);
 3517              		.loc 1 584 5 is_stmt 1 view .LVU1079
 3518 00a6 0021     		movs	r1, #0
 3519 00a8 2046     		mov	r0, r4
 3520 00aa FFF7FEFF 		bl	tcp_arg
 3521              	.LVL351:
 585:ThirdPackage/lwip220/api/api_msg.c ****     tcp_sent(pcb, NULL);
 3522              		.loc 1 585 5 view .LVU1080
 3523 00ae 0021     		movs	r1, #0
 3524 00b0 2046     		mov	r0, r4
 3525 00b2 FFF7FEFF 		bl	tcp_recv
 3526              	.LVL352:
 586:ThirdPackage/lwip220/api/api_msg.c ****     tcp_poll(pcb, NULL, 0);
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 111


 3527              		.loc 1 586 5 view .LVU1081
 3528 00b6 0021     		movs	r1, #0
 3529 00b8 2046     		mov	r0, r4
 3530 00ba FFF7FEFF 		bl	tcp_sent
 3531              	.LVL353:
 587:ThirdPackage/lwip220/api/api_msg.c ****     tcp_err(pcb, NULL);
 3532              		.loc 1 587 5 view .LVU1082
 3533 00be 0022     		movs	r2, #0
 3534 00c0 1146     		mov	r1, r2
 3535 00c2 2046     		mov	r0, r4
 3536 00c4 FFF7FEFF 		bl	tcp_poll
 3537              	.LVL354:
 588:ThirdPackage/lwip220/api/api_msg.c ****     /* remove reference from to the pcb from this netconn */
 3538              		.loc 1 588 5 view .LVU1083
 3539 00c8 0021     		movs	r1, #0
 3540 00ca 2046     		mov	r0, r4
 3541 00cc FFF7FEFF 		bl	tcp_err
 3542              	.LVL355:
 590:ThirdPackage/lwip220/api/api_msg.c ****     /* no need to drain since we know the recvmbox is empty. */
 3543              		.loc 1 590 5 view .LVU1084
 590:ThirdPackage/lwip220/api/api_msg.c ****     /* no need to drain since we know the recvmbox is empty. */
 3544              		.loc 1 590 22 is_stmt 0 view .LVU1085
 3545 00d0 0023     		movs	r3, #0
 3546 00d2 7360     		str	r3, [r6, #4]
 592:ThirdPackage/lwip220/api/api_msg.c ****     sys_mbox_set_invalid(&newconn->recvmbox);
 3547              		.loc 1 592 5 is_stmt 1 view .LVU1086
 3548 00d4 06F11004 		add	r4, r6, #16
 3549              	.LVL356:
 592:ThirdPackage/lwip220/api/api_msg.c ****     sys_mbox_set_invalid(&newconn->recvmbox);
 3550              		.loc 1 592 5 is_stmt 0 view .LVU1087
 3551 00d8 2046     		mov	r0, r4
 3552 00da FFF7FEFF 		bl	sys_mbox_free
 3553              	.LVL357:
 593:ThirdPackage/lwip220/api/api_msg.c ****     netconn_free(newconn);
 3554              		.loc 1 593 5 is_stmt 1 view .LVU1088
 3555 00de 2046     		mov	r0, r4
 3556 00e0 FFF7FEFF 		bl	sys_mbox_set_invalid
 3557              	.LVL358:
 594:ThirdPackage/lwip220/api/api_msg.c ****     return ERR_MEM;
 3558              		.loc 1 594 5 view .LVU1089
 3559 00e4 3046     		mov	r0, r6
 3560 00e6 FFF7FEFF 		bl	netconn_free
 3561              	.LVL359:
 595:ThirdPackage/lwip220/api/api_msg.c ****   } else {
 3562              		.loc 1 595 5 view .LVU1090
 595:ThirdPackage/lwip220/api/api_msg.c ****   } else {
 3563              		.loc 1 595 12 is_stmt 0 view .LVU1091
 3564 00ea 4FF0FF35 		mov	r5, #-1
 3565 00ee ABE7     		b	.L294
 3566              	.LVL360:
 3567              	.L301:
 595:ThirdPackage/lwip220/api/api_msg.c ****   } else {
 3568              		.loc 1 595 12 view .LVU1092
 3569              	.LBE21:
 542:ThirdPackage/lwip220/api/api_msg.c ****   }
 3570              		.loc 1 542 12 view .LVU1093
 3571 00f0 6FF00505 		mvn	r5, #5
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 112


 3572 00f4 A8E7     		b	.L294
 3573              	.LVL361:
 3574              	.L302:
 546:ThirdPackage/lwip220/api/api_msg.c ****   }
 3575              		.loc 1 546 12 view .LVU1094
 3576 00f6 6FF00505 		mvn	r5, #5
 3577              	.LVL362:
 546:ThirdPackage/lwip220/api/api_msg.c ****   }
 3578              		.loc 1 546 12 view .LVU1095
 3579 00fa A5E7     		b	.L294
 3580              	.L309:
 3581              		.align	2
 3582              	.L308:
 3583 00fc 00000000 		.word	.LC0
 3584 0100 00000000 		.word	.LC33
 3585 0104 34000000 		.word	.LC2
 3586              		.cfi_endproc
 3587              	.LFE168:
 3589              		.section	.rodata.lwip_netconn_do_delconn.str1.4,"aMS",%progbits,1
 3590              		.align	2
 3591              	.LC34:
 3592 0000 6E657463 		.ascii	"netconn state error\000"
 3592      6F6E6E20 
 3592      73746174 
 3592      65206572 
 3592      726F7200 
 3593              		.align	2
 3594              	.LC35:
 3595 0014 626C6F63 		.ascii	"blocking connect in progress\000"
 3595      6B696E67 
 3595      20636F6E 
 3595      6E656374 
 3595      20696E20 
 3596 0031 000000   		.align	2
 3597              	.LC36:
 3598 0034 616C7265 		.ascii	"already writing or closing\000"
 3598      61647920 
 3598      77726974 
 3598      696E6720 
 3598      6F722063 
 3599 004f 00       		.align	2
 3600              	.LC37:
 3601 0050 73746174 		.ascii	"state!\000"
 3601      652100
 3602              		.section	.text.lwip_netconn_do_delconn,"ax",%progbits
 3603              		.align	1
 3604              		.global	lwip_netconn_do_delconn
 3605              		.syntax unified
 3606              		.thumb
 3607              		.thumb_func
 3609              	lwip_netconn_do_delconn:
 3610              	.LVL363:
 3611              	.LFB175:
1118:ThirdPackage/lwip220/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 3612              		.loc 1 1118 1 is_stmt 1 view -0
 3613              		.cfi_startproc
 3614              		@ args = 0, pretend = 0, frame = 0
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 113


 3615              		@ frame_needed = 0, uses_anonymous_args = 0
1118:ThirdPackage/lwip220/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 3616              		.loc 1 1118 1 is_stmt 0 view .LVU1097
 3617 0000 38B5     		push	{r3, r4, r5, lr}
 3618              	.LCFI21:
 3619              		.cfi_def_cfa_offset 16
 3620              		.cfi_offset 3, -16
 3621              		.cfi_offset 4, -12
 3622              		.cfi_offset 5, -8
 3623              		.cfi_offset 14, -4
 3624 0002 0446     		mov	r4, r0
1119:ThirdPackage/lwip220/api/api_msg.c **** 
 3625              		.loc 1 1119 3 is_stmt 1 view .LVU1098
 3626              	.LVL364:
1121:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("netconn state error", /* this only happens for TCP netconns */
 3627              		.loc 1 1121 3 view .LVU1099
1121:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("netconn state error", /* this only happens for TCP netconns */
 3628              		.loc 1 1121 33 is_stmt 0 view .LVU1100
 3629 0004 0368     		ldr	r3, [r0]
1121:ThirdPackage/lwip220/api/api_msg.c ****   LWIP_ASSERT("netconn state error", /* this only happens for TCP netconns */
 3630              		.loc 1 1121 22 view .LVU1101
 3631 0006 5D78     		ldrb	r5, [r3, #1]	@ zero_extendqisi2
 3632              	.LVL365:
1122:ThirdPackage/lwip220/api/api_msg.c ****               (state == NETCONN_NONE) || (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP));
 3633              		.loc 1 1122 3 is_stmt 1 view .LVU1102
1122:ThirdPackage/lwip220/api/api_msg.c ****               (state == NETCONN_NONE) || (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP));
 3634              		.loc 1 1122 3 view .LVU1103
 3635 0008 25B1     		cbz	r5, .L311
1122:ThirdPackage/lwip220/api/api_msg.c ****               (state == NETCONN_NONE) || (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP));
 3636              		.loc 1 1122 3 is_stmt 0 discriminator 1 view .LVU1104
 3637 000a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3638 000c 03F0F003 		and	r3, r3, #240
 3639 0010 102B     		cmp	r3, #16
 3640 0012 0BD1     		bne	.L326
 3641              	.LVL366:
 3642              	.L311:
1122:ThirdPackage/lwip220/api/api_msg.c ****               (state == NETCONN_NONE) || (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP));
 3643              		.loc 1 1122 3 is_stmt 1 discriminator 5 view .LVU1105
1122:ThirdPackage/lwip220/api/api_msg.c ****               (state == NETCONN_NONE) || (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP));
 3644              		.loc 1 1122 3 discriminator 5 view .LVU1106
1140:ThirdPackage/lwip220/api/api_msg.c ****        (state != NETCONN_LISTEN) &&
 3645              		.loc 1 1140 3 discriminator 5 view .LVU1107
1140:ThirdPackage/lwip220/api/api_msg.c ****        (state != NETCONN_LISTEN) &&
 3646              		.loc 1 1140 6 is_stmt 0 discriminator 5 view .LVU1108
 3647 0014 95B1     		cbz	r5, .L312
1140:ThirdPackage/lwip220/api/api_msg.c ****        (state != NETCONN_LISTEN) &&
 3648              		.loc 1 1140 32 discriminator 1 view .LVU1109
 3649 0016 022D     		cmp	r5, #2
 3650 0018 10D0     		beq	.L312
1141:ThirdPackage/lwip220/api/api_msg.c ****        (state != NETCONN_CONNECT)) ||
 3651              		.loc 1 1141 34 view .LVU1110
 3652 001a 032D     		cmp	r5, #3
 3653 001c 0ED0     		beq	.L312
 3654              	.L313:
1146:ThirdPackage/lwip220/api/api_msg.c ****   } else
 3655              		.loc 1 1146 5 is_stmt 1 view .LVU1111
1146:ThirdPackage/lwip220/api/api_msg.c ****   } else
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 114


 3656              		.loc 1 1146 14 is_stmt 0 view .LVU1112
 3657 001e FB23     		movs	r3, #251
 3658 0020 2371     		strb	r3, [r4, #4]
 3659              	.L315:
1205:ThirdPackage/lwip220/api/api_msg.c ****   }
 3660              		.loc 1 1205 50 is_stmt 1 discriminator 3 view .LVU1113
1207:ThirdPackage/lwip220/api/api_msg.c ****     TCPIP_APIMSG_ACK(msg);
 3661              		.loc 1 1207 3 discriminator 3 view .LVU1114
1207:ThirdPackage/lwip220/api/api_msg.c ****     TCPIP_APIMSG_ACK(msg);
 3662              		.loc 1 1207 21 is_stmt 0 discriminator 3 view .LVU1115
 3663 0022 2068     		ldr	r0, [r4]
1207:ThirdPackage/lwip220/api/api_msg.c ****     TCPIP_APIMSG_ACK(msg);
 3664              		.loc 1 1207 7 discriminator 3 view .LVU1116
 3665 0024 0C30     		adds	r0, r0, #12
 3666 0026 FFF7FEFF 		bl	sys_sem_valid
 3667              	.LVL367:
1208:ThirdPackage/lwip220/api/api_msg.c ****   }
 3668              		.loc 1 1208 26 is_stmt 1 discriminator 3 view .LVU1117
 3669              	.L310:
1210:ThirdPackage/lwip220/api/api_msg.c **** 
 3670              		.loc 1 1210 1 is_stmt 0 view .LVU1118
 3671 002a 38BD     		pop	{r3, r4, r5, pc}
 3672              	.LVL368:
 3673              	.L326:
1122:ThirdPackage/lwip220/api/api_msg.c ****               (state == NETCONN_NONE) || (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP));
 3674              		.loc 1 1122 3 is_stmt 1 discriminator 3 view .LVU1119
1122:ThirdPackage/lwip220/api/api_msg.c ****               (state == NETCONN_NONE) || (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP));
 3675              		.loc 1 1122 3 discriminator 3 view .LVU1120
 3676 002c 3F4B     		ldr	r3, .L330
 3677 002e 40F26242 		movw	r2, #1122
 3678 0032 3F49     		ldr	r1, .L330+4
 3679 0034 3F48     		ldr	r0, .L330+8
 3680              	.LVL369:
1122:ThirdPackage/lwip220/api/api_msg.c ****               (state == NETCONN_NONE) || (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP));
 3681              		.loc 1 1122 3 is_stmt 0 discriminator 3 view .LVU1121
 3682 0036 FFF7FEFF 		bl	printf
 3683              	.LVL370:
 3684 003a EBE7     		b	.L311
 3685              	.L312:
1142:ThirdPackage/lwip220/api/api_msg.c ****       ((state == NETCONN_CONNECT) && !IN_NONBLOCKING_CONNECT(msg->conn))) {
 3686              		.loc 1 1142 36 view .LVU1122
 3687 003c 032D     		cmp	r5, #3
 3688 003e 27D0     		beq	.L327
 3689              	.L314:
1150:ThirdPackage/lwip220/api/api_msg.c ****                 (state != NETCONN_CONNECT) || IN_NONBLOCKING_CONNECT(msg->conn));
 3690              		.loc 1 1150 5 is_stmt 1 view .LVU1123
1150:ThirdPackage/lwip220/api/api_msg.c ****                 (state != NETCONN_CONNECT) || IN_NONBLOCKING_CONNECT(msg->conn));
 3691              		.loc 1 1150 5 view .LVU1124
 3692 0040 032D     		cmp	r5, #3
 3693 0042 2BD0     		beq	.L328
 3694              	.L316:
1150:ThirdPackage/lwip220/api/api_msg.c ****                 (state != NETCONN_CONNECT) || IN_NONBLOCKING_CONNECT(msg->conn));
 3695              		.loc 1 1150 5 discriminator 5 view .LVU1125
1150:ThirdPackage/lwip220/api/api_msg.c ****                 (state != NETCONN_CONNECT) || IN_NONBLOCKING_CONNECT(msg->conn));
 3696              		.loc 1 1150 5 discriminator 5 view .LVU1126
1152:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 3697              		.loc 1 1152 5 discriminator 5 view .LVU1127
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 115


1152:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 3698              		.loc 1 1152 14 is_stmt 0 discriminator 5 view .LVU1128
 3699 0044 0023     		movs	r3, #0
 3700 0046 2371     		strb	r3, [r4, #4]
1157:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
 3701              		.loc 1 1157 5 is_stmt 1 discriminator 5 view .LVU1129
 3702 0048 2068     		ldr	r0, [r4]
 3703 004a FFF7FEFF 		bl	netconn_drain
 3704              	.LVL371:
1160:ThirdPackage/lwip220/api/api_msg.c **** 
 3705              		.loc 1 1160 5 discriminator 5 view .LVU1130
1160:ThirdPackage/lwip220/api/api_msg.c **** 
 3706              		.loc 1 1160 12 is_stmt 0 discriminator 5 view .LVU1131
 3707 004e 2268     		ldr	r2, [r4]
1160:ThirdPackage/lwip220/api/api_msg.c **** 
 3708              		.loc 1 1160 23 discriminator 5 view .LVU1132
 3709 0050 5168     		ldr	r1, [r2, #4]
1160:ThirdPackage/lwip220/api/api_msg.c **** 
 3710              		.loc 1 1160 8 discriminator 5 view .LVU1133
 3711 0052 79B1     		cbz	r1, .L317
1162:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_RAW
 3712              		.loc 1 1162 7 is_stmt 1 view .LVU1134
1162:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_RAW
 3713              		.loc 1 1162 15 is_stmt 0 view .LVU1135
 3714 0054 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 3715 0056 03F0F003 		and	r3, r3, #240
1162:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_RAW
 3716              		.loc 1 1162 7 view .LVU1136
 3717 005a 102B     		cmp	r3, #16
 3718 005c 2BD0     		beq	.L318
 3719 005e 202B     		cmp	r3, #32
 3720 0060 05D1     		bne	.L319
1170:ThirdPackage/lwip220/api/api_msg.c ****           udp_remove(msg->conn->pcb.udp);
 3721              		.loc 1 1170 11 is_stmt 1 view .LVU1137
1170:ThirdPackage/lwip220/api/api_msg.c ****           udp_remove(msg->conn->pcb.udp);
 3722              		.loc 1 1170 40 is_stmt 0 view .LVU1138
 3723 0062 0023     		movs	r3, #0
 3724 0064 CB61     		str	r3, [r1, #28]
1171:ThirdPackage/lwip220/api/api_msg.c ****           break;
 3725              		.loc 1 1171 11 is_stmt 1 view .LVU1139
1171:ThirdPackage/lwip220/api/api_msg.c ****           break;
 3726              		.loc 1 1171 25 is_stmt 0 view .LVU1140
 3727 0066 2368     		ldr	r3, [r4]
1171:ThirdPackage/lwip220/api/api_msg.c ****           break;
 3728              		.loc 1 1171 11 view .LVU1141
 3729 0068 5868     		ldr	r0, [r3, #4]
 3730 006a FFF7FEFF 		bl	udp_remove
 3731              	.LVL372:
1172:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_UDP */
 3732              		.loc 1 1172 11 is_stmt 1 view .LVU1142
 3733              	.L319:
1198:ThirdPackage/lwip220/api/api_msg.c ****     }
 3734              		.loc 1 1198 7 view .LVU1143
1198:ThirdPackage/lwip220/api/api_msg.c ****     }
 3735              		.loc 1 1198 10 is_stmt 0 view .LVU1144
 3736 006e 2368     		ldr	r3, [r4]
1198:ThirdPackage/lwip220/api/api_msg.c ****     }
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 116


 3737              		.loc 1 1198 26 view .LVU1145
 3738 0070 0022     		movs	r2, #0
 3739 0072 5A60     		str	r2, [r3, #4]
 3740              	.L317:
1204:ThirdPackage/lwip220/api/api_msg.c ****     API_EVENT(msg->conn, NETCONN_EVT_SENDPLUS, 0);
 3741              		.loc 1 1204 5 is_stmt 1 view .LVU1146
 3742 0074 2068     		ldr	r0, [r4]
 3743 0076 436A     		ldr	r3, [r0, #36]
 3744 0078 13B1     		cbz	r3, .L324
1204:ThirdPackage/lwip220/api/api_msg.c ****     API_EVENT(msg->conn, NETCONN_EVT_SENDPLUS, 0);
 3745              		.loc 1 1204 5 discriminator 1 view .LVU1147
 3746 007a 0022     		movs	r2, #0
 3747 007c 1146     		mov	r1, r2
 3748 007e 9847     		blx	r3
 3749              	.LVL373:
 3750              	.L324:
1204:ThirdPackage/lwip220/api/api_msg.c ****     API_EVENT(msg->conn, NETCONN_EVT_SENDPLUS, 0);
 3751              		.loc 1 1204 49 discriminator 3 view .LVU1148
1205:ThirdPackage/lwip220/api/api_msg.c ****   }
 3752              		.loc 1 1205 5 discriminator 3 view .LVU1149
 3753 0080 2068     		ldr	r0, [r4]
 3754 0082 436A     		ldr	r3, [r0, #36]
 3755 0084 002B     		cmp	r3, #0
 3756 0086 CCD0     		beq	.L315
1205:ThirdPackage/lwip220/api/api_msg.c ****   }
 3757              		.loc 1 1205 5 discriminator 1 view .LVU1150
 3758 0088 0022     		movs	r2, #0
 3759 008a 0221     		movs	r1, #2
 3760 008c 9847     		blx	r3
 3761              	.LVL374:
 3762 008e C8E7     		b	.L315
 3763              	.L327:
1143:ThirdPackage/lwip220/api/api_msg.c ****     /* This means either a blocking write or blocking connect is running
 3764              		.loc 1 1143 39 is_stmt 0 view .LVU1151
 3765 0090 2368     		ldr	r3, [r4]
 3766 0092 1B7F     		ldrb	r3, [r3, #28]	@ zero_extendqisi2
1143:ThirdPackage/lwip220/api/api_msg.c ****     /* This means either a blocking write or blocking connect is running
 3767              		.loc 1 1143 35 view .LVU1152
 3768 0094 13F0040F 		tst	r3, #4
 3769 0098 D2D1     		bne	.L314
 3770 009a C0E7     		b	.L313
 3771              	.L328:
1150:ThirdPackage/lwip220/api/api_msg.c ****                 (state != NETCONN_CONNECT) || IN_NONBLOCKING_CONNECT(msg->conn));
 3772              		.loc 1 1150 5 discriminator 1 view .LVU1153
 3773 009c 2368     		ldr	r3, [r4]
 3774 009e 1B7F     		ldrb	r3, [r3, #28]	@ zero_extendqisi2
 3775 00a0 13F0040F 		tst	r3, #4
 3776 00a4 CED1     		bne	.L316
1150:ThirdPackage/lwip220/api/api_msg.c ****                 (state != NETCONN_CONNECT) || IN_NONBLOCKING_CONNECT(msg->conn));
 3777              		.loc 1 1150 5 is_stmt 1 discriminator 3 view .LVU1154
1150:ThirdPackage/lwip220/api/api_msg.c ****                 (state != NETCONN_CONNECT) || IN_NONBLOCKING_CONNECT(msg->conn));
 3778              		.loc 1 1150 5 discriminator 3 view .LVU1155
 3779 00a6 214B     		ldr	r3, .L330
 3780 00a8 40F27E42 		movw	r2, #1150
 3781 00ac 2249     		ldr	r1, .L330+12
 3782 00ae 2148     		ldr	r0, .L330+8
 3783 00b0 FFF7FEFF 		bl	printf
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 117


 3784              	.LVL375:
 3785 00b4 C6E7     		b	.L316
 3786              	.L318:
1176:ThirdPackage/lwip220/api/api_msg.c ****           msg->conn->state = NETCONN_CLOSE;
 3787              		.loc 1 1176 11 view .LVU1156
1176:ThirdPackage/lwip220/api/api_msg.c ****           msg->conn->state = NETCONN_CLOSE;
 3788              		.loc 1 1176 11 view .LVU1157
 3789 00b6 136A     		ldr	r3, [r2, #32]
 3790 00b8 33B1     		cbz	r3, .L320
1176:ThirdPackage/lwip220/api/api_msg.c ****           msg->conn->state = NETCONN_CLOSE;
 3791              		.loc 1 1176 11 discriminator 1 view .LVU1158
1176:ThirdPackage/lwip220/api/api_msg.c ****           msg->conn->state = NETCONN_CLOSE;
 3792              		.loc 1 1176 11 discriminator 1 view .LVU1159
 3793 00ba 1C4B     		ldr	r3, .L330
 3794 00bc 4FF49362 		mov	r2, #1176
 3795 00c0 1E49     		ldr	r1, .L330+16
 3796 00c2 1C48     		ldr	r0, .L330+8
 3797 00c4 FFF7FEFF 		bl	printf
 3798              	.LVL376:
 3799              	.L320:
1176:ThirdPackage/lwip220/api/api_msg.c ****           msg->conn->state = NETCONN_CLOSE;
 3800              		.loc 1 1176 11 discriminator 3 view .LVU1160
1176:ThirdPackage/lwip220/api/api_msg.c ****           msg->conn->state = NETCONN_CLOSE;
 3801              		.loc 1 1176 11 discriminator 3 view .LVU1161
1177:ThirdPackage/lwip220/api/api_msg.c ****           msg->msg.sd.shut = NETCONN_SHUT_RDWR;
 3802              		.loc 1 1177 11 discriminator 3 view .LVU1162
1177:ThirdPackage/lwip220/api/api_msg.c ****           msg->msg.sd.shut = NETCONN_SHUT_RDWR;
 3803              		.loc 1 1177 14 is_stmt 0 discriminator 3 view .LVU1163
 3804 00c8 2368     		ldr	r3, [r4]
1177:ThirdPackage/lwip220/api/api_msg.c ****           msg->msg.sd.shut = NETCONN_SHUT_RDWR;
 3805              		.loc 1 1177 28 discriminator 3 view .LVU1164
 3806 00ca 0422     		movs	r2, #4
 3807 00cc 5A70     		strb	r2, [r3, #1]
1178:ThirdPackage/lwip220/api/api_msg.c ****           msg->conn->current_msg = msg;
 3808              		.loc 1 1178 11 is_stmt 1 discriminator 3 view .LVU1165
1178:ThirdPackage/lwip220/api/api_msg.c ****           msg->conn->current_msg = msg;
 3809              		.loc 1 1178 28 is_stmt 0 discriminator 3 view .LVU1166
 3810 00ce 0323     		movs	r3, #3
 3811 00d0 2372     		strb	r3, [r4, #8]
1179:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 3812              		.loc 1 1179 11 is_stmt 1 discriminator 3 view .LVU1167
1179:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 3813              		.loc 1 1179 14 is_stmt 0 discriminator 3 view .LVU1168
 3814 00d2 2368     		ldr	r3, [r4]
1179:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 3815              		.loc 1 1179 34 discriminator 3 view .LVU1169
 3816 00d4 1C62     		str	r4, [r3, #32]
1181:ThirdPackage/lwip220/api/api_msg.c ****             LWIP_ASSERT("state!", msg->conn->state == NETCONN_CLOSE);
 3817              		.loc 1 1181 11 is_stmt 1 discriminator 3 view .LVU1170
1181:ThirdPackage/lwip220/api/api_msg.c ****             LWIP_ASSERT("state!", msg->conn->state == NETCONN_CLOSE);
 3818              		.loc 1 1181 15 is_stmt 0 discriminator 3 view .LVU1171
 3819 00d6 0021     		movs	r1, #0
 3820 00d8 2068     		ldr	r0, [r4]
 3821 00da FFF7FEFF 		bl	lwip_netconn_do_close_internal
 3822              	.LVL377:
1181:ThirdPackage/lwip220/api/api_msg.c ****             LWIP_ASSERT("state!", msg->conn->state == NETCONN_CLOSE);
 3823              		.loc 1 1181 14 discriminator 3 view .LVU1172
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 118


 3824 00de 0028     		cmp	r0, #0
 3825 00e0 A3D0     		beq	.L310
1182:ThirdPackage/lwip220/api/api_msg.c ****             UNLOCK_TCPIP_CORE();
 3826              		.loc 1 1182 13 is_stmt 1 view .LVU1173
1182:ThirdPackage/lwip220/api/api_msg.c ****             UNLOCK_TCPIP_CORE();
 3827              		.loc 1 1182 13 view .LVU1174
 3828 00e2 2368     		ldr	r3, [r4]
 3829 00e4 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3830 00e6 042B     		cmp	r3, #4
 3831 00e8 17D1     		bne	.L329
 3832              	.L322:
1182:ThirdPackage/lwip220/api/api_msg.c ****             UNLOCK_TCPIP_CORE();
 3833              		.loc 1 1182 13 discriminator 3 view .LVU1175
1182:ThirdPackage/lwip220/api/api_msg.c ****             UNLOCK_TCPIP_CORE();
 3834              		.loc 1 1182 13 discriminator 3 view .LVU1176
1183:ThirdPackage/lwip220/api/api_msg.c ****             sys_arch_sem_wait(LWIP_API_MSG_SEM(msg), 0);
 3835              		.loc 1 1183 13 discriminator 3 view .LVU1177
 3836 00ea 154D     		ldr	r5, .L330+20
 3837              	.LVL378:
1183:ThirdPackage/lwip220/api/api_msg.c ****             sys_arch_sem_wait(LWIP_API_MSG_SEM(msg), 0);
 3838              		.loc 1 1183 13 is_stmt 0 discriminator 3 view .LVU1178
 3839 00ec 2846     		mov	r0, r5
 3840 00ee FFF7FEFF 		bl	sys_mutex_unlock
 3841              	.LVL379:
1184:ThirdPackage/lwip220/api/api_msg.c ****             LOCK_TCPIP_CORE();
 3842              		.loc 1 1184 13 is_stmt 1 discriminator 3 view .LVU1179
1184:ThirdPackage/lwip220/api/api_msg.c ****             LOCK_TCPIP_CORE();
 3843              		.loc 1 1184 31 is_stmt 0 discriminator 3 view .LVU1180
 3844 00f2 2068     		ldr	r0, [r4]
1184:ThirdPackage/lwip220/api/api_msg.c ****             LOCK_TCPIP_CORE();
 3845              		.loc 1 1184 13 discriminator 3 view .LVU1181
 3846 00f4 0021     		movs	r1, #0
 3847 00f6 0C30     		adds	r0, r0, #12
 3848 00f8 FFF7FEFF 		bl	sys_arch_sem_wait
 3849              	.LVL380:
1185:ThirdPackage/lwip220/api/api_msg.c ****             LWIP_ASSERT("state!", msg->conn->state == NETCONN_NONE);
 3850              		.loc 1 1185 13 is_stmt 1 discriminator 3 view .LVU1182
 3851 00fc 2846     		mov	r0, r5
 3852 00fe FFF7FEFF 		bl	sys_mutex_lock
 3853              	.LVL381:
1186:ThirdPackage/lwip220/api/api_msg.c ****           }
 3854              		.loc 1 1186 13 discriminator 3 view .LVU1183
1186:ThirdPackage/lwip220/api/api_msg.c ****           }
 3855              		.loc 1 1186 13 discriminator 3 view .LVU1184
 3856 0102 2368     		ldr	r3, [r4]
 3857 0104 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3858 0106 002B     		cmp	r3, #0
 3859 0108 8FD0     		beq	.L310
1186:ThirdPackage/lwip220/api/api_msg.c ****           }
 3860              		.loc 1 1186 13 discriminator 1 view .LVU1185
1186:ThirdPackage/lwip220/api/api_msg.c ****           }
 3861              		.loc 1 1186 13 discriminator 1 view .LVU1186
 3862 010a 084B     		ldr	r3, .L330
 3863 010c 40F2A242 		movw	r2, #1186
 3864 0110 0C49     		ldr	r1, .L330+24
 3865 0112 0848     		ldr	r0, .L330+8
 3866 0114 FFF7FEFF 		bl	printf
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 119


 3867              	.LVL382:
1186:ThirdPackage/lwip220/api/api_msg.c ****           }
 3868              		.loc 1 1186 13 discriminator 1 view .LVU1187
1186:ThirdPackage/lwip220/api/api_msg.c ****           }
 3869              		.loc 1 1186 13 discriminator 1 view .LVU1188
1193:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_TCP */
 3870              		.loc 1 1193 11 discriminator 1 view .LVU1189
 3871 0118 87E7     		b	.L310
 3872              	.LVL383:
 3873              	.L329:
1182:ThirdPackage/lwip220/api/api_msg.c ****             UNLOCK_TCPIP_CORE();
 3874              		.loc 1 1182 13 discriminator 1 view .LVU1190
1182:ThirdPackage/lwip220/api/api_msg.c ****             UNLOCK_TCPIP_CORE();
 3875              		.loc 1 1182 13 discriminator 1 view .LVU1191
 3876 011a 044B     		ldr	r3, .L330
 3877 011c 40F29E42 		movw	r2, #1182
 3878 0120 0849     		ldr	r1, .L330+24
 3879 0122 0448     		ldr	r0, .L330+8
 3880 0124 FFF7FEFF 		bl	printf
 3881              	.LVL384:
 3882 0128 DFE7     		b	.L322
 3883              	.L331:
 3884 012a 00BF     		.align	2
 3885              	.L330:
 3886 012c 00000000 		.word	.LC0
 3887 0130 00000000 		.word	.LC34
 3888 0134 34000000 		.word	.LC2
 3889 0138 14000000 		.word	.LC35
 3890 013c 34000000 		.word	.LC36
 3891 0140 00000000 		.word	lock_tcpip_core
 3892 0144 50000000 		.word	.LC37
 3893              		.cfi_endproc
 3894              	.LFE175:
 3896              		.section	.text.lwip_netconn_do_bind,"ax",%progbits
 3897              		.align	1
 3898              		.global	lwip_netconn_do_bind
 3899              		.syntax unified
 3900              		.thumb
 3901              		.thumb_func
 3903              	lwip_netconn_do_bind:
 3904              	.LVL385:
 3905              	.LFB176:
1221:ThirdPackage/lwip220/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 3906              		.loc 1 1221 1 view -0
 3907              		.cfi_startproc
 3908              		@ args = 0, pretend = 0, frame = 0
 3909              		@ frame_needed = 0, uses_anonymous_args = 0
1221:ThirdPackage/lwip220/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 3910              		.loc 1 1221 1 is_stmt 0 view .LVU1193
 3911 0000 10B5     		push	{r4, lr}
 3912              	.LCFI22:
 3913              		.cfi_def_cfa_offset 8
 3914              		.cfi_offset 4, -8
 3915              		.cfi_offset 14, -4
 3916 0002 0446     		mov	r4, r0
1222:ThirdPackage/lwip220/api/api_msg.c ****   err_t err;
 3917              		.loc 1 1222 3 is_stmt 1 view .LVU1194
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 120


 3918              	.LVL386:
1223:ThirdPackage/lwip220/api/api_msg.c **** 
 3919              		.loc 1 1223 3 view .LVU1195
1225:ThirdPackage/lwip220/api/api_msg.c ****     switch (NETCONNTYPE_GROUP(msg->conn->type)) {
 3920              		.loc 1 1225 3 view .LVU1196
1225:ThirdPackage/lwip220/api/api_msg.c ****     switch (NETCONNTYPE_GROUP(msg->conn->type)) {
 3921              		.loc 1 1225 10 is_stmt 0 view .LVU1197
 3922 0004 0368     		ldr	r3, [r0]
1225:ThirdPackage/lwip220/api/api_msg.c ****     switch (NETCONNTYPE_GROUP(msg->conn->type)) {
 3923              		.loc 1 1225 21 view .LVU1198
 3924 0006 5868     		ldr	r0, [r3, #4]
 3925              	.LVL387:
1225:ThirdPackage/lwip220/api/api_msg.c ****     switch (NETCONNTYPE_GROUP(msg->conn->type)) {
 3926              		.loc 1 1225 6 view .LVU1199
 3927 0008 80B1     		cbz	r0, .L335
1226:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_RAW
 3928              		.loc 1 1226 5 is_stmt 1 view .LVU1200
1226:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_RAW
 3929              		.loc 1 1226 13 is_stmt 0 view .LVU1201
 3930 000a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3931 000c 03F0F003 		and	r3, r3, #240
1226:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_RAW
 3932              		.loc 1 1226 5 view .LVU1202
 3933 0010 102B     		cmp	r3, #16
 3934 0012 06D0     		beq	.L334
 3935 0014 202B     		cmp	r3, #32
 3936 0016 0CD1     		bne	.L336
1234:ThirdPackage/lwip220/api/api_msg.c ****         break;
 3937              		.loc 1 1234 9 is_stmt 1 view .LVU1203
1234:ThirdPackage/lwip220/api/api_msg.c ****         break;
 3938              		.loc 1 1234 15 is_stmt 0 view .LVU1204
 3939 0018 A289     		ldrh	r2, [r4, #12]
 3940 001a A168     		ldr	r1, [r4, #8]
 3941 001c FFF7FEFF 		bl	udp_bind
 3942              	.LVL388:
1235:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_UDP */
 3943              		.loc 1 1235 9 is_stmt 1 view .LVU1205
 3944 0020 09E0     		b	.L333
 3945              	.LVL389:
 3946              	.L334:
1239:ThirdPackage/lwip220/api/api_msg.c ****         break;
 3947              		.loc 1 1239 9 view .LVU1206
1239:ThirdPackage/lwip220/api/api_msg.c ****         break;
 3948              		.loc 1 1239 15 is_stmt 0 view .LVU1207
 3949 0022 A289     		ldrh	r2, [r4, #12]
 3950 0024 A168     		ldr	r1, [r4, #8]
 3951 0026 FFF7FEFF 		bl	tcp_bind
 3952              	.LVL390:
1240:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_TCP */
 3953              		.loc 1 1240 9 is_stmt 1 view .LVU1208
 3954 002a 04E0     		b	.L333
 3955              	.LVL391:
 3956              	.L335:
1247:ThirdPackage/lwip220/api/api_msg.c ****   }
 3957              		.loc 1 1247 9 is_stmt 0 view .LVU1209
 3958 002c 6FF00500 		mvn	r0, #5
 3959 0030 01E0     		b	.L333
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 121


 3960              	.L336:
1226:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_RAW
 3961              		.loc 1 1226 5 view .LVU1210
 3962 0032 6FF00500 		mvn	r0, #5
 3963              	.L333:
 3964              	.LVL392:
1249:ThirdPackage/lwip220/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
 3965              		.loc 1 1249 3 is_stmt 1 view .LVU1211
1249:ThirdPackage/lwip220/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
 3966              		.loc 1 1249 12 is_stmt 0 view .LVU1212
 3967 0036 2071     		strb	r0, [r4, #4]
1250:ThirdPackage/lwip220/api/api_msg.c **** }
 3968              		.loc 1 1250 24 is_stmt 1 view .LVU1213
1251:ThirdPackage/lwip220/api/api_msg.c **** /**
 3969              		.loc 1 1251 1 is_stmt 0 view .LVU1214
 3970 0038 10BD     		pop	{r4, pc}
1251:ThirdPackage/lwip220/api/api_msg.c **** /**
 3971              		.loc 1 1251 1 view .LVU1215
 3972              		.cfi_endproc
 3973              	.LFE176:
 3975              		.section	.text.lwip_netconn_do_bind_if,"ax",%progbits
 3976              		.align	1
 3977              		.global	lwip_netconn_do_bind_if
 3978              		.syntax unified
 3979              		.thumb
 3980              		.thumb_func
 3982              	lwip_netconn_do_bind_if:
 3983              	.LVL393:
 3984              	.LFB177:
1261:ThirdPackage/lwip220/api/api_msg.c ****   struct netif *netif;
 3985              		.loc 1 1261 1 is_stmt 1 view -0
 3986              		.cfi_startproc
 3987              		@ args = 0, pretend = 0, frame = 0
 3988              		@ frame_needed = 0, uses_anonymous_args = 0
1261:ThirdPackage/lwip220/api/api_msg.c ****   struct netif *netif;
 3989              		.loc 1 1261 1 is_stmt 0 view .LVU1217
 3990 0000 10B5     		push	{r4, lr}
 3991              	.LCFI23:
 3992              		.cfi_def_cfa_offset 8
 3993              		.cfi_offset 4, -8
 3994              		.cfi_offset 14, -4
 3995 0002 0446     		mov	r4, r0
1262:ThirdPackage/lwip220/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 3996              		.loc 1 1262 3 is_stmt 1 view .LVU1218
1263:ThirdPackage/lwip220/api/api_msg.c ****   err_t err;
 3997              		.loc 1 1263 3 view .LVU1219
 3998              	.LVL394:
1264:ThirdPackage/lwip220/api/api_msg.c **** 
 3999              		.loc 1 1264 3 view .LVU1220
1266:ThirdPackage/lwip220/api/api_msg.c **** 
 4000              		.loc 1 1266 3 view .LVU1221
1266:ThirdPackage/lwip220/api/api_msg.c **** 
 4001              		.loc 1 1266 11 is_stmt 0 view .LVU1222
 4002 0004 807B     		ldrb	r0, [r0, #14]	@ zero_extendqisi2
 4003              	.LVL395:
1266:ThirdPackage/lwip220/api/api_msg.c **** 
 4004              		.loc 1 1266 11 view .LVU1223
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 122


 4005 0006 FFF7FEFF 		bl	netif_get_by_index
 4006              	.LVL396:
1268:ThirdPackage/lwip220/api/api_msg.c ****     err = ERR_OK;
 4007              		.loc 1 1268 3 is_stmt 1 view .LVU1224
1268:ThirdPackage/lwip220/api/api_msg.c ****     err = ERR_OK;
 4008              		.loc 1 1268 6 is_stmt 0 view .LVU1225
 4009 000a 90B1     		cbz	r0, .L341
 4010 000c 0146     		mov	r1, r0
1268:ThirdPackage/lwip220/api/api_msg.c ****     err = ERR_OK;
 4011              		.loc 1 1268 30 discriminator 1 view .LVU1226
 4012 000e 2368     		ldr	r3, [r4]
1268:ThirdPackage/lwip220/api/api_msg.c ****     err = ERR_OK;
 4013              		.loc 1 1268 41 discriminator 1 view .LVU1227
 4014 0010 5868     		ldr	r0, [r3, #4]
 4015              	.LVL397:
1268:ThirdPackage/lwip220/api/api_msg.c ****     err = ERR_OK;
 4016              		.loc 1 1268 23 discriminator 1 view .LVU1228
 4017 0012 90B1     		cbz	r0, .L342
1269:ThirdPackage/lwip220/api/api_msg.c ****     switch (NETCONNTYPE_GROUP(msg->conn->type)) {
 4018              		.loc 1 1269 5 is_stmt 1 view .LVU1229
 4019              	.LVL398:
1270:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_RAW
 4020              		.loc 1 1270 5 view .LVU1230
1270:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_RAW
 4021              		.loc 1 1270 13 is_stmt 0 view .LVU1231
 4022 0014 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4023 0016 03F0F003 		and	r3, r3, #240
1270:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_RAW
 4024              		.loc 1 1270 5 view .LVU1232
 4025 001a 102B     		cmp	r3, #16
 4026 001c 05D0     		beq	.L340
 4027 001e 202B     		cmp	r3, #32
 4028 0020 0ED1     		bne	.L343
1278:ThirdPackage/lwip220/api/api_msg.c ****         break;
 4029              		.loc 1 1278 9 is_stmt 1 view .LVU1233
 4030 0022 FFF7FEFF 		bl	udp_bind_netif
 4031              	.LVL399:
1279:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_UDP */
 4032              		.loc 1 1279 9 view .LVU1234
1269:ThirdPackage/lwip220/api/api_msg.c ****     switch (NETCONNTYPE_GROUP(msg->conn->type)) {
 4033              		.loc 1 1269 9 is_stmt 0 view .LVU1235
 4034 0026 0023     		movs	r3, #0
1279:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_UDP */
 4035              		.loc 1 1279 9 view .LVU1236
 4036 0028 05E0     		b	.L339
 4037              	.LVL400:
 4038              	.L340:
1283:ThirdPackage/lwip220/api/api_msg.c ****         break;
 4039              		.loc 1 1283 9 is_stmt 1 view .LVU1237
 4040 002a FFF7FEFF 		bl	tcp_bind_netif
 4041              	.LVL401:
1284:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_TCP */
 4042              		.loc 1 1284 9 view .LVU1238
1269:ThirdPackage/lwip220/api/api_msg.c ****     switch (NETCONNTYPE_GROUP(msg->conn->type)) {
 4043              		.loc 1 1269 9 is_stmt 0 view .LVU1239
 4044 002e 0023     		movs	r3, #0
1284:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_TCP */
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 123


 4045              		.loc 1 1284 9 view .LVU1240
 4046 0030 01E0     		b	.L339
 4047              	.LVL402:
 4048              	.L341:
1291:ThirdPackage/lwip220/api/api_msg.c ****   }
 4049              		.loc 1 1291 9 view .LVU1241
 4050 0032 6FF00503 		mvn	r3, #5
 4051              	.LVL403:
 4052              	.L339:
1293:ThirdPackage/lwip220/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
 4053              		.loc 1 1293 3 is_stmt 1 view .LVU1242
1293:ThirdPackage/lwip220/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
 4054              		.loc 1 1293 12 is_stmt 0 view .LVU1243
 4055 0036 2371     		strb	r3, [r4, #4]
1294:ThirdPackage/lwip220/api/api_msg.c **** }
 4056              		.loc 1 1294 24 is_stmt 1 view .LVU1244
1295:ThirdPackage/lwip220/api/api_msg.c **** 
 4057              		.loc 1 1295 1 is_stmt 0 view .LVU1245
 4058 0038 10BD     		pop	{r4, pc}
 4059              	.LVL404:
 4060              	.L342:
1291:ThirdPackage/lwip220/api/api_msg.c ****   }
 4061              		.loc 1 1291 9 view .LVU1246
 4062 003a 6FF00503 		mvn	r3, #5
 4063 003e FAE7     		b	.L339
 4064              	.LVL405:
 4065              	.L343:
1270:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_RAW
 4066              		.loc 1 1270 5 view .LVU1247
 4067 0040 6FF00503 		mvn	r3, #5
 4068 0044 F7E7     		b	.L339
 4069              		.cfi_endproc
 4070              	.LFE177:
 4072              		.section	.text.lwip_netconn_do_connect,"ax",%progbits
 4073              		.align	1
 4074              		.global	lwip_netconn_do_connect
 4075              		.syntax unified
 4076              		.thumb
 4077              		.thumb_func
 4079              	lwip_netconn_do_connect:
 4080              	.LVL406:
 4081              	.LFB179:
1355:ThirdPackage/lwip220/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 4082              		.loc 1 1355 1 is_stmt 1 view -0
 4083              		.cfi_startproc
 4084              		@ args = 0, pretend = 0, frame = 0
 4085              		@ frame_needed = 0, uses_anonymous_args = 0
1355:ThirdPackage/lwip220/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 4086              		.loc 1 1355 1 is_stmt 0 view .LVU1249
 4087 0000 38B5     		push	{r3, r4, r5, lr}
 4088              	.LCFI24:
 4089              		.cfi_def_cfa_offset 16
 4090              		.cfi_offset 3, -16
 4091              		.cfi_offset 4, -12
 4092              		.cfi_offset 5, -8
 4093              		.cfi_offset 14, -4
 4094 0002 0446     		mov	r4, r0
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 124


1356:ThirdPackage/lwip220/api/api_msg.c ****   err_t err;
 4095              		.loc 1 1356 3 is_stmt 1 view .LVU1250
 4096              	.LVL407:
1357:ThirdPackage/lwip220/api/api_msg.c **** 
 4097              		.loc 1 1357 3 view .LVU1251
1359:ThirdPackage/lwip220/api/api_msg.c ****     /* This may happen when calling netconn_connect() a second time */
 4098              		.loc 1 1359 3 view .LVU1252
1359:ThirdPackage/lwip220/api/api_msg.c ****     /* This may happen when calling netconn_connect() a second time */
 4099              		.loc 1 1359 10 is_stmt 0 view .LVU1253
 4100 0004 0268     		ldr	r2, [r0]
1359:ThirdPackage/lwip220/api/api_msg.c ****     /* This may happen when calling netconn_connect() a second time */
 4101              		.loc 1 1359 21 view .LVU1254
 4102 0006 5068     		ldr	r0, [r2, #4]
 4103              	.LVL408:
1359:ThirdPackage/lwip220/api/api_msg.c ****     /* This may happen when calling netconn_connect() a second time */
 4104              		.loc 1 1359 6 view .LVU1255
 4105 0008 0028     		cmp	r0, #0
 4106 000a 5AD0     		beq	.L353
1363:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_RAW
 4107              		.loc 1 1363 5 is_stmt 1 view .LVU1256
1363:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_RAW
 4108              		.loc 1 1363 13 is_stmt 0 view .LVU1257
 4109 000c 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 4110 000e 03F0F003 		and	r3, r3, #240
1363:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_RAW
 4111              		.loc 1 1363 5 view .LVU1258
 4112 0012 102B     		cmp	r3, #16
 4113 0014 06D0     		beq	.L347
 4114 0016 202B     		cmp	r3, #32
 4115 0018 56D1     		bne	.L354
1371:ThirdPackage/lwip220/api/api_msg.c ****         break;
 4116              		.loc 1 1371 9 is_stmt 1 view .LVU1259
1371:ThirdPackage/lwip220/api/api_msg.c ****         break;
 4117              		.loc 1 1371 15 is_stmt 0 view .LVU1260
 4118 001a A289     		ldrh	r2, [r4, #12]
 4119 001c A168     		ldr	r1, [r4, #8]
 4120 001e FFF7FEFF 		bl	udp_connect
 4121              	.LVL409:
1372:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_UDP */
 4122              		.loc 1 1372 9 is_stmt 1 view .LVU1261
 4123 0022 53E0     		b	.L346
 4124              	.LVL410:
 4125              	.L347:
1377:ThirdPackage/lwip220/api/api_msg.c ****           err = ERR_ALREADY;
 4126              		.loc 1 1377 9 view .LVU1262
1377:ThirdPackage/lwip220/api/api_msg.c ****           err = ERR_ALREADY;
 4127              		.loc 1 1377 22 is_stmt 0 view .LVU1263
 4128 0024 5378     		ldrb	r3, [r2, #1]	@ zero_extendqisi2
1377:ThirdPackage/lwip220/api/api_msg.c ****           err = ERR_ALREADY;
 4129              		.loc 1 1377 12 view .LVU1264
 4130 0026 032B     		cmp	r3, #3
 4131 0028 52D0     		beq	.L355
1379:ThirdPackage/lwip220/api/api_msg.c ****           err = ERR_ISCONN;
 4132              		.loc 1 1379 16 is_stmt 1 view .LVU1265
1379:ThirdPackage/lwip220/api/api_msg.c ****           err = ERR_ISCONN;
 4133              		.loc 1 1379 19 is_stmt 0 view .LVU1266
 4134 002a 13B1     		cbz	r3, .L359
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 125


1380:ThirdPackage/lwip220/api/api_msg.c ****         } else {
 4135              		.loc 1 1380 15 view .LVU1267
 4136 002c 6FF00900 		mvn	r0, #9
 4137 0030 4CE0     		b	.L346
 4138              	.L359:
1382:ThirdPackage/lwip220/api/api_msg.c ****           err = tcp_connect(msg->conn->pcb.tcp, API_EXPR_REF(msg->msg.bc.ipaddr),
 4139              		.loc 1 1382 11 is_stmt 1 view .LVU1268
 4140 0032 1046     		mov	r0, r2
 4141 0034 FFF7FEFF 		bl	setup_tcp
 4142              	.LVL411:
1383:ThirdPackage/lwip220/api/api_msg.c ****                             msg->msg.bc.port, lwip_netconn_do_connected);
 4143              		.loc 1 1383 11 view .LVU1269
1383:ThirdPackage/lwip220/api/api_msg.c ****                             msg->msg.bc.port, lwip_netconn_do_connected);
 4144              		.loc 1 1383 32 is_stmt 0 view .LVU1270
 4145 0038 2068     		ldr	r0, [r4]
1383:ThirdPackage/lwip220/api/api_msg.c ****                             msg->msg.bc.port, lwip_netconn_do_connected);
 4146              		.loc 1 1383 17 view .LVU1271
 4147 003a 274B     		ldr	r3, .L362
 4148 003c A289     		ldrh	r2, [r4, #12]
 4149 003e A168     		ldr	r1, [r4, #8]
 4150 0040 4068     		ldr	r0, [r0, #4]
 4151 0042 FFF7FEFF 		bl	tcp_connect
 4152              	.LVL412:
1385:ThirdPackage/lwip220/api/api_msg.c ****             u8_t non_blocking = netconn_is_nonblocking(msg->conn);
 4153              		.loc 1 1385 11 is_stmt 1 view .LVU1272
1385:ThirdPackage/lwip220/api/api_msg.c ****             u8_t non_blocking = netconn_is_nonblocking(msg->conn);
 4154              		.loc 1 1385 14 is_stmt 0 view .LVU1273
 4155 0046 0028     		cmp	r0, #0
 4156 0048 40D1     		bne	.L346
 4157              	.LBB22:
1386:ThirdPackage/lwip220/api/api_msg.c ****             msg->conn->state = NETCONN_CONNECT;
 4158              		.loc 1 1386 13 is_stmt 1 view .LVU1274
1386:ThirdPackage/lwip220/api/api_msg.c ****             msg->conn->state = NETCONN_CONNECT;
 4159              		.loc 1 1386 33 is_stmt 0 view .LVU1275
 4160 004a 2268     		ldr	r2, [r4]
 4161 004c 137F     		ldrb	r3, [r2, #28]	@ zero_extendqisi2
 4162              	.LVL413:
1387:ThirdPackage/lwip220/api/api_msg.c ****             SET_NONBLOCKING_CONNECT(msg->conn, non_blocking);
 4163              		.loc 1 1387 13 is_stmt 1 view .LVU1276
1387:ThirdPackage/lwip220/api/api_msg.c ****             SET_NONBLOCKING_CONNECT(msg->conn, non_blocking);
 4164              		.loc 1 1387 30 is_stmt 0 view .LVU1277
 4165 004e 0321     		movs	r1, #3
 4166 0050 5170     		strb	r1, [r2, #1]
1388:ThirdPackage/lwip220/api/api_msg.c ****             if (non_blocking) {
 4167              		.loc 1 1388 13 is_stmt 1 view .LVU1278
1388:ThirdPackage/lwip220/api/api_msg.c ****             if (non_blocking) {
 4168              		.loc 1 1388 13 view .LVU1279
 4169 0052 13F00203 		ands	r3, r3, #2
 4170              	.LVL414:
1388:ThirdPackage/lwip220/api/api_msg.c ****             if (non_blocking) {
 4171              		.loc 1 1388 13 is_stmt 0 view .LVU1280
 4172 0056 08D0     		beq	.L348
1388:ThirdPackage/lwip220/api/api_msg.c ****             if (non_blocking) {
 4173              		.loc 1 1388 13 is_stmt 1 discriminator 1 view .LVU1281
1388:ThirdPackage/lwip220/api/api_msg.c ****             if (non_blocking) {
 4174              		.loc 1 1388 13 discriminator 1 view .LVU1282
 4175 0058 2168     		ldr	r1, [r4]
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 126


 4176 005a 0A7F     		ldrb	r2, [r1, #28]	@ zero_extendqisi2
 4177              	.LVL415:
1388:ThirdPackage/lwip220/api/api_msg.c ****             if (non_blocking) {
 4178              		.loc 1 1388 13 is_stmt 0 discriminator 1 view .LVU1283
 4179 005c 42F00402 		orr	r2, r2, #4
 4180 0060 0A77     		strb	r2, [r1, #28]
1388:ThirdPackage/lwip220/api/api_msg.c ****             if (non_blocking) {
 4181              		.loc 1 1388 13 is_stmt 1 discriminator 1 view .LVU1284
 4182              	.L349:
1388:ThirdPackage/lwip220/api/api_msg.c ****             if (non_blocking) {
 4183              		.loc 1 1388 13 discriminator 4 view .LVU1285
1388:ThirdPackage/lwip220/api/api_msg.c ****             if (non_blocking) {
 4184              		.loc 1 1388 13 discriminator 4 view .LVU1286
1389:ThirdPackage/lwip220/api/api_msg.c ****               err = ERR_INPROGRESS;
 4185              		.loc 1 1389 13 discriminator 4 view .LVU1287
1389:ThirdPackage/lwip220/api/api_msg.c ****               err = ERR_INPROGRESS;
 4186              		.loc 1 1389 16 is_stmt 0 discriminator 4 view .LVU1288
 4187 0062 43B1     		cbz	r3, .L360
1390:ThirdPackage/lwip220/api/api_msg.c ****             } else {
 4188              		.loc 1 1390 19 view .LVU1289
 4189 0064 6FF00400 		mvn	r0, #4
 4190              	.LVL416:
1390:ThirdPackage/lwip220/api/api_msg.c ****             } else {
 4191              		.loc 1 1390 19 view .LVU1290
 4192 0068 30E0     		b	.L346
 4193              	.LVL417:
 4194              	.L348:
1388:ThirdPackage/lwip220/api/api_msg.c ****             if (non_blocking) {
 4195              		.loc 1 1388 13 is_stmt 1 discriminator 2 view .LVU1291
1388:ThirdPackage/lwip220/api/api_msg.c ****             if (non_blocking) {
 4196              		.loc 1 1388 13 discriminator 2 view .LVU1292
 4197 006a 2168     		ldr	r1, [r4]
 4198 006c 0A7F     		ldrb	r2, [r1, #28]	@ zero_extendqisi2
 4199              	.LVL418:
1388:ThirdPackage/lwip220/api/api_msg.c ****             if (non_blocking) {
 4200              		.loc 1 1388 13 is_stmt 0 discriminator 2 view .LVU1293
 4201 006e 02F0FB02 		and	r2, r2, #251
 4202 0072 0A77     		strb	r2, [r1, #28]
1388:ThirdPackage/lwip220/api/api_msg.c ****             if (non_blocking) {
 4203              		.loc 1 1388 13 discriminator 2 view .LVU1294
 4204 0074 F5E7     		b	.L349
 4205              	.L360:
1392:ThirdPackage/lwip220/api/api_msg.c ****               /* sys_sem_signal() is called from lwip_netconn_do_connected (or err_tcp()),
 4206              		.loc 1 1392 15 is_stmt 1 view .LVU1295
1392:ThirdPackage/lwip220/api/api_msg.c ****               /* sys_sem_signal() is called from lwip_netconn_do_connected (or err_tcp()),
 4207              		.loc 1 1392 18 is_stmt 0 view .LVU1296
 4208 0076 2368     		ldr	r3, [r4]
1392:ThirdPackage/lwip220/api/api_msg.c ****               /* sys_sem_signal() is called from lwip_netconn_do_connected (or err_tcp()),
 4209              		.loc 1 1392 38 view .LVU1297
 4210 0078 1C62     		str	r4, [r3, #32]
1396:ThirdPackage/lwip220/api/api_msg.c ****               UNLOCK_TCPIP_CORE();
 4211              		.loc 1 1396 15 is_stmt 1 view .LVU1298
1396:ThirdPackage/lwip220/api/api_msg.c ****               UNLOCK_TCPIP_CORE();
 4212              		.loc 1 1396 15 view .LVU1299
 4213 007a 2368     		ldr	r3, [r4]
 4214 007c 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 4215 007e 032B     		cmp	r3, #3
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 127


 4216 0080 17D1     		bne	.L361
 4217              	.LVL419:
 4218              	.L350:
1396:ThirdPackage/lwip220/api/api_msg.c ****               UNLOCK_TCPIP_CORE();
 4219              		.loc 1 1396 15 discriminator 3 view .LVU1300
1396:ThirdPackage/lwip220/api/api_msg.c ****               UNLOCK_TCPIP_CORE();
 4220              		.loc 1 1396 15 discriminator 3 view .LVU1301
1397:ThirdPackage/lwip220/api/api_msg.c ****               sys_arch_sem_wait(LWIP_API_MSG_SEM(msg), 0);
 4221              		.loc 1 1397 15 discriminator 3 view .LVU1302
 4222 0082 164D     		ldr	r5, .L362+4
 4223 0084 2846     		mov	r0, r5
 4224 0086 FFF7FEFF 		bl	sys_mutex_unlock
 4225              	.LVL420:
1398:ThirdPackage/lwip220/api/api_msg.c ****               LOCK_TCPIP_CORE();
 4226              		.loc 1 1398 15 discriminator 3 view .LVU1303
1398:ThirdPackage/lwip220/api/api_msg.c ****               LOCK_TCPIP_CORE();
 4227              		.loc 1 1398 33 is_stmt 0 discriminator 3 view .LVU1304
 4228 008a 2068     		ldr	r0, [r4]
1398:ThirdPackage/lwip220/api/api_msg.c ****               LOCK_TCPIP_CORE();
 4229              		.loc 1 1398 15 discriminator 3 view .LVU1305
 4230 008c 0021     		movs	r1, #0
 4231 008e 0C30     		adds	r0, r0, #12
 4232 0090 FFF7FEFF 		bl	sys_arch_sem_wait
 4233              	.LVL421:
1399:ThirdPackage/lwip220/api/api_msg.c ****               LWIP_ASSERT("state!", msg->conn->state != NETCONN_CONNECT);
 4234              		.loc 1 1399 15 is_stmt 1 discriminator 3 view .LVU1306
 4235 0094 2846     		mov	r0, r5
 4236 0096 FFF7FEFF 		bl	sys_mutex_lock
 4237              	.LVL422:
1400:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
 4238              		.loc 1 1400 15 discriminator 3 view .LVU1307
1400:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
 4239              		.loc 1 1400 15 discriminator 3 view .LVU1308
 4240 009a 2368     		ldr	r3, [r4]
 4241 009c 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 4242 009e 032B     		cmp	r3, #3
 4243 00a0 15D1     		bne	.L345
1400:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
 4244              		.loc 1 1400 15 discriminator 1 view .LVU1309
1400:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
 4245              		.loc 1 1400 15 discriminator 1 view .LVU1310
 4246 00a2 0F4B     		ldr	r3, .L362+8
 4247 00a4 4FF4AF62 		mov	r2, #1400
 4248 00a8 0E49     		ldr	r1, .L362+12
 4249 00aa 0F48     		ldr	r0, .L362+16
 4250 00ac FFF7FEFF 		bl	printf
 4251              	.LVL423:
1400:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
 4252              		.loc 1 1400 15 discriminator 1 view .LVU1311
1400:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
 4253              		.loc 1 1400 15 discriminator 1 view .LVU1312
1402:ThirdPackage/lwip220/api/api_msg.c ****             }
 4254              		.loc 1 1402 15 discriminator 1 view .LVU1313
 4255 00b0 0DE0     		b	.L345
 4256              	.LVL424:
 4257              	.L361:
1396:ThirdPackage/lwip220/api/api_msg.c ****               UNLOCK_TCPIP_CORE();
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 128


 4258              		.loc 1 1396 15 discriminator 1 view .LVU1314
1396:ThirdPackage/lwip220/api/api_msg.c ****               UNLOCK_TCPIP_CORE();
 4259              		.loc 1 1396 15 discriminator 1 view .LVU1315
 4260 00b2 0B4B     		ldr	r3, .L362+8
 4261 00b4 40F27452 		movw	r2, #1396
 4262 00b8 0A49     		ldr	r1, .L362+12
 4263 00ba 0B48     		ldr	r0, .L362+16
 4264              	.LVL425:
1396:ThirdPackage/lwip220/api/api_msg.c ****               UNLOCK_TCPIP_CORE();
 4265              		.loc 1 1396 15 is_stmt 0 discriminator 1 view .LVU1316
 4266 00bc FFF7FEFF 		bl	printf
 4267              	.LVL426:
 4268 00c0 DFE7     		b	.L350
 4269              	.L353:
1396:ThirdPackage/lwip220/api/api_msg.c ****               UNLOCK_TCPIP_CORE();
 4270              		.loc 1 1396 15 discriminator 1 view .LVU1317
 4271              	.LBE22:
1361:ThirdPackage/lwip220/api/api_msg.c ****   } else {
 4272              		.loc 1 1361 9 view .LVU1318
 4273 00c2 6FF00E00 		mvn	r0, #14
 4274 00c6 01E0     		b	.L346
 4275              	.L354:
1363:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_RAW
 4276              		.loc 1 1363 5 view .LVU1319
 4277 00c8 6FF00500 		mvn	r0, #5
 4278              	.L346:
 4279              	.LVL427:
1415:ThirdPackage/lwip220/api/api_msg.c ****   /* For all other protocols, netconn_connect() calls netconn_apimsg(),
 4280              		.loc 1 1415 3 is_stmt 1 view .LVU1320
1415:ThirdPackage/lwip220/api/api_msg.c ****   /* For all other protocols, netconn_connect() calls netconn_apimsg(),
 4281              		.loc 1 1415 12 is_stmt 0 view .LVU1321
 4282 00cc 2071     		strb	r0, [r4, #4]
1418:ThirdPackage/lwip220/api/api_msg.c **** }
 4283              		.loc 1 1418 24 is_stmt 1 view .LVU1322
 4284              	.LVL428:
 4285              	.L345:
1419:ThirdPackage/lwip220/api/api_msg.c **** 
 4286              		.loc 1 1419 1 is_stmt 0 view .LVU1323
 4287 00ce 38BD     		pop	{r3, r4, r5, pc}
 4288              	.LVL429:
 4289              	.L355:
1378:ThirdPackage/lwip220/api/api_msg.c ****         } else if (msg->conn->state != NETCONN_NONE) {
 4290              		.loc 1 1378 15 view .LVU1324
 4291 00d0 6FF00800 		mvn	r0, #8
 4292 00d4 FAE7     		b	.L346
 4293              	.L363:
 4294 00d6 00BF     		.align	2
 4295              	.L362:
 4296 00d8 00000000 		.word	lwip_netconn_do_connected
 4297 00dc 00000000 		.word	lock_tcpip_core
 4298 00e0 00000000 		.word	.LC0
 4299 00e4 50000000 		.word	.LC37
 4300 00e8 34000000 		.word	.LC2
 4301              		.cfi_endproc
 4302              	.LFE179:
 4304              		.section	.text.lwip_netconn_do_disconnect,"ax",%progbits
 4305              		.align	1
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 129


 4306              		.global	lwip_netconn_do_disconnect
 4307              		.syntax unified
 4308              		.thumb
 4309              		.thumb_func
 4311              	lwip_netconn_do_disconnect:
 4312              	.LVL430:
 4313              	.LFB180:
1430:ThirdPackage/lwip220/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 4314              		.loc 1 1430 1 is_stmt 1 view -0
 4315              		.cfi_startproc
 4316              		@ args = 0, pretend = 0, frame = 0
 4317              		@ frame_needed = 0, uses_anonymous_args = 0
1430:ThirdPackage/lwip220/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 4318              		.loc 1 1430 1 is_stmt 0 view .LVU1326
 4319 0000 10B5     		push	{r4, lr}
 4320              	.LCFI25:
 4321              		.cfi_def_cfa_offset 8
 4322              		.cfi_offset 4, -8
 4323              		.cfi_offset 14, -4
 4324 0002 0446     		mov	r4, r0
1431:ThirdPackage/lwip220/api/api_msg.c **** 
 4325              		.loc 1 1431 3 is_stmt 1 view .LVU1327
 4326              	.LVL431:
1434:ThirdPackage/lwip220/api/api_msg.c ****     udp_disconnect(msg->conn->pcb.udp);
 4327              		.loc 1 1434 3 view .LVU1328
1434:ThirdPackage/lwip220/api/api_msg.c ****     udp_disconnect(msg->conn->pcb.udp);
 4328              		.loc 1 1434 7 is_stmt 0 view .LVU1329
 4329 0004 0268     		ldr	r2, [r0]
 4330 0006 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
1434:ThirdPackage/lwip220/api/api_msg.c ****     udp_disconnect(msg->conn->pcb.udp);
 4331              		.loc 1 1434 6 view .LVU1330
 4332 0008 03F0F003 		and	r3, r3, #240
 4333 000c 202B     		cmp	r3, #32
 4334 000e 02D0     		beq	.L368
1440:ThirdPackage/lwip220/api/api_msg.c ****   }
 4335              		.loc 1 1440 5 is_stmt 1 view .LVU1331
1440:ThirdPackage/lwip220/api/api_msg.c ****   }
 4336              		.loc 1 1440 14 is_stmt 0 view .LVU1332
 4337 0010 FA23     		movs	r3, #250
 4338 0012 0371     		strb	r3, [r0, #4]
1442:ThirdPackage/lwip220/api/api_msg.c **** }
 4339              		.loc 1 1442 24 is_stmt 1 view .LVU1333
 4340              	.LVL432:
 4341              	.L364:
1443:ThirdPackage/lwip220/api/api_msg.c **** 
 4342              		.loc 1 1443 1 is_stmt 0 view .LVU1334
 4343 0014 10BD     		pop	{r4, pc}
 4344              	.LVL433:
 4345              	.L368:
1435:ThirdPackage/lwip220/api/api_msg.c ****     msg->err = ERR_OK;
 4346              		.loc 1 1435 5 is_stmt 1 view .LVU1335
 4347 0016 5068     		ldr	r0, [r2, #4]
 4348              	.LVL434:
1435:ThirdPackage/lwip220/api/api_msg.c ****     msg->err = ERR_OK;
 4349              		.loc 1 1435 5 is_stmt 0 view .LVU1336
 4350 0018 FFF7FEFF 		bl	udp_disconnect
 4351              	.LVL435:
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 130


1436:ThirdPackage/lwip220/api/api_msg.c ****   } else
 4352              		.loc 1 1436 5 is_stmt 1 view .LVU1337
1436:ThirdPackage/lwip220/api/api_msg.c ****   } else
 4353              		.loc 1 1436 14 is_stmt 0 view .LVU1338
 4354 001c 0023     		movs	r3, #0
 4355 001e 2371     		strb	r3, [r4, #4]
 4356 0020 F8E7     		b	.L364
 4357              		.cfi_endproc
 4358              	.LFE180:
 4360              		.section	.text.lwip_netconn_do_listen,"ax",%progbits
 4361              		.align	1
 4362              		.global	lwip_netconn_do_listen
 4363              		.syntax unified
 4364              		.thumb
 4365              		.thumb_func
 4367              	lwip_netconn_do_listen:
 4368              	.LVL436:
 4369              	.LFB181:
1454:ThirdPackage/lwip220/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 4370              		.loc 1 1454 1 is_stmt 1 view -0
 4371              		.cfi_startproc
 4372              		@ args = 0, pretend = 0, frame = 8
 4373              		@ frame_needed = 0, uses_anonymous_args = 0
1454:ThirdPackage/lwip220/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 4374              		.loc 1 1454 1 is_stmt 0 view .LVU1340
 4375 0000 30B5     		push	{r4, r5, lr}
 4376              	.LCFI26:
 4377              		.cfi_def_cfa_offset 12
 4378              		.cfi_offset 4, -12
 4379              		.cfi_offset 5, -8
 4380              		.cfi_offset 14, -4
 4381 0002 83B0     		sub	sp, sp, #12
 4382              	.LCFI27:
 4383              		.cfi_def_cfa_offset 24
 4384 0004 0446     		mov	r4, r0
1455:ThirdPackage/lwip220/api/api_msg.c ****   err_t err;
 4385              		.loc 1 1455 3 is_stmt 1 view .LVU1341
 4386              	.LVL437:
1456:ThirdPackage/lwip220/api/api_msg.c **** 
 4387              		.loc 1 1456 3 view .LVU1342
1458:ThirdPackage/lwip220/api/api_msg.c ****     if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) {
 4388              		.loc 1 1458 3 view .LVU1343
1458:ThirdPackage/lwip220/api/api_msg.c ****     if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) {
 4389              		.loc 1 1458 10 is_stmt 0 view .LVU1344
 4390 0006 0368     		ldr	r3, [r0]
1458:ThirdPackage/lwip220/api/api_msg.c ****     if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) {
 4391              		.loc 1 1458 21 view .LVU1345
 4392 0008 5868     		ldr	r0, [r3, #4]
 4393              	.LVL438:
1458:ThirdPackage/lwip220/api/api_msg.c ****     if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) {
 4394              		.loc 1 1458 6 view .LVU1346
 4395 000a 0028     		cmp	r0, #0
 4396 000c 5ED0     		beq	.L370
1459:ThirdPackage/lwip220/api/api_msg.c ****       if (msg->conn->state == NETCONN_NONE) {
 4397              		.loc 1 1459 5 is_stmt 1 view .LVU1347
1459:ThirdPackage/lwip220/api/api_msg.c ****       if (msg->conn->state == NETCONN_NONE) {
 4398              		.loc 1 1459 9 is_stmt 0 view .LVU1348
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 131


 4399 000e 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
1459:ThirdPackage/lwip220/api/api_msg.c ****       if (msg->conn->state == NETCONN_NONE) {
 4400              		.loc 1 1459 8 view .LVU1349
 4401 0010 02F0F002 		and	r2, r2, #240
 4402 0014 102A     		cmp	r2, #16
 4403 0016 07D0     		beq	.L380
1519:ThirdPackage/lwip220/api/api_msg.c ****     }
 4404              		.loc 1 1519 7 is_stmt 1 view .LVU1350
1519:ThirdPackage/lwip220/api/api_msg.c ****     }
 4405              		.loc 1 1519 11 is_stmt 0 view .LVU1351
 4406 0018 F023     		movs	r3, #240
 4407 001a 8DF80730 		strb	r3, [sp, #7]
 4408              	.L374:
1524:ThirdPackage/lwip220/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
 4409              		.loc 1 1524 3 is_stmt 1 view .LVU1352
1524:ThirdPackage/lwip220/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
 4410              		.loc 1 1524 12 is_stmt 0 view .LVU1353
 4411 001e 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 4412 0022 2371     		strb	r3, [r4, #4]
1525:ThirdPackage/lwip220/api/api_msg.c **** }
 4413              		.loc 1 1525 24 is_stmt 1 view .LVU1354
1526:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_TCP */
 4414              		.loc 1 1526 1 is_stmt 0 view .LVU1355
 4415 0024 03B0     		add	sp, sp, #12
 4416              	.LCFI28:
 4417              		.cfi_remember_state
 4418              		.cfi_def_cfa_offset 12
 4419              		@ sp needed
 4420 0026 30BD     		pop	{r4, r5, pc}
 4421              	.LVL439:
 4422              	.L380:
 4423              	.LCFI29:
 4424              		.cfi_restore_state
1460:ThirdPackage/lwip220/api/api_msg.c ****         struct tcp_pcb *lpcb;
 4425              		.loc 1 1460 7 is_stmt 1 view .LVU1356
1460:ThirdPackage/lwip220/api/api_msg.c ****         struct tcp_pcb *lpcb;
 4426              		.loc 1 1460 20 is_stmt 0 view .LVU1357
 4427 0028 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
1460:ThirdPackage/lwip220/api/api_msg.c ****         struct tcp_pcb *lpcb;
 4428              		.loc 1 1460 10 view .LVU1358
 4429 002a 002B     		cmp	r3, #0
 4430 002c 44D1     		bne	.L372
 4431              	.LBB23:
1461:ThirdPackage/lwip220/api/api_msg.c ****         if (msg->conn->pcb.tcp->state != CLOSED) {
 4432              		.loc 1 1461 9 is_stmt 1 view .LVU1359
1462:ThirdPackage/lwip220/api/api_msg.c ****           /* connection is not closed, cannot listen */
 4433              		.loc 1 1462 9 view .LVU1360
1462:ThirdPackage/lwip220/api/api_msg.c ****           /* connection is not closed, cannot listen */
 4434              		.loc 1 1462 31 is_stmt 0 view .LVU1361
 4435 002e 037D     		ldrb	r3, [r0, #20]	@ zero_extendqisi2
1462:ThirdPackage/lwip220/api/api_msg.c ****           /* connection is not closed, cannot listen */
 4436              		.loc 1 1462 12 view .LVU1362
 4437 0030 1BB1     		cbz	r3, .L373
1464:ThirdPackage/lwip220/api/api_msg.c ****         } else {
 4438              		.loc 1 1464 11 is_stmt 1 view .LVU1363
1464:ThirdPackage/lwip220/api/api_msg.c ****         } else {
 4439              		.loc 1 1464 15 is_stmt 0 view .LVU1364
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 132


 4440 0032 FA23     		movs	r3, #250
 4441 0034 8DF80730 		strb	r3, [sp, #7]
 4442 0038 F1E7     		b	.L374
 4443              	.L373:
 4444              	.LBB24:
1466:ThirdPackage/lwip220/api/api_msg.c **** #if TCP_LISTEN_BACKLOG
 4445              		.loc 1 1466 11 is_stmt 1 view .LVU1365
1470:ThirdPackage/lwip220/api/api_msg.c **** #endif /* TCP_LISTEN_BACKLOG */
 4446              		.loc 1 1470 11 view .LVU1366
 4447              	.LVL440:
1484:ThirdPackage/lwip220/api/api_msg.c **** 
 4448              		.loc 1 1484 11 view .LVU1367
1484:ThirdPackage/lwip220/api/api_msg.c **** 
 4449              		.loc 1 1484 18 is_stmt 0 view .LVU1368
 4450 003a 0DF10702 		add	r2, sp, #7
 4451 003e FF21     		movs	r1, #255
 4452 0040 FFF7FEFF 		bl	tcp_listen_with_backlog_and_err
 4453              	.LVL441:
1486:ThirdPackage/lwip220/api/api_msg.c ****             /* in this case, the old pcb is still allocated */
 4454              		.loc 1 1486 11 is_stmt 1 view .LVU1369
1486:ThirdPackage/lwip220/api/api_msg.c ****             /* in this case, the old pcb is still allocated */
 4455              		.loc 1 1486 14 is_stmt 0 view .LVU1370
 4456 0044 0546     		mov	r5, r0
 4457 0046 0028     		cmp	r0, #0
 4458 0048 E9D0     		beq	.L374
1490:ThirdPackage/lwip220/api/api_msg.c ****               /** @todo: should we drain the recvmbox here? */
 4459              		.loc 1 1490 13 is_stmt 1 view .LVU1371
1490:ThirdPackage/lwip220/api/api_msg.c ****               /** @todo: should we drain the recvmbox here? */
 4460              		.loc 1 1490 36 is_stmt 0 view .LVU1372
 4461 004a 2068     		ldr	r0, [r4]
 4462              	.LVL442:
1490:ThirdPackage/lwip220/api/api_msg.c ****               /** @todo: should we drain the recvmbox here? */
 4463              		.loc 1 1490 17 view .LVU1373
 4464 004c 1030     		adds	r0, r0, #16
 4465 004e FFF7FEFF 		bl	sys_mbox_valid
 4466              	.LVL443:
1490:ThirdPackage/lwip220/api/api_msg.c ****               /** @todo: should we drain the recvmbox here? */
 4467              		.loc 1 1490 16 view .LVU1374
 4468 0052 C8B9     		cbnz	r0, .L381
 4469              	.L375:
1495:ThirdPackage/lwip220/api/api_msg.c ****             if (!sys_mbox_valid(&msg->conn->acceptmbox)) {
 4470              		.loc 1 1495 13 is_stmt 1 view .LVU1375
1495:ThirdPackage/lwip220/api/api_msg.c ****             if (!sys_mbox_valid(&msg->conn->acceptmbox)) {
 4471              		.loc 1 1495 17 is_stmt 0 view .LVU1376
 4472 0054 0023     		movs	r3, #0
 4473 0056 8DF80730 		strb	r3, [sp, #7]
1496:ThirdPackage/lwip220/api/api_msg.c ****               err = sys_mbox_new(&msg->conn->acceptmbox, DEFAULT_ACCEPTMBOX_SIZE);
 4474              		.loc 1 1496 13 is_stmt 1 view .LVU1377
1496:ThirdPackage/lwip220/api/api_msg.c ****               err = sys_mbox_new(&msg->conn->acceptmbox, DEFAULT_ACCEPTMBOX_SIZE);
 4475              		.loc 1 1496 37 is_stmt 0 view .LVU1378
 4476 005a 2068     		ldr	r0, [r4]
1496:ThirdPackage/lwip220/api/api_msg.c ****               err = sys_mbox_new(&msg->conn->acceptmbox, DEFAULT_ACCEPTMBOX_SIZE);
 4477              		.loc 1 1496 18 view .LVU1379
 4478 005c 1430     		adds	r0, r0, #20
 4479 005e FFF7FEFF 		bl	sys_mbox_valid
 4480              	.LVL444:
1496:ThirdPackage/lwip220/api/api_msg.c ****               err = sys_mbox_new(&msg->conn->acceptmbox, DEFAULT_ACCEPTMBOX_SIZE);
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 133


 4481              		.loc 1 1496 16 view .LVU1380
 4482 0062 D0B1     		cbz	r0, .L382
 4483              	.L376:
1499:ThirdPackage/lwip220/api/api_msg.c ****               msg->conn->state = NETCONN_LISTEN;
 4484              		.loc 1 1499 13 is_stmt 1 view .LVU1381
1499:ThirdPackage/lwip220/api/api_msg.c ****               msg->conn->state = NETCONN_LISTEN;
 4485              		.loc 1 1499 21 is_stmt 0 view .LVU1382
 4486 0064 9DF90730 		ldrsb	r3, [sp, #7]
1499:ThirdPackage/lwip220/api/api_msg.c ****               msg->conn->state = NETCONN_LISTEN;
 4487              		.loc 1 1499 16 view .LVU1383
 4488 0068 FBB9     		cbnz	r3, .L377
1500:ThirdPackage/lwip220/api/api_msg.c ****               msg->conn->pcb.tcp = lpcb;
 4489              		.loc 1 1500 15 is_stmt 1 view .LVU1384
1500:ThirdPackage/lwip220/api/api_msg.c ****               msg->conn->pcb.tcp = lpcb;
 4490              		.loc 1 1500 18 is_stmt 0 view .LVU1385
 4491 006a 2368     		ldr	r3, [r4]
1500:ThirdPackage/lwip220/api/api_msg.c ****               msg->conn->pcb.tcp = lpcb;
 4492              		.loc 1 1500 32 view .LVU1386
 4493 006c 0222     		movs	r2, #2
 4494 006e 5A70     		strb	r2, [r3, #1]
1501:ThirdPackage/lwip220/api/api_msg.c ****               tcp_arg(msg->conn->pcb.tcp, msg->conn);
 4495              		.loc 1 1501 15 is_stmt 1 view .LVU1387
1501:ThirdPackage/lwip220/api/api_msg.c ****               tcp_arg(msg->conn->pcb.tcp, msg->conn);
 4496              		.loc 1 1501 18 is_stmt 0 view .LVU1388
 4497 0070 2368     		ldr	r3, [r4]
1501:ThirdPackage/lwip220/api/api_msg.c ****               tcp_arg(msg->conn->pcb.tcp, msg->conn);
 4498              		.loc 1 1501 34 view .LVU1389
 4499 0072 5D60     		str	r5, [r3, #4]
1502:ThirdPackage/lwip220/api/api_msg.c ****               tcp_accept(msg->conn->pcb.tcp, accept_function);
 4500              		.loc 1 1502 15 is_stmt 1 view .LVU1390
1502:ThirdPackage/lwip220/api/api_msg.c ****               tcp_accept(msg->conn->pcb.tcp, accept_function);
 4501              		.loc 1 1502 26 is_stmt 0 view .LVU1391
 4502 0074 2168     		ldr	r1, [r4]
1502:ThirdPackage/lwip220/api/api_msg.c ****               tcp_accept(msg->conn->pcb.tcp, accept_function);
 4503              		.loc 1 1502 15 view .LVU1392
 4504 0076 4868     		ldr	r0, [r1, #4]
 4505 0078 FFF7FEFF 		bl	tcp_arg
 4506              	.LVL445:
1503:ThirdPackage/lwip220/api/api_msg.c ****             } else {
 4507              		.loc 1 1503 15 is_stmt 1 view .LVU1393
1503:ThirdPackage/lwip220/api/api_msg.c ****             } else {
 4508              		.loc 1 1503 29 is_stmt 0 view .LVU1394
 4509 007c 2368     		ldr	r3, [r4]
1503:ThirdPackage/lwip220/api/api_msg.c ****             } else {
 4510              		.loc 1 1503 15 view .LVU1395
 4511 007e 1549     		ldr	r1, .L384
 4512 0080 5868     		ldr	r0, [r3, #4]
 4513 0082 FFF7FEFF 		bl	tcp_accept
 4514              	.LVL446:
 4515 0086 CAE7     		b	.L374
 4516              	.L381:
1492:ThirdPackage/lwip220/api/api_msg.c ****               sys_mbox_set_invalid(&msg->conn->recvmbox);
 4517              		.loc 1 1492 15 is_stmt 1 view .LVU1396
1492:ThirdPackage/lwip220/api/api_msg.c ****               sys_mbox_set_invalid(&msg->conn->recvmbox);
 4518              		.loc 1 1492 33 is_stmt 0 view .LVU1397
 4519 0088 2068     		ldr	r0, [r4]
1492:ThirdPackage/lwip220/api/api_msg.c ****               sys_mbox_set_invalid(&msg->conn->recvmbox);
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 134


 4520              		.loc 1 1492 15 view .LVU1398
 4521 008a 1030     		adds	r0, r0, #16
 4522 008c FFF7FEFF 		bl	sys_mbox_free
 4523              	.LVL447:
1493:ThirdPackage/lwip220/api/api_msg.c ****             }
 4524              		.loc 1 1493 15 is_stmt 1 view .LVU1399
1493:ThirdPackage/lwip220/api/api_msg.c ****             }
 4525              		.loc 1 1493 40 is_stmt 0 view .LVU1400
 4526 0090 2068     		ldr	r0, [r4]
1493:ThirdPackage/lwip220/api/api_msg.c ****             }
 4527              		.loc 1 1493 15 view .LVU1401
 4528 0092 1030     		adds	r0, r0, #16
 4529 0094 FFF7FEFF 		bl	sys_mbox_set_invalid
 4530              	.LVL448:
 4531 0098 DCE7     		b	.L375
 4532              	.L382:
1497:ThirdPackage/lwip220/api/api_msg.c ****             }
 4533              		.loc 1 1497 15 is_stmt 1 view .LVU1402
1497:ThirdPackage/lwip220/api/api_msg.c ****             }
 4534              		.loc 1 1497 38 is_stmt 0 view .LVU1403
 4535 009a 2068     		ldr	r0, [r4]
1497:ThirdPackage/lwip220/api/api_msg.c ****             }
 4536              		.loc 1 1497 21 view .LVU1404
 4537 009c 0621     		movs	r1, #6
 4538 009e 1430     		adds	r0, r0, #20
 4539 00a0 FFF7FEFF 		bl	sys_mbox_new
 4540              	.LVL449:
1497:ThirdPackage/lwip220/api/api_msg.c ****             }
 4541              		.loc 1 1497 19 view .LVU1405
 4542 00a4 8DF80700 		strb	r0, [sp, #7]
 4543 00a8 DCE7     		b	.L376
 4544              	.L377:
1506:ThirdPackage/lwip220/api/api_msg.c ****               msg->conn->pcb.tcp = NULL;
 4545              		.loc 1 1506 15 is_stmt 1 view .LVU1406
 4546 00aa 2846     		mov	r0, r5
 4547 00ac FFF7FEFF 		bl	tcp_close
 4548              	.LVL450:
1507:ThirdPackage/lwip220/api/api_msg.c ****             }
 4549              		.loc 1 1507 15 view .LVU1407
1507:ThirdPackage/lwip220/api/api_msg.c ****             }
 4550              		.loc 1 1507 18 is_stmt 0 view .LVU1408
 4551 00b0 2368     		ldr	r3, [r4]
1507:ThirdPackage/lwip220/api/api_msg.c ****             }
 4552              		.loc 1 1507 34 view .LVU1409
 4553 00b2 0022     		movs	r2, #0
 4554 00b4 5A60     		str	r2, [r3, #4]
 4555 00b6 B2E7     		b	.L374
 4556              	.LVL451:
 4557              	.L372:
1507:ThirdPackage/lwip220/api/api_msg.c ****             }
 4558              		.loc 1 1507 34 view .LVU1410
 4559              	.LBE24:
 4560              	.LBE23:
1511:ThirdPackage/lwip220/api/api_msg.c ****         /* already listening, allow updating of the backlog */
 4561              		.loc 1 1511 14 is_stmt 1 view .LVU1411
1511:ThirdPackage/lwip220/api/api_msg.c ****         /* already listening, allow updating of the backlog */
 4562              		.loc 1 1511 17 is_stmt 0 view .LVU1412
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 135


 4563 00b8 022B     		cmp	r3, #2
 4564 00ba 03D0     		beq	.L383
1516:ThirdPackage/lwip220/api/api_msg.c ****       }
 4565              		.loc 1 1516 9 is_stmt 1 view .LVU1413
1516:ThirdPackage/lwip220/api/api_msg.c ****       }
 4566              		.loc 1 1516 13 is_stmt 0 view .LVU1414
 4567 00bc F523     		movs	r3, #245
 4568 00be 8DF80730 		strb	r3, [sp, #7]
 4569 00c2 ACE7     		b	.L374
 4570              	.L383:
1513:ThirdPackage/lwip220/api/api_msg.c ****         tcp_backlog_set(msg->conn->pcb.tcp, msg->msg.lb.backlog);
 4571              		.loc 1 1513 9 is_stmt 1 view .LVU1415
1513:ThirdPackage/lwip220/api/api_msg.c ****         tcp_backlog_set(msg->conn->pcb.tcp, msg->msg.lb.backlog);
 4572              		.loc 1 1513 13 is_stmt 0 view .LVU1416
 4573 00c4 0023     		movs	r3, #0
 4574 00c6 8DF80730 		strb	r3, [sp, #7]
1514:ThirdPackage/lwip220/api/api_msg.c ****       } else {
 4575              		.loc 1 1514 65 is_stmt 1 view .LVU1417
 4576 00ca A8E7     		b	.L374
 4577              	.L370:
1522:ThirdPackage/lwip220/api/api_msg.c ****   }
 4578              		.loc 1 1522 5 view .LVU1418
1522:ThirdPackage/lwip220/api/api_msg.c ****   }
 4579              		.loc 1 1522 9 is_stmt 0 view .LVU1419
 4580 00cc F523     		movs	r3, #245
 4581 00ce 8DF80730 		strb	r3, [sp, #7]
 4582 00d2 A4E7     		b	.L374
 4583              	.L385:
 4584              		.align	2
 4585              	.L384:
 4586 00d4 00000000 		.word	accept_function
 4587              		.cfi_endproc
 4588              	.LFE181:
 4590              		.section	.text.lwip_netconn_do_send,"ax",%progbits
 4591              		.align	1
 4592              		.global	lwip_netconn_do_send
 4593              		.syntax unified
 4594              		.thumb
 4595              		.thumb_func
 4597              	lwip_netconn_do_send:
 4598              	.LVL452:
 4599              	.LFB182:
1537:ThirdPackage/lwip220/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 4600              		.loc 1 1537 1 is_stmt 1 view -0
 4601              		.cfi_startproc
 4602              		@ args = 0, pretend = 0, frame = 0
 4603              		@ frame_needed = 0, uses_anonymous_args = 0
1537:ThirdPackage/lwip220/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 4604              		.loc 1 1537 1 is_stmt 0 view .LVU1421
 4605 0000 10B5     		push	{r4, lr}
 4606              	.LCFI30:
 4607              		.cfi_def_cfa_offset 8
 4608              		.cfi_offset 4, -8
 4609              		.cfi_offset 14, -4
 4610 0002 0446     		mov	r4, r0
1538:ThirdPackage/lwip220/api/api_msg.c **** 
 4611              		.loc 1 1538 3 is_stmt 1 view .LVU1422
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 136


 4612              	.LVL453:
1540:ThirdPackage/lwip220/api/api_msg.c ****   if (err == ERR_OK) {
 4613              		.loc 1 1540 3 view .LVU1423
1540:ThirdPackage/lwip220/api/api_msg.c ****   if (err == ERR_OK) {
 4614              		.loc 1 1540 15 is_stmt 0 view .LVU1424
 4615 0004 0068     		ldr	r0, [r0]
 4616              	.LVL454:
1540:ThirdPackage/lwip220/api/api_msg.c ****   if (err == ERR_OK) {
 4617              		.loc 1 1540 15 view .LVU1425
 4618 0006 FFF7FEFF 		bl	netconn_err
 4619              	.LVL455:
1541:ThirdPackage/lwip220/api/api_msg.c ****     if (msg->conn->pcb.tcp != NULL) {
 4620              		.loc 1 1541 3 is_stmt 1 view .LVU1426
1541:ThirdPackage/lwip220/api/api_msg.c ****     if (msg->conn->pcb.tcp != NULL) {
 4621              		.loc 1 1541 6 is_stmt 0 view .LVU1427
 4622 000a 0346     		mov	r3, r0
 4623 000c 48B9     		cbnz	r0, .L387
1542:ThirdPackage/lwip220/api/api_msg.c ****       switch (NETCONNTYPE_GROUP(msg->conn->type)) {
 4624              		.loc 1 1542 5 is_stmt 1 view .LVU1428
1542:ThirdPackage/lwip220/api/api_msg.c ****       switch (NETCONNTYPE_GROUP(msg->conn->type)) {
 4625              		.loc 1 1542 12 is_stmt 0 view .LVU1429
 4626 000e 2368     		ldr	r3, [r4]
1542:ThirdPackage/lwip220/api/api_msg.c ****       switch (NETCONNTYPE_GROUP(msg->conn->type)) {
 4627              		.loc 1 1542 23 view .LVU1430
 4628 0010 5868     		ldr	r0, [r3, #4]
 4629              	.LVL456:
1542:ThirdPackage/lwip220/api/api_msg.c ****       switch (NETCONNTYPE_GROUP(msg->conn->type)) {
 4630              		.loc 1 1542 8 view .LVU1431
 4631 0012 C0B1     		cbz	r0, .L389
1543:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_RAW
 4632              		.loc 1 1543 7 is_stmt 1 view .LVU1432
1543:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_RAW
 4633              		.loc 1 1543 15 is_stmt 0 view .LVU1433
 4634 0014 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
1543:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_RAW
 4635              		.loc 1 1543 7 view .LVU1434
 4636 0016 03F0F003 		and	r3, r3, #240
 4637 001a 202B     		cmp	r3, #32
 4638 001c 03D0     		beq	.L392
1574:ThirdPackage/lwip220/api/api_msg.c ****           break;
 4639              		.loc 1 1574 15 view .LVU1435
 4640 001e 6FF00A03 		mvn	r3, #10
 4641              	.L387:
 4642              	.LVL457:
1581:ThirdPackage/lwip220/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
 4643              		.loc 1 1581 3 is_stmt 1 view .LVU1436
1581:ThirdPackage/lwip220/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
 4644              		.loc 1 1581 12 is_stmt 0 view .LVU1437
 4645 0022 2371     		strb	r3, [r4, #4]
1582:ThirdPackage/lwip220/api/api_msg.c **** }
 4646              		.loc 1 1582 24 is_stmt 1 view .LVU1438
1583:ThirdPackage/lwip220/api/api_msg.c **** 
 4647              		.loc 1 1583 1 is_stmt 0 view .LVU1439
 4648 0024 10BD     		pop	{r4, pc}
 4649              	.LVL458:
 4650              	.L392:
1565:ThirdPackage/lwip220/api/api_msg.c ****             err = udp_send(msg->conn->pcb.udp, msg->msg.b->p);
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 137


 4651              		.loc 1 1565 11 is_stmt 1 view .LVU1440
1565:ThirdPackage/lwip220/api/api_msg.c ****             err = udp_send(msg->conn->pcb.udp, msg->msg.b->p);
 4652              		.loc 1 1565 15 is_stmt 0 view .LVU1441
 4653 0026 A168     		ldr	r1, [r4, #8]
 4654 0028 8B68     		ldr	r3, [r1, #8]
1565:ThirdPackage/lwip220/api/api_msg.c ****             err = udp_send(msg->conn->pcb.udp, msg->msg.b->p);
 4655              		.loc 1 1565 14 view .LVU1442
 4656 002a 23B9     		cbnz	r3, .L388
1566:ThirdPackage/lwip220/api/api_msg.c ****           } else {
 4657              		.loc 1 1566 13 is_stmt 1 view .LVU1443
1566:ThirdPackage/lwip220/api/api_msg.c ****           } else {
 4658              		.loc 1 1566 19 is_stmt 0 view .LVU1444
 4659 002c 0968     		ldr	r1, [r1]
 4660 002e FFF7FEFF 		bl	udp_send
 4661              	.LVL459:
 4662 0032 0346     		mov	r3, r0
 4663              	.LVL460:
1566:ThirdPackage/lwip220/api/api_msg.c ****           } else {
 4664              		.loc 1 1566 19 view .LVU1445
 4665 0034 F5E7     		b	.L387
 4666              	.LVL461:
 4667              	.L388:
1568:ThirdPackage/lwip220/api/api_msg.c ****           }
 4668              		.loc 1 1568 13 is_stmt 1 view .LVU1446
1568:ThirdPackage/lwip220/api/api_msg.c ****           }
 4669              		.loc 1 1568 19 is_stmt 0 view .LVU1447
 4670 0036 8B89     		ldrh	r3, [r1, #12]
 4671 0038 01F10802 		add	r2, r1, #8
 4672 003c 0968     		ldr	r1, [r1]
 4673 003e FFF7FEFF 		bl	udp_sendto
 4674              	.LVL462:
 4675 0042 0346     		mov	r3, r0
 4676              	.LVL463:
1568:ThirdPackage/lwip220/api/api_msg.c ****           }
 4677              		.loc 1 1568 19 view .LVU1448
 4678 0044 EDE7     		b	.L387
 4679              	.LVL464:
 4680              	.L389:
1578:ThirdPackage/lwip220/api/api_msg.c ****     }
 4681              		.loc 1 1578 11 view .LVU1449
 4682 0046 6FF00A03 		mvn	r3, #10
 4683 004a EAE7     		b	.L387
 4684              		.cfi_endproc
 4685              	.LFE182:
 4687              		.section	.text.lwip_netconn_do_recv,"ax",%progbits
 4688              		.align	1
 4689              		.global	lwip_netconn_do_recv
 4690              		.syntax unified
 4691              		.thumb
 4692              		.thumb_func
 4694              	lwip_netconn_do_recv:
 4695              	.LVL465:
 4696              	.LFB183:
1594:ThirdPackage/lwip220/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 4697              		.loc 1 1594 1 is_stmt 1 view -0
 4698              		.cfi_startproc
 4699              		@ args = 0, pretend = 0, frame = 0
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 138


 4700              		@ frame_needed = 0, uses_anonymous_args = 0
1595:ThirdPackage/lwip220/api/api_msg.c **** 
 4701              		.loc 1 1595 3 view .LVU1451
1597:ThirdPackage/lwip220/api/api_msg.c ****   if (msg->conn->pcb.tcp != NULL) {
 4702              		.loc 1 1597 3 view .LVU1452
1597:ThirdPackage/lwip220/api/api_msg.c ****   if (msg->conn->pcb.tcp != NULL) {
 4703              		.loc 1 1597 12 is_stmt 0 view .LVU1453
 4704 0000 0023     		movs	r3, #0
 4705 0002 0371     		strb	r3, [r0, #4]
1598:ThirdPackage/lwip220/api/api_msg.c ****     if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) {
 4706              		.loc 1 1598 3 is_stmt 1 view .LVU1454
1598:ThirdPackage/lwip220/api/api_msg.c ****     if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) {
 4707              		.loc 1 1598 10 is_stmt 0 view .LVU1455
 4708 0004 0368     		ldr	r3, [r0]
1598:ThirdPackage/lwip220/api/api_msg.c ****     if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) {
 4709              		.loc 1 1598 21 view .LVU1456
 4710 0006 5A68     		ldr	r2, [r3, #4]
1598:ThirdPackage/lwip220/api/api_msg.c ****     if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) {
 4711              		.loc 1 1598 6 view .LVU1457
 4712 0008 BAB1     		cbz	r2, .L399
1594:ThirdPackage/lwip220/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 4713              		.loc 1 1594 1 view .LVU1458
 4714 000a 70B5     		push	{r4, r5, r6, lr}
 4715              	.LCFI31:
 4716              		.cfi_def_cfa_offset 16
 4717              		.cfi_offset 4, -16
 4718              		.cfi_offset 5, -12
 4719              		.cfi_offset 6, -8
 4720              		.cfi_offset 14, -4
 4721 000c 0646     		mov	r6, r0
1599:ThirdPackage/lwip220/api/api_msg.c ****       size_t remaining = msg->msg.r.len;
 4722              		.loc 1 1599 5 is_stmt 1 view .LVU1459
1599:ThirdPackage/lwip220/api/api_msg.c ****       size_t remaining = msg->msg.r.len;
 4723              		.loc 1 1599 9 is_stmt 0 view .LVU1460
 4724 000e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
1599:ThirdPackage/lwip220/api/api_msg.c ****       size_t remaining = msg->msg.r.len;
 4725              		.loc 1 1599 8 view .LVU1461
 4726 0010 03F0F003 		and	r3, r3, #240
 4727 0014 102B     		cmp	r3, #16
 4728 0016 00D0     		beq	.L402
 4729              	.LVL466:
 4730              	.L393:
1609:ThirdPackage/lwip220/api/api_msg.c **** 
 4731              		.loc 1 1609 1 view .LVU1462
 4732 0018 70BD     		pop	{r4, r5, r6, pc}
 4733              	.LVL467:
 4734              	.L402:
 4735              	.LBB25:
1600:ThirdPackage/lwip220/api/api_msg.c ****       do {
 4736              		.loc 1 1600 7 is_stmt 1 view .LVU1463
1600:ThirdPackage/lwip220/api/api_msg.c ****       do {
 4737              		.loc 1 1600 14 is_stmt 0 view .LVU1464
 4738 001a 8468     		ldr	r4, [r0, #8]
 4739              	.LVL468:
1600:ThirdPackage/lwip220/api/api_msg.c ****       do {
 4740              		.loc 1 1600 14 view .LVU1465
 4741 001c 08E0     		b	.L396
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 139


 4742              	.LVL469:
 4743              	.L397:
 4744              	.LBB26:
1602:ThirdPackage/lwip220/api/api_msg.c ****         tcp_recved(msg->conn->pcb.tcp, recved);
 4745              		.loc 1 1602 24 view .LVU1466
 4746 001e 4FF6FF75 		movw	r5, #65535
 4747              	.L395:
 4748              	.LVL470:
1603:ThirdPackage/lwip220/api/api_msg.c ****         remaining -= recved;
 4749              		.loc 1 1603 9 is_stmt 1 discriminator 4 view .LVU1467
1603:ThirdPackage/lwip220/api/api_msg.c ****         remaining -= recved;
 4750              		.loc 1 1603 23 is_stmt 0 discriminator 4 view .LVU1468
 4751 0022 3368     		ldr	r3, [r6]
1603:ThirdPackage/lwip220/api/api_msg.c ****         remaining -= recved;
 4752              		.loc 1 1603 9 discriminator 4 view .LVU1469
 4753 0024 2946     		mov	r1, r5
 4754 0026 5868     		ldr	r0, [r3, #4]
 4755 0028 FFF7FEFF 		bl	tcp_recved
 4756              	.LVL471:
1604:ThirdPackage/lwip220/api/api_msg.c ****       } while (remaining != 0);
 4757              		.loc 1 1604 9 is_stmt 1 discriminator 4 view .LVU1470
1604:ThirdPackage/lwip220/api/api_msg.c ****       } while (remaining != 0);
 4758              		.loc 1 1604 9 is_stmt 0 discriminator 4 view .LVU1471
 4759              	.LBE26:
1605:ThirdPackage/lwip220/api/api_msg.c ****     }
 4760              		.loc 1 1605 15 is_stmt 1 discriminator 4 view .LVU1472
1605:ThirdPackage/lwip220/api/api_msg.c ****     }
 4761              		.loc 1 1605 7 is_stmt 0 discriminator 4 view .LVU1473
 4762 002c 641B     		subs	r4, r4, r5
 4763              	.LVL472:
1605:ThirdPackage/lwip220/api/api_msg.c ****     }
 4764              		.loc 1 1605 7 discriminator 4 view .LVU1474
 4765 002e F3D0     		beq	.L393
 4766              	.LVL473:
 4767              	.L396:
1601:ThirdPackage/lwip220/api/api_msg.c ****         u16_t recved = (u16_t)((remaining > 0xffff) ? 0xffff : remaining);
 4768              		.loc 1 1601 7 is_stmt 1 view .LVU1475
 4769              	.LBB27:
1602:ThirdPackage/lwip220/api/api_msg.c ****         tcp_recved(msg->conn->pcb.tcp, recved);
 4770              		.loc 1 1602 9 view .LVU1476
1602:ThirdPackage/lwip220/api/api_msg.c ****         tcp_recved(msg->conn->pcb.tcp, recved);
 4771              		.loc 1 1602 24 is_stmt 0 view .LVU1477
 4772 0030 B4F5803F 		cmp	r4, #65536
 4773 0034 F3D2     		bcs	.L397
1602:ThirdPackage/lwip220/api/api_msg.c ****         tcp_recved(msg->conn->pcb.tcp, recved);
 4774              		.loc 1 1602 24 discriminator 1 view .LVU1478
 4775 0036 A5B2     		uxth	r5, r4
 4776 0038 F3E7     		b	.L395
 4777              	.LVL474:
 4778              	.L399:
 4779              	.LCFI32:
 4780              		.cfi_def_cfa_offset 0
 4781              		.cfi_restore 4
 4782              		.cfi_restore 5
 4783              		.cfi_restore 6
 4784              		.cfi_restore 14
1602:ThirdPackage/lwip220/api/api_msg.c ****         tcp_recved(msg->conn->pcb.tcp, recved);
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 140


 4785              		.loc 1 1602 24 discriminator 1 view .LVU1479
 4786 003a 7047     		bx	lr
 4787              	.LBE27:
 4788              	.LBE25:
 4789              		.cfi_endproc
 4790              	.LFE183:
 4792              		.section	.rodata.lwip_netconn_do_write.str1.4,"aMS",%progbits,1
 4793              		.align	2
 4794              	.LC38:
 4795 0000 6D73672D 		.ascii	"msg->msg.w.len != 0\000"
 4795      3E6D7367 
 4795      2E772E6C 
 4795      656E2021 
 4795      3D203000 
 4796              		.section	.text.lwip_netconn_do_write,"ax",%progbits
 4797              		.align	1
 4798              		.global	lwip_netconn_do_write
 4799              		.syntax unified
 4800              		.thumb
 4801              		.thumb_func
 4803              	lwip_netconn_do_write:
 4804              	.LVL475:
 4805              	.LFB185:
1808:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_TCP */
1809:ThirdPackage/lwip220/api/api_msg.c **** 
1810:ThirdPackage/lwip220/api/api_msg.c **** /**
1811:ThirdPackage/lwip220/api/api_msg.c ****  * Send some data on a TCP pcb contained in a netconn
1812:ThirdPackage/lwip220/api/api_msg.c ****  * Called from netconn_write
1813:ThirdPackage/lwip220/api/api_msg.c ****  *
1814:ThirdPackage/lwip220/api/api_msg.c ****  * @param m the api_msg pointing to the connection
1815:ThirdPackage/lwip220/api/api_msg.c ****  */
1816:ThirdPackage/lwip220/api/api_msg.c **** void
1817:ThirdPackage/lwip220/api/api_msg.c **** lwip_netconn_do_write(void *m)
1818:ThirdPackage/lwip220/api/api_msg.c **** {
 4806              		.loc 1 1818 1 is_stmt 1 view -0
 4807              		.cfi_startproc
 4808              		@ args = 0, pretend = 0, frame = 0
 4809              		@ frame_needed = 0, uses_anonymous_args = 0
 4810              		.loc 1 1818 1 is_stmt 0 view .LVU1481
 4811 0000 38B5     		push	{r3, r4, r5, lr}
 4812              	.LCFI33:
 4813              		.cfi_def_cfa_offset 16
 4814              		.cfi_offset 3, -16
 4815              		.cfi_offset 4, -12
 4816              		.cfi_offset 5, -8
 4817              		.cfi_offset 14, -4
 4818 0002 0446     		mov	r4, r0
1819:ThirdPackage/lwip220/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 4819              		.loc 1 1819 3 is_stmt 1 view .LVU1482
 4820              	.LVL476:
1820:ThirdPackage/lwip220/api/api_msg.c **** 
1821:ThirdPackage/lwip220/api/api_msg.c ****   err_t err = netconn_err(msg->conn);
 4821              		.loc 1 1821 3 view .LVU1483
 4822              		.loc 1 1821 15 is_stmt 0 view .LVU1484
 4823 0004 0068     		ldr	r0, [r0]
 4824              	.LVL477:
 4825              		.loc 1 1821 15 view .LVU1485
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 141


 4826 0006 FFF7FEFF 		bl	netconn_err
 4827              	.LVL478:
1822:ThirdPackage/lwip220/api/api_msg.c ****   if (err == ERR_OK) {
 4828              		.loc 1 1822 3 is_stmt 1 view .LVU1486
 4829              		.loc 1 1822 6 is_stmt 0 view .LVU1487
 4830 000a 0346     		mov	r3, r0
 4831 000c 38B9     		cbnz	r0, .L404
1823:ThirdPackage/lwip220/api/api_msg.c ****     if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) {
 4832              		.loc 1 1823 5 is_stmt 1 view .LVU1488
 4833              		.loc 1 1823 9 is_stmt 0 view .LVU1489
 4834 000e 2268     		ldr	r2, [r4]
 4835 0010 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 4836              		.loc 1 1823 8 view .LVU1490
 4837 0012 03F0F003 		and	r3, r3, #240
 4838 0016 102B     		cmp	r3, #16
 4839 0018 03D0     		beq	.L414
1824:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_TCP
1825:ThirdPackage/lwip220/api/api_msg.c ****       if (msg->conn->state != NETCONN_NONE) {
1826:ThirdPackage/lwip220/api/api_msg.c ****         /* netconn is connecting, closing or in blocking write */
1827:ThirdPackage/lwip220/api/api_msg.c ****         err = ERR_INPROGRESS;
1828:ThirdPackage/lwip220/api/api_msg.c ****       } else if (msg->conn->pcb.tcp != NULL) {
1829:ThirdPackage/lwip220/api/api_msg.c ****         msg->conn->state = NETCONN_WRITE;
1830:ThirdPackage/lwip220/api/api_msg.c ****         /* set all the variables used by lwip_netconn_do_writemore */
1831:ThirdPackage/lwip220/api/api_msg.c ****         LWIP_ASSERT("already writing or closing", msg->conn->current_msg == NULL);
1832:ThirdPackage/lwip220/api/api_msg.c ****         LWIP_ASSERT("msg->msg.w.len != 0", msg->msg.w.len != 0);
1833:ThirdPackage/lwip220/api/api_msg.c ****         msg->conn->current_msg = msg;
1834:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
1835:ThirdPackage/lwip220/api/api_msg.c ****         if (lwip_netconn_do_writemore(msg->conn, 0) != ERR_OK) {
1836:ThirdPackage/lwip220/api/api_msg.c ****           LWIP_ASSERT("state!", msg->conn->state == NETCONN_WRITE);
1837:ThirdPackage/lwip220/api/api_msg.c ****           UNLOCK_TCPIP_CORE();
1838:ThirdPackage/lwip220/api/api_msg.c ****           sys_arch_sem_wait(LWIP_API_MSG_SEM(msg), 0);
1839:ThirdPackage/lwip220/api/api_msg.c ****           LOCK_TCPIP_CORE();
1840:ThirdPackage/lwip220/api/api_msg.c ****           LWIP_ASSERT("state!", msg->conn->state != NETCONN_WRITE);
1841:ThirdPackage/lwip220/api/api_msg.c ****         }
1842:ThirdPackage/lwip220/api/api_msg.c **** #else /* LWIP_TCPIP_CORE_LOCKING */
1843:ThirdPackage/lwip220/api/api_msg.c ****         lwip_netconn_do_writemore(msg->conn);
1844:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
1845:ThirdPackage/lwip220/api/api_msg.c ****         /* for both cases: if lwip_netconn_do_writemore was called, don't ACK the APIMSG
1846:ThirdPackage/lwip220/api/api_msg.c ****            since lwip_netconn_do_writemore ACKs it! */
1847:ThirdPackage/lwip220/api/api_msg.c ****         return;
1848:ThirdPackage/lwip220/api/api_msg.c ****       } else {
1849:ThirdPackage/lwip220/api/api_msg.c ****         err = ERR_CONN;
1850:ThirdPackage/lwip220/api/api_msg.c ****       }
1851:ThirdPackage/lwip220/api/api_msg.c **** #else /* LWIP_TCP */
1852:ThirdPackage/lwip220/api/api_msg.c ****       err = ERR_VAL;
1853:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_TCP */
1854:ThirdPackage/lwip220/api/api_msg.c **** #if (LWIP_UDP || LWIP_RAW)
1855:ThirdPackage/lwip220/api/api_msg.c ****     } else {
1856:ThirdPackage/lwip220/api/api_msg.c ****       err = ERR_VAL;
 4840              		.loc 1 1856 11 view .LVU1491
 4841 001a 6FF00503 		mvn	r3, #5
 4842              	.L404:
 4843              	.LVL479:
1857:ThirdPackage/lwip220/api/api_msg.c **** #endif /* (LWIP_UDP || LWIP_RAW) */
1858:ThirdPackage/lwip220/api/api_msg.c ****     }
1859:ThirdPackage/lwip220/api/api_msg.c ****   }
1860:ThirdPackage/lwip220/api/api_msg.c ****   msg->err = err;
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 142


 4844              		.loc 1 1860 3 is_stmt 1 view .LVU1492
 4845              		.loc 1 1860 12 is_stmt 0 view .LVU1493
 4846 001e 2371     		strb	r3, [r4, #4]
1861:ThirdPackage/lwip220/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
 4847              		.loc 1 1861 24 is_stmt 1 view .LVU1494
 4848              	.LVL480:
 4849              	.L403:
1862:ThirdPackage/lwip220/api/api_msg.c **** }
 4850              		.loc 1 1862 1 is_stmt 0 view .LVU1495
 4851 0020 38BD     		pop	{r3, r4, r5, pc}
 4852              	.LVL481:
 4853              	.L414:
1825:ThirdPackage/lwip220/api/api_msg.c ****         /* netconn is connecting, closing or in blocking write */
 4854              		.loc 1 1825 7 is_stmt 1 view .LVU1496
1825:ThirdPackage/lwip220/api/api_msg.c ****         /* netconn is connecting, closing or in blocking write */
 4855              		.loc 1 1825 20 is_stmt 0 view .LVU1497
 4856 0022 5378     		ldrb	r3, [r2, #1]	@ zero_extendqisi2
1825:ThirdPackage/lwip220/api/api_msg.c ****         /* netconn is connecting, closing or in blocking write */
 4857              		.loc 1 1825 10 view .LVU1498
 4858 0024 002B     		cmp	r3, #0
 4859 0026 44D1     		bne	.L411
1828:ThirdPackage/lwip220/api/api_msg.c ****         msg->conn->state = NETCONN_WRITE;
 4860              		.loc 1 1828 14 is_stmt 1 view .LVU1499
1828:ThirdPackage/lwip220/api/api_msg.c ****         msg->conn->state = NETCONN_WRITE;
 4861              		.loc 1 1828 32 is_stmt 0 view .LVU1500
 4862 0028 5368     		ldr	r3, [r2, #4]
1828:ThirdPackage/lwip220/api/api_msg.c ****         msg->conn->state = NETCONN_WRITE;
 4863              		.loc 1 1828 17 view .LVU1501
 4864 002a 002B     		cmp	r3, #0
 4865 002c 44D0     		beq	.L412
1829:ThirdPackage/lwip220/api/api_msg.c ****         /* set all the variables used by lwip_netconn_do_writemore */
 4866              		.loc 1 1829 9 is_stmt 1 view .LVU1502
1829:ThirdPackage/lwip220/api/api_msg.c ****         /* set all the variables used by lwip_netconn_do_writemore */
 4867              		.loc 1 1829 26 is_stmt 0 view .LVU1503
 4868 002e 0123     		movs	r3, #1
 4869 0030 5370     		strb	r3, [r2, #1]
1831:ThirdPackage/lwip220/api/api_msg.c ****         LWIP_ASSERT("msg->msg.w.len != 0", msg->msg.w.len != 0);
 4870              		.loc 1 1831 9 is_stmt 1 view .LVU1504
1831:ThirdPackage/lwip220/api/api_msg.c ****         LWIP_ASSERT("msg->msg.w.len != 0", msg->msg.w.len != 0);
 4871              		.loc 1 1831 9 view .LVU1505
 4872 0032 2368     		ldr	r3, [r4]
 4873 0034 1B6A     		ldr	r3, [r3, #32]
 4874 0036 33B1     		cbz	r3, .L405
1831:ThirdPackage/lwip220/api/api_msg.c ****         LWIP_ASSERT("msg->msg.w.len != 0", msg->msg.w.len != 0);
 4875              		.loc 1 1831 9 discriminator 1 view .LVU1506
1831:ThirdPackage/lwip220/api/api_msg.c ****         LWIP_ASSERT("msg->msg.w.len != 0", msg->msg.w.len != 0);
 4876              		.loc 1 1831 9 discriminator 1 view .LVU1507
 4877 0038 214B     		ldr	r3, .L417
 4878 003a 40F22772 		movw	r2, #1831
 4879 003e 2149     		ldr	r1, .L417+4
 4880 0040 2148     		ldr	r0, .L417+8
 4881              	.LVL482:
1831:ThirdPackage/lwip220/api/api_msg.c ****         LWIP_ASSERT("msg->msg.w.len != 0", msg->msg.w.len != 0);
 4882              		.loc 1 1831 9 is_stmt 0 discriminator 1 view .LVU1508
 4883 0042 FFF7FEFF 		bl	printf
 4884              	.LVL483:
 4885              	.L405:
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 143


1831:ThirdPackage/lwip220/api/api_msg.c ****         LWIP_ASSERT("msg->msg.w.len != 0", msg->msg.w.len != 0);
 4886              		.loc 1 1831 9 is_stmt 1 discriminator 3 view .LVU1509
1831:ThirdPackage/lwip220/api/api_msg.c ****         LWIP_ASSERT("msg->msg.w.len != 0", msg->msg.w.len != 0);
 4887              		.loc 1 1831 9 discriminator 3 view .LVU1510
1832:ThirdPackage/lwip220/api/api_msg.c ****         msg->conn->current_msg = msg;
 4888              		.loc 1 1832 9 discriminator 3 view .LVU1511
1832:ThirdPackage/lwip220/api/api_msg.c ****         msg->conn->current_msg = msg;
 4889              		.loc 1 1832 9 discriminator 3 view .LVU1512
 4890 0046 6369     		ldr	r3, [r4, #20]
 4891 0048 1BB3     		cbz	r3, .L415
 4892              	.L406:
1832:ThirdPackage/lwip220/api/api_msg.c ****         msg->conn->current_msg = msg;
 4893              		.loc 1 1832 9 discriminator 3 view .LVU1513
1832:ThirdPackage/lwip220/api/api_msg.c ****         msg->conn->current_msg = msg;
 4894              		.loc 1 1832 9 discriminator 3 view .LVU1514
1833:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 4895              		.loc 1 1833 9 discriminator 3 view .LVU1515
1833:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 4896              		.loc 1 1833 12 is_stmt 0 discriminator 3 view .LVU1516
 4897 004a 2368     		ldr	r3, [r4]
1833:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 4898              		.loc 1 1833 32 discriminator 3 view .LVU1517
 4899 004c 1C62     		str	r4, [r3, #32]
1835:ThirdPackage/lwip220/api/api_msg.c ****           LWIP_ASSERT("state!", msg->conn->state == NETCONN_WRITE);
 4900              		.loc 1 1835 9 is_stmt 1 discriminator 3 view .LVU1518
1835:ThirdPackage/lwip220/api/api_msg.c ****           LWIP_ASSERT("state!", msg->conn->state == NETCONN_WRITE);
 4901              		.loc 1 1835 13 is_stmt 0 discriminator 3 view .LVU1519
 4902 004e 0021     		movs	r1, #0
 4903 0050 2068     		ldr	r0, [r4]
 4904 0052 FFF7FEFF 		bl	lwip_netconn_do_writemore
 4905              	.LVL484:
1835:ThirdPackage/lwip220/api/api_msg.c ****           LWIP_ASSERT("state!", msg->conn->state == NETCONN_WRITE);
 4906              		.loc 1 1835 12 discriminator 3 view .LVU1520
 4907 0056 0028     		cmp	r0, #0
 4908 0058 E2D0     		beq	.L403
1836:ThirdPackage/lwip220/api/api_msg.c ****           UNLOCK_TCPIP_CORE();
 4909              		.loc 1 1836 11 is_stmt 1 view .LVU1521
1836:ThirdPackage/lwip220/api/api_msg.c ****           UNLOCK_TCPIP_CORE();
 4910              		.loc 1 1836 11 view .LVU1522
 4911 005a 2368     		ldr	r3, [r4]
 4912 005c 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 4913 005e 012B     		cmp	r3, #1
 4914 0060 1FD1     		bne	.L416
 4915              	.L408:
1836:ThirdPackage/lwip220/api/api_msg.c ****           UNLOCK_TCPIP_CORE();
 4916              		.loc 1 1836 11 discriminator 3 view .LVU1523
1836:ThirdPackage/lwip220/api/api_msg.c ****           UNLOCK_TCPIP_CORE();
 4917              		.loc 1 1836 11 discriminator 3 view .LVU1524
1837:ThirdPackage/lwip220/api/api_msg.c ****           sys_arch_sem_wait(LWIP_API_MSG_SEM(msg), 0);
 4918              		.loc 1 1837 11 discriminator 3 view .LVU1525
 4919 0062 1A4D     		ldr	r5, .L417+12
 4920 0064 2846     		mov	r0, r5
 4921 0066 FFF7FEFF 		bl	sys_mutex_unlock
 4922              	.LVL485:
1838:ThirdPackage/lwip220/api/api_msg.c ****           LOCK_TCPIP_CORE();
 4923              		.loc 1 1838 11 discriminator 3 view .LVU1526
1838:ThirdPackage/lwip220/api/api_msg.c ****           LOCK_TCPIP_CORE();
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 144


 4924              		.loc 1 1838 29 is_stmt 0 discriminator 3 view .LVU1527
 4925 006a 2068     		ldr	r0, [r4]
1838:ThirdPackage/lwip220/api/api_msg.c ****           LOCK_TCPIP_CORE();
 4926              		.loc 1 1838 11 discriminator 3 view .LVU1528
 4927 006c 0021     		movs	r1, #0
 4928 006e 0C30     		adds	r0, r0, #12
 4929 0070 FFF7FEFF 		bl	sys_arch_sem_wait
 4930              	.LVL486:
1839:ThirdPackage/lwip220/api/api_msg.c ****           LWIP_ASSERT("state!", msg->conn->state != NETCONN_WRITE);
 4931              		.loc 1 1839 11 is_stmt 1 discriminator 3 view .LVU1529
 4932 0074 2846     		mov	r0, r5
 4933 0076 FFF7FEFF 		bl	sys_mutex_lock
 4934              	.LVL487:
1840:ThirdPackage/lwip220/api/api_msg.c ****         }
 4935              		.loc 1 1840 11 discriminator 3 view .LVU1530
1840:ThirdPackage/lwip220/api/api_msg.c ****         }
 4936              		.loc 1 1840 11 discriminator 3 view .LVU1531
 4937 007a 2368     		ldr	r3, [r4]
 4938 007c 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 4939 007e 012B     		cmp	r3, #1
 4940 0080 CED1     		bne	.L403
1840:ThirdPackage/lwip220/api/api_msg.c ****         }
 4941              		.loc 1 1840 11 discriminator 1 view .LVU1532
1840:ThirdPackage/lwip220/api/api_msg.c ****         }
 4942              		.loc 1 1840 11 discriminator 1 view .LVU1533
 4943 0082 0F4B     		ldr	r3, .L417
 4944 0084 4FF4E662 		mov	r2, #1840
 4945 0088 1149     		ldr	r1, .L417+16
 4946 008a 0F48     		ldr	r0, .L417+8
 4947 008c FFF7FEFF 		bl	printf
 4948              	.LVL488:
1840:ThirdPackage/lwip220/api/api_msg.c ****         }
 4949              		.loc 1 1840 11 discriminator 1 view .LVU1534
1840:ThirdPackage/lwip220/api/api_msg.c ****         }
 4950              		.loc 1 1840 11 discriminator 1 view .LVU1535
1847:ThirdPackage/lwip220/api/api_msg.c ****       } else {
 4951              		.loc 1 1847 9 discriminator 1 view .LVU1536
 4952 0090 C6E7     		b	.L403
 4953              	.L415:
1832:ThirdPackage/lwip220/api/api_msg.c ****         msg->conn->current_msg = msg;
 4954              		.loc 1 1832 9 discriminator 1 view .LVU1537
1832:ThirdPackage/lwip220/api/api_msg.c ****         msg->conn->current_msg = msg;
 4955              		.loc 1 1832 9 discriminator 1 view .LVU1538
 4956 0092 0B4B     		ldr	r3, .L417
 4957 0094 4FF4E562 		mov	r2, #1832
 4958 0098 0E49     		ldr	r1, .L417+20
 4959 009a 0B48     		ldr	r0, .L417+8
 4960 009c FFF7FEFF 		bl	printf
 4961              	.LVL489:
 4962 00a0 D3E7     		b	.L406
 4963              	.L416:
1836:ThirdPackage/lwip220/api/api_msg.c ****           UNLOCK_TCPIP_CORE();
 4964              		.loc 1 1836 11 discriminator 1 view .LVU1539
1836:ThirdPackage/lwip220/api/api_msg.c ****           UNLOCK_TCPIP_CORE();
 4965              		.loc 1 1836 11 discriminator 1 view .LVU1540
 4966 00a2 074B     		ldr	r3, .L417
 4967 00a4 40F22C72 		movw	r2, #1836
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 145


 4968 00a8 0949     		ldr	r1, .L417+16
 4969 00aa 0748     		ldr	r0, .L417+8
 4970 00ac FFF7FEFF 		bl	printf
 4971              	.LVL490:
 4972 00b0 D7E7     		b	.L408
 4973              	.LVL491:
 4974              	.L411:
1827:ThirdPackage/lwip220/api/api_msg.c ****       } else if (msg->conn->pcb.tcp != NULL) {
 4975              		.loc 1 1827 13 is_stmt 0 view .LVU1541
 4976 00b2 6FF00403 		mvn	r3, #4
 4977 00b6 B2E7     		b	.L404
 4978              	.L412:
1849:ThirdPackage/lwip220/api/api_msg.c ****       }
 4979              		.loc 1 1849 13 view .LVU1542
 4980 00b8 6FF00A03 		mvn	r3, #10
 4981 00bc AFE7     		b	.L404
 4982              	.L418:
 4983 00be 00BF     		.align	2
 4984              	.L417:
 4985 00c0 00000000 		.word	.LC0
 4986 00c4 34000000 		.word	.LC36
 4987 00c8 34000000 		.word	.LC2
 4988 00cc 00000000 		.word	lock_tcpip_core
 4989 00d0 50000000 		.word	.LC37
 4990 00d4 00000000 		.word	.LC38
 4991              		.cfi_endproc
 4992              	.LFE185:
 4994              		.section	.rodata.lwip_netconn_do_getaddr.str1.4,"aMS",%progbits,1
 4995              		.align	2
 4996              	.LC39:
 4997 0000 696E7661 		.ascii	"invalid netconn_type\000"
 4997      6C696420 
 4997      6E657463 
 4997      6F6E6E5F 
 4997      74797065 
 4998              		.section	.text.lwip_netconn_do_getaddr,"ax",%progbits
 4999              		.align	1
 5000              		.global	lwip_netconn_do_getaddr
 5001              		.syntax unified
 5002              		.thumb
 5003              		.thumb_func
 5005              	lwip_netconn_do_getaddr:
 5006              	.LVL492:
 5007              	.LFB186:
1863:ThirdPackage/lwip220/api/api_msg.c **** 
1864:ThirdPackage/lwip220/api/api_msg.c **** /**
1865:ThirdPackage/lwip220/api/api_msg.c ****  * Return a connection's local or remote address
1866:ThirdPackage/lwip220/api/api_msg.c ****  * Called from netconn_getaddr
1867:ThirdPackage/lwip220/api/api_msg.c ****  *
1868:ThirdPackage/lwip220/api/api_msg.c ****  * @param m the api_msg pointing to the connection
1869:ThirdPackage/lwip220/api/api_msg.c ****  */
1870:ThirdPackage/lwip220/api/api_msg.c **** void
1871:ThirdPackage/lwip220/api/api_msg.c **** lwip_netconn_do_getaddr(void *m)
1872:ThirdPackage/lwip220/api/api_msg.c **** {
 5008              		.loc 1 1872 1 is_stmt 1 view -0
 5009              		.cfi_startproc
 5010              		@ args = 0, pretend = 0, frame = 0
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 146


 5011              		@ frame_needed = 0, uses_anonymous_args = 0
 5012              		.loc 1 1872 1 is_stmt 0 view .LVU1544
 5013 0000 08B5     		push	{r3, lr}
 5014              	.LCFI34:
 5015              		.cfi_def_cfa_offset 8
 5016              		.cfi_offset 3, -8
 5017              		.cfi_offset 14, -4
1873:ThirdPackage/lwip220/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 5018              		.loc 1 1873 3 is_stmt 1 view .LVU1545
 5019              	.LVL493:
1874:ThirdPackage/lwip220/api/api_msg.c **** 
1875:ThirdPackage/lwip220/api/api_msg.c ****   if (msg->conn->pcb.ip != NULL) {
 5020              		.loc 1 1875 3 view .LVU1546
 5021              		.loc 1 1875 10 is_stmt 0 view .LVU1547
 5022 0002 0368     		ldr	r3, [r0]
 5023              		.loc 1 1875 21 view .LVU1548
 5024 0004 5B68     		ldr	r3, [r3, #4]
 5025              		.loc 1 1875 6 view .LVU1549
 5026 0006 002B     		cmp	r3, #0
 5027 0008 3FD0     		beq	.L420
1876:ThirdPackage/lwip220/api/api_msg.c ****     if (msg->msg.ad.local) {
 5028              		.loc 1 1876 5 is_stmt 1 view .LVU1550
 5029              		.loc 1 1876 20 is_stmt 0 view .LVU1551
 5030 000a 027C     		ldrb	r2, [r0, #16]	@ zero_extendqisi2
 5031              		.loc 1 1876 8 view .LVU1552
 5032 000c 9AB1     		cbz	r2, .L421
1877:ThirdPackage/lwip220/api/api_msg.c ****       ip_addr_copy(API_EXPR_DEREF(msg->msg.ad.ipaddr),
 5033              		.loc 1 1877 7 is_stmt 1 view .LVU1553
 5034 000e 8268     		ldr	r2, [r0, #8]
 5035 0010 1B68     		ldr	r3, [r3]
 5036 0012 1360     		str	r3, [r2]
 5037              	.L422:
1878:ThirdPackage/lwip220/api/api_msg.c ****                    msg->conn->pcb.ip->local_ip);
1879:ThirdPackage/lwip220/api/api_msg.c ****     } else {
1880:ThirdPackage/lwip220/api/api_msg.c ****       ip_addr_copy(API_EXPR_DEREF(msg->msg.ad.ipaddr),
1881:ThirdPackage/lwip220/api/api_msg.c ****                    msg->conn->pcb.ip->remote_ip);
1882:ThirdPackage/lwip220/api/api_msg.c ****     }
1883:ThirdPackage/lwip220/api/api_msg.c **** 
1884:ThirdPackage/lwip220/api/api_msg.c ****     msg->err = ERR_OK;
 5038              		.loc 1 1884 5 view .LVU1554
 5039              		.loc 1 1884 14 is_stmt 0 view .LVU1555
 5040 0014 0023     		movs	r3, #0
 5041 0016 0371     		strb	r3, [r0, #4]
1885:ThirdPackage/lwip220/api/api_msg.c ****     switch (NETCONNTYPE_GROUP(msg->conn->type)) {
 5042              		.loc 1 1885 5 is_stmt 1 view .LVU1556
 5043              		.loc 1 1885 13 is_stmt 0 view .LVU1557
 5044 0018 0268     		ldr	r2, [r0]
 5045 001a 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 5046 001c 03F0F003 		and	r3, r3, #240
 5047              		.loc 1 1885 5 view .LVU1558
 5048 0020 102B     		cmp	r3, #16
 5049 0022 18D0     		beq	.L423
 5050 0024 202B     		cmp	r3, #32
 5051 0026 28D1     		bne	.L424
1886:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_RAW
1887:ThirdPackage/lwip220/api/api_msg.c ****       case NETCONN_RAW:
1888:ThirdPackage/lwip220/api/api_msg.c ****         if (msg->msg.ad.local) {
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 147


1889:ThirdPackage/lwip220/api/api_msg.c ****           API_EXPR_DEREF(msg->msg.ad.port) = msg->conn->pcb.raw->protocol;
1890:ThirdPackage/lwip220/api/api_msg.c ****         } else {
1891:ThirdPackage/lwip220/api/api_msg.c ****           /* return an error as connecting is only a helper for upper layers */
1892:ThirdPackage/lwip220/api/api_msg.c ****           msg->err = ERR_CONN;
1893:ThirdPackage/lwip220/api/api_msg.c ****         }
1894:ThirdPackage/lwip220/api/api_msg.c ****         break;
1895:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_RAW */
1896:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_UDP
1897:ThirdPackage/lwip220/api/api_msg.c ****       case NETCONN_UDP:
1898:ThirdPackage/lwip220/api/api_msg.c ****         if (msg->msg.ad.local) {
 5052              		.loc 1 1898 9 is_stmt 1 view .LVU1559
 5053              		.loc 1 1898 24 is_stmt 0 view .LVU1560
 5054 0028 037C     		ldrb	r3, [r0, #16]	@ zero_extendqisi2
 5055              		.loc 1 1898 12 view .LVU1561
 5056 002a 43B1     		cbz	r3, .L425
1899:ThirdPackage/lwip220/api/api_msg.c ****           API_EXPR_DEREF(msg->msg.ad.port) = msg->conn->pcb.udp->local_port;
 5057              		.loc 1 1899 11 is_stmt 1 view .LVU1562
 5058              		.loc 1 1899 60 is_stmt 0 view .LVU1563
 5059 002c 5268     		ldr	r2, [r2, #4]
 5060              		.loc 1 1899 11 view .LVU1564
 5061 002e C368     		ldr	r3, [r0, #12]
 5062              		.loc 1 1899 64 view .LVU1565
 5063 0030 528A     		ldrh	r2, [r2, #18]
 5064              		.loc 1 1899 44 view .LVU1566
 5065 0032 1A80     		strh	r2, [r3]	@ movhi
 5066 0034 2BE0     		b	.L419
 5067              	.L421:
1880:ThirdPackage/lwip220/api/api_msg.c ****                    msg->conn->pcb.ip->remote_ip);
 5068              		.loc 1 1880 7 is_stmt 1 view .LVU1567
 5069 0036 8268     		ldr	r2, [r0, #8]
 5070 0038 5B68     		ldr	r3, [r3, #4]
 5071 003a 1360     		str	r3, [r2]
 5072 003c EAE7     		b	.L422
 5073              	.L425:
1900:ThirdPackage/lwip220/api/api_msg.c ****         } else {
1901:ThirdPackage/lwip220/api/api_msg.c ****           if ((msg->conn->pcb.udp->flags & UDP_FLAGS_CONNECTED) == 0) {
 5074              		.loc 1 1901 11 view .LVU1568
 5075              		.loc 1 1901 30 is_stmt 0 view .LVU1569
 5076 003e 5368     		ldr	r3, [r2, #4]
 5077              		.loc 1 1901 34 view .LVU1570
 5078 0040 1A7C     		ldrb	r2, [r3, #16]	@ zero_extendqisi2
 5079              		.loc 1 1901 14 view .LVU1571
 5080 0042 12F0040F 		tst	r2, #4
 5081 0046 02D1     		bne	.L427
1902:ThirdPackage/lwip220/api/api_msg.c ****             msg->err = ERR_CONN;
 5082              		.loc 1 1902 13 is_stmt 1 view .LVU1572
 5083              		.loc 1 1902 22 is_stmt 0 view .LVU1573
 5084 0048 F523     		movs	r3, #245
 5085 004a 0371     		strb	r3, [r0, #4]
 5086 004c 1FE0     		b	.L419
 5087              	.L427:
1903:ThirdPackage/lwip220/api/api_msg.c ****           } else {
1904:ThirdPackage/lwip220/api/api_msg.c ****             API_EXPR_DEREF(msg->msg.ad.port) = msg->conn->pcb.udp->remote_port;
 5088              		.loc 1 1904 13 is_stmt 1 view .LVU1574
 5089 004e C268     		ldr	r2, [r0, #12]
 5090              		.loc 1 1904 66 is_stmt 0 view .LVU1575
 5091 0050 9B8A     		ldrh	r3, [r3, #20]
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 148


 5092              		.loc 1 1904 46 view .LVU1576
 5093 0052 1380     		strh	r3, [r2]	@ movhi
 5094 0054 1BE0     		b	.L419
 5095              	.L423:
1905:ThirdPackage/lwip220/api/api_msg.c ****           }
1906:ThirdPackage/lwip220/api/api_msg.c ****         }
1907:ThirdPackage/lwip220/api/api_msg.c ****         break;
1908:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_UDP */
1909:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_TCP
1910:ThirdPackage/lwip220/api/api_msg.c ****       case NETCONN_TCP:
1911:ThirdPackage/lwip220/api/api_msg.c ****         if ((msg->msg.ad.local == 0) &&
 5096              		.loc 1 1911 9 is_stmt 1 view .LVU1577
 5097              		.loc 1 1911 25 is_stmt 0 view .LVU1578
 5098 0056 037C     		ldrb	r3, [r0, #16]	@ zero_extendqisi2
 5099              		.loc 1 1911 12 view .LVU1579
 5100 0058 1BB9     		cbnz	r3, .L428
1912:ThirdPackage/lwip220/api/api_msg.c ****             ((msg->conn->pcb.tcp->state == CLOSED) || (msg->conn->pcb.tcp->state == LISTEN))) {
 5101              		.loc 1 1912 29 discriminator 1 view .LVU1580
 5102 005a 5168     		ldr	r1, [r2, #4]
 5103              		.loc 1 1912 33 discriminator 1 view .LVU1581
 5104 005c 097D     		ldrb	r1, [r1, #20]	@ zero_extendqisi2
1911:ThirdPackage/lwip220/api/api_msg.c ****             ((msg->conn->pcb.tcp->state == CLOSED) || (msg->conn->pcb.tcp->state == LISTEN))) {
 5105              		.loc 1 1911 38 discriminator 1 view .LVU1582
 5106 005e 0129     		cmp	r1, #1
 5107 0060 05D9     		bls	.L432
 5108              	.L428:
1913:ThirdPackage/lwip220/api/api_msg.c ****           /* pcb is not connected and remote name is requested */
1914:ThirdPackage/lwip220/api/api_msg.c ****           msg->err = ERR_CONN;
1915:ThirdPackage/lwip220/api/api_msg.c ****         } else {
1916:ThirdPackage/lwip220/api/api_msg.c ****           API_EXPR_DEREF(msg->msg.ad.port) = (msg->msg.ad.local ? msg->conn->pcb.tcp->local_port : 
 5109              		.loc 1 1916 11 is_stmt 1 view .LVU1583
 5110              		.loc 1 1916 44 is_stmt 0 view .LVU1584
 5111 0062 3BB1     		cbz	r3, .L429
 5112              		.loc 1 1916 81 discriminator 1 view .LVU1585
 5113 0064 5368     		ldr	r3, [r2, #4]
 5114              		.loc 1 1916 44 discriminator 1 view .LVU1586
 5115 0066 DA8A     		ldrh	r2, [r3, #22]
 5116              	.L430:
 5117              		.loc 1 1916 11 discriminator 4 view .LVU1587
 5118 0068 C368     		ldr	r3, [r0, #12]
 5119              		.loc 1 1916 44 discriminator 4 view .LVU1588
 5120 006a 1A80     		strh	r2, [r3]	@ movhi
 5121 006c 0FE0     		b	.L419
 5122              	.L432:
1914:ThirdPackage/lwip220/api/api_msg.c ****         } else {
 5123              		.loc 1 1914 11 is_stmt 1 view .LVU1589
1914:ThirdPackage/lwip220/api/api_msg.c ****         } else {
 5124              		.loc 1 1914 20 is_stmt 0 view .LVU1590
 5125 006e F523     		movs	r3, #245
 5126 0070 0371     		strb	r3, [r0, #4]
 5127 0072 0CE0     		b	.L419
 5128              	.L429:
 5129              		.loc 1 1916 114 discriminator 2 view .LVU1591
 5130 0074 5368     		ldr	r3, [r2, #4]
 5131              		.loc 1 1916 44 discriminator 2 view .LVU1592
 5132 0076 1A8B     		ldrh	r2, [r3, #24]
 5133 0078 F6E7     		b	.L430
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 149


 5134              	.L424:
1917:ThirdPackage/lwip220/api/api_msg.c ****         }
1918:ThirdPackage/lwip220/api/api_msg.c ****         break;
1919:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_TCP */
1920:ThirdPackage/lwip220/api/api_msg.c ****       default:
1921:ThirdPackage/lwip220/api/api_msg.c ****         LWIP_ASSERT("invalid netconn_type", 0);
 5135              		.loc 1 1921 9 is_stmt 1 discriminator 1 view .LVU1593
 5136              		.loc 1 1921 9 discriminator 1 view .LVU1594
 5137              		.loc 1 1921 9 discriminator 1 view .LVU1595
 5138              		.loc 1 1921 9 discriminator 1 view .LVU1596
 5139 007a 054B     		ldr	r3, .L433
 5140 007c 40F28172 		movw	r2, #1921
 5141 0080 0449     		ldr	r1, .L433+4
 5142 0082 0548     		ldr	r0, .L433+8
 5143              	.LVL494:
 5144              		.loc 1 1921 9 is_stmt 0 discriminator 1 view .LVU1597
 5145 0084 FFF7FEFF 		bl	printf
 5146              	.LVL495:
 5147              		.loc 1 1921 9 is_stmt 1 discriminator 1 view .LVU1598
 5148              		.loc 1 1921 9 discriminator 1 view .LVU1599
1922:ThirdPackage/lwip220/api/api_msg.c ****         break;
 5149              		.loc 1 1922 9 discriminator 1 view .LVU1600
 5150 0088 01E0     		b	.L419
 5151              	.LVL496:
 5152              	.L420:
1923:ThirdPackage/lwip220/api/api_msg.c ****     }
1924:ThirdPackage/lwip220/api/api_msg.c ****   } else {
1925:ThirdPackage/lwip220/api/api_msg.c ****     msg->err = ERR_CONN;
 5153              		.loc 1 1925 5 view .LVU1601
 5154              		.loc 1 1925 14 is_stmt 0 view .LVU1602
 5155 008a F523     		movs	r3, #245
 5156 008c 0371     		strb	r3, [r0, #4]
1926:ThirdPackage/lwip220/api/api_msg.c ****   }
1927:ThirdPackage/lwip220/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
 5157              		.loc 1 1927 24 is_stmt 1 view .LVU1603
 5158              	.LVL497:
 5159              	.L419:
1928:ThirdPackage/lwip220/api/api_msg.c **** }
 5160              		.loc 1 1928 1 is_stmt 0 view .LVU1604
 5161 008e 08BD     		pop	{r3, pc}
 5162              	.L434:
 5163              		.align	2
 5164              	.L433:
 5165 0090 00000000 		.word	.LC0
 5166 0094 00000000 		.word	.LC39
 5167 0098 34000000 		.word	.LC2
 5168              		.cfi_endproc
 5169              	.LFE186:
 5171              		.section	.text.lwip_netconn_do_close,"ax",%progbits
 5172              		.align	1
 5173              		.global	lwip_netconn_do_close
 5174              		.syntax unified
 5175              		.thumb
 5176              		.thumb_func
 5178              	lwip_netconn_do_close:
 5179              	.LVL498:
 5180              	.LFB187:
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 150


1929:ThirdPackage/lwip220/api/api_msg.c **** 
1930:ThirdPackage/lwip220/api/api_msg.c **** /**
1931:ThirdPackage/lwip220/api/api_msg.c ****  * Close or half-shutdown a TCP pcb contained in a netconn
1932:ThirdPackage/lwip220/api/api_msg.c ****  * Called from netconn_close
1933:ThirdPackage/lwip220/api/api_msg.c ****  * In contrast to closing sockets, the netconn is not deallocated.
1934:ThirdPackage/lwip220/api/api_msg.c ****  *
1935:ThirdPackage/lwip220/api/api_msg.c ****  * @param m the api_msg pointing to the connection
1936:ThirdPackage/lwip220/api/api_msg.c ****  */
1937:ThirdPackage/lwip220/api/api_msg.c **** void
1938:ThirdPackage/lwip220/api/api_msg.c **** lwip_netconn_do_close(void *m)
1939:ThirdPackage/lwip220/api/api_msg.c **** {
 5181              		.loc 1 1939 1 is_stmt 1 view -0
 5182              		.cfi_startproc
 5183              		@ args = 0, pretend = 0, frame = 0
 5184              		@ frame_needed = 0, uses_anonymous_args = 0
 5185              		.loc 1 1939 1 is_stmt 0 view .LVU1606
 5186 0000 38B5     		push	{r3, r4, r5, lr}
 5187              	.LCFI35:
 5188              		.cfi_def_cfa_offset 16
 5189              		.cfi_offset 3, -16
 5190              		.cfi_offset 4, -12
 5191              		.cfi_offset 5, -8
 5192              		.cfi_offset 14, -4
 5193 0002 0446     		mov	r4, r0
1940:ThirdPackage/lwip220/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 5194              		.loc 1 1940 3 is_stmt 1 view .LVU1607
 5195              	.LVL499:
1941:ThirdPackage/lwip220/api/api_msg.c **** 
1942:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_TCP
1943:ThirdPackage/lwip220/api/api_msg.c ****   enum netconn_state state = msg->conn->state;
 5196              		.loc 1 1943 3 view .LVU1608
 5197              		.loc 1 1943 33 is_stmt 0 view .LVU1609
 5198 0004 0068     		ldr	r0, [r0]
 5199              	.LVL500:
 5200              		.loc 1 1943 22 view .LVU1610
 5201 0006 4278     		ldrb	r2, [r0, #1]	@ zero_extendqisi2
 5202              	.LVL501:
1944:ThirdPackage/lwip220/api/api_msg.c ****   /* First check if this is a TCP netconn and if it is in a correct state
1945:ThirdPackage/lwip220/api/api_msg.c ****       (LISTEN doesn't support half shutdown) */
1946:ThirdPackage/lwip220/api/api_msg.c ****   if ((msg->conn->pcb.tcp != NULL) &&
 5203              		.loc 1 1946 3 is_stmt 1 view .LVU1611
 5204              		.loc 1 1946 22 is_stmt 0 view .LVU1612
 5205 0008 4368     		ldr	r3, [r0, #4]
 5206              		.loc 1 1946 6 view .LVU1613
 5207 000a 23B1     		cbz	r3, .L436
1947:ThirdPackage/lwip220/api/api_msg.c ****       (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) &&
 5208              		.loc 1 1947 8 discriminator 1 view .LVU1614
 5209 000c 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
1946:ThirdPackage/lwip220/api/api_msg.c ****       (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) &&
 5210              		.loc 1 1946 36 discriminator 1 view .LVU1615
 5211 000e 03F0F003 		and	r3, r3, #240
 5212 0012 102B     		cmp	r3, #16
 5213 0014 02D0     		beq	.L446
 5214              	.L436:
1948:ThirdPackage/lwip220/api/api_msg.c ****       ((msg->msg.sd.shut == NETCONN_SHUT_RDWR) || (state != NETCONN_LISTEN))) {
1949:ThirdPackage/lwip220/api/api_msg.c ****     /* Check if we are in a connected state */
1950:ThirdPackage/lwip220/api/api_msg.c ****     if (state == NETCONN_CONNECT) {
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 151


1951:ThirdPackage/lwip220/api/api_msg.c ****       /* TCP connect in progress: cannot shutdown */
1952:ThirdPackage/lwip220/api/api_msg.c ****       msg->err = ERR_CONN;
1953:ThirdPackage/lwip220/api/api_msg.c ****     } else if (state == NETCONN_WRITE) {
1954:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
1955:ThirdPackage/lwip220/api/api_msg.c ****       if (msg->msg.sd.shut & NETCONN_SHUT_WR) {
1956:ThirdPackage/lwip220/api/api_msg.c ****         /* close requested, abort running write */
1957:ThirdPackage/lwip220/api/api_msg.c ****         sys_sem_t *write_completed_sem;
1958:ThirdPackage/lwip220/api/api_msg.c ****         LWIP_ASSERT("msg->conn->current_msg != NULL", msg->conn->current_msg != NULL);
1959:ThirdPackage/lwip220/api/api_msg.c ****         write_completed_sem = LWIP_API_MSG_SEM(msg->conn->current_msg);
1960:ThirdPackage/lwip220/api/api_msg.c ****         msg->conn->current_msg->err = ERR_CLSD;
1961:ThirdPackage/lwip220/api/api_msg.c ****         msg->conn->current_msg = NULL;
1962:ThirdPackage/lwip220/api/api_msg.c ****         msg->conn->state = NETCONN_NONE;
1963:ThirdPackage/lwip220/api/api_msg.c ****         state = NETCONN_NONE;
1964:ThirdPackage/lwip220/api/api_msg.c ****         sys_sem_signal(write_completed_sem);
1965:ThirdPackage/lwip220/api/api_msg.c ****       } else {
1966:ThirdPackage/lwip220/api/api_msg.c ****         LWIP_ASSERT("msg->msg.sd.shut == NETCONN_SHUT_RD", msg->msg.sd.shut == NETCONN_SHUT_RD);
1967:ThirdPackage/lwip220/api/api_msg.c ****         /* In this case, let the write continue and do not interfere with
1968:ThirdPackage/lwip220/api/api_msg.c ****            conn->current_msg or conn->state! */
1969:ThirdPackage/lwip220/api/api_msg.c ****         msg->err = tcp_shutdown(msg->conn->pcb.tcp, 1, 0);
1970:ThirdPackage/lwip220/api/api_msg.c ****       }
1971:ThirdPackage/lwip220/api/api_msg.c ****     }
1972:ThirdPackage/lwip220/api/api_msg.c ****     if (state == NETCONN_NONE) {
1973:ThirdPackage/lwip220/api/api_msg.c **** #else /* LWIP_NETCONN_FULLDUPLEX */
1974:ThirdPackage/lwip220/api/api_msg.c ****       msg->err = ERR_INPROGRESS;
1975:ThirdPackage/lwip220/api/api_msg.c ****     } else {
1976:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
1977:ThirdPackage/lwip220/api/api_msg.c ****       if (msg->msg.sd.shut & NETCONN_SHUT_RD) {
1978:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
1979:ThirdPackage/lwip220/api/api_msg.c ****         /* Mark mboxes invalid */
1980:ThirdPackage/lwip220/api/api_msg.c ****         netconn_mark_mbox_invalid(msg->conn);
1981:ThirdPackage/lwip220/api/api_msg.c **** #else /* LWIP_NETCONN_FULLDUPLEX */
1982:ThirdPackage/lwip220/api/api_msg.c ****         netconn_drain(msg->conn);
1983:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
1984:ThirdPackage/lwip220/api/api_msg.c ****       }
1985:ThirdPackage/lwip220/api/api_msg.c ****       LWIP_ASSERT("already writing or closing", msg->conn->current_msg == NULL);
1986:ThirdPackage/lwip220/api/api_msg.c ****       msg->conn->state = NETCONN_CLOSE;
1987:ThirdPackage/lwip220/api/api_msg.c ****       msg->conn->current_msg = msg;
1988:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
1989:ThirdPackage/lwip220/api/api_msg.c ****       if (lwip_netconn_do_close_internal(msg->conn, 0) != ERR_OK) {
1990:ThirdPackage/lwip220/api/api_msg.c ****         LWIP_ASSERT("state!", msg->conn->state == NETCONN_CLOSE);
1991:ThirdPackage/lwip220/api/api_msg.c ****         UNLOCK_TCPIP_CORE();
1992:ThirdPackage/lwip220/api/api_msg.c ****         sys_arch_sem_wait(LWIP_API_MSG_SEM(msg), 0);
1993:ThirdPackage/lwip220/api/api_msg.c ****         LOCK_TCPIP_CORE();
1994:ThirdPackage/lwip220/api/api_msg.c ****         LWIP_ASSERT("state!", msg->conn->state == NETCONN_NONE);
1995:ThirdPackage/lwip220/api/api_msg.c ****       }
1996:ThirdPackage/lwip220/api/api_msg.c **** #else /* LWIP_TCPIP_CORE_LOCKING */
1997:ThirdPackage/lwip220/api/api_msg.c ****       lwip_netconn_do_close_internal(msg->conn);
1998:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
1999:ThirdPackage/lwip220/api/api_msg.c ****       /* for tcp netconns, lwip_netconn_do_close_internal ACKs the message */
2000:ThirdPackage/lwip220/api/api_msg.c ****       return;
2001:ThirdPackage/lwip220/api/api_msg.c ****     }
2002:ThirdPackage/lwip220/api/api_msg.c ****   } else
2003:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_TCP */
2004:ThirdPackage/lwip220/api/api_msg.c ****   {
2005:ThirdPackage/lwip220/api/api_msg.c ****     msg->err = ERR_CONN;
 5215              		.loc 1 2005 5 is_stmt 1 view .LVU1616
 5216              		.loc 1 2005 14 is_stmt 0 view .LVU1617
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 152


 5217 0016 F523     		movs	r3, #245
 5218 0018 2371     		strb	r3, [r4, #4]
2006:ThirdPackage/lwip220/api/api_msg.c ****   }
2007:ThirdPackage/lwip220/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
 5219              		.loc 1 2007 24 is_stmt 1 view .LVU1618
 5220              	.LVL502:
 5221              	.L435:
2008:ThirdPackage/lwip220/api/api_msg.c **** }
 5222              		.loc 1 2008 1 is_stmt 0 view .LVU1619
 5223 001a 38BD     		pop	{r3, r4, r5, pc}
 5224              	.LVL503:
 5225              	.L446:
1948:ThirdPackage/lwip220/api/api_msg.c ****       ((msg->msg.sd.shut == NETCONN_SHUT_RDWR) || (state != NETCONN_LISTEN))) {
 5226              		.loc 1 1948 20 view .LVU1620
 5227 001c 237A     		ldrb	r3, [r4, #8]	@ zero_extendqisi2
1947:ThirdPackage/lwip220/api/api_msg.c ****       ((msg->msg.sd.shut == NETCONN_SHUT_RDWR) || (state != NETCONN_LISTEN))) {
 5228              		.loc 1 1947 59 view .LVU1621
 5229 001e 032B     		cmp	r3, #3
 5230 0020 01D0     		beq	.L437
1948:ThirdPackage/lwip220/api/api_msg.c ****     /* Check if we are in a connected state */
 5231              		.loc 1 1948 48 view .LVU1622
 5232 0022 022A     		cmp	r2, #2
 5233 0024 F7D0     		beq	.L436
 5234              	.L437:
1950:ThirdPackage/lwip220/api/api_msg.c ****       /* TCP connect in progress: cannot shutdown */
 5235              		.loc 1 1950 5 is_stmt 1 view .LVU1623
1950:ThirdPackage/lwip220/api/api_msg.c ****       /* TCP connect in progress: cannot shutdown */
 5236              		.loc 1 1950 8 is_stmt 0 view .LVU1624
 5237 0026 032A     		cmp	r2, #3
 5238 0028 04D0     		beq	.L447
1953:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 5239              		.loc 1 1953 12 is_stmt 1 view .LVU1625
1953:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 5240              		.loc 1 1953 15 is_stmt 0 view .LVU1626
 5241 002a 012A     		cmp	r2, #1
 5242 002c 05D1     		bne	.L440
1974:ThirdPackage/lwip220/api/api_msg.c ****     } else {
 5243              		.loc 1 1974 7 is_stmt 1 view .LVU1627
1974:ThirdPackage/lwip220/api/api_msg.c ****     } else {
 5244              		.loc 1 1974 16 is_stmt 0 view .LVU1628
 5245 002e FB23     		movs	r3, #251
 5246 0030 2371     		strb	r3, [r4, #4]
 5247 0032 F2E7     		b	.L435
 5248              	.L447:
1952:ThirdPackage/lwip220/api/api_msg.c ****     } else if (state == NETCONN_WRITE) {
 5249              		.loc 1 1952 7 is_stmt 1 view .LVU1629
1952:ThirdPackage/lwip220/api/api_msg.c ****     } else if (state == NETCONN_WRITE) {
 5250              		.loc 1 1952 16 is_stmt 0 view .LVU1630
 5251 0034 F523     		movs	r3, #245
 5252 0036 2371     		strb	r3, [r4, #4]
 5253 0038 EFE7     		b	.L435
 5254              	.L440:
1977:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 5255              		.loc 1 1977 7 is_stmt 1 view .LVU1631
1977:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 5256              		.loc 1 1977 10 is_stmt 0 view .LVU1632
 5257 003a 13F0010F 		tst	r3, #1
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 153


 5258 003e 30D1     		bne	.L448
 5259              	.LVL504:
 5260              	.L441:
1985:ThirdPackage/lwip220/api/api_msg.c ****       msg->conn->state = NETCONN_CLOSE;
 5261              		.loc 1 1985 7 is_stmt 1 view .LVU1633
1985:ThirdPackage/lwip220/api/api_msg.c ****       msg->conn->state = NETCONN_CLOSE;
 5262              		.loc 1 1985 7 view .LVU1634
 5263 0040 2368     		ldr	r3, [r4]
 5264 0042 1B6A     		ldr	r3, [r3, #32]
 5265 0044 33B1     		cbz	r3, .L442
1985:ThirdPackage/lwip220/api/api_msg.c ****       msg->conn->state = NETCONN_CLOSE;
 5266              		.loc 1 1985 7 discriminator 1 view .LVU1635
1985:ThirdPackage/lwip220/api/api_msg.c ****       msg->conn->state = NETCONN_CLOSE;
 5267              		.loc 1 1985 7 discriminator 1 view .LVU1636
 5268 0046 1C4B     		ldr	r3, .L450
 5269 0048 40F2C172 		movw	r2, #1985
 5270 004c 1B49     		ldr	r1, .L450+4
 5271 004e 1C48     		ldr	r0, .L450+8
 5272 0050 FFF7FEFF 		bl	printf
 5273              	.LVL505:
 5274              	.L442:
1985:ThirdPackage/lwip220/api/api_msg.c ****       msg->conn->state = NETCONN_CLOSE;
 5275              		.loc 1 1985 7 discriminator 3 view .LVU1637
1985:ThirdPackage/lwip220/api/api_msg.c ****       msg->conn->state = NETCONN_CLOSE;
 5276              		.loc 1 1985 7 discriminator 3 view .LVU1638
1986:ThirdPackage/lwip220/api/api_msg.c ****       msg->conn->current_msg = msg;
 5277              		.loc 1 1986 7 discriminator 3 view .LVU1639
1986:ThirdPackage/lwip220/api/api_msg.c ****       msg->conn->current_msg = msg;
 5278              		.loc 1 1986 10 is_stmt 0 discriminator 3 view .LVU1640
 5279 0054 2368     		ldr	r3, [r4]
1986:ThirdPackage/lwip220/api/api_msg.c ****       msg->conn->current_msg = msg;
 5280              		.loc 1 1986 24 discriminator 3 view .LVU1641
 5281 0056 0422     		movs	r2, #4
 5282 0058 5A70     		strb	r2, [r3, #1]
1987:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 5283              		.loc 1 1987 7 is_stmt 1 discriminator 3 view .LVU1642
1987:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 5284              		.loc 1 1987 10 is_stmt 0 discriminator 3 view .LVU1643
 5285 005a 2368     		ldr	r3, [r4]
1987:ThirdPackage/lwip220/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 5286              		.loc 1 1987 30 discriminator 3 view .LVU1644
 5287 005c 1C62     		str	r4, [r3, #32]
1989:ThirdPackage/lwip220/api/api_msg.c ****         LWIP_ASSERT("state!", msg->conn->state == NETCONN_CLOSE);
 5288              		.loc 1 1989 7 is_stmt 1 discriminator 3 view .LVU1645
1989:ThirdPackage/lwip220/api/api_msg.c ****         LWIP_ASSERT("state!", msg->conn->state == NETCONN_CLOSE);
 5289              		.loc 1 1989 11 is_stmt 0 discriminator 3 view .LVU1646
 5290 005e 0021     		movs	r1, #0
 5291 0060 2068     		ldr	r0, [r4]
 5292 0062 FFF7FEFF 		bl	lwip_netconn_do_close_internal
 5293              	.LVL506:
1989:ThirdPackage/lwip220/api/api_msg.c ****         LWIP_ASSERT("state!", msg->conn->state == NETCONN_CLOSE);
 5294              		.loc 1 1989 10 discriminator 3 view .LVU1647
 5295 0066 0028     		cmp	r0, #0
 5296 0068 D7D0     		beq	.L435
1990:ThirdPackage/lwip220/api/api_msg.c ****         UNLOCK_TCPIP_CORE();
 5297              		.loc 1 1990 9 is_stmt 1 view .LVU1648
1990:ThirdPackage/lwip220/api/api_msg.c ****         UNLOCK_TCPIP_CORE();
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 154


 5298              		.loc 1 1990 9 view .LVU1649
 5299 006a 2368     		ldr	r3, [r4]
 5300 006c 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 5301 006e 042B     		cmp	r3, #4
 5302 0070 1AD1     		bne	.L449
 5303              	.L444:
1990:ThirdPackage/lwip220/api/api_msg.c ****         UNLOCK_TCPIP_CORE();
 5304              		.loc 1 1990 9 discriminator 3 view .LVU1650
1990:ThirdPackage/lwip220/api/api_msg.c ****         UNLOCK_TCPIP_CORE();
 5305              		.loc 1 1990 9 discriminator 3 view .LVU1651
1991:ThirdPackage/lwip220/api/api_msg.c ****         sys_arch_sem_wait(LWIP_API_MSG_SEM(msg), 0);
 5306              		.loc 1 1991 9 discriminator 3 view .LVU1652
 5307 0072 144D     		ldr	r5, .L450+12
 5308 0074 2846     		mov	r0, r5
 5309 0076 FFF7FEFF 		bl	sys_mutex_unlock
 5310              	.LVL507:
1992:ThirdPackage/lwip220/api/api_msg.c ****         LOCK_TCPIP_CORE();
 5311              		.loc 1 1992 9 discriminator 3 view .LVU1653
1992:ThirdPackage/lwip220/api/api_msg.c ****         LOCK_TCPIP_CORE();
 5312              		.loc 1 1992 27 is_stmt 0 discriminator 3 view .LVU1654
 5313 007a 2068     		ldr	r0, [r4]
1992:ThirdPackage/lwip220/api/api_msg.c ****         LOCK_TCPIP_CORE();
 5314              		.loc 1 1992 9 discriminator 3 view .LVU1655
 5315 007c 0021     		movs	r1, #0
 5316 007e 0C30     		adds	r0, r0, #12
 5317 0080 FFF7FEFF 		bl	sys_arch_sem_wait
 5318              	.LVL508:
1993:ThirdPackage/lwip220/api/api_msg.c ****         LWIP_ASSERT("state!", msg->conn->state == NETCONN_NONE);
 5319              		.loc 1 1993 9 is_stmt 1 discriminator 3 view .LVU1656
 5320 0084 2846     		mov	r0, r5
 5321 0086 FFF7FEFF 		bl	sys_mutex_lock
 5322              	.LVL509:
1994:ThirdPackage/lwip220/api/api_msg.c ****       }
 5323              		.loc 1 1994 9 discriminator 3 view .LVU1657
1994:ThirdPackage/lwip220/api/api_msg.c ****       }
 5324              		.loc 1 1994 9 discriminator 3 view .LVU1658
 5325 008a 2368     		ldr	r3, [r4]
 5326 008c 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 5327 008e 002B     		cmp	r3, #0
 5328 0090 C3D0     		beq	.L435
1994:ThirdPackage/lwip220/api/api_msg.c ****       }
 5329              		.loc 1 1994 9 discriminator 1 view .LVU1659
1994:ThirdPackage/lwip220/api/api_msg.c ****       }
 5330              		.loc 1 1994 9 discriminator 1 view .LVU1660
 5331 0092 094B     		ldr	r3, .L450
 5332 0094 40F2CA72 		movw	r2, #1994
 5333 0098 0B49     		ldr	r1, .L450+16
 5334 009a 0948     		ldr	r0, .L450+8
 5335 009c FFF7FEFF 		bl	printf
 5336              	.LVL510:
1994:ThirdPackage/lwip220/api/api_msg.c ****       }
 5337              		.loc 1 1994 9 discriminator 1 view .LVU1661
1994:ThirdPackage/lwip220/api/api_msg.c ****       }
 5338              		.loc 1 1994 9 discriminator 1 view .LVU1662
2000:ThirdPackage/lwip220/api/api_msg.c ****     }
 5339              		.loc 1 2000 7 discriminator 1 view .LVU1663
 5340 00a0 BBE7     		b	.L435
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 155


 5341              	.LVL511:
 5342              	.L448:
1982:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
 5343              		.loc 1 1982 9 view .LVU1664
 5344 00a2 FFF7FEFF 		bl	netconn_drain
 5345              	.LVL512:
1982:ThirdPackage/lwip220/api/api_msg.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
 5346              		.loc 1 1982 9 is_stmt 0 view .LVU1665
 5347 00a6 CBE7     		b	.L441
 5348              	.L449:
1990:ThirdPackage/lwip220/api/api_msg.c ****         UNLOCK_TCPIP_CORE();
 5349              		.loc 1 1990 9 is_stmt 1 discriminator 1 view .LVU1666
1990:ThirdPackage/lwip220/api/api_msg.c ****         UNLOCK_TCPIP_CORE();
 5350              		.loc 1 1990 9 discriminator 1 view .LVU1667
 5351 00a8 034B     		ldr	r3, .L450
 5352 00aa 40F2C672 		movw	r2, #1990
 5353 00ae 0649     		ldr	r1, .L450+16
 5354 00b0 0348     		ldr	r0, .L450+8
 5355 00b2 FFF7FEFF 		bl	printf
 5356              	.LVL513:
 5357 00b6 DCE7     		b	.L444
 5358              	.L451:
 5359              		.align	2
 5360              	.L450:
 5361 00b8 00000000 		.word	.LC0
 5362 00bc 34000000 		.word	.LC36
 5363 00c0 34000000 		.word	.LC2
 5364 00c4 00000000 		.word	lock_tcpip_core
 5365 00c8 50000000 		.word	.LC37
 5366              		.cfi_endproc
 5367              	.LFE187:
 5369              		.section	.rodata.netconn_aborted,"a"
 5370              		.set	.LANCHOR2,. + 0
 5373              	netconn_aborted:
 5374 0000 00       		.space	1
 5375              		.section	.rodata.netconn_closed,"a"
 5376              		.set	.LANCHOR1,. + 0
 5379              	netconn_closed:
 5380 0000 00       		.space	1
 5381              		.section	.rodata.netconn_reset,"a"
 5382              		.set	.LANCHOR0,. + 0
 5385              	netconn_reset:
 5386 0000 00       		.space	1
 5387              		.text
 5388              	.Letext0:
 5389              		.file 2 "k:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 5390              		.file 3 "k:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 5391              		.file 4 "k:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\lib\\gcc\\arm-none-eabi\
 5392              		.file 5 "ThirdPackage/freertos/include/queue.h"
 5393              		.file 6 "ThirdPackage/lwip220/include/arch/cc.h"
 5394              		.file 7 "ThirdPackage/lwip220/include/lwip/arch.h"
 5395              		.file 8 "ThirdPackage/lwip220/include/lwip/ip4_addr.h"
 5396              		.file 9 "ThirdPackage/lwip220/include/lwip/ip_addr.h"
 5397              		.file 10 "ThirdPackage/lwip220/include/lwip/err.h"
 5398              		.file 11 "ThirdPackage/freertos/include/semphr.h"
 5399              		.file 12 "ThirdPackage/lwip220/include/arch/sys_arch.h"
 5400              		.file 13 "ThirdPackage/lwip220/include/lwip/pbuf.h"
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 156


 5401              		.file 14 "ThirdPackage/lwip220/include/lwip/memp.h"
 5402              		.file 15 "ThirdPackage/lwip220/include/lwip/netif.h"
 5403              		.file 16 "ThirdPackage/lwip220/include/lwip/netbuf.h"
 5404              		.file 17 "ThirdPackage/lwip220/include/lwip/api.h"
 5405              		.file 18 "ThirdPackage/lwip220/include/lwip/ip.h"
 5406              		.file 19 "ThirdPackage/lwip220/include/lwip/tcp.h"
 5407              		.file 20 "ThirdPackage/lwip220/include/lwip/udp.h"
 5408              		.file 21 "ThirdPackage/lwip220/include/lwip/priv/api_msg.h"
 5409              		.file 22 "ThirdPackage/lwip220/include/lwip/tcpbase.h"
 5410              		.file 23 "ThirdPackage/lwip220/include/lwip/tcpip.h"
 5411              		.file 24 "k:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\
 5412              		.file 25 "ThirdPackage/lwip220/include/lwip/sys.h"
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 157


DEFINED SYMBOLS
                            *ABS*:00000000 api_msg.c
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:20     .rodata.lwip_netconn_err_to_msg.str1.4:00000000 $d
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:30     .text.lwip_netconn_err_to_msg:00000000 $t
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:35     .text.lwip_netconn_err_to_msg:00000000 lwip_netconn_err_to_msg
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:108    .text.lwip_netconn_err_to_msg:00000038 $d
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:118    .rodata.recv_udp.str1.4:00000000 $d
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:128    .text.recv_udp:00000000 $t
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:133    .text.recv_udp:00000000 recv_udp
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:335    .text.recv_udp:000000b0 $d
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:344    .text.setup_tcp:00000000 $t
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:349    .text.setup_tcp:00000000 setup_tcp
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:402    .text.setup_tcp:00000030 $d
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:2525   .text.recv_tcp:00000000 recv_tcp
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:2389   .text.sent_tcp:00000000 sent_tcp
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:2255   .text.poll_tcp:00000000 poll_tcp
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:574    .text.err_tcp:00000000 err_tcp
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:410    .rodata.pcb_new.str1.4:00000000 $d
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:414    .text.pcb_new:00000000 $t
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:419    .text.pcb_new:00000000 pcb_new
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:548    .text.pcb_new:00000078 $d
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:556    .rodata.err_tcp.str1.4:00000000 $d
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:569    .text.err_tcp:00000000 $t
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:852    .text.err_tcp:0000010c $d
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:864    .rodata.lwip_netconn_do_connected.str1.4:00000000 $d
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:875    .text.lwip_netconn_do_connected:00000000 $t
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:880    .text.lwip_netconn_do_connected:00000000 lwip_netconn_do_connected
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:1074   .text.lwip_netconn_do_connected:000000a8 $d
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:1083   .rodata.lwip_netconn_do_writemore.str1.4:00000000 $d
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:1100   .text.lwip_netconn_do_writemore:00000000 $t
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:1105   .text.lwip_netconn_do_writemore:00000000 lwip_netconn_do_writemore
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:1738   .text.lwip_netconn_do_writemore:00000270 $d
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:1751   .rodata.lwip_netconn_do_close_internal.str1.4:00000000 $d
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:1767   .text.lwip_netconn_do_close_internal:00000000 $t
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:1772   .text.lwip_netconn_do_close_internal:00000000 lwip_netconn_do_close_internal
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:2235   .text.lwip_netconn_do_close_internal:000001f4 $d
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:2250   .text.poll_tcp:00000000 $t
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:2377   .text.poll_tcp:00000074 $d
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:2384   .text.sent_tcp:00000000 $t
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:2500   .text.sent_tcp:00000068 $d
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:2507   .rodata.recv_tcp.str1.4:00000000 $d
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:2520   .text.recv_tcp:00000000 $t
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:2720   .text.recv_tcp:000000ac $d
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:2731   .rodata.lwip_netconn_is_err_msg.str1.4:00000000 $d
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:2735   .text.lwip_netconn_is_err_msg:00000000 $t
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:2741   .text.lwip_netconn_is_err_msg:00000000 lwip_netconn_is_err_msg
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:2830   .text.lwip_netconn_is_err_msg:00000044 $d
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:2840   .text.lwip_netconn_do_newconn:00000000 $t
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:2846   .text.lwip_netconn_do_newconn:00000000 lwip_netconn_do_newconn
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:2888   .rodata.netconn_alloc.str1.4:00000000 $d
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:2892   .text.netconn_alloc:00000000 $t
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:2898   .text.netconn_alloc:00000000 netconn_alloc
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:3033   .text.netconn_alloc:0000007c $d
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:3040   .rodata.netconn_free.str1.4:00000000 $d
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:3052   .text.netconn_free:00000000 $t
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:3058   .text.netconn_free:00000000 netconn_free
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:3149   .text.netconn_free:00000064 $d
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 158


C:\Users\86188\AppData\Local\Temp\cccggEfL.s:3158   .text.netconn_drain:00000000 $t
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:3163   .text.netconn_drain:00000000 netconn_drain
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:3339   .rodata.accept_function.str1.4:00000000 $d
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:3343   .text.accept_function:00000000 $t
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:3348   .text.accept_function:00000000 accept_function
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:3583   .text.accept_function:000000fc $d
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:3590   .rodata.lwip_netconn_do_delconn.str1.4:00000000 $d
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:3603   .text.lwip_netconn_do_delconn:00000000 $t
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:3609   .text.lwip_netconn_do_delconn:00000000 lwip_netconn_do_delconn
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:3886   .text.lwip_netconn_do_delconn:0000012c $d
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:3897   .text.lwip_netconn_do_bind:00000000 $t
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:3903   .text.lwip_netconn_do_bind:00000000 lwip_netconn_do_bind
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:3976   .text.lwip_netconn_do_bind_if:00000000 $t
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:3982   .text.lwip_netconn_do_bind_if:00000000 lwip_netconn_do_bind_if
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:4073   .text.lwip_netconn_do_connect:00000000 $t
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:4079   .text.lwip_netconn_do_connect:00000000 lwip_netconn_do_connect
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:4296   .text.lwip_netconn_do_connect:000000d8 $d
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:4305   .text.lwip_netconn_do_disconnect:00000000 $t
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:4311   .text.lwip_netconn_do_disconnect:00000000 lwip_netconn_do_disconnect
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:4361   .text.lwip_netconn_do_listen:00000000 $t
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:4367   .text.lwip_netconn_do_listen:00000000 lwip_netconn_do_listen
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:4586   .text.lwip_netconn_do_listen:000000d4 $d
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:4591   .text.lwip_netconn_do_send:00000000 $t
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:4597   .text.lwip_netconn_do_send:00000000 lwip_netconn_do_send
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:4688   .text.lwip_netconn_do_recv:00000000 $t
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:4694   .text.lwip_netconn_do_recv:00000000 lwip_netconn_do_recv
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:4793   .rodata.lwip_netconn_do_write.str1.4:00000000 $d
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:4797   .text.lwip_netconn_do_write:00000000 $t
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:4803   .text.lwip_netconn_do_write:00000000 lwip_netconn_do_write
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:4985   .text.lwip_netconn_do_write:000000c0 $d
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:4995   .rodata.lwip_netconn_do_getaddr.str1.4:00000000 $d
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:4999   .text.lwip_netconn_do_getaddr:00000000 $t
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:5005   .text.lwip_netconn_do_getaddr:00000000 lwip_netconn_do_getaddr
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:5165   .text.lwip_netconn_do_getaddr:00000090 $d
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:5172   .text.lwip_netconn_do_close:00000000 $t
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:5178   .text.lwip_netconn_do_close:00000000 lwip_netconn_do_close
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:5361   .text.lwip_netconn_do_close:000000b8 $d
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:5373   .rodata.netconn_aborted:00000000 netconn_aborted
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:5374   .rodata.netconn_aborted:00000000 $d
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:5379   .rodata.netconn_closed:00000000 netconn_closed
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:5380   .rodata.netconn_closed:00000000 $d
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:5385   .rodata.netconn_reset:00000000 netconn_reset
C:\Users\86188\AppData\Local\Temp\cccggEfL.s:5386   .rodata.netconn_reset:00000000 $d

UNDEFINED SYMBOLS
printf
sys_mbox_valid
memp_malloc
sys_mbox_trypost
pbuf_free
netbuf_delete
tcp_arg
tcp_recv
tcp_sent
tcp_poll
tcp_err
udp_new_ip_type
ARM GAS  C:\Users\86188\AppData\Local\Temp\cccggEfL.s 			page 159


udp_recv
tcp_new_ip_type
sys_arch_protect
sys_arch_unprotect
sys_sem_valid
sys_sem_signal
tcp_write
tcp_output
tcp_close
tcp_accept
tcp_shutdown
tcp_abort
tcp_recved
sys_mbox_new
sys_sem_new
sys_mbox_set_invalid
memp_free
sys_mbox_free
sys_sem_free
sys_sem_set_invalid
sys_arch_mbox_tryfetch
udp_remove
sys_mutex_unlock
sys_arch_sem_wait
sys_mutex_lock
lock_tcpip_core
udp_bind
tcp_bind
netif_get_by_index
udp_bind_netif
tcp_bind_netif
udp_connect
tcp_connect
udp_disconnect
tcp_listen_with_backlog_and_err
netconn_err
udp_send
udp_sendto
