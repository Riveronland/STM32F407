ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"etharp.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.etharp_free_entry,"ax",%progbits
  20              		.align	1
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  25              	etharp_free_entry:
  26              	.LVL0:
  27              	.LFB160:
  28              		.file 1 "ThirdPackage/lwip220/core/ipv4/etharp.c"
   1:ThirdPackage/lwip220/core/ipv4/etharp.c **** /**
   2:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * @file
   3:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * Address Resolution Protocol module for IP over Ethernet
   4:ThirdPackage/lwip220/core/ipv4/etharp.c ****  *
   5:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * Functionally, ARP is divided into two parts. The first maps an IP address
   6:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * to a physical address when sending a packet, and the second part answers
   7:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * requests from other machines for our physical address.
   8:ThirdPackage/lwip220/core/ipv4/etharp.c ****  *
   9:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * This implementation complies with RFC 826 (Ethernet ARP). It supports
  10:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * Gratuitous ARP from RFC3220 (IP Mobility Support for IPv4) section 4.6
  11:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * if an interface calls etharp_gratuitous(our_netif) upon address change.
  12:ThirdPackage/lwip220/core/ipv4/etharp.c ****  */
  13:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
  14:ThirdPackage/lwip220/core/ipv4/etharp.c **** /*
  15:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * Copyright (c) 2001-2003 Swedish Institute of Computer Science.
  16:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * Copyright (c) 2003-2004 Leon Woestenberg <leon.woestenberg@axon.tv>
  17:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * Copyright (c) 2003-2004 Axon Digital Design B.V., The Netherlands.
  18:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * All rights reserved.
  19:ThirdPackage/lwip220/core/ipv4/etharp.c ****  *
  20:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * Redistribution and use in source and binary forms, with or without modification,
  21:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * are permitted provided that the following conditions are met:
  22:ThirdPackage/lwip220/core/ipv4/etharp.c ****  *
  23:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * 1. Redistributions of source code must retain the above copyright notice,
  24:ThirdPackage/lwip220/core/ipv4/etharp.c ****  *    this list of conditions and the following disclaimer.
  25:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * 2. Redistributions in binary form must reproduce the above copyright notice,
  26:ThirdPackage/lwip220/core/ipv4/etharp.c ****  *    this list of conditions and the following disclaimer in the documentation
  27:ThirdPackage/lwip220/core/ipv4/etharp.c ****  *    and/or other materials provided with the distribution.
  28:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * 3. The name of the author may not be used to endorse or promote products
  29:ThirdPackage/lwip220/core/ipv4/etharp.c ****  *    derived from this software without specific prior written permission.
  30:ThirdPackage/lwip220/core/ipv4/etharp.c ****  *
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 2


  31:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED
  32:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
  33:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
  34:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  35:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT
  36:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
  37:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
  38:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING
  39:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY
  40:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * OF SUCH DAMAGE.
  41:ThirdPackage/lwip220/core/ipv4/etharp.c ****  *
  42:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * This file is part of the lwIP TCP/IP stack.
  43:ThirdPackage/lwip220/core/ipv4/etharp.c ****  *
  44:ThirdPackage/lwip220/core/ipv4/etharp.c ****  */
  45:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
  46:ThirdPackage/lwip220/core/ipv4/etharp.c **** #include "lwip/opt.h"
  47:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
  48:ThirdPackage/lwip220/core/ipv4/etharp.c **** #if LWIP_IPV4 && LWIP_ARP /* don't build if not configured for use in lwipopts.h */
  49:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
  50:ThirdPackage/lwip220/core/ipv4/etharp.c **** #include "lwip/etharp.h"
  51:ThirdPackage/lwip220/core/ipv4/etharp.c **** #include "lwip/stats.h"
  52:ThirdPackage/lwip220/core/ipv4/etharp.c **** #include "lwip/snmp.h"
  53:ThirdPackage/lwip220/core/ipv4/etharp.c **** #include "lwip/dhcp.h"
  54:ThirdPackage/lwip220/core/ipv4/etharp.c **** #include "lwip/autoip.h"
  55:ThirdPackage/lwip220/core/ipv4/etharp.c **** #include "lwip/acd.h"
  56:ThirdPackage/lwip220/core/ipv4/etharp.c **** #include "lwip/prot/iana.h"
  57:ThirdPackage/lwip220/core/ipv4/etharp.c **** #include "netif/ethernet.h"
  58:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
  59:ThirdPackage/lwip220/core/ipv4/etharp.c **** #include <string.h>
  60:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
  61:ThirdPackage/lwip220/core/ipv4/etharp.c **** #ifdef LWIP_HOOK_FILENAME
  62:ThirdPackage/lwip220/core/ipv4/etharp.c **** #include LWIP_HOOK_FILENAME
  63:ThirdPackage/lwip220/core/ipv4/etharp.c **** #endif
  64:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
  65:ThirdPackage/lwip220/core/ipv4/etharp.c **** /** Re-request a used ARP entry 1 minute before it would expire to prevent
  66:ThirdPackage/lwip220/core/ipv4/etharp.c ****  *  breaking a steadily used connection because the ARP entry timed out. */
  67:ThirdPackage/lwip220/core/ipv4/etharp.c **** #define ARP_AGE_REREQUEST_USED_UNICAST   (ARP_MAXAGE - 30)
  68:ThirdPackage/lwip220/core/ipv4/etharp.c **** #define ARP_AGE_REREQUEST_USED_BROADCAST (ARP_MAXAGE - 15)
  69:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
  70:ThirdPackage/lwip220/core/ipv4/etharp.c **** /** the time an ARP entry stays pending after first request,
  71:ThirdPackage/lwip220/core/ipv4/etharp.c ****  *  for ARP_TMR_INTERVAL = 1000, this is
  72:ThirdPackage/lwip220/core/ipv4/etharp.c ****  *  10 seconds.
  73:ThirdPackage/lwip220/core/ipv4/etharp.c ****  *
  74:ThirdPackage/lwip220/core/ipv4/etharp.c ****  *  @internal Keep this number at least 2, otherwise it might
  75:ThirdPackage/lwip220/core/ipv4/etharp.c ****  *  run out instantly if the timeout occurs directly after a request.
  76:ThirdPackage/lwip220/core/ipv4/etharp.c ****  */
  77:ThirdPackage/lwip220/core/ipv4/etharp.c **** #define ARP_MAXPENDING 5
  78:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
  79:ThirdPackage/lwip220/core/ipv4/etharp.c **** /** ARP states */
  80:ThirdPackage/lwip220/core/ipv4/etharp.c **** enum etharp_state {
  81:ThirdPackage/lwip220/core/ipv4/etharp.c ****   ETHARP_STATE_EMPTY = 0,
  82:ThirdPackage/lwip220/core/ipv4/etharp.c ****   ETHARP_STATE_PENDING,
  83:ThirdPackage/lwip220/core/ipv4/etharp.c ****   ETHARP_STATE_STABLE,
  84:ThirdPackage/lwip220/core/ipv4/etharp.c ****   ETHARP_STATE_STABLE_REREQUESTING_1,
  85:ThirdPackage/lwip220/core/ipv4/etharp.c ****   ETHARP_STATE_STABLE_REREQUESTING_2
  86:ThirdPackage/lwip220/core/ipv4/etharp.c **** #if ETHARP_SUPPORT_STATIC_ENTRIES
  87:ThirdPackage/lwip220/core/ipv4/etharp.c ****   , ETHARP_STATE_STATIC
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 3


  88:ThirdPackage/lwip220/core/ipv4/etharp.c **** #endif /* ETHARP_SUPPORT_STATIC_ENTRIES */
  89:ThirdPackage/lwip220/core/ipv4/etharp.c **** };
  90:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
  91:ThirdPackage/lwip220/core/ipv4/etharp.c **** struct etharp_entry {
  92:ThirdPackage/lwip220/core/ipv4/etharp.c **** #if ARP_QUEUEING
  93:ThirdPackage/lwip220/core/ipv4/etharp.c ****   /** Pointer to queue of pending outgoing packets on this ARP entry. */
  94:ThirdPackage/lwip220/core/ipv4/etharp.c ****   struct etharp_q_entry *q;
  95:ThirdPackage/lwip220/core/ipv4/etharp.c **** #else /* ARP_QUEUEING */
  96:ThirdPackage/lwip220/core/ipv4/etharp.c ****   /** Pointer to a single pending outgoing packet on this ARP entry. */
  97:ThirdPackage/lwip220/core/ipv4/etharp.c ****   struct pbuf *q;
  98:ThirdPackage/lwip220/core/ipv4/etharp.c **** #endif /* ARP_QUEUEING */
  99:ThirdPackage/lwip220/core/ipv4/etharp.c ****   ip4_addr_t ipaddr;
 100:ThirdPackage/lwip220/core/ipv4/etharp.c ****   struct netif *netif;
 101:ThirdPackage/lwip220/core/ipv4/etharp.c ****   struct eth_addr ethaddr;
 102:ThirdPackage/lwip220/core/ipv4/etharp.c ****   u16_t ctime;
 103:ThirdPackage/lwip220/core/ipv4/etharp.c ****   u8_t state;
 104:ThirdPackage/lwip220/core/ipv4/etharp.c **** };
 105:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 106:ThirdPackage/lwip220/core/ipv4/etharp.c **** static struct etharp_entry arp_table[ARP_TABLE_SIZE];
 107:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 108:ThirdPackage/lwip220/core/ipv4/etharp.c **** #if !LWIP_NETIF_HWADDRHINT
 109:ThirdPackage/lwip220/core/ipv4/etharp.c **** static netif_addr_idx_t etharp_cached_entry;
 110:ThirdPackage/lwip220/core/ipv4/etharp.c **** #endif /* !LWIP_NETIF_HWADDRHINT */
 111:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 112:ThirdPackage/lwip220/core/ipv4/etharp.c **** /** Try hard to create a new entry - we want the IP address to appear in
 113:ThirdPackage/lwip220/core/ipv4/etharp.c ****     the cache (even if this means removing an active entry or so). */
 114:ThirdPackage/lwip220/core/ipv4/etharp.c **** #define ETHARP_FLAG_TRY_HARD     1
 115:ThirdPackage/lwip220/core/ipv4/etharp.c **** #define ETHARP_FLAG_FIND_ONLY    2
 116:ThirdPackage/lwip220/core/ipv4/etharp.c **** #if ETHARP_SUPPORT_STATIC_ENTRIES
 117:ThirdPackage/lwip220/core/ipv4/etharp.c **** #define ETHARP_FLAG_STATIC_ENTRY 4
 118:ThirdPackage/lwip220/core/ipv4/etharp.c **** #endif /* ETHARP_SUPPORT_STATIC_ENTRIES */
 119:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 120:ThirdPackage/lwip220/core/ipv4/etharp.c **** #if LWIP_NETIF_HWADDRHINT
 121:ThirdPackage/lwip220/core/ipv4/etharp.c **** #define ETHARP_SET_ADDRHINT(netif, addrhint)  do { if (((netif) != NULL) && ((netif)->hints != NULL
 122:ThirdPackage/lwip220/core/ipv4/etharp.c ****                                               (netif)->hints->addr_hint = (addrhint); }} while(0)
 123:ThirdPackage/lwip220/core/ipv4/etharp.c **** #else /* LWIP_NETIF_HWADDRHINT */
 124:ThirdPackage/lwip220/core/ipv4/etharp.c **** #define ETHARP_SET_ADDRHINT(netif, addrhint)  (etharp_cached_entry = (addrhint))
 125:ThirdPackage/lwip220/core/ipv4/etharp.c **** #endif /* LWIP_NETIF_HWADDRHINT */
 126:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 127:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 128:ThirdPackage/lwip220/core/ipv4/etharp.c **** /* Check for maximum ARP_TABLE_SIZE */
 129:ThirdPackage/lwip220/core/ipv4/etharp.c **** #if (ARP_TABLE_SIZE > NETIF_ADDR_IDX_MAX)
 130:ThirdPackage/lwip220/core/ipv4/etharp.c **** #error "ARP_TABLE_SIZE must fit in an s16_t, you have to reduce it in your lwipopts.h"
 131:ThirdPackage/lwip220/core/ipv4/etharp.c **** #endif
 132:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 133:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 134:ThirdPackage/lwip220/core/ipv4/etharp.c **** static err_t etharp_request_dst(struct netif *netif, const ip4_addr_t *ipaddr, const struct eth_add
 135:ThirdPackage/lwip220/core/ipv4/etharp.c **** static err_t etharp_raw(struct netif *netif,
 136:ThirdPackage/lwip220/core/ipv4/etharp.c ****                         const struct eth_addr *ethsrc_addr, const struct eth_addr *ethdst_addr,
 137:ThirdPackage/lwip220/core/ipv4/etharp.c ****                         const struct eth_addr *hwsrc_addr, const ip4_addr_t *ipsrc_addr,
 138:ThirdPackage/lwip220/core/ipv4/etharp.c ****                         const struct eth_addr *hwdst_addr, const ip4_addr_t *ipdst_addr,
 139:ThirdPackage/lwip220/core/ipv4/etharp.c ****                         const u16_t opcode);
 140:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 141:ThirdPackage/lwip220/core/ipv4/etharp.c **** #if ARP_QUEUEING
 142:ThirdPackage/lwip220/core/ipv4/etharp.c **** /**
 143:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * Free a complete queue of etharp entries
 144:ThirdPackage/lwip220/core/ipv4/etharp.c ****  *
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 4


 145:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * @param q a queue of etharp_q_entry's to free
 146:ThirdPackage/lwip220/core/ipv4/etharp.c ****  */
 147:ThirdPackage/lwip220/core/ipv4/etharp.c **** static void
 148:ThirdPackage/lwip220/core/ipv4/etharp.c **** free_etharp_q(struct etharp_q_entry *q)
 149:ThirdPackage/lwip220/core/ipv4/etharp.c **** {
 150:ThirdPackage/lwip220/core/ipv4/etharp.c ****   struct etharp_q_entry *r;
 151:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_ASSERT("q != NULL", q != NULL);
 152:ThirdPackage/lwip220/core/ipv4/etharp.c ****   while (q) {
 153:ThirdPackage/lwip220/core/ipv4/etharp.c ****     r = q;
 154:ThirdPackage/lwip220/core/ipv4/etharp.c ****     q = q->next;
 155:ThirdPackage/lwip220/core/ipv4/etharp.c ****     LWIP_ASSERT("r->p != NULL", (r->p != NULL));
 156:ThirdPackage/lwip220/core/ipv4/etharp.c ****     pbuf_free(r->p);
 157:ThirdPackage/lwip220/core/ipv4/etharp.c ****     memp_free(MEMP_ARP_QUEUE, r);
 158:ThirdPackage/lwip220/core/ipv4/etharp.c ****   }
 159:ThirdPackage/lwip220/core/ipv4/etharp.c **** }
 160:ThirdPackage/lwip220/core/ipv4/etharp.c **** #else /* ARP_QUEUEING */
 161:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 162:ThirdPackage/lwip220/core/ipv4/etharp.c **** /** Compatibility define: free the queued pbuf */
 163:ThirdPackage/lwip220/core/ipv4/etharp.c **** #define free_etharp_q(q) pbuf_free(q)
 164:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 165:ThirdPackage/lwip220/core/ipv4/etharp.c **** #endif /* ARP_QUEUEING */
 166:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 167:ThirdPackage/lwip220/core/ipv4/etharp.c **** /** Clean up ARP table entries */
 168:ThirdPackage/lwip220/core/ipv4/etharp.c **** static void
 169:ThirdPackage/lwip220/core/ipv4/etharp.c **** etharp_free_entry(int i)
 170:ThirdPackage/lwip220/core/ipv4/etharp.c **** {
  29              		.loc 1 170 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		.loc 1 170 1 is_stmt 0 view .LVU1
  34 0000 10B5     		push	{r4, lr}
  35              	.LCFI0:
  36              		.cfi_def_cfa_offset 8
  37              		.cfi_offset 4, -8
  38              		.cfi_offset 14, -4
  39 0002 0446     		mov	r4, r0
 171:ThirdPackage/lwip220/core/ipv4/etharp.c ****   /* remove from SNMP ARP index tree */
 172:ThirdPackage/lwip220/core/ipv4/etharp.c ****   mib2_remove_arp_entry(arp_table[i].netif, &arp_table[i].ipaddr);
  40              		.loc 1 172 66 is_stmt 1 view .LVU2
 173:ThirdPackage/lwip220/core/ipv4/etharp.c ****   /* and empty packet queue */
 174:ThirdPackage/lwip220/core/ipv4/etharp.c ****   if (arp_table[i].q != NULL) {
  41              		.loc 1 174 3 view .LVU3
  42              		.loc 1 174 19 is_stmt 0 view .LVU4
  43 0004 00EB4002 		add	r2, r0, r0, lsl #1
  44 0008 094B     		ldr	r3, .L4
  45 000a 53F83200 		ldr	r0, [r3, r2, lsl #3]
  46              	.LVL1:
  47              		.loc 1 174 6 view .LVU5
  48 000e 38B1     		cbz	r0, .L2
 175:ThirdPackage/lwip220/core/ipv4/etharp.c ****     /* remove all queued packets */
 176:ThirdPackage/lwip220/core/ipv4/etharp.c ****     LWIP_DEBUGF(ETHARP_DEBUG, ("etharp_free_entry: freeing entry %"U16_F", packet queue %p.\n", (u1
  49              		.loc 1 176 133 is_stmt 1 view .LVU6
 177:ThirdPackage/lwip220/core/ipv4/etharp.c ****     free_etharp_q(arp_table[i].q);
  50              		.loc 1 177 5 view .LVU7
  51 0010 FFF7FEFF 		bl	pbuf_free
  52              	.LVL2:
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 5


 178:ThirdPackage/lwip220/core/ipv4/etharp.c ****     arp_table[i].q = NULL;
  53              		.loc 1 178 5 view .LVU8
  54              		.loc 1 178 20 is_stmt 0 view .LVU9
  55 0014 04EB4403 		add	r3, r4, r4, lsl #1
  56 0018 DB00     		lsls	r3, r3, #3
  57 001a 054A     		ldr	r2, .L4
  58 001c 0021     		movs	r1, #0
  59 001e D150     		str	r1, [r2, r3]
  60              	.L2:
 179:ThirdPackage/lwip220/core/ipv4/etharp.c ****   }
 180:ThirdPackage/lwip220/core/ipv4/etharp.c ****   /* recycle entry for re-use */
 181:ThirdPackage/lwip220/core/ipv4/etharp.c ****   arp_table[i].state = ETHARP_STATE_EMPTY;
  61              		.loc 1 181 3 is_stmt 1 view .LVU10
  62              		.loc 1 181 22 is_stmt 0 view .LVU11
  63 0020 04EB4404 		add	r4, r4, r4, lsl #1
  64              	.LVL3:
  65              		.loc 1 181 22 view .LVU12
  66 0024 0248     		ldr	r0, .L4
  67 0026 00EBC404 		add	r4, r0, r4, lsl #3
  68 002a 0023     		movs	r3, #0
  69 002c 2375     		strb	r3, [r4, #20]
 182:ThirdPackage/lwip220/core/ipv4/etharp.c **** #ifdef LWIP_DEBUG
 183:ThirdPackage/lwip220/core/ipv4/etharp.c ****   /* for debugging, clean out the complete entry */
 184:ThirdPackage/lwip220/core/ipv4/etharp.c ****   arp_table[i].ctime = 0;
 185:ThirdPackage/lwip220/core/ipv4/etharp.c ****   arp_table[i].netif = NULL;
 186:ThirdPackage/lwip220/core/ipv4/etharp.c ****   ip4_addr_set_zero(&arp_table[i].ipaddr);
 187:ThirdPackage/lwip220/core/ipv4/etharp.c ****   arp_table[i].ethaddr = ethzero;
 188:ThirdPackage/lwip220/core/ipv4/etharp.c **** #endif /* LWIP_DEBUG */
 189:ThirdPackage/lwip220/core/ipv4/etharp.c **** }
  70              		.loc 1 189 1 view .LVU13
  71 002e 10BD     		pop	{r4, pc}
  72              	.L5:
  73              		.align	2
  74              	.L4:
  75 0030 00000000 		.word	.LANCHOR0
  76              		.cfi_endproc
  77              	.LFE160:
  79              		.section	.rodata.etharp_find_entry.str1.4,"aMS",%progbits,1
  80              		.align	2
  81              	.LC0:
  82 0000 54686972 		.ascii	"ThirdPackage/lwip220/core/ipv4/etharp.c\000"
  82      64506163 
  82      6B616765 
  82      2F6C7769 
  82      70323230 
  83              		.align	2
  84              	.LC1:
  85 0028 6172705F 		.ascii	"arp_table[i].q == NULL\000"
  85      7461626C 
  85      655B695D 
  85      2E71203D 
  85      3D204E55 
  86 003f 00       		.align	2
  87              	.LC2:
  88 0040 41737365 		.ascii	"Assertion \"%s\" failed at line %d in %s\012\000"
  88      7274696F 
  88      6E202225 
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 6


  88      73222066 
  88      61696C65 
  89              		.align	2
  90              	.LC3:
  91 0068 69203C20 		.ascii	"i < ARP_TABLE_SIZE\000"
  91      4152505F 
  91      5441424C 
  91      455F5349 
  91      5A4500
  92 007b 00       		.align	2
  93              	.LC4:
  94 007c 6172705F 		.ascii	"arp_table[i].state == ETHARP_STATE_EMPTY\000"
  94      7461626C 
  94      655B695D 
  94      2E737461 
  94      7465203D 
  95              		.section	.text.etharp_find_entry,"ax",%progbits
  96              		.align	1
  97              		.syntax unified
  98              		.thumb
  99              		.thumb_func
 101              	etharp_find_entry:
 102              	.LVL4:
 103              	.LFB162:
 190:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 191:ThirdPackage/lwip220/core/ipv4/etharp.c **** /**
 192:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * Clears expired entries in the ARP table.
 193:ThirdPackage/lwip220/core/ipv4/etharp.c ****  *
 194:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * This function should be called every ARP_TMR_INTERVAL milliseconds (1 second),
 195:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * in order to expire entries in the ARP table.
 196:ThirdPackage/lwip220/core/ipv4/etharp.c ****  */
 197:ThirdPackage/lwip220/core/ipv4/etharp.c **** void
 198:ThirdPackage/lwip220/core/ipv4/etharp.c **** etharp_tmr(void)
 199:ThirdPackage/lwip220/core/ipv4/etharp.c **** {
 200:ThirdPackage/lwip220/core/ipv4/etharp.c ****   int i;
 201:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 202:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_DEBUGF(ETHARP_DEBUG, ("etharp_timer\n"));
 203:ThirdPackage/lwip220/core/ipv4/etharp.c ****   /* remove expired entries from the ARP table */
 204:ThirdPackage/lwip220/core/ipv4/etharp.c ****   for (i = 0; i < ARP_TABLE_SIZE; ++i) {
 205:ThirdPackage/lwip220/core/ipv4/etharp.c ****     u8_t state = arp_table[i].state;
 206:ThirdPackage/lwip220/core/ipv4/etharp.c ****     if (state != ETHARP_STATE_EMPTY
 207:ThirdPackage/lwip220/core/ipv4/etharp.c **** #if ETHARP_SUPPORT_STATIC_ENTRIES
 208:ThirdPackage/lwip220/core/ipv4/etharp.c ****         && (state != ETHARP_STATE_STATIC)
 209:ThirdPackage/lwip220/core/ipv4/etharp.c **** #endif /* ETHARP_SUPPORT_STATIC_ENTRIES */
 210:ThirdPackage/lwip220/core/ipv4/etharp.c ****        ) {
 211:ThirdPackage/lwip220/core/ipv4/etharp.c ****       arp_table[i].ctime++;
 212:ThirdPackage/lwip220/core/ipv4/etharp.c ****       if ((arp_table[i].ctime >= ARP_MAXAGE) ||
 213:ThirdPackage/lwip220/core/ipv4/etharp.c ****           ((arp_table[i].state == ETHARP_STATE_PENDING)  &&
 214:ThirdPackage/lwip220/core/ipv4/etharp.c ****            (arp_table[i].ctime >= ARP_MAXPENDING))) {
 215:ThirdPackage/lwip220/core/ipv4/etharp.c ****         /* pending or stable entry has become old! */
 216:ThirdPackage/lwip220/core/ipv4/etharp.c ****         LWIP_DEBUGF(ETHARP_DEBUG, ("etharp_timer: expired %s entry %d.\n",
 217:ThirdPackage/lwip220/core/ipv4/etharp.c ****                                    arp_table[i].state >= ETHARP_STATE_STABLE ? "stable" : "pending"
 218:ThirdPackage/lwip220/core/ipv4/etharp.c ****         /* clean up entries that have just been expired */
 219:ThirdPackage/lwip220/core/ipv4/etharp.c ****         etharp_free_entry(i);
 220:ThirdPackage/lwip220/core/ipv4/etharp.c ****       } else if (arp_table[i].state == ETHARP_STATE_STABLE_REREQUESTING_1) {
 221:ThirdPackage/lwip220/core/ipv4/etharp.c ****         /* Don't send more than one request every 2 seconds. */
 222:ThirdPackage/lwip220/core/ipv4/etharp.c ****         arp_table[i].state = ETHARP_STATE_STABLE_REREQUESTING_2;
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 7


 223:ThirdPackage/lwip220/core/ipv4/etharp.c ****       } else if (arp_table[i].state == ETHARP_STATE_STABLE_REREQUESTING_2) {
 224:ThirdPackage/lwip220/core/ipv4/etharp.c ****         /* Reset state to stable, so that the next transmitted packet will
 225:ThirdPackage/lwip220/core/ipv4/etharp.c ****            re-send an ARP request. */
 226:ThirdPackage/lwip220/core/ipv4/etharp.c ****         arp_table[i].state = ETHARP_STATE_STABLE;
 227:ThirdPackage/lwip220/core/ipv4/etharp.c ****       } else if (arp_table[i].state == ETHARP_STATE_PENDING) {
 228:ThirdPackage/lwip220/core/ipv4/etharp.c ****         /* still pending, resend an ARP query */
 229:ThirdPackage/lwip220/core/ipv4/etharp.c ****         etharp_request(arp_table[i].netif, &arp_table[i].ipaddr);
 230:ThirdPackage/lwip220/core/ipv4/etharp.c ****       }
 231:ThirdPackage/lwip220/core/ipv4/etharp.c ****     }
 232:ThirdPackage/lwip220/core/ipv4/etharp.c ****   }
 233:ThirdPackage/lwip220/core/ipv4/etharp.c **** }
 234:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 235:ThirdPackage/lwip220/core/ipv4/etharp.c **** /**
 236:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * Search the ARP table for a matching or new entry.
 237:ThirdPackage/lwip220/core/ipv4/etharp.c ****  *
 238:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * If an IP address is given, return a pending or stable ARP entry that matches
 239:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * the address. If no match is found, create a new entry with this address set,
 240:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * but in state ETHARP_EMPTY. The caller must check and possibly change the
 241:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * state of the returned entry.
 242:ThirdPackage/lwip220/core/ipv4/etharp.c ****  *
 243:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * If ipaddr is NULL, return a initialized new entry in state ETHARP_EMPTY.
 244:ThirdPackage/lwip220/core/ipv4/etharp.c ****  *
 245:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * In all cases, attempt to create new entries from an empty entry. If no
 246:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * empty entries are available and ETHARP_FLAG_TRY_HARD flag is set, recycle
 247:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * old entries. Heuristic choose the least important entry for recycling.
 248:ThirdPackage/lwip220/core/ipv4/etharp.c ****  *
 249:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * @param ipaddr IP address to find in ARP cache, or to add if not found.
 250:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * @param flags See @ref etharp_state
 251:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * @param netif netif related to this address (used for NETIF_HWADDRHINT)
 252:ThirdPackage/lwip220/core/ipv4/etharp.c ****  *
 253:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * @return The ARP entry index that matched or is created, ERR_MEM if no
 254:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * entry is found or could be recycled.
 255:ThirdPackage/lwip220/core/ipv4/etharp.c ****  */
 256:ThirdPackage/lwip220/core/ipv4/etharp.c **** static s16_t
 257:ThirdPackage/lwip220/core/ipv4/etharp.c **** etharp_find_entry(const ip4_addr_t *ipaddr, u8_t flags, struct netif *netif)
 258:ThirdPackage/lwip220/core/ipv4/etharp.c **** {
 104              		.loc 1 258 1 is_stmt 1 view -0
 105              		.cfi_startproc
 106              		@ args = 0, pretend = 0, frame = 8
 107              		@ frame_needed = 0, uses_anonymous_args = 0
 108              		.loc 1 258 1 is_stmt 0 view .LVU15
 109 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 110              	.LCFI1:
 111              		.cfi_def_cfa_offset 36
 112              		.cfi_offset 4, -36
 113              		.cfi_offset 5, -32
 114              		.cfi_offset 6, -28
 115              		.cfi_offset 7, -24
 116              		.cfi_offset 8, -20
 117              		.cfi_offset 9, -16
 118              		.cfi_offset 10, -12
 119              		.cfi_offset 11, -8
 120              		.cfi_offset 14, -4
 121 0004 83B0     		sub	sp, sp, #12
 122              	.LCFI2:
 123              		.cfi_def_cfa_offset 48
 124 0006 0646     		mov	r6, r0
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 8


 125 0008 1746     		mov	r7, r2
 259:ThirdPackage/lwip220/core/ipv4/etharp.c ****   s16_t old_pending = ARP_TABLE_SIZE, old_stable = ARP_TABLE_SIZE;
 126              		.loc 1 259 3 is_stmt 1 view .LVU16
 127              	.LVL5:
 260:ThirdPackage/lwip220/core/ipv4/etharp.c ****   s16_t empty = ARP_TABLE_SIZE;
 128              		.loc 1 260 3 view .LVU17
 261:ThirdPackage/lwip220/core/ipv4/etharp.c ****   s16_t i = 0;
 129              		.loc 1 261 3 view .LVU18
 262:ThirdPackage/lwip220/core/ipv4/etharp.c ****   /* oldest entry with packets on queue */
 263:ThirdPackage/lwip220/core/ipv4/etharp.c ****   s16_t old_queue = ARP_TABLE_SIZE;
 130              		.loc 1 263 3 view .LVU19
 264:ThirdPackage/lwip220/core/ipv4/etharp.c ****   /* its age */
 265:ThirdPackage/lwip220/core/ipv4/etharp.c ****   u16_t age_queue = 0, age_pending = 0, age_stable = 0;
 131              		.loc 1 265 3 view .LVU20
 266:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 267:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_UNUSED_ARG(netif);
 132              		.loc 1 267 3 view .LVU21
 268:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 269:ThirdPackage/lwip220/core/ipv4/etharp.c ****   /**
 270:ThirdPackage/lwip220/core/ipv4/etharp.c ****    * a) do a search through the cache, remember candidates
 271:ThirdPackage/lwip220/core/ipv4/etharp.c ****    * b) select candidate entry
 272:ThirdPackage/lwip220/core/ipv4/etharp.c ****    * c) create new entry
 273:ThirdPackage/lwip220/core/ipv4/etharp.c ****    */
 274:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 275:ThirdPackage/lwip220/core/ipv4/etharp.c ****   /* a) in a single search sweep, do all of this
 276:ThirdPackage/lwip220/core/ipv4/etharp.c ****    * 1) remember the first empty entry (if any)
 277:ThirdPackage/lwip220/core/ipv4/etharp.c ****    * 2) remember the oldest stable entry (if any)
 278:ThirdPackage/lwip220/core/ipv4/etharp.c ****    * 3) remember the oldest pending entry without queued packets (if any)
 279:ThirdPackage/lwip220/core/ipv4/etharp.c ****    * 4) remember the oldest pending entry with queued packets (if any)
 280:ThirdPackage/lwip220/core/ipv4/etharp.c ****    * 5) search for a matching IP entry, either pending or stable
 281:ThirdPackage/lwip220/core/ipv4/etharp.c ****    *    until 5 matches, or all entries are searched for.
 282:ThirdPackage/lwip220/core/ipv4/etharp.c ****    */
 283:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 284:ThirdPackage/lwip220/core/ipv4/etharp.c ****   for (i = 0; i < ARP_TABLE_SIZE; ++i) {
 133              		.loc 1 284 3 view .LVU22
 265:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 134              		.loc 1 265 41 is_stmt 0 view .LVU23
 135 000a 4FF00009 		mov	r9, #0
 265:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 136              		.loc 1 265 24 view .LVU24
 137 000e CDF80090 		str	r9, [sp]
 265:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 138              		.loc 1 265 9 view .LVU25
 139 0012 CB46     		mov	fp, r9
 263:ThirdPackage/lwip220/core/ipv4/etharp.c ****   /* its age */
 140              		.loc 1 263 9 view .LVU26
 141 0014 4FF00A0A 		mov	r10, #10
 142              		.loc 1 284 10 view .LVU27
 143 0018 4B46     		mov	r3, r9
 260:ThirdPackage/lwip220/core/ipv4/etharp.c ****   s16_t i = 0;
 144              		.loc 1 260 9 view .LVU28
 145 001a 5546     		mov	r5, r10
 259:ThirdPackage/lwip220/core/ipv4/etharp.c ****   s16_t empty = ARP_TABLE_SIZE;
 146              		.loc 1 259 39 view .LVU29
 147 001c D046     		mov	r8, r10
 259:ThirdPackage/lwip220/core/ipv4/etharp.c ****   s16_t empty = ARP_TABLE_SIZE;
 148              		.loc 1 259 9 view .LVU30
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 9


 149 001e CDF804A0 		str	r10, [sp, #4]
 150 0022 8E46     		mov	lr, r1
 151              		.loc 1 284 3 view .LVU31
 152 0024 03E0     		b	.L7
 153              	.LVL6:
 154              	.L36:
 155              	.LBB2:
 285:ThirdPackage/lwip220/core/ipv4/etharp.c ****     u8_t state = arp_table[i].state;
 286:ThirdPackage/lwip220/core/ipv4/etharp.c ****     /* no empty entry found yet and now we do find one? */
 287:ThirdPackage/lwip220/core/ipv4/etharp.c ****     if ((empty == ARP_TABLE_SIZE) && (state == ETHARP_STATE_EMPTY)) {
 156              		.loc 1 287 35 discriminator 1 view .LVU32
 157 0026 68B9     		cbnz	r0, .L8
 288:ThirdPackage/lwip220/core/ipv4/etharp.c ****       LWIP_DEBUGF(ETHARP_DEBUG, ("etharp_find_entry: found empty entry %d\n", (int)i));
 289:ThirdPackage/lwip220/core/ipv4/etharp.c ****       /* remember first empty entry */
 290:ThirdPackage/lwip220/core/ipv4/etharp.c ****       empty = i;
 158              		.loc 1 290 13 view .LVU33
 159 0028 1D46     		mov	r5, r3
 160              	.LVL7:
 161              	.L9:
 162              		.loc 1 290 13 view .LVU34
 163              	.LBE2:
 284:ThirdPackage/lwip220/core/ipv4/etharp.c ****     u8_t state = arp_table[i].state;
 164              		.loc 1 284 35 is_stmt 1 discriminator 2 view .LVU35
 165 002a 0133     		adds	r3, r3, #1
 166              	.LVL8:
 284:ThirdPackage/lwip220/core/ipv4/etharp.c ****     u8_t state = arp_table[i].state;
 167              		.loc 1 284 35 is_stmt 0 discriminator 2 view .LVU36
 168 002c 1BB2     		sxth	r3, r3
 169              	.LVL9:
 170              	.L7:
 284:ThirdPackage/lwip220/core/ipv4/etharp.c ****     u8_t state = arp_table[i].state;
 171              		.loc 1 284 15 is_stmt 1 discriminator 1 view .LVU37
 284:ThirdPackage/lwip220/core/ipv4/etharp.c ****     u8_t state = arp_table[i].state;
 172              		.loc 1 284 3 is_stmt 0 discriminator 1 view .LVU38
 173 002e 092B     		cmp	r3, #9
 174 0030 4DDC     		bgt	.L35
 175              	.LBB3:
 285:ThirdPackage/lwip220/core/ipv4/etharp.c ****     u8_t state = arp_table[i].state;
 176              		.loc 1 285 5 is_stmt 1 view .LVU39
 285:ThirdPackage/lwip220/core/ipv4/etharp.c ****     u8_t state = arp_table[i].state;
 177              		.loc 1 285 30 is_stmt 0 view .LVU40
 178 0032 1C46     		mov	r4, r3
 285:ThirdPackage/lwip220/core/ipv4/etharp.c ****     u8_t state = arp_table[i].state;
 179              		.loc 1 285 10 view .LVU41
 180 0034 03EB4302 		add	r2, r3, r3, lsl #1
 181 0038 5C48     		ldr	r0, .L43
 182 003a 00EBC202 		add	r2, r0, r2, lsl #3
 183 003e 107D     		ldrb	r0, [r2, #20]	@ zero_extendqisi2
 184              	.LVL10:
 287:ThirdPackage/lwip220/core/ipv4/etharp.c ****       LWIP_DEBUGF(ETHARP_DEBUG, ("etharp_find_entry: found empty entry %d\n", (int)i));
 185              		.loc 1 287 5 is_stmt 1 view .LVU42
 287:ThirdPackage/lwip220/core/ipv4/etharp.c ****       LWIP_DEBUGF(ETHARP_DEBUG, ("etharp_find_entry: found empty entry %d\n", (int)i));
 186              		.loc 1 287 8 is_stmt 0 view .LVU43
 187 0040 0A2D     		cmp	r5, #10
 188 0042 F0D0     		beq	.L36
 189              	.L8:
 291:ThirdPackage/lwip220/core/ipv4/etharp.c ****     } else if (state != ETHARP_STATE_EMPTY) {
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 10


 190              		.loc 1 291 12 is_stmt 1 view .LVU44
 191              		.loc 1 291 15 is_stmt 0 view .LVU45
 192 0044 0028     		cmp	r0, #0
 193 0046 F0D0     		beq	.L9
 292:ThirdPackage/lwip220/core/ipv4/etharp.c ****       LWIP_ASSERT("state == ETHARP_STATE_PENDING || state >= ETHARP_STATE_STABLE",
 194              		.loc 1 292 7 is_stmt 1 discriminator 3 view .LVU46
 195              		.loc 1 292 7 discriminator 3 view .LVU47
 196              		.loc 1 292 7 discriminator 3 view .LVU48
 197              		.loc 1 292 7 discriminator 3 view .LVU49
 293:ThirdPackage/lwip220/core/ipv4/etharp.c ****                   state == ETHARP_STATE_PENDING || state >= ETHARP_STATE_STABLE);
 294:ThirdPackage/lwip220/core/ipv4/etharp.c ****       /* if given, does IP address match IP address in ARP entry? */
 295:ThirdPackage/lwip220/core/ipv4/etharp.c ****       if (ipaddr && ip4_addr_eq(ipaddr, &arp_table[i].ipaddr)
 198              		.loc 1 295 7 discriminator 3 view .LVU50
 199              		.loc 1 295 10 is_stmt 0 discriminator 3 view .LVU51
 200 0048 4EB1     		cbz	r6, .L10
 201              		.loc 1 295 21 discriminator 1 view .LVU52
 202 004a 04EB440C 		add	ip, r4, r4, lsl #1
 203 004e 574A     		ldr	r2, .L43
 204 0050 02EBCC0C 		add	ip, r2, ip, lsl #3
 205 0054 DCF80420 		ldr	r2, [ip, #4]
 206              		.loc 1 295 18 discriminator 1 view .LVU53
 207 0058 3168     		ldr	r1, [r6]
 208 005a 9142     		cmp	r1, r2
 209 005c 0ED0     		beq	.L37
 210              	.L10:
 296:ThirdPackage/lwip220/core/ipv4/etharp.c **** #if ETHARP_TABLE_MATCH_NETIF
 297:ThirdPackage/lwip220/core/ipv4/etharp.c ****           && ((netif == NULL) || (netif == arp_table[i].netif))
 298:ThirdPackage/lwip220/core/ipv4/etharp.c **** #endif /* ETHARP_TABLE_MATCH_NETIF */
 299:ThirdPackage/lwip220/core/ipv4/etharp.c ****          ) {
 300:ThirdPackage/lwip220/core/ipv4/etharp.c ****         LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_find_entry: found matching entry %d\n",
 301:ThirdPackage/lwip220/core/ipv4/etharp.c ****         /* found exact IP address match, simply bail out */
 302:ThirdPackage/lwip220/core/ipv4/etharp.c ****         return i;
 303:ThirdPackage/lwip220/core/ipv4/etharp.c ****       }
 304:ThirdPackage/lwip220/core/ipv4/etharp.c ****       /* pending entry? */
 305:ThirdPackage/lwip220/core/ipv4/etharp.c ****       if (state == ETHARP_STATE_PENDING) {
 211              		.loc 1 305 7 is_stmt 1 view .LVU54
 212              		.loc 1 305 10 is_stmt 0 view .LVU55
 213 005e 0128     		cmp	r0, #1
 214 0060 19D0     		beq	.L38
 306:ThirdPackage/lwip220/core/ipv4/etharp.c ****         /* pending with queued packets? */
 307:ThirdPackage/lwip220/core/ipv4/etharp.c ****         if (arp_table[i].q != NULL) {
 308:ThirdPackage/lwip220/core/ipv4/etharp.c ****           if (arp_table[i].ctime >= age_queue) {
 309:ThirdPackage/lwip220/core/ipv4/etharp.c ****             old_queue = i;
 310:ThirdPackage/lwip220/core/ipv4/etharp.c ****             age_queue = arp_table[i].ctime;
 311:ThirdPackage/lwip220/core/ipv4/etharp.c ****           }
 312:ThirdPackage/lwip220/core/ipv4/etharp.c ****         } else
 313:ThirdPackage/lwip220/core/ipv4/etharp.c ****           /* pending without queued packets? */
 314:ThirdPackage/lwip220/core/ipv4/etharp.c ****         {
 315:ThirdPackage/lwip220/core/ipv4/etharp.c ****           if (arp_table[i].ctime >= age_pending) {
 316:ThirdPackage/lwip220/core/ipv4/etharp.c ****             old_pending = i;
 317:ThirdPackage/lwip220/core/ipv4/etharp.c ****             age_pending = arp_table[i].ctime;
 318:ThirdPackage/lwip220/core/ipv4/etharp.c ****           }
 319:ThirdPackage/lwip220/core/ipv4/etharp.c ****         }
 320:ThirdPackage/lwip220/core/ipv4/etharp.c ****         /* stable entry? */
 321:ThirdPackage/lwip220/core/ipv4/etharp.c ****       } else if (state >= ETHARP_STATE_STABLE) {
 215              		.loc 1 321 14 is_stmt 1 view .LVU56
 216              		.loc 1 321 17 is_stmt 0 view .LVU57
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 11


 217 0062 0128     		cmp	r0, #1
 218 0064 E1D9     		bls	.L9
 322:ThirdPackage/lwip220/core/ipv4/etharp.c **** #if ETHARP_SUPPORT_STATIC_ENTRIES
 323:ThirdPackage/lwip220/core/ipv4/etharp.c ****         /* don't record old_stable for static entries since they never expire */
 324:ThirdPackage/lwip220/core/ipv4/etharp.c ****         if (state < ETHARP_STATE_STATIC)
 325:ThirdPackage/lwip220/core/ipv4/etharp.c **** #endif /* ETHARP_SUPPORT_STATIC_ENTRIES */
 326:ThirdPackage/lwip220/core/ipv4/etharp.c ****         {
 327:ThirdPackage/lwip220/core/ipv4/etharp.c ****           /* remember entry with oldest stable entry in oldest, its age in maxtime */
 328:ThirdPackage/lwip220/core/ipv4/etharp.c ****           if (arp_table[i].ctime >= age_stable) {
 219              		.loc 1 328 11 is_stmt 1 view .LVU58
 220              		.loc 1 328 27 is_stmt 0 view .LVU59
 221 0066 04EB4404 		add	r4, r4, r4, lsl #1
 222 006a 504A     		ldr	r2, .L43
 223 006c 02EBC404 		add	r4, r2, r4, lsl #3
 224 0070 628A     		ldrh	r2, [r4, #18]
 225              		.loc 1 328 14 view .LVU60
 226 0072 4A45     		cmp	r2, r9
 227 0074 D9D3     		bcc	.L9
 329:ThirdPackage/lwip220/core/ipv4/etharp.c ****             old_stable = i;
 330:ThirdPackage/lwip220/core/ipv4/etharp.c ****             age_stable = arp_table[i].ctime;
 228              		.loc 1 330 24 view .LVU61
 229 0076 9146     		mov	r9, r2
 230              	.LVL11:
 329:ThirdPackage/lwip220/core/ipv4/etharp.c ****             old_stable = i;
 231              		.loc 1 329 24 view .LVU62
 232 0078 9846     		mov	r8, r3
 233              	.LVL12:
 329:ThirdPackage/lwip220/core/ipv4/etharp.c ****             old_stable = i;
 234              		.loc 1 329 24 view .LVU63
 235 007a D6E7     		b	.L9
 236              	.LVL13:
 237              	.L37:
 297:ThirdPackage/lwip220/core/ipv4/etharp.c **** #endif /* ETHARP_TABLE_MATCH_NETIF */
 238              		.loc 1 297 11 view .LVU64
 239 007c 002F     		cmp	r7, #0
 240 007e 00F08D80 		beq	.L24
 297:ThirdPackage/lwip220/core/ipv4/etharp.c **** #endif /* ETHARP_TABLE_MATCH_NETIF */
 241              		.loc 1 297 56 discriminator 1 view .LVU65
 242 0082 04EB440C 		add	ip, r4, r4, lsl #1
 243 0086 494A     		ldr	r2, .L43
 244 0088 02EBCC02 		add	r2, r2, ip, lsl #3
 245 008c 9268     		ldr	r2, [r2, #8]
 297:ThirdPackage/lwip220/core/ipv4/etharp.c **** #endif /* ETHARP_TABLE_MATCH_NETIF */
 246              		.loc 1 297 31 discriminator 1 view .LVU66
 247 008e BA42     		cmp	r2, r7
 248 0090 E5D1     		bne	.L10
 302:ThirdPackage/lwip220/core/ipv4/etharp.c ****       }
 249              		.loc 1 302 16 view .LVU67
 250 0092 1D46     		mov	r5, r3
 251              	.LVL14:
 302:ThirdPackage/lwip220/core/ipv4/etharp.c ****       }
 252              		.loc 1 302 16 view .LVU68
 253 0094 54E0     		b	.L11
 254              	.LVL15:
 255              	.L38:
 307:ThirdPackage/lwip220/core/ipv4/etharp.c ****           if (arp_table[i].ctime >= age_queue) {
 256              		.loc 1 307 9 is_stmt 1 view .LVU69
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 12


 307:ThirdPackage/lwip220/core/ipv4/etharp.c ****           if (arp_table[i].ctime >= age_queue) {
 257              		.loc 1 307 25 is_stmt 0 view .LVU70
 258 0096 04EB4402 		add	r2, r4, r4, lsl #1
 259 009a 4448     		ldr	r0, .L43
 260              	.LVL16:
 307:ThirdPackage/lwip220/core/ipv4/etharp.c ****           if (arp_table[i].ctime >= age_queue) {
 261              		.loc 1 307 25 view .LVU71
 262 009c 50F83220 		ldr	r2, [r0, r2, lsl #3]
 307:ThirdPackage/lwip220/core/ipv4/etharp.c ****           if (arp_table[i].ctime >= age_queue) {
 263              		.loc 1 307 12 view .LVU72
 264 00a0 4AB1     		cbz	r2, .L13
 308:ThirdPackage/lwip220/core/ipv4/etharp.c ****             old_queue = i;
 265              		.loc 1 308 11 is_stmt 1 view .LVU73
 308:ThirdPackage/lwip220/core/ipv4/etharp.c ****             old_queue = i;
 266              		.loc 1 308 27 is_stmt 0 view .LVU74
 267 00a2 04EB4404 		add	r4, r4, r4, lsl #1
 268 00a6 00EBC404 		add	r4, r0, r4, lsl #3
 269 00aa 628A     		ldrh	r2, [r4, #18]
 308:ThirdPackage/lwip220/core/ipv4/etharp.c ****             old_queue = i;
 270              		.loc 1 308 14 view .LVU75
 271 00ac 5A45     		cmp	r2, fp
 272 00ae BCD3     		bcc	.L9
 310:ThirdPackage/lwip220/core/ipv4/etharp.c ****           }
 273              		.loc 1 310 23 view .LVU76
 274 00b0 9346     		mov	fp, r2
 275              	.LVL17:
 309:ThirdPackage/lwip220/core/ipv4/etharp.c ****             age_queue = arp_table[i].ctime;
 276              		.loc 1 309 23 view .LVU77
 277 00b2 9A46     		mov	r10, r3
 278              	.LVL18:
 309:ThirdPackage/lwip220/core/ipv4/etharp.c ****             age_queue = arp_table[i].ctime;
 279              		.loc 1 309 23 view .LVU78
 280 00b4 B9E7     		b	.L9
 281              	.LVL19:
 282              	.L13:
 315:ThirdPackage/lwip220/core/ipv4/etharp.c ****             old_pending = i;
 283              		.loc 1 315 11 is_stmt 1 view .LVU79
 315:ThirdPackage/lwip220/core/ipv4/etharp.c ****             old_pending = i;
 284              		.loc 1 315 27 is_stmt 0 view .LVU80
 285 00b6 04EB4404 		add	r4, r4, r4, lsl #1
 286 00ba 3C4A     		ldr	r2, .L43
 287 00bc 02EBC404 		add	r4, r2, r4, lsl #3
 288 00c0 628A     		ldrh	r2, [r4, #18]
 315:ThirdPackage/lwip220/core/ipv4/etharp.c ****             old_pending = i;
 289              		.loc 1 315 14 view .LVU81
 290 00c2 0099     		ldr	r1, [sp]
 291 00c4 8A42     		cmp	r2, r1
 292 00c6 B0D3     		bcc	.L9
 317:ThirdPackage/lwip220/core/ipv4/etharp.c ****           }
 293              		.loc 1 317 25 view .LVU82
 294 00c8 0092     		str	r2, [sp]
 295              	.LVL20:
 316:ThirdPackage/lwip220/core/ipv4/etharp.c ****             age_pending = arp_table[i].ctime;
 296              		.loc 1 316 25 view .LVU83
 297 00ca 0193     		str	r3, [sp, #4]
 298              	.LVL21:
 316:ThirdPackage/lwip220/core/ipv4/etharp.c ****             age_pending = arp_table[i].ctime;
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 13


 299              		.loc 1 316 25 view .LVU84
 300 00cc ADE7     		b	.L9
 301              	.LVL22:
 302              	.L35:
 316:ThirdPackage/lwip220/core/ipv4/etharp.c ****             age_pending = arp_table[i].ctime;
 303              		.loc 1 316 25 view .LVU85
 304              	.LBE3:
 331:ThirdPackage/lwip220/core/ipv4/etharp.c ****           }
 332:ThirdPackage/lwip220/core/ipv4/etharp.c ****         }
 333:ThirdPackage/lwip220/core/ipv4/etharp.c ****       }
 334:ThirdPackage/lwip220/core/ipv4/etharp.c ****     }
 335:ThirdPackage/lwip220/core/ipv4/etharp.c ****   }
 336:ThirdPackage/lwip220/core/ipv4/etharp.c ****   /* { we have no match } => try to create a new entry */
 337:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 338:ThirdPackage/lwip220/core/ipv4/etharp.c ****   /* don't create new entry, only search? */
 339:ThirdPackage/lwip220/core/ipv4/etharp.c ****   if (((flags & ETHARP_FLAG_FIND_ONLY) != 0) ||
 305              		.loc 1 339 3 is_stmt 1 view .LVU86
 306              		.loc 1 339 6 is_stmt 0 view .LVU87
 307 00ce 1EF0020F 		tst	lr, #2
 308 00d2 65D1     		bne	.L29
 309              		.loc 1 339 46 discriminator 1 view .LVU88
 310 00d4 0A2D     		cmp	r5, #10
 311 00d6 37D0     		beq	.L39
 312              	.L15:
 340:ThirdPackage/lwip220/core/ipv4/etharp.c ****       /* or no empty entry found and not allowed to recycle? */
 341:ThirdPackage/lwip220/core/ipv4/etharp.c ****       ((empty == ARP_TABLE_SIZE) && ((flags & ETHARP_FLAG_TRY_HARD) == 0))) {
 342:ThirdPackage/lwip220/core/ipv4/etharp.c ****     LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_find_entry: no empty entry found and not al
 343:ThirdPackage/lwip220/core/ipv4/etharp.c ****     return (s16_t)ERR_MEM;
 344:ThirdPackage/lwip220/core/ipv4/etharp.c ****   }
 345:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 346:ThirdPackage/lwip220/core/ipv4/etharp.c ****   /* b) choose the least destructive entry to recycle:
 347:ThirdPackage/lwip220/core/ipv4/etharp.c ****    * 1) empty entry
 348:ThirdPackage/lwip220/core/ipv4/etharp.c ****    * 2) oldest stable entry
 349:ThirdPackage/lwip220/core/ipv4/etharp.c ****    * 3) oldest pending entry without queued packets
 350:ThirdPackage/lwip220/core/ipv4/etharp.c ****    * 4) oldest pending entry with queued packets
 351:ThirdPackage/lwip220/core/ipv4/etharp.c ****    *
 352:ThirdPackage/lwip220/core/ipv4/etharp.c ****    * { ETHARP_FLAG_TRY_HARD is set at this point }
 353:ThirdPackage/lwip220/core/ipv4/etharp.c ****    */
 354:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 355:ThirdPackage/lwip220/core/ipv4/etharp.c ****   /* 1) empty entry available? */
 356:ThirdPackage/lwip220/core/ipv4/etharp.c ****   if (empty < ARP_TABLE_SIZE) {
 313              		.loc 1 356 3 is_stmt 1 view .LVU89
 314              		.loc 1 356 6 is_stmt 0 view .LVU90
 315 00d8 092D     		cmp	r5, #9
 316 00da 16DD     		ble	.L16
 357:ThirdPackage/lwip220/core/ipv4/etharp.c ****     i = empty;
 358:ThirdPackage/lwip220/core/ipv4/etharp.c ****     LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_find_entry: selecting empty entry %d\n", (i
 359:ThirdPackage/lwip220/core/ipv4/etharp.c ****   } else {
 360:ThirdPackage/lwip220/core/ipv4/etharp.c ****     /* 2) found recyclable stable entry? */
 361:ThirdPackage/lwip220/core/ipv4/etharp.c ****     if (old_stable < ARP_TABLE_SIZE) {
 317              		.loc 1 361 5 is_stmt 1 view .LVU91
 318              		.loc 1 361 8 is_stmt 0 view .LVU92
 319 00dc B8F1090F 		cmp	r8, #9
 320 00e0 38DC     		bgt	.L17
 362:ThirdPackage/lwip220/core/ipv4/etharp.c ****       /* recycle oldest stable*/
 363:ThirdPackage/lwip220/core/ipv4/etharp.c ****       i = old_stable;
 321              		.loc 1 363 7 is_stmt 1 view .LVU93
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 14


 322              	.LVL23:
 364:ThirdPackage/lwip220/core/ipv4/etharp.c ****       LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_find_entry: selecting oldest stable entry
 323              		.loc 1 364 116 view .LVU94
 365:ThirdPackage/lwip220/core/ipv4/etharp.c ****       /* no queued packets should exist on stable entries */
 366:ThirdPackage/lwip220/core/ipv4/etharp.c ****       LWIP_ASSERT("arp_table[i].q == NULL", arp_table[i].q == NULL);
 324              		.loc 1 366 7 view .LVU95
 325              		.loc 1 366 7 view .LVU96
 326 00e2 08EB4803 		add	r3, r8, r8, lsl #1
 327 00e6 314A     		ldr	r2, .L43
 328 00e8 52F83330 		ldr	r3, [r2, r3, lsl #3]
 329 00ec 002B     		cmp	r3, #0
 330 00ee 39D0     		beq	.L31
 331              		.loc 1 366 7 discriminator 1 view .LVU97
 332              		.loc 1 366 7 discriminator 1 view .LVU98
 333 00f0 2F4B     		ldr	r3, .L43+4
 334 00f2 4FF4B772 		mov	r2, #366
 335 00f6 2F49     		ldr	r1, .L43+8
 336 00f8 2F48     		ldr	r0, .L43+12
 337 00fa FFF7FEFF 		bl	printf
 338              	.LVL24:
 363:ThirdPackage/lwip220/core/ipv4/etharp.c ****       LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_find_entry: selecting oldest stable entry
 339              		.loc 1 363 9 is_stmt 0 discriminator 1 view .LVU99
 340 00fe 4546     		mov	r5, r8
 341              	.LVL25:
 342              	.L18:
 367:ThirdPackage/lwip220/core/ipv4/etharp.c ****       /* 3) found recyclable pending entry without queued packets? */
 368:ThirdPackage/lwip220/core/ipv4/etharp.c ****     } else if (old_pending < ARP_TABLE_SIZE) {
 369:ThirdPackage/lwip220/core/ipv4/etharp.c ****       /* recycle oldest pending */
 370:ThirdPackage/lwip220/core/ipv4/etharp.c ****       i = old_pending;
 371:ThirdPackage/lwip220/core/ipv4/etharp.c ****       LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_find_entry: selecting oldest pending entr
 372:ThirdPackage/lwip220/core/ipv4/etharp.c ****       /* 4) found recyclable pending entry with queued packets? */
 373:ThirdPackage/lwip220/core/ipv4/etharp.c ****     } else if (old_queue < ARP_TABLE_SIZE) {
 374:ThirdPackage/lwip220/core/ipv4/etharp.c ****       /* recycle oldest pending (queued packets are free in etharp_free_entry) */
 375:ThirdPackage/lwip220/core/ipv4/etharp.c ****       i = old_queue;
 376:ThirdPackage/lwip220/core/ipv4/etharp.c ****       LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_find_entry: selecting oldest pending entr
 377:ThirdPackage/lwip220/core/ipv4/etharp.c ****       /* no empty or recyclable entries found */
 378:ThirdPackage/lwip220/core/ipv4/etharp.c ****     } else {
 379:ThirdPackage/lwip220/core/ipv4/etharp.c ****       LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_find_entry: no empty or recyclable entrie
 380:ThirdPackage/lwip220/core/ipv4/etharp.c ****       return (s16_t)ERR_MEM;
 381:ThirdPackage/lwip220/core/ipv4/etharp.c ****     }
 382:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 383:ThirdPackage/lwip220/core/ipv4/etharp.c ****     /* { empty or recyclable entry found } */
 384:ThirdPackage/lwip220/core/ipv4/etharp.c ****     LWIP_ASSERT("i < ARP_TABLE_SIZE", i < ARP_TABLE_SIZE);
 343              		.loc 1 384 5 is_stmt 1 view .LVU100
 344              		.loc 1 384 5 view .LVU101
 345 0100 092D     		cmp	r5, #9
 346 0102 33DC     		bgt	.L40
 347              	.L19:
 348              		.loc 1 384 5 discriminator 3 view .LVU102
 349              		.loc 1 384 5 discriminator 3 view .LVU103
 385:ThirdPackage/lwip220/core/ipv4/etharp.c ****     etharp_free_entry(i);
 350              		.loc 1 385 5 discriminator 3 view .LVU104
 351 0104 2846     		mov	r0, r5
 352 0106 FFF7FEFF 		bl	etharp_free_entry
 353              	.LVL26:
 354              	.L16:
 386:ThirdPackage/lwip220/core/ipv4/etharp.c ****   }
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 15


 387:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 388:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_ASSERT("i < ARP_TABLE_SIZE", i < ARP_TABLE_SIZE);
 355              		.loc 1 388 3 view .LVU105
 356              		.loc 1 388 3 view .LVU106
 357 010a 092D     		cmp	r5, #9
 358 010c 36DC     		bgt	.L41
 359              	.L20:
 360              		.loc 1 388 3 discriminator 3 view .LVU107
 361              		.loc 1 388 3 discriminator 3 view .LVU108
 389:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_ASSERT("arp_table[i].state == ETHARP_STATE_EMPTY",
 362              		.loc 1 389 3 discriminator 3 view .LVU109
 363              		.loc 1 389 3 discriminator 3 view .LVU110
 364 010e 2C46     		mov	r4, r5
 365 0110 05EB4503 		add	r3, r5, r5, lsl #1
 366 0114 254A     		ldr	r2, .L43
 367 0116 02EBC303 		add	r3, r2, r3, lsl #3
 368 011a 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 369 011c 002B     		cmp	r3, #0
 370 011e 35D1     		bne	.L42
 371              	.L21:
 372              		.loc 1 389 3 discriminator 3 view .LVU111
 373              		.loc 1 389 3 discriminator 3 view .LVU112
 390:ThirdPackage/lwip220/core/ipv4/etharp.c ****               arp_table[i].state == ETHARP_STATE_EMPTY);
 391:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 392:ThirdPackage/lwip220/core/ipv4/etharp.c ****   /* IP address given? */
 393:ThirdPackage/lwip220/core/ipv4/etharp.c ****   if (ipaddr != NULL) {
 374              		.loc 1 393 3 discriminator 3 view .LVU113
 375              		.loc 1 393 6 is_stmt 0 discriminator 3 view .LVU114
 376 0120 36B1     		cbz	r6, .L22
 394:ThirdPackage/lwip220/core/ipv4/etharp.c ****     /* set IP address */
 395:ThirdPackage/lwip220/core/ipv4/etharp.c ****     ip4_addr_copy(arp_table[i].ipaddr, *ipaddr);
 377              		.loc 1 395 5 is_stmt 1 view .LVU115
 378 0122 3168     		ldr	r1, [r6]
 379 0124 04EB4403 		add	r3, r4, r4, lsl #1
 380 0128 204A     		ldr	r2, .L43
 381 012a 02EBC303 		add	r3, r2, r3, lsl #3
 382 012e 5960     		str	r1, [r3, #4]
 383              	.L22:
 396:ThirdPackage/lwip220/core/ipv4/etharp.c ****   }
 397:ThirdPackage/lwip220/core/ipv4/etharp.c ****   arp_table[i].ctime = 0;
 384              		.loc 1 397 3 view .LVU116
 385              		.loc 1 397 22 is_stmt 0 view .LVU117
 386 0130 1E4B     		ldr	r3, .L43
 387 0132 04EB4402 		add	r2, r4, r4, lsl #1
 388 0136 03EBC202 		add	r2, r3, r2, lsl #3
 389 013a 0021     		movs	r1, #0
 390 013c 5182     		strh	r1, [r2, #18]	@ movhi
 398:ThirdPackage/lwip220/core/ipv4/etharp.c **** #if ETHARP_TABLE_MATCH_NETIF
 399:ThirdPackage/lwip220/core/ipv4/etharp.c ****   arp_table[i].netif = netif;
 391              		.loc 1 399 3 is_stmt 1 view .LVU118
 392              		.loc 1 399 22 is_stmt 0 view .LVU119
 393 013e 9760     		str	r7, [r2, #8]
 400:ThirdPackage/lwip220/core/ipv4/etharp.c **** #endif /* ETHARP_TABLE_MATCH_NETIF */
 401:ThirdPackage/lwip220/core/ipv4/etharp.c ****   return (s16_t)i;
 394              		.loc 1 401 3 is_stmt 1 view .LVU120
 395              	.LVL27:
 396              	.L11:
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 16


 402:ThirdPackage/lwip220/core/ipv4/etharp.c **** }
 397              		.loc 1 402 1 is_stmt 0 view .LVU121
 398 0140 2846     		mov	r0, r5
 399 0142 03B0     		add	sp, sp, #12
 400              	.LCFI3:
 401              		.cfi_remember_state
 402              		.cfi_def_cfa_offset 36
 403              	.LVL28:
 404              		.loc 1 402 1 view .LVU122
 405              		@ sp needed
 406 0144 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 407              	.LVL29:
 408              	.L39:
 409              	.LCFI4:
 410              		.cfi_restore_state
 341:ThirdPackage/lwip220/core/ipv4/etharp.c ****     LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_find_entry: no empty entry found and not al
 411              		.loc 1 341 34 view .LVU123
 412 0148 1EF0010F 		tst	lr, #1
 413 014c C4D1     		bne	.L15
 343:ThirdPackage/lwip220/core/ipv4/etharp.c ****   }
 414              		.loc 1 343 12 view .LVU124
 415 014e 4FF0FF35 		mov	r5, #-1
 416              	.LVL30:
 343:ThirdPackage/lwip220/core/ipv4/etharp.c ****   }
 417              		.loc 1 343 12 view .LVU125
 418 0152 F5E7     		b	.L11
 419              	.LVL31:
 420              	.L17:
 368:ThirdPackage/lwip220/core/ipv4/etharp.c ****       /* recycle oldest pending */
 421              		.loc 1 368 12 is_stmt 1 view .LVU126
 368:ThirdPackage/lwip220/core/ipv4/etharp.c ****       /* recycle oldest pending */
 422              		.loc 1 368 15 is_stmt 0 view .LVU127
 423 0154 019B     		ldr	r3, [sp, #4]
 424              	.LVL32:
 368:ThirdPackage/lwip220/core/ipv4/etharp.c ****       /* recycle oldest pending */
 425              		.loc 1 368 15 view .LVU128
 426 0156 092B     		cmp	r3, #9
 427 0158 06DD     		ble	.L32
 373:ThirdPackage/lwip220/core/ipv4/etharp.c ****       /* recycle oldest pending (queued packets are free in etharp_free_entry) */
 428              		.loc 1 373 12 is_stmt 1 view .LVU129
 373:ThirdPackage/lwip220/core/ipv4/etharp.c ****       /* recycle oldest pending (queued packets are free in etharp_free_entry) */
 429              		.loc 1 373 15 is_stmt 0 view .LVU130
 430 015a BAF1090F 		cmp	r10, #9
 431 015e 22DC     		bgt	.L33
 375:ThirdPackage/lwip220/core/ipv4/etharp.c ****       LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_find_entry: selecting oldest pending entr
 432              		.loc 1 375 9 view .LVU131
 433 0160 5546     		mov	r5, r10
 434              	.LVL33:
 375:ThirdPackage/lwip220/core/ipv4/etharp.c ****       LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_find_entry: selecting oldest pending entr
 435              		.loc 1 375 9 view .LVU132
 436 0162 CDE7     		b	.L18
 437              	.LVL34:
 438              	.L31:
 363:ThirdPackage/lwip220/core/ipv4/etharp.c ****       LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_find_entry: selecting oldest stable entry
 439              		.loc 1 363 9 view .LVU133
 440 0164 4546     		mov	r5, r8
 441              	.LVL35:
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 17


 363:ThirdPackage/lwip220/core/ipv4/etharp.c ****       LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_find_entry: selecting oldest stable entry
 442              		.loc 1 363 9 view .LVU134
 443 0166 CBE7     		b	.L18
 444              	.LVL36:
 445              	.L32:
 370:ThirdPackage/lwip220/core/ipv4/etharp.c ****       LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_find_entry: selecting oldest pending entr
 446              		.loc 1 370 9 view .LVU135
 447 0168 019D     		ldr	r5, [sp, #4]
 448              	.LVL37:
 370:ThirdPackage/lwip220/core/ipv4/etharp.c ****       LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_find_entry: selecting oldest pending entr
 449              		.loc 1 370 9 view .LVU136
 450 016a C9E7     		b	.L18
 451              	.LVL38:
 452              	.L40:
 384:ThirdPackage/lwip220/core/ipv4/etharp.c ****     etharp_free_entry(i);
 453              		.loc 1 384 5 is_stmt 1 discriminator 1 view .LVU137
 384:ThirdPackage/lwip220/core/ipv4/etharp.c ****     etharp_free_entry(i);
 454              		.loc 1 384 5 discriminator 1 view .LVU138
 455 016c 104B     		ldr	r3, .L43+4
 456 016e 4FF4C072 		mov	r2, #384
 457 0172 1249     		ldr	r1, .L43+16
 458 0174 1048     		ldr	r0, .L43+12
 459 0176 FFF7FEFF 		bl	printf
 460              	.LVL39:
 461 017a C3E7     		b	.L19
 462              	.L41:
 388:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_ASSERT("arp_table[i].state == ETHARP_STATE_EMPTY",
 463              		.loc 1 388 3 discriminator 1 view .LVU139
 388:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_ASSERT("arp_table[i].state == ETHARP_STATE_EMPTY",
 464              		.loc 1 388 3 discriminator 1 view .LVU140
 465 017c 0C4B     		ldr	r3, .L43+4
 466 017e 4FF4C272 		mov	r2, #388
 467 0182 0E49     		ldr	r1, .L43+16
 468 0184 0C48     		ldr	r0, .L43+12
 469 0186 FFF7FEFF 		bl	printf
 470              	.LVL40:
 471 018a C0E7     		b	.L20
 472              	.L42:
 389:ThirdPackage/lwip220/core/ipv4/etharp.c ****               arp_table[i].state == ETHARP_STATE_EMPTY);
 473              		.loc 1 389 3 discriminator 1 view .LVU141
 389:ThirdPackage/lwip220/core/ipv4/etharp.c ****               arp_table[i].state == ETHARP_STATE_EMPTY);
 474              		.loc 1 389 3 discriminator 1 view .LVU142
 475 018c 084B     		ldr	r3, .L43+4
 476 018e 40F28512 		movw	r2, #389
 477 0192 0B49     		ldr	r1, .L43+20
 478 0194 0848     		ldr	r0, .L43+12
 479 0196 FFF7FEFF 		bl	printf
 480              	.LVL41:
 481 019a C1E7     		b	.L21
 482              	.LVL42:
 483              	.L24:
 484              	.LBB4:
 302:ThirdPackage/lwip220/core/ipv4/etharp.c ****       }
 485              		.loc 1 302 16 is_stmt 0 view .LVU143
 486 019c 1D46     		mov	r5, r3
 487              	.LVL43:
 302:ThirdPackage/lwip220/core/ipv4/etharp.c ****       }
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 18


 488              		.loc 1 302 16 view .LVU144
 489 019e CFE7     		b	.L11
 490              	.LVL44:
 491              	.L29:
 302:ThirdPackage/lwip220/core/ipv4/etharp.c ****       }
 492              		.loc 1 302 16 view .LVU145
 493              	.LBE4:
 343:ThirdPackage/lwip220/core/ipv4/etharp.c ****   }
 494              		.loc 1 343 12 view .LVU146
 495 01a0 4FF0FF35 		mov	r5, #-1
 496              	.LVL45:
 343:ThirdPackage/lwip220/core/ipv4/etharp.c ****   }
 497              		.loc 1 343 12 view .LVU147
 498 01a4 CCE7     		b	.L11
 499              	.LVL46:
 500              	.L33:
 380:ThirdPackage/lwip220/core/ipv4/etharp.c ****     }
 501              		.loc 1 380 14 view .LVU148
 502 01a6 4FF0FF35 		mov	r5, #-1
 503              	.LVL47:
 380:ThirdPackage/lwip220/core/ipv4/etharp.c ****     }
 504              		.loc 1 380 14 view .LVU149
 505 01aa C9E7     		b	.L11
 506              	.L44:
 507              		.align	2
 508              	.L43:
 509 01ac 00000000 		.word	.LANCHOR0
 510 01b0 00000000 		.word	.LC0
 511 01b4 28000000 		.word	.LC1
 512 01b8 40000000 		.word	.LC2
 513 01bc 68000000 		.word	.LC3
 514 01c0 7C000000 		.word	.LC4
 515              		.cfi_endproc
 516              	.LFE162:
 518              		.section	.rodata.etharp_update_arp_entry.str1.4,"aMS",%progbits,1
 519              		.align	2
 520              	.LC5:
 521 0000 6E657469 		.ascii	"netif->hwaddr_len == ETH_HWADDR_LEN\000"
 521      662D3E68 
 521      77616464 
 521      725F6C65 
 521      6E203D3D 
 522              		.section	.text.etharp_update_arp_entry,"ax",%progbits
 523              		.align	1
 524              		.syntax unified
 525              		.thumb
 526              		.thumb_func
 528              	etharp_update_arp_entry:
 529              	.LVL48:
 530              	.LFB163:
 403:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 404:ThirdPackage/lwip220/core/ipv4/etharp.c **** /**
 405:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * Update (or insert) a IP/MAC address pair in the ARP cache.
 406:ThirdPackage/lwip220/core/ipv4/etharp.c ****  *
 407:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * If a pending entry is resolved, any queued packets will be sent
 408:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * at this point.
 409:ThirdPackage/lwip220/core/ipv4/etharp.c ****  *
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 19


 410:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * @param netif netif related to this entry (used for NETIF_ADDRHINT)
 411:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * @param ipaddr IP address of the inserted ARP entry.
 412:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * @param ethaddr Ethernet address of the inserted ARP entry.
 413:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * @param flags See @ref etharp_state
 414:ThirdPackage/lwip220/core/ipv4/etharp.c ****  *
 415:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * @return
 416:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * - ERR_OK Successfully updated ARP cache.
 417:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * - ERR_MEM If we could not add a new ARP entry when ETHARP_FLAG_TRY_HARD was set.
 418:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * - ERR_ARG Non-unicast address given, those will not appear in ARP cache.
 419:ThirdPackage/lwip220/core/ipv4/etharp.c ****  *
 420:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * @see pbuf_free()
 421:ThirdPackage/lwip220/core/ipv4/etharp.c ****  */
 422:ThirdPackage/lwip220/core/ipv4/etharp.c **** static err_t
 423:ThirdPackage/lwip220/core/ipv4/etharp.c **** etharp_update_arp_entry(struct netif *netif, const ip4_addr_t *ipaddr, struct eth_addr *ethaddr, u8
 424:ThirdPackage/lwip220/core/ipv4/etharp.c **** {
 531              		.loc 1 424 1 is_stmt 1 view -0
 532              		.cfi_startproc
 533              		@ args = 0, pretend = 0, frame = 0
 534              		@ frame_needed = 0, uses_anonymous_args = 0
 535              		.loc 1 424 1 is_stmt 0 view .LVU151
 536 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 537              	.LCFI5:
 538              		.cfi_def_cfa_offset 20
 539              		.cfi_offset 4, -20
 540              		.cfi_offset 5, -16
 541              		.cfi_offset 6, -12
 542              		.cfi_offset 7, -8
 543              		.cfi_offset 14, -4
 544 0002 83B0     		sub	sp, sp, #12
 545              	.LCFI6:
 546              		.cfi_def_cfa_offset 32
 547 0004 0546     		mov	r5, r0
 548 0006 0C46     		mov	r4, r1
 549 0008 1646     		mov	r6, r2
 550 000a 1F46     		mov	r7, r3
 425:ThirdPackage/lwip220/core/ipv4/etharp.c ****   s16_t i;
 551              		.loc 1 425 3 is_stmt 1 view .LVU152
 426:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_ASSERT("netif->hwaddr_len == ETH_HWADDR_LEN", netif->hwaddr_len == ETH_HWADDR_LEN);
 552              		.loc 1 426 3 view .LVU153
 553              		.loc 1 426 3 view .LVU154
 554 000c 90F82C20 		ldrb	r2, [r0, #44]	@ zero_extendqisi2
 555              	.LVL49:
 556              		.loc 1 426 3 is_stmt 0 view .LVU155
 557 0010 062A     		cmp	r2, #6
 558 0012 3ED1     		bne	.L53
 559              	.LVL50:
 560              	.L46:
 561              		.loc 1 426 3 is_stmt 1 discriminator 3 view .LVU156
 562              		.loc 1 426 3 discriminator 3 view .LVU157
 427:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_update_arp_entry: %"U16_F".%"U16_F".%"U16_F".
 428:ThirdPackage/lwip220/core/ipv4/etharp.c ****               ip4_addr1_16(ipaddr), ip4_addr2_16(ipaddr), ip4_addr3_16(ipaddr), ip4_addr4_16(ipaddr
 429:ThirdPackage/lwip220/core/ipv4/etharp.c ****               (u16_t)ethaddr->addr[0], (u16_t)ethaddr->addr[1], (u16_t)ethaddr->addr[2],
 430:ThirdPackage/lwip220/core/ipv4/etharp.c ****               (u16_t)ethaddr->addr[3], (u16_t)ethaddr->addr[4], (u16_t)ethaddr->addr[5]));
 563              		.loc 1 430 90 discriminator 3 view .LVU158
 431:ThirdPackage/lwip220/core/ipv4/etharp.c ****   /* non-unicast address? */
 432:ThirdPackage/lwip220/core/ipv4/etharp.c ****   if (ip4_addr_isany(ipaddr) ||
 564              		.loc 1 432 3 discriminator 3 view .LVU159
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 20


 565              		.loc 1 432 6 is_stmt 0 discriminator 3 view .LVU160
 566 0014 002C     		cmp	r4, #0
 567 0016 44D0     		beq	.L47
 568              		.loc 1 432 7 discriminator 1 view .LVU161
 569 0018 2068     		ldr	r0, [r4]
 570 001a 0028     		cmp	r0, #0
 571 001c 41D0     		beq	.L47
 433:ThirdPackage/lwip220/core/ipv4/etharp.c ****       ip4_addr_isbroadcast(ipaddr, netif) ||
 572              		.loc 1 433 7 discriminator 2 view .LVU162
 573 001e 2946     		mov	r1, r5
 574 0020 FFF7FEFF 		bl	ip4_addr_isbroadcast_u32
 575              	.LVL51:
 432:ThirdPackage/lwip220/core/ipv4/etharp.c ****       ip4_addr_isbroadcast(ipaddr, netif) ||
 576              		.loc 1 432 30 discriminator 2 view .LVU163
 577 0024 0028     		cmp	r0, #0
 578 0026 3CD1     		bne	.L47
 434:ThirdPackage/lwip220/core/ipv4/etharp.c ****       ip4_addr_ismulticast(ipaddr)) {
 579              		.loc 1 434 7 view .LVU164
 580 0028 2268     		ldr	r2, [r4]
 581 002a 02F0F002 		and	r2, r2, #240
 433:ThirdPackage/lwip220/core/ipv4/etharp.c ****       ip4_addr_isbroadcast(ipaddr, netif) ||
 582              		.loc 1 433 43 view .LVU165
 583 002e E02A     		cmp	r2, #224
 584 0030 37D0     		beq	.L47
 435:ThirdPackage/lwip220/core/ipv4/etharp.c ****     LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_update_arp_entry: will not add non-unicast 
 436:ThirdPackage/lwip220/core/ipv4/etharp.c ****     return ERR_ARG;
 437:ThirdPackage/lwip220/core/ipv4/etharp.c ****   }
 438:ThirdPackage/lwip220/core/ipv4/etharp.c ****   /* find or create ARP entry */
 439:ThirdPackage/lwip220/core/ipv4/etharp.c ****   i = etharp_find_entry(ipaddr, flags, netif);
 585              		.loc 1 439 3 is_stmt 1 view .LVU166
 586              		.loc 1 439 7 is_stmt 0 view .LVU167
 587 0032 2A46     		mov	r2, r5
 588 0034 3946     		mov	r1, r7
 589 0036 2046     		mov	r0, r4
 590 0038 FFF7FEFF 		bl	etharp_find_entry
 591              	.LVL52:
 440:ThirdPackage/lwip220/core/ipv4/etharp.c ****   /* bail out if no entry could be found */
 441:ThirdPackage/lwip220/core/ipv4/etharp.c ****   if (i < 0) {
 592              		.loc 1 441 3 is_stmt 1 view .LVU168
 593              		.loc 1 441 6 is_stmt 0 view .LVU169
 594 003c B0F1000C 		subs	ip, r0, #0
 595 0040 32DB     		blt	.L54
 442:ThirdPackage/lwip220/core/ipv4/etharp.c ****     return (err_t)i;
 443:ThirdPackage/lwip220/core/ipv4/etharp.c ****   }
 444:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 445:ThirdPackage/lwip220/core/ipv4/etharp.c **** #if ETHARP_SUPPORT_STATIC_ENTRIES
 446:ThirdPackage/lwip220/core/ipv4/etharp.c ****   if (flags & ETHARP_FLAG_STATIC_ENTRY) {
 447:ThirdPackage/lwip220/core/ipv4/etharp.c ****     /* record static type */
 448:ThirdPackage/lwip220/core/ipv4/etharp.c ****     arp_table[i].state = ETHARP_STATE_STATIC;
 449:ThirdPackage/lwip220/core/ipv4/etharp.c ****   } else if (arp_table[i].state == ETHARP_STATE_STATIC) {
 450:ThirdPackage/lwip220/core/ipv4/etharp.c ****     /* found entry is a static type, don't overwrite it */
 451:ThirdPackage/lwip220/core/ipv4/etharp.c ****     return ERR_VAL;
 452:ThirdPackage/lwip220/core/ipv4/etharp.c ****   } else
 453:ThirdPackage/lwip220/core/ipv4/etharp.c **** #endif /* ETHARP_SUPPORT_STATIC_ENTRIES */
 454:ThirdPackage/lwip220/core/ipv4/etharp.c ****   {
 455:ThirdPackage/lwip220/core/ipv4/etharp.c ****     /* mark it stable */
 456:ThirdPackage/lwip220/core/ipv4/etharp.c ****     arp_table[i].state = ETHARP_STATE_STABLE;
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 21


 596              		.loc 1 456 5 is_stmt 1 view .LVU170
 597              		.loc 1 456 24 is_stmt 0 view .LVU171
 598 0042 1C4B     		ldr	r3, .L55
 599 0044 0CEB4C00 		add	r0, ip, ip, lsl #1
 600              	.LVL53:
 601              		.loc 1 456 24 view .LVU172
 602 0048 03EBC002 		add	r2, r3, r0, lsl #3
 603 004c 0221     		movs	r1, #2
 604 004e 1175     		strb	r1, [r2, #20]
 457:ThirdPackage/lwip220/core/ipv4/etharp.c ****   }
 458:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 459:ThirdPackage/lwip220/core/ipv4/etharp.c ****   /* record network interface */
 460:ThirdPackage/lwip220/core/ipv4/etharp.c ****   arp_table[i].netif = netif;
 605              		.loc 1 460 3 is_stmt 1 view .LVU173
 606              		.loc 1 460 22 is_stmt 0 view .LVU174
 607 0050 9560     		str	r5, [r2, #8]
 461:ThirdPackage/lwip220/core/ipv4/etharp.c ****   /* insert in SNMP ARP index tree */
 462:ThirdPackage/lwip220/core/ipv4/etharp.c ****   mib2_add_arp_entry(netif, &arp_table[i].ipaddr);
 608              		.loc 1 462 50 is_stmt 1 view .LVU175
 463:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 464:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_update_arp_entry: updating stable entry %"S16
 609              		.loc 1 464 111 view .LVU176
 465:ThirdPackage/lwip220/core/ipv4/etharp.c ****   /* update address */
 466:ThirdPackage/lwip220/core/ipv4/etharp.c ****   SMEMCPY(&arp_table[i].ethaddr, ethaddr, ETH_HWADDR_LEN);
 610              		.loc 1 466 3 view .LVU177
 611 0052 C100     		lsls	r1, r0, #3
 612 0054 0831     		adds	r1, r1, #8
 613 0056 1944     		add	r1, r1, r3
 614 0058 3468     		ldr	r4, [r6]	@ unaligned
 615              	.LVL54:
 616              		.loc 1 466 3 is_stmt 0 view .LVU178
 617 005a 4C60     		str	r4, [r1, #4]	@ unaligned
 618 005c B488     		ldrh	r4, [r6, #4]	@ unaligned
 619 005e 0C81     		strh	r4, [r1, #8]	@ unaligned
 467:ThirdPackage/lwip220/core/ipv4/etharp.c ****   /* reset time stamp */
 468:ThirdPackage/lwip220/core/ipv4/etharp.c ****   arp_table[i].ctime = 0;
 620              		.loc 1 468 3 is_stmt 1 view .LVU179
 621              		.loc 1 468 22 is_stmt 0 view .LVU180
 622 0060 0021     		movs	r1, #0
 623 0062 5182     		strh	r1, [r2, #18]	@ movhi
 469:ThirdPackage/lwip220/core/ipv4/etharp.c ****   /* this is where we will send out queued packets! */
 470:ThirdPackage/lwip220/core/ipv4/etharp.c **** #if ARP_QUEUEING
 471:ThirdPackage/lwip220/core/ipv4/etharp.c ****   while (arp_table[i].q != NULL) {
 472:ThirdPackage/lwip220/core/ipv4/etharp.c ****     struct pbuf *p;
 473:ThirdPackage/lwip220/core/ipv4/etharp.c ****     /* remember remainder of queue */
 474:ThirdPackage/lwip220/core/ipv4/etharp.c ****     struct etharp_q_entry *q = arp_table[i].q;
 475:ThirdPackage/lwip220/core/ipv4/etharp.c ****     /* pop first item off the queue */
 476:ThirdPackage/lwip220/core/ipv4/etharp.c ****     arp_table[i].q = q->next;
 477:ThirdPackage/lwip220/core/ipv4/etharp.c ****     /* get the packet pointer */
 478:ThirdPackage/lwip220/core/ipv4/etharp.c ****     p = q->p;
 479:ThirdPackage/lwip220/core/ipv4/etharp.c ****     /* now queue entry can be freed */
 480:ThirdPackage/lwip220/core/ipv4/etharp.c ****     memp_free(MEMP_ARP_QUEUE, q);
 481:ThirdPackage/lwip220/core/ipv4/etharp.c **** #else /* ARP_QUEUEING */
 482:ThirdPackage/lwip220/core/ipv4/etharp.c ****   if (arp_table[i].q != NULL) {
 624              		.loc 1 482 3 is_stmt 1 view .LVU181
 625              		.loc 1 482 19 is_stmt 0 view .LVU182
 626 0064 53F83070 		ldr	r7, [r3, r0, lsl #3]
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 22


 627              		.loc 1 482 6 view .LVU183
 628 0068 17B3     		cbz	r7, .L51
 629              	.LBB5:
 483:ThirdPackage/lwip220/core/ipv4/etharp.c ****     struct pbuf *p = arp_table[i].q;
 630              		.loc 1 483 5 is_stmt 1 view .LVU184
 631              	.LVL55:
 484:ThirdPackage/lwip220/core/ipv4/etharp.c ****     arp_table[i].q = NULL;
 632              		.loc 1 484 5 view .LVU185
 633              		.loc 1 484 20 is_stmt 0 view .LVU186
 634 006a 4FEAC00C 		lsl	ip, r0, #3
 635 006e 0C46     		mov	r4, r1
 636 0070 43F80C10 		str	r1, [r3, ip]
 485:ThirdPackage/lwip220/core/ipv4/etharp.c **** #endif /* ARP_QUEUEING */
 486:ThirdPackage/lwip220/core/ipv4/etharp.c ****     /* send the queued IP packet */
 487:ThirdPackage/lwip220/core/ipv4/etharp.c ****     ethernet_output(netif, p, (struct eth_addr *)(netif->hwaddr), ethaddr, ETHTYPE_IP);
 637              		.loc 1 487 5 is_stmt 1 view .LVU187
 638 0074 4FF40063 		mov	r3, #2048
 639 0078 0093     		str	r3, [sp]
 640 007a 3346     		mov	r3, r6
 641 007c 05F12602 		add	r2, r5, #38
 642 0080 3946     		mov	r1, r7
 643 0082 2846     		mov	r0, r5
 644 0084 FFF7FEFF 		bl	ethernet_output
 645              	.LVL56:
 488:ThirdPackage/lwip220/core/ipv4/etharp.c ****     /* free the queued IP packet */
 489:ThirdPackage/lwip220/core/ipv4/etharp.c ****     pbuf_free(p);
 646              		.loc 1 489 5 view .LVU188
 647 0088 3846     		mov	r0, r7
 648 008a FFF7FEFF 		bl	pbuf_free
 649              	.LVL57:
 650              	.LBE5:
 490:ThirdPackage/lwip220/core/ipv4/etharp.c ****   }
 491:ThirdPackage/lwip220/core/ipv4/etharp.c ****   return ERR_OK;
 651              		.loc 1 491 10 is_stmt 0 view .LVU189
 652 008e 2046     		mov	r0, r4
 653 0090 0CE0     		b	.L49
 654              	.LVL58:
 655              	.L53:
 426:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_update_arp_entry: %"U16_F".%"U16_F".%"U16_F".
 656              		.loc 1 426 3 is_stmt 1 discriminator 1 view .LVU190
 426:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_update_arp_entry: %"U16_F".%"U16_F".%"U16_F".
 657              		.loc 1 426 3 discriminator 1 view .LVU191
 658 0092 094B     		ldr	r3, .L55+4
 659              	.LVL59:
 426:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_update_arp_entry: %"U16_F".%"U16_F".%"U16_F".
 660              		.loc 1 426 3 is_stmt 0 discriminator 1 view .LVU192
 661 0094 4FF4D572 		mov	r2, #426
 662 0098 0849     		ldr	r1, .L55+8
 663              	.LVL60:
 426:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_update_arp_entry: %"U16_F".%"U16_F".%"U16_F".
 664              		.loc 1 426 3 discriminator 1 view .LVU193
 665 009a 0948     		ldr	r0, .L55+12
 666              	.LVL61:
 426:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_update_arp_entry: %"U16_F".%"U16_F".%"U16_F".
 667              		.loc 1 426 3 discriminator 1 view .LVU194
 668 009c FFF7FEFF 		bl	printf
 669              	.LVL62:
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 23


 670 00a0 B8E7     		b	.L46
 671              	.L47:
 435:ThirdPackage/lwip220/core/ipv4/etharp.c ****     return ERR_ARG;
 672              		.loc 1 435 128 is_stmt 1 view .LVU195
 436:ThirdPackage/lwip220/core/ipv4/etharp.c ****   }
 673              		.loc 1 436 5 view .LVU196
 436:ThirdPackage/lwip220/core/ipv4/etharp.c ****   }
 674              		.loc 1 436 12 is_stmt 0 view .LVU197
 675 00a2 6FF00F00 		mvn	r0, #15
 676 00a6 01E0     		b	.L49
 677              	.LVL63:
 678              	.L54:
 442:ThirdPackage/lwip220/core/ipv4/etharp.c ****   }
 679              		.loc 1 442 5 is_stmt 1 view .LVU198
 442:ThirdPackage/lwip220/core/ipv4/etharp.c ****   }
 680              		.loc 1 442 12 is_stmt 0 view .LVU199
 681 00a8 4FFA8CF0 		sxtb	r0, ip
 682              	.LVL64:
 683              	.L49:
 492:ThirdPackage/lwip220/core/ipv4/etharp.c **** }
 684              		.loc 1 492 1 view .LVU200
 685 00ac 03B0     		add	sp, sp, #12
 686              	.LCFI7:
 687              		.cfi_remember_state
 688              		.cfi_def_cfa_offset 20
 689              		@ sp needed
 690 00ae F0BD     		pop	{r4, r5, r6, r7, pc}
 691              	.LVL65:
 692              	.L51:
 693              	.LCFI8:
 694              		.cfi_restore_state
 491:ThirdPackage/lwip220/core/ipv4/etharp.c **** }
 695              		.loc 1 491 10 view .LVU201
 696 00b0 0020     		movs	r0, #0
 697 00b2 FBE7     		b	.L49
 698              	.L56:
 699              		.align	2
 700              	.L55:
 701 00b4 00000000 		.word	.LANCHOR0
 702 00b8 00000000 		.word	.LC0
 703 00bc 00000000 		.word	.LC5
 704 00c0 40000000 		.word	.LC2
 705              		.cfi_endproc
 706              	.LFE163:
 708              		.section	.rodata.etharp_raw.str1.4,"aMS",%progbits,1
 709              		.align	2
 710              	.LC6:
 711 0000 6E657469 		.ascii	"netif != NULL\000"
 711      6620213D 
 711      204E554C 
 711      4C00
 712 000e 0000     		.align	2
 713              	.LC7:
 714 0010 63686563 		.ascii	"check that first pbuf can hold struct etharp_hdr\000"
 714      6B207468 
 714      61742066 
 714      69727374 
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 24


 714      20706275 
 715 0041 000000   		.align	2
 716              	.LC8:
 717 0044 6E657469 		.ascii	"netif->hwaddr_len must be the same as ETH_HWADDR_LE"
 717      662D3E68 
 717      77616464 
 717      725F6C65 
 717      6E206D75 
 718 0077 4E20666F 		.ascii	"N for etharp!\000"
 718      72206574 
 718      68617270 
 718      2100
 719              		.section	.text.etharp_raw,"ax",%progbits
 720              		.align	1
 721              		.syntax unified
 722              		.thumb
 723              		.thumb_func
 725              	etharp_raw:
 726              	.LVL66:
 727              	.LFB171:
 493:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 494:ThirdPackage/lwip220/core/ipv4/etharp.c **** #if ETHARP_SUPPORT_STATIC_ENTRIES
 495:ThirdPackage/lwip220/core/ipv4/etharp.c **** /** Add a new static entry to the ARP table. If an entry exists for the
 496:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * specified IP address, this entry is overwritten.
 497:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * If packets are queued for the specified IP address, they are sent out.
 498:ThirdPackage/lwip220/core/ipv4/etharp.c ****  *
 499:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * @param ipaddr IP address for the new static entry
 500:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * @param ethaddr ethernet address for the new static entry
 501:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * @return See return values of etharp_add_static_entry
 502:ThirdPackage/lwip220/core/ipv4/etharp.c ****  */
 503:ThirdPackage/lwip220/core/ipv4/etharp.c **** err_t
 504:ThirdPackage/lwip220/core/ipv4/etharp.c **** etharp_add_static_entry(const ip4_addr_t *ipaddr, struct eth_addr *ethaddr)
 505:ThirdPackage/lwip220/core/ipv4/etharp.c **** {
 506:ThirdPackage/lwip220/core/ipv4/etharp.c ****   struct netif *netif;
 507:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_ASSERT_CORE_LOCKED();
 508:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_add_static_entry: %"U16_F".%"U16_F".%"U16_F".
 509:ThirdPackage/lwip220/core/ipv4/etharp.c ****               ip4_addr1_16(ipaddr), ip4_addr2_16(ipaddr), ip4_addr3_16(ipaddr), ip4_addr4_16(ipaddr
 510:ThirdPackage/lwip220/core/ipv4/etharp.c ****               (u16_t)ethaddr->addr[0], (u16_t)ethaddr->addr[1], (u16_t)ethaddr->addr[2],
 511:ThirdPackage/lwip220/core/ipv4/etharp.c ****               (u16_t)ethaddr->addr[3], (u16_t)ethaddr->addr[4], (u16_t)ethaddr->addr[5]));
 512:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 513:ThirdPackage/lwip220/core/ipv4/etharp.c ****   netif = ip4_route(ipaddr);
 514:ThirdPackage/lwip220/core/ipv4/etharp.c ****   if (netif == NULL) {
 515:ThirdPackage/lwip220/core/ipv4/etharp.c ****     return ERR_RTE;
 516:ThirdPackage/lwip220/core/ipv4/etharp.c ****   }
 517:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 518:ThirdPackage/lwip220/core/ipv4/etharp.c ****   return etharp_update_arp_entry(netif, ipaddr, ethaddr, ETHARP_FLAG_TRY_HARD | ETHARP_FLAG_STATIC_
 519:ThirdPackage/lwip220/core/ipv4/etharp.c **** }
 520:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 521:ThirdPackage/lwip220/core/ipv4/etharp.c **** /** Remove a static entry from the ARP table previously added with a call to
 522:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * etharp_add_static_entry.
 523:ThirdPackage/lwip220/core/ipv4/etharp.c ****  *
 524:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * @param ipaddr IP address of the static entry to remove
 525:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * @return ERR_OK: entry removed
 526:ThirdPackage/lwip220/core/ipv4/etharp.c ****  *         ERR_MEM: entry wasn't found
 527:ThirdPackage/lwip220/core/ipv4/etharp.c ****  *         ERR_ARG: entry wasn't a static entry but a dynamic one
 528:ThirdPackage/lwip220/core/ipv4/etharp.c ****  */
 529:ThirdPackage/lwip220/core/ipv4/etharp.c **** err_t
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 25


 530:ThirdPackage/lwip220/core/ipv4/etharp.c **** etharp_remove_static_entry(const ip4_addr_t *ipaddr)
 531:ThirdPackage/lwip220/core/ipv4/etharp.c **** {
 532:ThirdPackage/lwip220/core/ipv4/etharp.c ****   s16_t i;
 533:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_ASSERT_CORE_LOCKED();
 534:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_remove_static_entry: %"U16_F".%"U16_F".%"U16_
 535:ThirdPackage/lwip220/core/ipv4/etharp.c ****               ip4_addr1_16(ipaddr), ip4_addr2_16(ipaddr), ip4_addr3_16(ipaddr), ip4_addr4_16(ipaddr
 536:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 537:ThirdPackage/lwip220/core/ipv4/etharp.c ****   /* find or create ARP entry */
 538:ThirdPackage/lwip220/core/ipv4/etharp.c ****   i = etharp_find_entry(ipaddr, ETHARP_FLAG_FIND_ONLY, NULL);
 539:ThirdPackage/lwip220/core/ipv4/etharp.c ****   /* bail out if no entry could be found */
 540:ThirdPackage/lwip220/core/ipv4/etharp.c ****   if (i < 0) {
 541:ThirdPackage/lwip220/core/ipv4/etharp.c ****     return (err_t)i;
 542:ThirdPackage/lwip220/core/ipv4/etharp.c ****   }
 543:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 544:ThirdPackage/lwip220/core/ipv4/etharp.c ****   if (arp_table[i].state != ETHARP_STATE_STATIC) {
 545:ThirdPackage/lwip220/core/ipv4/etharp.c ****     /* entry wasn't a static entry, cannot remove it */
 546:ThirdPackage/lwip220/core/ipv4/etharp.c ****     return ERR_ARG;
 547:ThirdPackage/lwip220/core/ipv4/etharp.c ****   }
 548:ThirdPackage/lwip220/core/ipv4/etharp.c ****   /* entry found, free it */
 549:ThirdPackage/lwip220/core/ipv4/etharp.c ****   etharp_free_entry(i);
 550:ThirdPackage/lwip220/core/ipv4/etharp.c ****   return ERR_OK;
 551:ThirdPackage/lwip220/core/ipv4/etharp.c **** }
 552:ThirdPackage/lwip220/core/ipv4/etharp.c **** #endif /* ETHARP_SUPPORT_STATIC_ENTRIES */
 553:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 554:ThirdPackage/lwip220/core/ipv4/etharp.c **** /**
 555:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * Remove all ARP table entries of the specified netif.
 556:ThirdPackage/lwip220/core/ipv4/etharp.c ****  *
 557:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * @param netif points to a network interface
 558:ThirdPackage/lwip220/core/ipv4/etharp.c ****  */
 559:ThirdPackage/lwip220/core/ipv4/etharp.c **** void
 560:ThirdPackage/lwip220/core/ipv4/etharp.c **** etharp_cleanup_netif(struct netif *netif)
 561:ThirdPackage/lwip220/core/ipv4/etharp.c **** {
 562:ThirdPackage/lwip220/core/ipv4/etharp.c ****   int i;
 563:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 564:ThirdPackage/lwip220/core/ipv4/etharp.c ****   for (i = 0; i < ARP_TABLE_SIZE; ++i) {
 565:ThirdPackage/lwip220/core/ipv4/etharp.c ****     u8_t state = arp_table[i].state;
 566:ThirdPackage/lwip220/core/ipv4/etharp.c ****     if ((state != ETHARP_STATE_EMPTY) && (arp_table[i].netif == netif)) {
 567:ThirdPackage/lwip220/core/ipv4/etharp.c ****       etharp_free_entry(i);
 568:ThirdPackage/lwip220/core/ipv4/etharp.c ****     }
 569:ThirdPackage/lwip220/core/ipv4/etharp.c ****   }
 570:ThirdPackage/lwip220/core/ipv4/etharp.c **** }
 571:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 572:ThirdPackage/lwip220/core/ipv4/etharp.c **** /**
 573:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * Finds (stable) ethernet/IP address pair from ARP table
 574:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * using interface and IP address index.
 575:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * @note the addresses in the ARP table are in network order!
 576:ThirdPackage/lwip220/core/ipv4/etharp.c ****  *
 577:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * @param netif points to interface index
 578:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * @param ipaddr points to the (network order) IP address index
 579:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * @param eth_ret points to return pointer
 580:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * @param ip_ret points to return pointer
 581:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * @return table index if found, -1 otherwise
 582:ThirdPackage/lwip220/core/ipv4/etharp.c ****  */
 583:ThirdPackage/lwip220/core/ipv4/etharp.c **** ssize_t
 584:ThirdPackage/lwip220/core/ipv4/etharp.c **** etharp_find_addr(struct netif *netif, const ip4_addr_t *ipaddr,
 585:ThirdPackage/lwip220/core/ipv4/etharp.c ****                  struct eth_addr **eth_ret, const ip4_addr_t **ip_ret)
 586:ThirdPackage/lwip220/core/ipv4/etharp.c **** {
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 26


 587:ThirdPackage/lwip220/core/ipv4/etharp.c ****   s16_t i;
 588:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 589:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_ASSERT("eth_ret != NULL && ip_ret != NULL",
 590:ThirdPackage/lwip220/core/ipv4/etharp.c ****               eth_ret != NULL && ip_ret != NULL);
 591:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 592:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_UNUSED_ARG(netif);
 593:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 594:ThirdPackage/lwip220/core/ipv4/etharp.c ****   i = etharp_find_entry(ipaddr, ETHARP_FLAG_FIND_ONLY, netif);
 595:ThirdPackage/lwip220/core/ipv4/etharp.c ****   if ((i >= 0) && (arp_table[i].state >= ETHARP_STATE_STABLE)) {
 596:ThirdPackage/lwip220/core/ipv4/etharp.c ****     *eth_ret = &arp_table[i].ethaddr;
 597:ThirdPackage/lwip220/core/ipv4/etharp.c ****     *ip_ret = &arp_table[i].ipaddr;
 598:ThirdPackage/lwip220/core/ipv4/etharp.c ****     return i;
 599:ThirdPackage/lwip220/core/ipv4/etharp.c ****   }
 600:ThirdPackage/lwip220/core/ipv4/etharp.c ****   return -1;
 601:ThirdPackage/lwip220/core/ipv4/etharp.c **** }
 602:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 603:ThirdPackage/lwip220/core/ipv4/etharp.c **** /**
 604:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * Possibility to iterate over stable ARP table entries
 605:ThirdPackage/lwip220/core/ipv4/etharp.c ****  *
 606:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * @param i entry number, 0 to ARP_TABLE_SIZE
 607:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * @param ipaddr return value: IP address
 608:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * @param netif return value: points to interface
 609:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * @param eth_ret return value: ETH address
 610:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * @return 1 on valid index, 0 otherwise
 611:ThirdPackage/lwip220/core/ipv4/etharp.c ****  */
 612:ThirdPackage/lwip220/core/ipv4/etharp.c **** int
 613:ThirdPackage/lwip220/core/ipv4/etharp.c **** etharp_get_entry(size_t i, ip4_addr_t **ipaddr, struct netif **netif, struct eth_addr **eth_ret)
 614:ThirdPackage/lwip220/core/ipv4/etharp.c **** {
 615:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_ASSERT("ipaddr != NULL", ipaddr != NULL);
 616:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_ASSERT("netif != NULL", netif != NULL);
 617:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_ASSERT("eth_ret != NULL", eth_ret != NULL);
 618:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 619:ThirdPackage/lwip220/core/ipv4/etharp.c ****   if ((i < ARP_TABLE_SIZE) && (arp_table[i].state >= ETHARP_STATE_STABLE)) {
 620:ThirdPackage/lwip220/core/ipv4/etharp.c ****     *ipaddr  = &arp_table[i].ipaddr;
 621:ThirdPackage/lwip220/core/ipv4/etharp.c ****     *netif   = arp_table[i].netif;
 622:ThirdPackage/lwip220/core/ipv4/etharp.c ****     *eth_ret = &arp_table[i].ethaddr;
 623:ThirdPackage/lwip220/core/ipv4/etharp.c ****     return 1;
 624:ThirdPackage/lwip220/core/ipv4/etharp.c ****   } else {
 625:ThirdPackage/lwip220/core/ipv4/etharp.c ****     return 0;
 626:ThirdPackage/lwip220/core/ipv4/etharp.c ****   }
 627:ThirdPackage/lwip220/core/ipv4/etharp.c **** }
 628:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 629:ThirdPackage/lwip220/core/ipv4/etharp.c **** /**
 630:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * Responds to ARP requests to us. Upon ARP replies to us, add entry to cache
 631:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * send out queued IP packets. Updates cache with snooped address pairs.
 632:ThirdPackage/lwip220/core/ipv4/etharp.c ****  *
 633:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * Should be called for incoming ARP packets. The pbuf in the argument
 634:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * is freed by this function.
 635:ThirdPackage/lwip220/core/ipv4/etharp.c ****  *
 636:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * @param p The ARP packet that arrived on netif. Is freed by this function.
 637:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * @param netif The lwIP network interface on which the ARP packet pbuf arrived.
 638:ThirdPackage/lwip220/core/ipv4/etharp.c ****  *
 639:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * @see pbuf_free()
 640:ThirdPackage/lwip220/core/ipv4/etharp.c ****  */
 641:ThirdPackage/lwip220/core/ipv4/etharp.c **** void
 642:ThirdPackage/lwip220/core/ipv4/etharp.c **** etharp_input(struct pbuf *p, struct netif *netif)
 643:ThirdPackage/lwip220/core/ipv4/etharp.c **** {
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 27


 644:ThirdPackage/lwip220/core/ipv4/etharp.c ****   struct etharp_hdr *hdr;
 645:ThirdPackage/lwip220/core/ipv4/etharp.c ****   /* these are aligned properly, whereas the ARP header fields might not be */
 646:ThirdPackage/lwip220/core/ipv4/etharp.c ****   ip4_addr_t sipaddr, dipaddr;
 647:ThirdPackage/lwip220/core/ipv4/etharp.c ****   u8_t for_us, from_us;
 648:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 649:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_ASSERT_CORE_LOCKED();
 650:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 651:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_ERROR("netif != NULL", (netif != NULL), return;);
 652:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 653:ThirdPackage/lwip220/core/ipv4/etharp.c ****   hdr = (struct etharp_hdr *)p->payload;
 654:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 655:ThirdPackage/lwip220/core/ipv4/etharp.c ****   /* RFC 826 "Packet Reception": */
 656:ThirdPackage/lwip220/core/ipv4/etharp.c ****   if ((hdr->hwtype != PP_HTONS(LWIP_IANA_HWTYPE_ETHERNET)) ||
 657:ThirdPackage/lwip220/core/ipv4/etharp.c ****       (hdr->hwlen != ETH_HWADDR_LEN) ||
 658:ThirdPackage/lwip220/core/ipv4/etharp.c ****       (hdr->protolen != sizeof(ip4_addr_t)) ||
 659:ThirdPackage/lwip220/core/ipv4/etharp.c ****       (hdr->proto != PP_HTONS(ETHTYPE_IP)))  {
 660:ThirdPackage/lwip220/core/ipv4/etharp.c ****     LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE | LWIP_DBG_LEVEL_WARNING,
 661:ThirdPackage/lwip220/core/ipv4/etharp.c ****                 ("etharp_input: packet dropped, wrong hw type, hwlen, proto, protolen or ethernet t
 662:ThirdPackage/lwip220/core/ipv4/etharp.c ****                  hdr->hwtype, (u16_t)hdr->hwlen, hdr->proto, (u16_t)hdr->protolen));
 663:ThirdPackage/lwip220/core/ipv4/etharp.c ****     ETHARP_STATS_INC(etharp.proterr);
 664:ThirdPackage/lwip220/core/ipv4/etharp.c ****     ETHARP_STATS_INC(etharp.drop);
 665:ThirdPackage/lwip220/core/ipv4/etharp.c ****     pbuf_free(p);
 666:ThirdPackage/lwip220/core/ipv4/etharp.c ****     return;
 667:ThirdPackage/lwip220/core/ipv4/etharp.c ****   }
 668:ThirdPackage/lwip220/core/ipv4/etharp.c ****   ETHARP_STATS_INC(etharp.recv);
 669:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 670:ThirdPackage/lwip220/core/ipv4/etharp.c **** #if LWIP_ACD
 671:ThirdPackage/lwip220/core/ipv4/etharp.c ****   /* We have to check if a host already has configured our ip address and
 672:ThirdPackage/lwip220/core/ipv4/etharp.c ****    * continuously check if there is a host with this IP-address so we can
 673:ThirdPackage/lwip220/core/ipv4/etharp.c ****    * detect collisions.
 674:ThirdPackage/lwip220/core/ipv4/etharp.c ****    * acd_arp_reply ensures the detection of conflicts. It will handle possible
 675:ThirdPackage/lwip220/core/ipv4/etharp.c ****    * defending or retreating and will make sure a new IP address is selected.
 676:ThirdPackage/lwip220/core/ipv4/etharp.c ****    * etharp_input does not need to handle packets that originate "from_us".
 677:ThirdPackage/lwip220/core/ipv4/etharp.c ****    */
 678:ThirdPackage/lwip220/core/ipv4/etharp.c ****   acd_arp_reply(netif, hdr);
 679:ThirdPackage/lwip220/core/ipv4/etharp.c **** #endif /* LWIP_ACD */
 680:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 681:ThirdPackage/lwip220/core/ipv4/etharp.c ****   /* Copy struct ip4_addr_wordaligned to aligned ip4_addr, to support compilers without
 682:ThirdPackage/lwip220/core/ipv4/etharp.c ****    * structure packing (not using structure copy which breaks strict-aliasing rules). */
 683:ThirdPackage/lwip220/core/ipv4/etharp.c ****   IPADDR_WORDALIGNED_COPY_TO_IP4_ADDR_T(&sipaddr, &hdr->sipaddr);
 684:ThirdPackage/lwip220/core/ipv4/etharp.c ****   IPADDR_WORDALIGNED_COPY_TO_IP4_ADDR_T(&dipaddr, &hdr->dipaddr);
 685:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 686:ThirdPackage/lwip220/core/ipv4/etharp.c ****   /* this interface is not configured? */
 687:ThirdPackage/lwip220/core/ipv4/etharp.c ****   if (ip4_addr_isany_val(*netif_ip4_addr(netif))) {
 688:ThirdPackage/lwip220/core/ipv4/etharp.c ****     for_us = 0;
 689:ThirdPackage/lwip220/core/ipv4/etharp.c ****     from_us = 0;
 690:ThirdPackage/lwip220/core/ipv4/etharp.c ****   } else {
 691:ThirdPackage/lwip220/core/ipv4/etharp.c ****     /* ARP packet directed to us? */
 692:ThirdPackage/lwip220/core/ipv4/etharp.c ****     for_us = (u8_t)ip4_addr_eq(&dipaddr, netif_ip4_addr(netif));
 693:ThirdPackage/lwip220/core/ipv4/etharp.c ****     /* ARP packet from us? */
 694:ThirdPackage/lwip220/core/ipv4/etharp.c ****     from_us = (u8_t)ip4_addr_eq(&sipaddr, netif_ip4_addr(netif));
 695:ThirdPackage/lwip220/core/ipv4/etharp.c ****   }
 696:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 697:ThirdPackage/lwip220/core/ipv4/etharp.c ****   /* ARP message directed to us?
 698:ThirdPackage/lwip220/core/ipv4/etharp.c ****       -> add IP address in ARP cache; assume requester wants to talk to us,
 699:ThirdPackage/lwip220/core/ipv4/etharp.c ****          can result in directly sending the queued packets for this host.
 700:ThirdPackage/lwip220/core/ipv4/etharp.c ****      ARP message not directed to us?
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 28


 701:ThirdPackage/lwip220/core/ipv4/etharp.c ****       ->  update the source IP address in the cache, if present */
 702:ThirdPackage/lwip220/core/ipv4/etharp.c ****   etharp_update_arp_entry(netif, &sipaddr, &(hdr->shwaddr),
 703:ThirdPackage/lwip220/core/ipv4/etharp.c ****                           for_us ? ETHARP_FLAG_TRY_HARD : ETHARP_FLAG_FIND_ONLY);
 704:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 705:ThirdPackage/lwip220/core/ipv4/etharp.c ****   /* now act on the message itself */
 706:ThirdPackage/lwip220/core/ipv4/etharp.c ****   switch (hdr->opcode) {
 707:ThirdPackage/lwip220/core/ipv4/etharp.c ****     /* ARP request? */
 708:ThirdPackage/lwip220/core/ipv4/etharp.c ****     case PP_HTONS(ARP_REQUEST):
 709:ThirdPackage/lwip220/core/ipv4/etharp.c ****       /* ARP request. If it asked for our address, we send out a
 710:ThirdPackage/lwip220/core/ipv4/etharp.c ****        * reply. In any case, we time-stamp any existing ARP entry,
 711:ThirdPackage/lwip220/core/ipv4/etharp.c ****        * and possibly send out an IP packet that was queued on it. */
 712:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 713:ThirdPackage/lwip220/core/ipv4/etharp.c ****       LWIP_DEBUGF (ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_input: incoming ARP request\n"));
 714:ThirdPackage/lwip220/core/ipv4/etharp.c ****       /* ARP request for our address? */
 715:ThirdPackage/lwip220/core/ipv4/etharp.c ****       if (for_us && !from_us) {
 716:ThirdPackage/lwip220/core/ipv4/etharp.c ****         /* send ARP response */
 717:ThirdPackage/lwip220/core/ipv4/etharp.c ****         etharp_raw(netif,
 718:ThirdPackage/lwip220/core/ipv4/etharp.c ****                    (struct eth_addr *)netif->hwaddr, &hdr->shwaddr,
 719:ThirdPackage/lwip220/core/ipv4/etharp.c ****                    (struct eth_addr *)netif->hwaddr, netif_ip4_addr(netif),
 720:ThirdPackage/lwip220/core/ipv4/etharp.c ****                    &hdr->shwaddr, &sipaddr,
 721:ThirdPackage/lwip220/core/ipv4/etharp.c ****                    ARP_REPLY);
 722:ThirdPackage/lwip220/core/ipv4/etharp.c ****         /* we are not configured? */
 723:ThirdPackage/lwip220/core/ipv4/etharp.c ****       } else if (ip4_addr_isany_val(*netif_ip4_addr(netif))) {
 724:ThirdPackage/lwip220/core/ipv4/etharp.c ****         /* { for_us == 0 and netif->ip_addr.addr == 0 } */
 725:ThirdPackage/lwip220/core/ipv4/etharp.c ****         LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_input: we are unconfigured, ARP request
 726:ThirdPackage/lwip220/core/ipv4/etharp.c ****         /* request was not directed to us */
 727:ThirdPackage/lwip220/core/ipv4/etharp.c ****       } else {
 728:ThirdPackage/lwip220/core/ipv4/etharp.c ****         /* { for_us == 0 and netif->ip_addr.addr != 0 } */
 729:ThirdPackage/lwip220/core/ipv4/etharp.c ****         LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_input: ARP request was not for us.\n"))
 730:ThirdPackage/lwip220/core/ipv4/etharp.c ****       }
 731:ThirdPackage/lwip220/core/ipv4/etharp.c ****       break;
 732:ThirdPackage/lwip220/core/ipv4/etharp.c ****     case PP_HTONS(ARP_REPLY):
 733:ThirdPackage/lwip220/core/ipv4/etharp.c ****       /* ARP reply. We already updated the ARP cache earlier. */
 734:ThirdPackage/lwip220/core/ipv4/etharp.c ****       LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_input: incoming ARP reply\n"));
 735:ThirdPackage/lwip220/core/ipv4/etharp.c ****       break;
 736:ThirdPackage/lwip220/core/ipv4/etharp.c ****     default:
 737:ThirdPackage/lwip220/core/ipv4/etharp.c ****       LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_input: ARP unknown opcode type %"S16_F"\n
 738:ThirdPackage/lwip220/core/ipv4/etharp.c ****       ETHARP_STATS_INC(etharp.err);
 739:ThirdPackage/lwip220/core/ipv4/etharp.c ****       break;
 740:ThirdPackage/lwip220/core/ipv4/etharp.c ****   }
 741:ThirdPackage/lwip220/core/ipv4/etharp.c ****   /* free ARP packet */
 742:ThirdPackage/lwip220/core/ipv4/etharp.c ****   pbuf_free(p);
 743:ThirdPackage/lwip220/core/ipv4/etharp.c **** }
 744:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 745:ThirdPackage/lwip220/core/ipv4/etharp.c **** /** Just a small helper function that sends a pbuf to an ethernet address
 746:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * in the arp_table specified by the index 'arp_idx'.
 747:ThirdPackage/lwip220/core/ipv4/etharp.c ****  */
 748:ThirdPackage/lwip220/core/ipv4/etharp.c **** static err_t
 749:ThirdPackage/lwip220/core/ipv4/etharp.c **** etharp_output_to_arp_index(struct netif *netif, struct pbuf *q, netif_addr_idx_t arp_idx)
 750:ThirdPackage/lwip220/core/ipv4/etharp.c **** {
 751:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_ASSERT("arp_table[arp_idx].state >= ETHARP_STATE_STABLE",
 752:ThirdPackage/lwip220/core/ipv4/etharp.c ****               arp_table[arp_idx].state >= ETHARP_STATE_STABLE);
 753:ThirdPackage/lwip220/core/ipv4/etharp.c ****   /* if arp table entry is about to expire: re-request it,
 754:ThirdPackage/lwip220/core/ipv4/etharp.c ****      but only if its state is ETHARP_STATE_STABLE to prevent flooding the
 755:ThirdPackage/lwip220/core/ipv4/etharp.c ****      network with ARP requests if this address is used frequently. */
 756:ThirdPackage/lwip220/core/ipv4/etharp.c ****   if (arp_table[arp_idx].state == ETHARP_STATE_STABLE) {
 757:ThirdPackage/lwip220/core/ipv4/etharp.c ****     if (arp_table[arp_idx].ctime >= ARP_AGE_REREQUEST_USED_BROADCAST) {
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 29


 758:ThirdPackage/lwip220/core/ipv4/etharp.c ****       /* issue a standard request using broadcast */
 759:ThirdPackage/lwip220/core/ipv4/etharp.c ****       if (etharp_request(netif, &arp_table[arp_idx].ipaddr) == ERR_OK) {
 760:ThirdPackage/lwip220/core/ipv4/etharp.c ****         arp_table[arp_idx].state = ETHARP_STATE_STABLE_REREQUESTING_1;
 761:ThirdPackage/lwip220/core/ipv4/etharp.c ****       }
 762:ThirdPackage/lwip220/core/ipv4/etharp.c ****     } else if (arp_table[arp_idx].ctime >= ARP_AGE_REREQUEST_USED_UNICAST) {
 763:ThirdPackage/lwip220/core/ipv4/etharp.c ****       /* issue a unicast request (for 15 seconds) to prevent unnecessary broadcast */
 764:ThirdPackage/lwip220/core/ipv4/etharp.c ****       if (etharp_request_dst(netif, &arp_table[arp_idx].ipaddr, &arp_table[arp_idx].ethaddr) == ERR
 765:ThirdPackage/lwip220/core/ipv4/etharp.c ****         arp_table[arp_idx].state = ETHARP_STATE_STABLE_REREQUESTING_1;
 766:ThirdPackage/lwip220/core/ipv4/etharp.c ****       }
 767:ThirdPackage/lwip220/core/ipv4/etharp.c ****     }
 768:ThirdPackage/lwip220/core/ipv4/etharp.c ****   }
 769:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 770:ThirdPackage/lwip220/core/ipv4/etharp.c ****   return ethernet_output(netif, q, (struct eth_addr *)(netif->hwaddr), &arp_table[arp_idx].ethaddr,
 771:ThirdPackage/lwip220/core/ipv4/etharp.c **** }
 772:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 773:ThirdPackage/lwip220/core/ipv4/etharp.c **** /**
 774:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * Resolve and fill-in Ethernet address header for outgoing IP packet.
 775:ThirdPackage/lwip220/core/ipv4/etharp.c ****  *
 776:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * For IP multicast and broadcast, corresponding Ethernet addresses
 777:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * are selected and the packet is transmitted on the link.
 778:ThirdPackage/lwip220/core/ipv4/etharp.c ****  *
 779:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * For unicast addresses, the packet is submitted to etharp_query(). In
 780:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * case the IP address is outside the local network, the IP address of
 781:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * the gateway is used.
 782:ThirdPackage/lwip220/core/ipv4/etharp.c ****  *
 783:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * @param netif The lwIP network interface which the IP packet will be sent on.
 784:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * @param q The pbuf(s) containing the IP packet to be sent.
 785:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * @param ipaddr The IP address of the packet destination.
 786:ThirdPackage/lwip220/core/ipv4/etharp.c ****  *
 787:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * @return
 788:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * - ERR_RTE No route to destination (no gateway to external networks),
 789:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * or the return type of either etharp_query() or ethernet_output().
 790:ThirdPackage/lwip220/core/ipv4/etharp.c ****  */
 791:ThirdPackage/lwip220/core/ipv4/etharp.c **** err_t
 792:ThirdPackage/lwip220/core/ipv4/etharp.c **** etharp_output(struct netif *netif, struct pbuf *q, const ip4_addr_t *ipaddr)
 793:ThirdPackage/lwip220/core/ipv4/etharp.c **** {
 794:ThirdPackage/lwip220/core/ipv4/etharp.c ****   const struct eth_addr *dest;
 795:ThirdPackage/lwip220/core/ipv4/etharp.c ****   struct eth_addr mcastaddr;
 796:ThirdPackage/lwip220/core/ipv4/etharp.c ****   const ip4_addr_t *dst_addr = ipaddr;
 797:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 798:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_ASSERT_CORE_LOCKED();
 799:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_ASSERT("netif != NULL", netif != NULL);
 800:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_ASSERT("q != NULL", q != NULL);
 801:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_ASSERT("ipaddr != NULL", ipaddr != NULL);
 802:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 803:ThirdPackage/lwip220/core/ipv4/etharp.c ****   /* Determine on destination hardware address. Broadcasts and multicasts
 804:ThirdPackage/lwip220/core/ipv4/etharp.c ****    * are special, other IP addresses are looked up in the ARP table. */
 805:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 806:ThirdPackage/lwip220/core/ipv4/etharp.c ****   /* broadcast destination IP address? */
 807:ThirdPackage/lwip220/core/ipv4/etharp.c ****   if (ip4_addr_isbroadcast(ipaddr, netif)) {
 808:ThirdPackage/lwip220/core/ipv4/etharp.c ****     /* broadcast on Ethernet also */
 809:ThirdPackage/lwip220/core/ipv4/etharp.c ****     dest = (const struct eth_addr *)&ethbroadcast;
 810:ThirdPackage/lwip220/core/ipv4/etharp.c ****     /* multicast destination IP address? */
 811:ThirdPackage/lwip220/core/ipv4/etharp.c ****   } else if (ip4_addr_ismulticast(ipaddr)) {
 812:ThirdPackage/lwip220/core/ipv4/etharp.c ****     /* Hash IP multicast address to MAC address.*/
 813:ThirdPackage/lwip220/core/ipv4/etharp.c ****     mcastaddr.addr[0] = LL_IP4_MULTICAST_ADDR_0;
 814:ThirdPackage/lwip220/core/ipv4/etharp.c ****     mcastaddr.addr[1] = LL_IP4_MULTICAST_ADDR_1;
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 30


 815:ThirdPackage/lwip220/core/ipv4/etharp.c ****     mcastaddr.addr[2] = LL_IP4_MULTICAST_ADDR_2;
 816:ThirdPackage/lwip220/core/ipv4/etharp.c ****     mcastaddr.addr[3] = ip4_addr2(ipaddr) & 0x7f;
 817:ThirdPackage/lwip220/core/ipv4/etharp.c ****     mcastaddr.addr[4] = ip4_addr3(ipaddr);
 818:ThirdPackage/lwip220/core/ipv4/etharp.c ****     mcastaddr.addr[5] = ip4_addr4(ipaddr);
 819:ThirdPackage/lwip220/core/ipv4/etharp.c ****     /* destination Ethernet address is multicast */
 820:ThirdPackage/lwip220/core/ipv4/etharp.c ****     dest = &mcastaddr;
 821:ThirdPackage/lwip220/core/ipv4/etharp.c ****     /* unicast destination IP address? */
 822:ThirdPackage/lwip220/core/ipv4/etharp.c ****   } else {
 823:ThirdPackage/lwip220/core/ipv4/etharp.c ****     netif_addr_idx_t i;
 824:ThirdPackage/lwip220/core/ipv4/etharp.c ****     /* outside local network? if so, this can neither be a global broadcast nor
 825:ThirdPackage/lwip220/core/ipv4/etharp.c ****        a subnet broadcast. */
 826:ThirdPackage/lwip220/core/ipv4/etharp.c ****     if (!ip4_addr_net_eq(ipaddr, netif_ip4_addr(netif), netif_ip4_netmask(netif)) &&
 827:ThirdPackage/lwip220/core/ipv4/etharp.c ****         !ip4_addr_islinklocal(ipaddr)) {
 828:ThirdPackage/lwip220/core/ipv4/etharp.c **** #if LWIP_AUTOIP
 829:ThirdPackage/lwip220/core/ipv4/etharp.c ****       struct ip_hdr *iphdr = LWIP_ALIGNMENT_CAST(struct ip_hdr *, q->payload);
 830:ThirdPackage/lwip220/core/ipv4/etharp.c ****       /* According to RFC 3297, chapter 2.6.2 (Forwarding Rules), a packet with
 831:ThirdPackage/lwip220/core/ipv4/etharp.c ****          a link-local source address must always be "directly to its destination
 832:ThirdPackage/lwip220/core/ipv4/etharp.c ****          on the same physical link. The host MUST NOT send the packet to any
 833:ThirdPackage/lwip220/core/ipv4/etharp.c ****          router for forwarding". */
 834:ThirdPackage/lwip220/core/ipv4/etharp.c ****       if (!ip4_addr_islinklocal(&iphdr->src))
 835:ThirdPackage/lwip220/core/ipv4/etharp.c **** #endif /* LWIP_AUTOIP */
 836:ThirdPackage/lwip220/core/ipv4/etharp.c ****       {
 837:ThirdPackage/lwip220/core/ipv4/etharp.c **** #ifdef LWIP_HOOK_ETHARP_GET_GW
 838:ThirdPackage/lwip220/core/ipv4/etharp.c ****         /* For advanced routing, a single default gateway might not be enough, so get
 839:ThirdPackage/lwip220/core/ipv4/etharp.c ****            the IP address of the gateway to handle the current destination address. */
 840:ThirdPackage/lwip220/core/ipv4/etharp.c ****         dst_addr = LWIP_HOOK_ETHARP_GET_GW(netif, ipaddr);
 841:ThirdPackage/lwip220/core/ipv4/etharp.c ****         if (dst_addr == NULL)
 842:ThirdPackage/lwip220/core/ipv4/etharp.c **** #endif /* LWIP_HOOK_ETHARP_GET_GW */
 843:ThirdPackage/lwip220/core/ipv4/etharp.c ****         {
 844:ThirdPackage/lwip220/core/ipv4/etharp.c ****           /* interface has default gateway? */
 845:ThirdPackage/lwip220/core/ipv4/etharp.c ****           if (!ip4_addr_isany_val(*netif_ip4_gw(netif))) {
 846:ThirdPackage/lwip220/core/ipv4/etharp.c ****             /* send to hardware address of default gateway IP address */
 847:ThirdPackage/lwip220/core/ipv4/etharp.c ****             dst_addr = netif_ip4_gw(netif);
 848:ThirdPackage/lwip220/core/ipv4/etharp.c ****             /* no default gateway available */
 849:ThirdPackage/lwip220/core/ipv4/etharp.c ****           } else {
 850:ThirdPackage/lwip220/core/ipv4/etharp.c ****             /* no route to destination error (default gateway missing) */
 851:ThirdPackage/lwip220/core/ipv4/etharp.c ****             return ERR_RTE;
 852:ThirdPackage/lwip220/core/ipv4/etharp.c ****           }
 853:ThirdPackage/lwip220/core/ipv4/etharp.c ****         }
 854:ThirdPackage/lwip220/core/ipv4/etharp.c ****       }
 855:ThirdPackage/lwip220/core/ipv4/etharp.c ****     }
 856:ThirdPackage/lwip220/core/ipv4/etharp.c **** #if LWIP_NETIF_HWADDRHINT
 857:ThirdPackage/lwip220/core/ipv4/etharp.c ****     if (netif->hints != NULL) {
 858:ThirdPackage/lwip220/core/ipv4/etharp.c ****       /* per-pcb cached entry was given */
 859:ThirdPackage/lwip220/core/ipv4/etharp.c ****       netif_addr_idx_t etharp_cached_entry = netif->hints->addr_hint;
 860:ThirdPackage/lwip220/core/ipv4/etharp.c ****       if (etharp_cached_entry < ARP_TABLE_SIZE) {
 861:ThirdPackage/lwip220/core/ipv4/etharp.c **** #endif /* LWIP_NETIF_HWADDRHINT */
 862:ThirdPackage/lwip220/core/ipv4/etharp.c ****         if ((arp_table[etharp_cached_entry].state >= ETHARP_STATE_STABLE) &&
 863:ThirdPackage/lwip220/core/ipv4/etharp.c **** #if ETHARP_TABLE_MATCH_NETIF
 864:ThirdPackage/lwip220/core/ipv4/etharp.c ****             (arp_table[etharp_cached_entry].netif == netif) &&
 865:ThirdPackage/lwip220/core/ipv4/etharp.c **** #endif
 866:ThirdPackage/lwip220/core/ipv4/etharp.c ****             (ip4_addr_eq(dst_addr, &arp_table[etharp_cached_entry].ipaddr))) {
 867:ThirdPackage/lwip220/core/ipv4/etharp.c ****           /* the per-pcb-cached entry is stable and the right one! */
 868:ThirdPackage/lwip220/core/ipv4/etharp.c ****           ETHARP_STATS_INC(etharp.cachehit);
 869:ThirdPackage/lwip220/core/ipv4/etharp.c ****           return etharp_output_to_arp_index(netif, q, etharp_cached_entry);
 870:ThirdPackage/lwip220/core/ipv4/etharp.c ****         }
 871:ThirdPackage/lwip220/core/ipv4/etharp.c **** #if LWIP_NETIF_HWADDRHINT
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 31


 872:ThirdPackage/lwip220/core/ipv4/etharp.c ****       }
 873:ThirdPackage/lwip220/core/ipv4/etharp.c ****     }
 874:ThirdPackage/lwip220/core/ipv4/etharp.c **** #endif /* LWIP_NETIF_HWADDRHINT */
 875:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 876:ThirdPackage/lwip220/core/ipv4/etharp.c ****     /* find stable entry: do this here since this is a critical path for
 877:ThirdPackage/lwip220/core/ipv4/etharp.c ****        throughput and etharp_find_entry() is kind of slow */
 878:ThirdPackage/lwip220/core/ipv4/etharp.c ****     for (i = 0; i < ARP_TABLE_SIZE; i++) {
 879:ThirdPackage/lwip220/core/ipv4/etharp.c ****       if ((arp_table[i].state >= ETHARP_STATE_STABLE) &&
 880:ThirdPackage/lwip220/core/ipv4/etharp.c **** #if ETHARP_TABLE_MATCH_NETIF
 881:ThirdPackage/lwip220/core/ipv4/etharp.c ****           (arp_table[i].netif == netif) &&
 882:ThirdPackage/lwip220/core/ipv4/etharp.c **** #endif
 883:ThirdPackage/lwip220/core/ipv4/etharp.c ****           (ip4_addr_eq(dst_addr, &arp_table[i].ipaddr))) {
 884:ThirdPackage/lwip220/core/ipv4/etharp.c ****         /* found an existing, stable entry */
 885:ThirdPackage/lwip220/core/ipv4/etharp.c ****         ETHARP_SET_ADDRHINT(netif, i);
 886:ThirdPackage/lwip220/core/ipv4/etharp.c ****         return etharp_output_to_arp_index(netif, q, i);
 887:ThirdPackage/lwip220/core/ipv4/etharp.c ****       }
 888:ThirdPackage/lwip220/core/ipv4/etharp.c ****     }
 889:ThirdPackage/lwip220/core/ipv4/etharp.c ****     /* no stable entry found, use the (slower) query function:
 890:ThirdPackage/lwip220/core/ipv4/etharp.c ****        queue on destination Ethernet address belonging to ipaddr */
 891:ThirdPackage/lwip220/core/ipv4/etharp.c ****     return etharp_query(netif, dst_addr, q);
 892:ThirdPackage/lwip220/core/ipv4/etharp.c ****   }
 893:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 894:ThirdPackage/lwip220/core/ipv4/etharp.c ****   /* continuation for multicast/broadcast destinations */
 895:ThirdPackage/lwip220/core/ipv4/etharp.c ****   /* obtain source Ethernet address of the given interface */
 896:ThirdPackage/lwip220/core/ipv4/etharp.c ****   /* send packet directly on the link */
 897:ThirdPackage/lwip220/core/ipv4/etharp.c ****   return ethernet_output(netif, q, (struct eth_addr *)(netif->hwaddr), dest, ETHTYPE_IP);
 898:ThirdPackage/lwip220/core/ipv4/etharp.c **** }
 899:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 900:ThirdPackage/lwip220/core/ipv4/etharp.c **** /**
 901:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * Send an ARP request for the given IP address and/or queue a packet.
 902:ThirdPackage/lwip220/core/ipv4/etharp.c ****  *
 903:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * If the IP address was not yet in the cache, a pending ARP cache entry
 904:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * is added and an ARP request is sent for the given address. The packet
 905:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * is queued on this entry.
 906:ThirdPackage/lwip220/core/ipv4/etharp.c ****  *
 907:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * If the IP address was already pending in the cache, a new ARP request
 908:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * is sent for the given address. The packet is queued on this entry.
 909:ThirdPackage/lwip220/core/ipv4/etharp.c ****  *
 910:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * If the IP address was already stable in the cache, and a packet is
 911:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * given, it is directly sent and no ARP request is sent out.
 912:ThirdPackage/lwip220/core/ipv4/etharp.c ****  *
 913:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * If the IP address was already stable in the cache, and no packet is
 914:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * given, an ARP request is sent out.
 915:ThirdPackage/lwip220/core/ipv4/etharp.c ****  *
 916:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * @param netif The lwIP network interface on which ipaddr
 917:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * must be queried for.
 918:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * @param ipaddr The IP address to be resolved.
 919:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * @param q If non-NULL, a pbuf that must be delivered to the IP address.
 920:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * q is not freed by this function.
 921:ThirdPackage/lwip220/core/ipv4/etharp.c ****  *
 922:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * @note q must only be ONE packet, not a packet queue!
 923:ThirdPackage/lwip220/core/ipv4/etharp.c ****  *
 924:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * @return
 925:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * - ERR_BUF Could not make room for Ethernet header.
 926:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * - ERR_MEM Hardware address unknown, and no more ARP entries available
 927:ThirdPackage/lwip220/core/ipv4/etharp.c ****  *   to query for address or queue the packet.
 928:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * - ERR_MEM Could not queue packet due to memory shortage.
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 32


 929:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * - ERR_RTE No route to destination (no gateway to external networks).
 930:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * - ERR_ARG Non-unicast address given, those will not appear in ARP cache.
 931:ThirdPackage/lwip220/core/ipv4/etharp.c ****  *
 932:ThirdPackage/lwip220/core/ipv4/etharp.c ****  */
 933:ThirdPackage/lwip220/core/ipv4/etharp.c **** err_t
 934:ThirdPackage/lwip220/core/ipv4/etharp.c **** etharp_query(struct netif *netif, const ip4_addr_t *ipaddr, struct pbuf *q)
 935:ThirdPackage/lwip220/core/ipv4/etharp.c **** {
 936:ThirdPackage/lwip220/core/ipv4/etharp.c ****   struct eth_addr *srcaddr = (struct eth_addr *)netif->hwaddr;
 937:ThirdPackage/lwip220/core/ipv4/etharp.c ****   err_t result = ERR_MEM;
 938:ThirdPackage/lwip220/core/ipv4/etharp.c ****   int is_new_entry = 0;
 939:ThirdPackage/lwip220/core/ipv4/etharp.c ****   s16_t i_err;
 940:ThirdPackage/lwip220/core/ipv4/etharp.c ****   netif_addr_idx_t i;
 941:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 942:ThirdPackage/lwip220/core/ipv4/etharp.c ****   /* non-unicast address? */
 943:ThirdPackage/lwip220/core/ipv4/etharp.c ****   if (ip4_addr_isbroadcast(ipaddr, netif) ||
 944:ThirdPackage/lwip220/core/ipv4/etharp.c ****       ip4_addr_ismulticast(ipaddr) ||
 945:ThirdPackage/lwip220/core/ipv4/etharp.c ****       ip4_addr_isany(ipaddr)) {
 946:ThirdPackage/lwip220/core/ipv4/etharp.c ****     LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_query: will not add non-unicast IP address 
 947:ThirdPackage/lwip220/core/ipv4/etharp.c ****     return ERR_ARG;
 948:ThirdPackage/lwip220/core/ipv4/etharp.c ****   }
 949:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 950:ThirdPackage/lwip220/core/ipv4/etharp.c ****   /* find entry in ARP cache, ask to create entry if queueing packet */
 951:ThirdPackage/lwip220/core/ipv4/etharp.c ****   i_err = etharp_find_entry(ipaddr, ETHARP_FLAG_TRY_HARD, netif);
 952:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 953:ThirdPackage/lwip220/core/ipv4/etharp.c ****   /* could not find or create entry? */
 954:ThirdPackage/lwip220/core/ipv4/etharp.c ****   if (i_err < 0) {
 955:ThirdPackage/lwip220/core/ipv4/etharp.c ****     LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_query: could not create ARP entry\n"));
 956:ThirdPackage/lwip220/core/ipv4/etharp.c ****     if (q) {
 957:ThirdPackage/lwip220/core/ipv4/etharp.c ****       LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_query: packet dropped\n"));
 958:ThirdPackage/lwip220/core/ipv4/etharp.c ****       ETHARP_STATS_INC(etharp.memerr);
 959:ThirdPackage/lwip220/core/ipv4/etharp.c ****     }
 960:ThirdPackage/lwip220/core/ipv4/etharp.c ****     return (err_t)i_err;
 961:ThirdPackage/lwip220/core/ipv4/etharp.c ****   }
 962:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_ASSERT("type overflow", (size_t)i_err < NETIF_ADDR_IDX_MAX);
 963:ThirdPackage/lwip220/core/ipv4/etharp.c ****   i = (netif_addr_idx_t)i_err;
 964:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 965:ThirdPackage/lwip220/core/ipv4/etharp.c ****   /* mark a fresh entry as pending (we just sent a request) */
 966:ThirdPackage/lwip220/core/ipv4/etharp.c ****   if (arp_table[i].state == ETHARP_STATE_EMPTY) {
 967:ThirdPackage/lwip220/core/ipv4/etharp.c ****     is_new_entry = 1;
 968:ThirdPackage/lwip220/core/ipv4/etharp.c ****     arp_table[i].state = ETHARP_STATE_PENDING;
 969:ThirdPackage/lwip220/core/ipv4/etharp.c ****     /* record network interface for re-sending arp request in etharp_tmr */
 970:ThirdPackage/lwip220/core/ipv4/etharp.c ****     arp_table[i].netif = netif;
 971:ThirdPackage/lwip220/core/ipv4/etharp.c ****   }
 972:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 973:ThirdPackage/lwip220/core/ipv4/etharp.c ****   /* { i is either a STABLE or (new or existing) PENDING entry } */
 974:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_ASSERT("arp_table[i].state == PENDING or STABLE",
 975:ThirdPackage/lwip220/core/ipv4/etharp.c ****               ((arp_table[i].state == ETHARP_STATE_PENDING) ||
 976:ThirdPackage/lwip220/core/ipv4/etharp.c ****                (arp_table[i].state >= ETHARP_STATE_STABLE)));
 977:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 978:ThirdPackage/lwip220/core/ipv4/etharp.c ****   /* do we have a new entry? or an implicit query request? */
 979:ThirdPackage/lwip220/core/ipv4/etharp.c ****   if (is_new_entry || (q == NULL)) {
 980:ThirdPackage/lwip220/core/ipv4/etharp.c ****     /* try to resolve it; send out ARP request */
 981:ThirdPackage/lwip220/core/ipv4/etharp.c ****     result = etharp_request(netif, ipaddr);
 982:ThirdPackage/lwip220/core/ipv4/etharp.c ****     if (result != ERR_OK) {
 983:ThirdPackage/lwip220/core/ipv4/etharp.c ****       /* ARP request couldn't be sent */
 984:ThirdPackage/lwip220/core/ipv4/etharp.c ****       /* We don't re-send arp request in etharp_tmr, but we still queue packets,
 985:ThirdPackage/lwip220/core/ipv4/etharp.c ****          since this failure could be temporary, and the next packet calling
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 33


 986:ThirdPackage/lwip220/core/ipv4/etharp.c ****          etharp_query again could lead to sending the queued packets. */
 987:ThirdPackage/lwip220/core/ipv4/etharp.c ****     } else {
 988:ThirdPackage/lwip220/core/ipv4/etharp.c ****       /* ARP request successfully sent */
 989:ThirdPackage/lwip220/core/ipv4/etharp.c ****       if ((arp_table[i].state == ETHARP_STATE_PENDING) && !is_new_entry) {
 990:ThirdPackage/lwip220/core/ipv4/etharp.c ****         /* A new ARP request has been sent for a pending entry. Reset the ctime to
 991:ThirdPackage/lwip220/core/ipv4/etharp.c ****            not let it expire too fast. */
 992:ThirdPackage/lwip220/core/ipv4/etharp.c ****         LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_query: reset ctime for entry %"S16_F"\n
 993:ThirdPackage/lwip220/core/ipv4/etharp.c ****         arp_table[i].ctime = 0;
 994:ThirdPackage/lwip220/core/ipv4/etharp.c ****       }
 995:ThirdPackage/lwip220/core/ipv4/etharp.c ****     }
 996:ThirdPackage/lwip220/core/ipv4/etharp.c ****     if (q == NULL) {
 997:ThirdPackage/lwip220/core/ipv4/etharp.c ****       return result;
 998:ThirdPackage/lwip220/core/ipv4/etharp.c ****     }
 999:ThirdPackage/lwip220/core/ipv4/etharp.c ****   }
1000:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
1001:ThirdPackage/lwip220/core/ipv4/etharp.c ****   /* packet given? */
1002:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_ASSERT("q != NULL", q != NULL);
1003:ThirdPackage/lwip220/core/ipv4/etharp.c ****   /* stable entry? */
1004:ThirdPackage/lwip220/core/ipv4/etharp.c ****   if (arp_table[i].state >= ETHARP_STATE_STABLE) {
1005:ThirdPackage/lwip220/core/ipv4/etharp.c ****     /* we have a valid IP->Ethernet address mapping */
1006:ThirdPackage/lwip220/core/ipv4/etharp.c ****     ETHARP_SET_ADDRHINT(netif, i);
1007:ThirdPackage/lwip220/core/ipv4/etharp.c ****     /* send the packet */
1008:ThirdPackage/lwip220/core/ipv4/etharp.c ****     result = ethernet_output(netif, q, srcaddr, &(arp_table[i].ethaddr), ETHTYPE_IP);
1009:ThirdPackage/lwip220/core/ipv4/etharp.c ****     /* pending entry? (either just created or already pending */
1010:ThirdPackage/lwip220/core/ipv4/etharp.c ****   } else if (arp_table[i].state == ETHARP_STATE_PENDING) {
1011:ThirdPackage/lwip220/core/ipv4/etharp.c ****     /* entry is still pending, queue the given packet 'q' */
1012:ThirdPackage/lwip220/core/ipv4/etharp.c ****     struct pbuf *p;
1013:ThirdPackage/lwip220/core/ipv4/etharp.c ****     int copy_needed = 0;
1014:ThirdPackage/lwip220/core/ipv4/etharp.c ****     /* IF q includes a pbuf that must be copied, copy the whole chain into a
1015:ThirdPackage/lwip220/core/ipv4/etharp.c ****      * new PBUF_RAM. See the definition of PBUF_NEEDS_COPY for details. */
1016:ThirdPackage/lwip220/core/ipv4/etharp.c ****     p = q;
1017:ThirdPackage/lwip220/core/ipv4/etharp.c ****     while (p) {
1018:ThirdPackage/lwip220/core/ipv4/etharp.c ****       LWIP_ASSERT("no packet queues allowed!", (p->len != p->tot_len) || (p->next == NULL));
1019:ThirdPackage/lwip220/core/ipv4/etharp.c ****       if (PBUF_NEEDS_COPY(p)) {
1020:ThirdPackage/lwip220/core/ipv4/etharp.c ****         copy_needed = 1;
1021:ThirdPackage/lwip220/core/ipv4/etharp.c ****         break;
1022:ThirdPackage/lwip220/core/ipv4/etharp.c ****       }
1023:ThirdPackage/lwip220/core/ipv4/etharp.c ****       p = p->next;
1024:ThirdPackage/lwip220/core/ipv4/etharp.c ****     }
1025:ThirdPackage/lwip220/core/ipv4/etharp.c ****     if (copy_needed) {
1026:ThirdPackage/lwip220/core/ipv4/etharp.c ****       /* copy the whole packet into new pbufs */
1027:ThirdPackage/lwip220/core/ipv4/etharp.c ****       p = pbuf_clone(PBUF_LINK, PBUF_RAM, q);
1028:ThirdPackage/lwip220/core/ipv4/etharp.c ****     } else {
1029:ThirdPackage/lwip220/core/ipv4/etharp.c ****       /* referencing the old pbuf is enough */
1030:ThirdPackage/lwip220/core/ipv4/etharp.c ****       p = q;
1031:ThirdPackage/lwip220/core/ipv4/etharp.c ****       pbuf_ref(p);
1032:ThirdPackage/lwip220/core/ipv4/etharp.c ****     }
1033:ThirdPackage/lwip220/core/ipv4/etharp.c ****     /* packet could be taken over? */
1034:ThirdPackage/lwip220/core/ipv4/etharp.c ****     if (p != NULL) {
1035:ThirdPackage/lwip220/core/ipv4/etharp.c ****       /* queue packet ... */
1036:ThirdPackage/lwip220/core/ipv4/etharp.c **** #if ARP_QUEUEING
1037:ThirdPackage/lwip220/core/ipv4/etharp.c ****       struct etharp_q_entry *new_entry;
1038:ThirdPackage/lwip220/core/ipv4/etharp.c ****       /* allocate a new arp queue entry */
1039:ThirdPackage/lwip220/core/ipv4/etharp.c ****       new_entry = (struct etharp_q_entry *)memp_malloc(MEMP_ARP_QUEUE);
1040:ThirdPackage/lwip220/core/ipv4/etharp.c ****       if (new_entry != NULL) {
1041:ThirdPackage/lwip220/core/ipv4/etharp.c ****         unsigned int qlen = 0;
1042:ThirdPackage/lwip220/core/ipv4/etharp.c ****         new_entry->next = NULL;
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 34


1043:ThirdPackage/lwip220/core/ipv4/etharp.c ****         new_entry->p = p;
1044:ThirdPackage/lwip220/core/ipv4/etharp.c ****         if (arp_table[i].q != NULL) {
1045:ThirdPackage/lwip220/core/ipv4/etharp.c ****           /* queue was already existent, append the new entry to the end */
1046:ThirdPackage/lwip220/core/ipv4/etharp.c ****           struct etharp_q_entry *r;
1047:ThirdPackage/lwip220/core/ipv4/etharp.c ****           r = arp_table[i].q;
1048:ThirdPackage/lwip220/core/ipv4/etharp.c ****           qlen++;
1049:ThirdPackage/lwip220/core/ipv4/etharp.c ****           while (r->next != NULL) {
1050:ThirdPackage/lwip220/core/ipv4/etharp.c ****             r = r->next;
1051:ThirdPackage/lwip220/core/ipv4/etharp.c ****             qlen++;
1052:ThirdPackage/lwip220/core/ipv4/etharp.c ****           }
1053:ThirdPackage/lwip220/core/ipv4/etharp.c ****           r->next = new_entry;
1054:ThirdPackage/lwip220/core/ipv4/etharp.c ****         } else {
1055:ThirdPackage/lwip220/core/ipv4/etharp.c ****           /* queue did not exist, first item in queue */
1056:ThirdPackage/lwip220/core/ipv4/etharp.c ****           arp_table[i].q = new_entry;
1057:ThirdPackage/lwip220/core/ipv4/etharp.c ****         }
1058:ThirdPackage/lwip220/core/ipv4/etharp.c **** #if ARP_QUEUE_LEN
1059:ThirdPackage/lwip220/core/ipv4/etharp.c ****         if (qlen >= ARP_QUEUE_LEN) {
1060:ThirdPackage/lwip220/core/ipv4/etharp.c ****           struct etharp_q_entry *old;
1061:ThirdPackage/lwip220/core/ipv4/etharp.c ****           old = arp_table[i].q;
1062:ThirdPackage/lwip220/core/ipv4/etharp.c ****           arp_table[i].q = arp_table[i].q->next;
1063:ThirdPackage/lwip220/core/ipv4/etharp.c ****           pbuf_free(old->p);
1064:ThirdPackage/lwip220/core/ipv4/etharp.c ****           memp_free(MEMP_ARP_QUEUE, old);
1065:ThirdPackage/lwip220/core/ipv4/etharp.c ****         }
1066:ThirdPackage/lwip220/core/ipv4/etharp.c **** #endif
1067:ThirdPackage/lwip220/core/ipv4/etharp.c ****         LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_query: queued packet %p on ARP entry %"
1068:ThirdPackage/lwip220/core/ipv4/etharp.c ****         result = ERR_OK;
1069:ThirdPackage/lwip220/core/ipv4/etharp.c ****       } else {
1070:ThirdPackage/lwip220/core/ipv4/etharp.c ****         /* the pool MEMP_ARP_QUEUE is empty */
1071:ThirdPackage/lwip220/core/ipv4/etharp.c ****         pbuf_free(p);
1072:ThirdPackage/lwip220/core/ipv4/etharp.c ****         LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_query: could not queue a copy of PBUF_R
1073:ThirdPackage/lwip220/core/ipv4/etharp.c ****         result = ERR_MEM;
1074:ThirdPackage/lwip220/core/ipv4/etharp.c ****       }
1075:ThirdPackage/lwip220/core/ipv4/etharp.c **** #else /* ARP_QUEUEING */
1076:ThirdPackage/lwip220/core/ipv4/etharp.c ****       /* always queue one packet per ARP request only, freeing a previously queued packet */
1077:ThirdPackage/lwip220/core/ipv4/etharp.c ****       if (arp_table[i].q != NULL) {
1078:ThirdPackage/lwip220/core/ipv4/etharp.c ****         LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_query: dropped previously queued packet
1079:ThirdPackage/lwip220/core/ipv4/etharp.c ****         pbuf_free(arp_table[i].q);
1080:ThirdPackage/lwip220/core/ipv4/etharp.c ****       }
1081:ThirdPackage/lwip220/core/ipv4/etharp.c ****       arp_table[i].q = p;
1082:ThirdPackage/lwip220/core/ipv4/etharp.c ****       result = ERR_OK;
1083:ThirdPackage/lwip220/core/ipv4/etharp.c ****       LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_query: queued packet %p on ARP entry %"U1
1084:ThirdPackage/lwip220/core/ipv4/etharp.c **** #endif /* ARP_QUEUEING */
1085:ThirdPackage/lwip220/core/ipv4/etharp.c ****     } else {
1086:ThirdPackage/lwip220/core/ipv4/etharp.c ****       ETHARP_STATS_INC(etharp.memerr);
1087:ThirdPackage/lwip220/core/ipv4/etharp.c ****       LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_query: could not queue a copy of PBUF_REF
1088:ThirdPackage/lwip220/core/ipv4/etharp.c ****       result = ERR_MEM;
1089:ThirdPackage/lwip220/core/ipv4/etharp.c ****     }
1090:ThirdPackage/lwip220/core/ipv4/etharp.c ****   }
1091:ThirdPackage/lwip220/core/ipv4/etharp.c ****   return result;
1092:ThirdPackage/lwip220/core/ipv4/etharp.c **** }
1093:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
1094:ThirdPackage/lwip220/core/ipv4/etharp.c **** /**
1095:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * Send a raw ARP packet (opcode and all addresses can be modified)
1096:ThirdPackage/lwip220/core/ipv4/etharp.c ****  *
1097:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * @param netif the lwip network interface on which to send the ARP packet
1098:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * @param ethsrc_addr the source MAC address for the ethernet header
1099:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * @param ethdst_addr the destination MAC address for the ethernet header
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 35


1100:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * @param hwsrc_addr the source MAC address for the ARP protocol header
1101:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * @param ipsrc_addr the source IP address for the ARP protocol header
1102:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * @param hwdst_addr the destination MAC address for the ARP protocol header
1103:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * @param ipdst_addr the destination IP address for the ARP protocol header
1104:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * @param opcode the type of the ARP packet
1105:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * @return ERR_OK if the ARP packet has been sent
1106:ThirdPackage/lwip220/core/ipv4/etharp.c ****  *         ERR_MEM if the ARP packet couldn't be allocated
1107:ThirdPackage/lwip220/core/ipv4/etharp.c ****  *         any other err_t on failure
1108:ThirdPackage/lwip220/core/ipv4/etharp.c ****  */
1109:ThirdPackage/lwip220/core/ipv4/etharp.c **** static err_t
1110:ThirdPackage/lwip220/core/ipv4/etharp.c **** etharp_raw(struct netif *netif, const struct eth_addr *ethsrc_addr,
1111:ThirdPackage/lwip220/core/ipv4/etharp.c ****            const struct eth_addr *ethdst_addr,
1112:ThirdPackage/lwip220/core/ipv4/etharp.c ****            const struct eth_addr *hwsrc_addr, const ip4_addr_t *ipsrc_addr,
1113:ThirdPackage/lwip220/core/ipv4/etharp.c ****            const struct eth_addr *hwdst_addr, const ip4_addr_t *ipdst_addr,
1114:ThirdPackage/lwip220/core/ipv4/etharp.c ****            const u16_t opcode)
1115:ThirdPackage/lwip220/core/ipv4/etharp.c **** {
 728              		.loc 1 1115 1 is_stmt 1 view -0
 729              		.cfi_startproc
 730              		@ args = 16, pretend = 0, frame = 0
 731              		@ frame_needed = 0, uses_anonymous_args = 0
 732              		.loc 1 1115 1 is_stmt 0 view .LVU203
 733 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 734              	.LCFI9:
 735              		.cfi_def_cfa_offset 32
 736              		.cfi_offset 4, -32
 737              		.cfi_offset 5, -28
 738              		.cfi_offset 6, -24
 739              		.cfi_offset 7, -20
 740              		.cfi_offset 8, -16
 741              		.cfi_offset 9, -12
 742              		.cfi_offset 10, -8
 743              		.cfi_offset 14, -4
 744 0004 82B0     		sub	sp, sp, #8
 745              	.LCFI10:
 746              		.cfi_def_cfa_offset 40
 747 0006 0F46     		mov	r7, r1
 748 0008 9046     		mov	r8, r2
 749 000a 1D46     		mov	r5, r3
 750 000c DDF82CA0 		ldr	r10, [sp, #44]
1116:ThirdPackage/lwip220/core/ipv4/etharp.c ****   struct pbuf *p;
 751              		.loc 1 1116 3 is_stmt 1 view .LVU204
1117:ThirdPackage/lwip220/core/ipv4/etharp.c ****   err_t result = ERR_OK;
 752              		.loc 1 1117 3 view .LVU205
 753              	.LVL67:
1118:ThirdPackage/lwip220/core/ipv4/etharp.c ****   struct etharp_hdr *hdr;
 754              		.loc 1 1118 3 view .LVU206
1119:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
1120:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_ASSERT("netif != NULL", netif != NULL);
 755              		.loc 1 1120 3 view .LVU207
 756              		.loc 1 1120 3 view .LVU208
 757 0010 8146     		mov	r9, r0
 758 0012 0028     		cmp	r0, #0
 759 0014 42D0     		beq	.L64
 760              	.LVL68:
 761              	.L58:
 762              		.loc 1 1120 3 discriminator 3 view .LVU209
 763              		.loc 1 1120 3 discriminator 3 view .LVU210
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 36


1121:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
1122:ThirdPackage/lwip220/core/ipv4/etharp.c ****   /* allocate a pbuf for the outgoing ARP request packet */
1123:ThirdPackage/lwip220/core/ipv4/etharp.c ****   p = pbuf_alloc(PBUF_LINK, SIZEOF_ETHARP_HDR, PBUF_RAM);
 764              		.loc 1 1123 3 discriminator 3 view .LVU211
 765              		.loc 1 1123 7 is_stmt 0 discriminator 3 view .LVU212
 766 0016 4FF42072 		mov	r2, #640
 767 001a 1C21     		movs	r1, #28
 768 001c 0E20     		movs	r0, #14
 769 001e FFF7FEFF 		bl	pbuf_alloc
 770              	.LVL69:
1124:ThirdPackage/lwip220/core/ipv4/etharp.c ****   /* could allocate a pbuf for an ARP request? */
1125:ThirdPackage/lwip220/core/ipv4/etharp.c ****   if (p == NULL) {
 771              		.loc 1 1125 3 is_stmt 1 discriminator 3 view .LVU213
 772              		.loc 1 1125 6 is_stmt 0 discriminator 3 view .LVU214
 773 0022 0646     		mov	r6, r0
 774 0024 0028     		cmp	r0, #0
 775 0026 51D0     		beq	.L62
1126:ThirdPackage/lwip220/core/ipv4/etharp.c ****     LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE | LWIP_DBG_LEVEL_SERIOUS,
1127:ThirdPackage/lwip220/core/ipv4/etharp.c ****                 ("etharp_raw: could not allocate pbuf for ARP request.\n"));
1128:ThirdPackage/lwip220/core/ipv4/etharp.c ****     ETHARP_STATS_INC(etharp.memerr);
1129:ThirdPackage/lwip220/core/ipv4/etharp.c ****     return ERR_MEM;
1130:ThirdPackage/lwip220/core/ipv4/etharp.c ****   }
1131:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_ASSERT("check that first pbuf can hold struct etharp_hdr",
 776              		.loc 1 1131 3 is_stmt 1 view .LVU215
 777              		.loc 1 1131 3 view .LVU216
 778 0028 4389     		ldrh	r3, [r0, #10]
 779 002a 1B2B     		cmp	r3, #27
 780 002c 3ED9     		bls	.L65
 781              	.LVL70:
 782              	.L60:
 783              		.loc 1 1131 3 discriminator 3 view .LVU217
 784              		.loc 1 1131 3 discriminator 3 view .LVU218
1132:ThirdPackage/lwip220/core/ipv4/etharp.c ****               (p->len >= SIZEOF_ETHARP_HDR));
1133:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
1134:ThirdPackage/lwip220/core/ipv4/etharp.c ****   hdr = (struct etharp_hdr *)p->payload;
 785              		.loc 1 1134 3 discriminator 3 view .LVU219
 786              		.loc 1 1134 7 is_stmt 0 discriminator 3 view .LVU220
 787 002e 7468     		ldr	r4, [r6, #4]
 788              	.LVL71:
1135:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_raw: sending raw ARP packet.\n"));
 789              		.loc 1 1135 88 is_stmt 1 discriminator 3 view .LVU221
1136:ThirdPackage/lwip220/core/ipv4/etharp.c ****   hdr->opcode = lwip_htons(opcode);
 790              		.loc 1 1136 3 discriminator 3 view .LVU222
 791              		.loc 1 1136 17 is_stmt 0 discriminator 3 view .LVU223
 792 0030 BDF83400 		ldrh	r0, [sp, #52]
 793 0034 FFF7FEFF 		bl	lwip_htons
 794              	.LVL72:
 795              		.loc 1 1136 15 discriminator 3 view .LVU224
 796 0038 E080     		strh	r0, [r4, #6]	@ unaligned
1137:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
1138:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_ASSERT("netif->hwaddr_len must be the same as ETH_HWADDR_LEN for etharp!",
 797              		.loc 1 1138 3 is_stmt 1 discriminator 3 view .LVU225
 798              		.loc 1 1138 3 discriminator 3 view .LVU226
 799 003a 99F82C30 		ldrb	r3, [r9, #44]	@ zero_extendqisi2
 800 003e 062B     		cmp	r3, #6
 801 0040 3CD1     		bne	.L66
 802              	.L61:
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 37


 803              		.loc 1 1138 3 discriminator 3 view .LVU227
 804              		.loc 1 1138 3 discriminator 3 view .LVU228
1139:ThirdPackage/lwip220/core/ipv4/etharp.c ****               (netif->hwaddr_len == ETH_HWADDR_LEN));
1140:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
1141:ThirdPackage/lwip220/core/ipv4/etharp.c ****   /* Write the ARP MAC-Addresses */
1142:ThirdPackage/lwip220/core/ipv4/etharp.c ****   SMEMCPY(&hdr->shwaddr, hwsrc_addr, ETH_HWADDR_LEN);
 805              		.loc 1 1142 3 discriminator 3 view .LVU229
 806 0042 2B68     		ldr	r3, [r5]	@ unaligned
 807 0044 A360     		str	r3, [r4, #8]	@ unaligned
 808 0046 AB88     		ldrh	r3, [r5, #4]	@ unaligned
 809 0048 A381     		strh	r3, [r4, #12]	@ unaligned
1143:ThirdPackage/lwip220/core/ipv4/etharp.c ****   SMEMCPY(&hdr->dhwaddr, hwdst_addr, ETH_HWADDR_LEN);
 810              		.loc 1 1143 3 discriminator 3 view .LVU230
 811 004a DAF80030 		ldr	r3, [r10]	@ unaligned
 812 004e C4F81230 		str	r3, [r4, #18]	@ unaligned
 813 0052 BAF80430 		ldrh	r3, [r10, #4]	@ unaligned
 814 0056 E382     		strh	r3, [r4, #22]	@ unaligned
1144:ThirdPackage/lwip220/core/ipv4/etharp.c ****   /* Copy struct ip4_addr_wordaligned to aligned ip4_addr, to support compilers without
1145:ThirdPackage/lwip220/core/ipv4/etharp.c ****    * structure packing. */
1146:ThirdPackage/lwip220/core/ipv4/etharp.c ****   IPADDR_WORDALIGNED_COPY_FROM_IP4_ADDR_T(&hdr->sipaddr, ipsrc_addr);
 815              		.loc 1 1146 3 discriminator 3 view .LVU231
 816 0058 0A9B     		ldr	r3, [sp, #40]
 817 005a 1B68     		ldr	r3, [r3]	@ unaligned
 818 005c C4F80E30 		str	r3, [r4, #14]	@ unaligned
1147:ThirdPackage/lwip220/core/ipv4/etharp.c ****   IPADDR_WORDALIGNED_COPY_FROM_IP4_ADDR_T(&hdr->dipaddr, ipdst_addr);
 819              		.loc 1 1147 3 discriminator 3 view .LVU232
 820 0060 0C9B     		ldr	r3, [sp, #48]
 821 0062 1B68     		ldr	r3, [r3]	@ unaligned
 822 0064 A361     		str	r3, [r4, #24]	@ unaligned
1148:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
1149:ThirdPackage/lwip220/core/ipv4/etharp.c ****   hdr->hwtype = PP_HTONS(LWIP_IANA_HWTYPE_ETHERNET);
 823              		.loc 1 1149 3 discriminator 3 view .LVU233
 824              		.loc 1 1149 15 is_stmt 0 discriminator 3 view .LVU234
 825 0066 0025     		movs	r5, #0
 826              	.LVL73:
 827              		.loc 1 1149 15 discriminator 3 view .LVU235
 828 0068 2570     		strb	r5, [r4]
 829 006a 0123     		movs	r3, #1
 830 006c 6370     		strb	r3, [r4, #1]
1150:ThirdPackage/lwip220/core/ipv4/etharp.c ****   hdr->proto = PP_HTONS(ETHTYPE_IP);
 831              		.loc 1 1150 3 is_stmt 1 discriminator 3 view .LVU236
 832              		.loc 1 1150 14 is_stmt 0 discriminator 3 view .LVU237
 833 006e 0823     		movs	r3, #8
 834 0070 A370     		strb	r3, [r4, #2]
 835 0072 E570     		strb	r5, [r4, #3]
1151:ThirdPackage/lwip220/core/ipv4/etharp.c ****   /* set hwlen and protolen */
1152:ThirdPackage/lwip220/core/ipv4/etharp.c ****   hdr->hwlen = ETH_HWADDR_LEN;
 836              		.loc 1 1152 3 is_stmt 1 discriminator 3 view .LVU238
 837              		.loc 1 1152 14 is_stmt 0 discriminator 3 view .LVU239
 838 0074 0623     		movs	r3, #6
 839 0076 2371     		strb	r3, [r4, #4]
1153:ThirdPackage/lwip220/core/ipv4/etharp.c ****   hdr->protolen = sizeof(ip4_addr_t);
 840              		.loc 1 1153 3 is_stmt 1 discriminator 3 view .LVU240
 841              		.loc 1 1153 17 is_stmt 0 discriminator 3 view .LVU241
 842 0078 0423     		movs	r3, #4
 843 007a 6371     		strb	r3, [r4, #5]
1154:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 38


1155:ThirdPackage/lwip220/core/ipv4/etharp.c ****   /* send ARP query */
1156:ThirdPackage/lwip220/core/ipv4/etharp.c **** #if LWIP_AUTOIP
1157:ThirdPackage/lwip220/core/ipv4/etharp.c ****   /* If we are using Link-Local, all ARP packets that contain a Link-Local
1158:ThirdPackage/lwip220/core/ipv4/etharp.c ****    * 'sender IP address' MUST be sent using link-layer broadcast instead of
1159:ThirdPackage/lwip220/core/ipv4/etharp.c ****    * link-layer unicast. (See RFC3927 Section 2.5, last paragraph) */
1160:ThirdPackage/lwip220/core/ipv4/etharp.c ****   if (ip4_addr_islinklocal(ipsrc_addr)) {
1161:ThirdPackage/lwip220/core/ipv4/etharp.c ****     ethernet_output(netif, p, ethsrc_addr, &ethbroadcast, ETHTYPE_ARP);
1162:ThirdPackage/lwip220/core/ipv4/etharp.c ****   } else
1163:ThirdPackage/lwip220/core/ipv4/etharp.c **** #endif /* LWIP_AUTOIP */
1164:ThirdPackage/lwip220/core/ipv4/etharp.c ****   {
1165:ThirdPackage/lwip220/core/ipv4/etharp.c ****     ethernet_output(netif, p, ethsrc_addr, ethdst_addr, ETHTYPE_ARP);
 844              		.loc 1 1165 5 is_stmt 1 discriminator 3 view .LVU242
 845 007c 40F60603 		movw	r3, #2054
 846 0080 0093     		str	r3, [sp]
 847 0082 4346     		mov	r3, r8
 848 0084 3A46     		mov	r2, r7
 849 0086 3146     		mov	r1, r6
 850 0088 4846     		mov	r0, r9
 851 008a FFF7FEFF 		bl	ethernet_output
 852              	.LVL74:
1166:ThirdPackage/lwip220/core/ipv4/etharp.c ****   }
1167:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
1168:ThirdPackage/lwip220/core/ipv4/etharp.c ****   ETHARP_STATS_INC(etharp.xmit);
 853              		.loc 1 1168 32 discriminator 3 view .LVU243
1169:ThirdPackage/lwip220/core/ipv4/etharp.c ****   /* free ARP query packet */
1170:ThirdPackage/lwip220/core/ipv4/etharp.c ****   pbuf_free(p);
 854              		.loc 1 1170 3 discriminator 3 view .LVU244
 855 008e 3046     		mov	r0, r6
 856 0090 FFF7FEFF 		bl	pbuf_free
 857              	.LVL75:
1171:ThirdPackage/lwip220/core/ipv4/etharp.c ****   p = NULL;
 858              		.loc 1 1171 3 discriminator 3 view .LVU245
1172:ThirdPackage/lwip220/core/ipv4/etharp.c ****   /* could not allocate pbuf for ARP request */
1173:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
1174:ThirdPackage/lwip220/core/ipv4/etharp.c ****   return result;
 859              		.loc 1 1174 3 discriminator 3 view .LVU246
 860              		.loc 1 1174 10 is_stmt 0 discriminator 3 view .LVU247
 861 0094 2846     		mov	r0, r5
 862              	.LVL76:
 863              	.L59:
1175:ThirdPackage/lwip220/core/ipv4/etharp.c **** }
 864              		.loc 1 1175 1 view .LVU248
 865 0096 02B0     		add	sp, sp, #8
 866              	.LCFI11:
 867              		.cfi_remember_state
 868              		.cfi_def_cfa_offset 32
 869              		@ sp needed
 870 0098 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 871              	.LVL77:
 872              	.L64:
 873              	.LCFI12:
 874              		.cfi_restore_state
1120:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 875              		.loc 1 1120 3 is_stmt 1 discriminator 1 view .LVU249
1120:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 876              		.loc 1 1120 3 discriminator 1 view .LVU250
 877 009c 0D4B     		ldr	r3, .L67
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 39


 878              	.LVL78:
1120:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 879              		.loc 1 1120 3 is_stmt 0 discriminator 1 view .LVU251
 880 009e 4FF48C62 		mov	r2, #1120
 881              	.LVL79:
1120:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 882              		.loc 1 1120 3 discriminator 1 view .LVU252
 883 00a2 0D49     		ldr	r1, .L67+4
 884              	.LVL80:
1120:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 885              		.loc 1 1120 3 discriminator 1 view .LVU253
 886 00a4 0D48     		ldr	r0, .L67+8
 887              	.LVL81:
1120:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 888              		.loc 1 1120 3 discriminator 1 view .LVU254
 889 00a6 FFF7FEFF 		bl	printf
 890              	.LVL82:
 891 00aa B4E7     		b	.L58
 892              	.LVL83:
 893              	.L65:
1131:ThirdPackage/lwip220/core/ipv4/etharp.c ****               (p->len >= SIZEOF_ETHARP_HDR));
 894              		.loc 1 1131 3 is_stmt 1 discriminator 1 view .LVU255
1131:ThirdPackage/lwip220/core/ipv4/etharp.c ****               (p->len >= SIZEOF_ETHARP_HDR));
 895              		.loc 1 1131 3 discriminator 1 view .LVU256
 896 00ac 094B     		ldr	r3, .L67
 897 00ae 40F26B42 		movw	r2, #1131
 898 00b2 0B49     		ldr	r1, .L67+12
 899 00b4 0948     		ldr	r0, .L67+8
 900              	.LVL84:
1131:ThirdPackage/lwip220/core/ipv4/etharp.c ****               (p->len >= SIZEOF_ETHARP_HDR));
 901              		.loc 1 1131 3 is_stmt 0 discriminator 1 view .LVU257
 902 00b6 FFF7FEFF 		bl	printf
 903              	.LVL85:
 904 00ba B8E7     		b	.L60
 905              	.LVL86:
 906              	.L66:
1138:ThirdPackage/lwip220/core/ipv4/etharp.c ****               (netif->hwaddr_len == ETH_HWADDR_LEN));
 907              		.loc 1 1138 3 is_stmt 1 discriminator 1 view .LVU258
1138:ThirdPackage/lwip220/core/ipv4/etharp.c ****               (netif->hwaddr_len == ETH_HWADDR_LEN));
 908              		.loc 1 1138 3 discriminator 1 view .LVU259
 909 00bc 054B     		ldr	r3, .L67
 910 00be 40F27242 		movw	r2, #1138
 911 00c2 0849     		ldr	r1, .L67+16
 912 00c4 0548     		ldr	r0, .L67+8
 913 00c6 FFF7FEFF 		bl	printf
 914              	.LVL87:
 915 00ca BAE7     		b	.L61
 916              	.LVL88:
 917              	.L62:
1129:ThirdPackage/lwip220/core/ipv4/etharp.c ****   }
 918              		.loc 1 1129 12 is_stmt 0 view .LVU260
 919 00cc 4FF0FF30 		mov	r0, #-1
 920              	.LVL89:
1129:ThirdPackage/lwip220/core/ipv4/etharp.c ****   }
 921              		.loc 1 1129 12 view .LVU261
 922 00d0 E1E7     		b	.L59
 923              	.L68:
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 40


 924 00d2 00BF     		.align	2
 925              	.L67:
 926 00d4 00000000 		.word	.LC0
 927 00d8 00000000 		.word	.LC6
 928 00dc 40000000 		.word	.LC2
 929 00e0 10000000 		.word	.LC7
 930 00e4 44000000 		.word	.LC8
 931              		.cfi_endproc
 932              	.LFE171:
 934              		.section	.text.etharp_request_dst,"ax",%progbits
 935              		.align	1
 936              		.syntax unified
 937              		.thumb
 938              		.thumb_func
 940              	etharp_request_dst:
 941              	.LVL90:
 942              	.LFB172:
1176:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
1177:ThirdPackage/lwip220/core/ipv4/etharp.c **** /**
1178:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * Send an ARP request packet asking for ipaddr to a specific eth address.
1179:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * Used to send unicast request to refresh the ARP table just before an entry
1180:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * times out
1181:ThirdPackage/lwip220/core/ipv4/etharp.c ****  *
1182:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * @param netif the lwip network interface on which to send the request
1183:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * @param ipaddr the IP address for which to ask
1184:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * @param hw_dst_addr the ethernet address to send this packet to
1185:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * @return ERR_OK if the request has been sent
1186:ThirdPackage/lwip220/core/ipv4/etharp.c ****  *         ERR_MEM if the ARP packet couldn't be allocated
1187:ThirdPackage/lwip220/core/ipv4/etharp.c ****  *         any other err_t on failure
1188:ThirdPackage/lwip220/core/ipv4/etharp.c ****  */
1189:ThirdPackage/lwip220/core/ipv4/etharp.c **** static err_t
1190:ThirdPackage/lwip220/core/ipv4/etharp.c **** etharp_request_dst(struct netif *netif, const ip4_addr_t *ipaddr, const struct eth_addr *hw_dst_add
1191:ThirdPackage/lwip220/core/ipv4/etharp.c **** {
 943              		.loc 1 1191 1 is_stmt 1 view -0
 944              		.cfi_startproc
 945              		@ args = 0, pretend = 0, frame = 0
 946              		@ frame_needed = 0, uses_anonymous_args = 0
 947              		.loc 1 1191 1 is_stmt 0 view .LVU263
 948 0000 30B5     		push	{r4, r5, lr}
 949              	.LCFI13:
 950              		.cfi_def_cfa_offset 12
 951              		.cfi_offset 4, -12
 952              		.cfi_offset 5, -8
 953              		.cfi_offset 14, -4
 954 0002 85B0     		sub	sp, sp, #20
 955              	.LCFI14:
 956              		.cfi_def_cfa_offset 32
1192:ThirdPackage/lwip220/core/ipv4/etharp.c ****   return etharp_raw(netif, (struct eth_addr *)netif->hwaddr, hw_dst_addr,
 957              		.loc 1 1192 3 is_stmt 1 view .LVU264
 958              		.loc 1 1192 47 is_stmt 0 view .LVU265
 959 0004 00F12603 		add	r3, r0, #38
1193:ThirdPackage/lwip220/core/ipv4/etharp.c ****                     (struct eth_addr *)netif->hwaddr, netif_ip4_addr(netif), &ethzero,
 960              		.loc 1 1193 55 view .LVU266
 961 0008 041D     		adds	r4, r0, #4
1192:ThirdPackage/lwip220/core/ipv4/etharp.c ****   return etharp_raw(netif, (struct eth_addr *)netif->hwaddr, hw_dst_addr,
 962              		.loc 1 1192 10 view .LVU267
 963 000a 0125     		movs	r5, #1
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 41


 964 000c 0395     		str	r5, [sp, #12]
 965 000e 0291     		str	r1, [sp, #8]
 966 0010 0349     		ldr	r1, .L71
 967              	.LVL91:
1192:ThirdPackage/lwip220/core/ipv4/etharp.c ****   return etharp_raw(netif, (struct eth_addr *)netif->hwaddr, hw_dst_addr,
 968              		.loc 1 1192 10 view .LVU268
 969 0012 0191     		str	r1, [sp, #4]
 970 0014 0094     		str	r4, [sp]
 971 0016 1946     		mov	r1, r3
 972 0018 FFF7FEFF 		bl	etharp_raw
 973              	.LVL92:
1194:ThirdPackage/lwip220/core/ipv4/etharp.c ****                     ipaddr, ARP_REQUEST);
1195:ThirdPackage/lwip220/core/ipv4/etharp.c **** }
 974              		.loc 1 1195 1 view .LVU269
 975 001c 05B0     		add	sp, sp, #20
 976              	.LCFI15:
 977              		.cfi_def_cfa_offset 12
 978              		@ sp needed
 979 001e 30BD     		pop	{r4, r5, pc}
 980              	.LVL93:
 981              	.L72:
 982              		.loc 1 1195 1 view .LVU270
 983              		.align	2
 984              	.L71:
 985 0020 00000000 		.word	ethzero
 986              		.cfi_endproc
 987              	.LFE172:
 989              		.section	.text.etharp_cleanup_netif,"ax",%progbits
 990              		.align	1
 991              		.global	etharp_cleanup_netif
 992              		.syntax unified
 993              		.thumb
 994              		.thumb_func
 996              	etharp_cleanup_netif:
 997              	.LVL94:
 998              	.LFB164:
 561:ThirdPackage/lwip220/core/ipv4/etharp.c ****   int i;
 999              		.loc 1 561 1 is_stmt 1 view -0
 1000              		.cfi_startproc
 1001              		@ args = 0, pretend = 0, frame = 0
 1002              		@ frame_needed = 0, uses_anonymous_args = 0
 561:ThirdPackage/lwip220/core/ipv4/etharp.c ****   int i;
 1003              		.loc 1 561 1 is_stmt 0 view .LVU272
 1004 0000 38B5     		push	{r3, r4, r5, lr}
 1005              	.LCFI16:
 1006              		.cfi_def_cfa_offset 16
 1007              		.cfi_offset 3, -16
 1008              		.cfi_offset 4, -12
 1009              		.cfi_offset 5, -8
 1010              		.cfi_offset 14, -4
 1011 0002 0546     		mov	r5, r0
 562:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 1012              		.loc 1 562 3 is_stmt 1 view .LVU273
 564:ThirdPackage/lwip220/core/ipv4/etharp.c ****     u8_t state = arp_table[i].state;
 1013              		.loc 1 564 3 view .LVU274
 1014              	.LVL95:
 564:ThirdPackage/lwip220/core/ipv4/etharp.c ****     u8_t state = arp_table[i].state;
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 42


 1015              		.loc 1 564 10 is_stmt 0 view .LVU275
 1016 0004 0024     		movs	r4, #0
 564:ThirdPackage/lwip220/core/ipv4/etharp.c ****     u8_t state = arp_table[i].state;
 1017              		.loc 1 564 3 view .LVU276
 1018 0006 00E0     		b	.L74
 1019              	.LVL96:
 1020              	.L75:
 564:ThirdPackage/lwip220/core/ipv4/etharp.c ****     u8_t state = arp_table[i].state;
 1021              		.loc 1 564 35 is_stmt 1 discriminator 2 view .LVU277
 1022 0008 0134     		adds	r4, r4, #1
 1023              	.LVL97:
 1024              	.L74:
 564:ThirdPackage/lwip220/core/ipv4/etharp.c ****     u8_t state = arp_table[i].state;
 1025              		.loc 1 564 15 discriminator 1 view .LVU278
 564:ThirdPackage/lwip220/core/ipv4/etharp.c ****     u8_t state = arp_table[i].state;
 1026              		.loc 1 564 3 is_stmt 0 discriminator 1 view .LVU279
 1027 000a 092C     		cmp	r4, #9
 1028 000c 12DC     		bgt	.L78
 1029              	.LBB6:
 565:ThirdPackage/lwip220/core/ipv4/etharp.c ****     if ((state != ETHARP_STATE_EMPTY) && (arp_table[i].netif == netif)) {
 1030              		.loc 1 565 5 is_stmt 1 view .LVU280
 565:ThirdPackage/lwip220/core/ipv4/etharp.c ****     if ((state != ETHARP_STATE_EMPTY) && (arp_table[i].netif == netif)) {
 1031              		.loc 1 565 10 is_stmt 0 view .LVU281
 1032 000e 04EB4403 		add	r3, r4, r4, lsl #1
 1033 0012 094A     		ldr	r2, .L79
 1034 0014 02EBC303 		add	r3, r2, r3, lsl #3
 1035 0018 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 1036              	.LVL98:
 566:ThirdPackage/lwip220/core/ipv4/etharp.c ****       etharp_free_entry(i);
 1037              		.loc 1 566 5 is_stmt 1 view .LVU282
 566:ThirdPackage/lwip220/core/ipv4/etharp.c ****       etharp_free_entry(i);
 1038              		.loc 1 566 8 is_stmt 0 view .LVU283
 1039 001a 002B     		cmp	r3, #0
 1040 001c F4D0     		beq	.L75
 566:ThirdPackage/lwip220/core/ipv4/etharp.c ****       etharp_free_entry(i);
 1041              		.loc 1 566 55 discriminator 1 view .LVU284
 1042 001e 04EB4403 		add	r3, r4, r4, lsl #1
 1043              	.LVL99:
 566:ThirdPackage/lwip220/core/ipv4/etharp.c ****       etharp_free_entry(i);
 1044              		.loc 1 566 55 discriminator 1 view .LVU285
 1045 0022 02EBC303 		add	r3, r2, r3, lsl #3
 1046              	.LVL100:
 566:ThirdPackage/lwip220/core/ipv4/etharp.c ****       etharp_free_entry(i);
 1047              		.loc 1 566 55 discriminator 1 view .LVU286
 1048 0026 9B68     		ldr	r3, [r3, #8]
 1049              	.LVL101:
 566:ThirdPackage/lwip220/core/ipv4/etharp.c ****       etharp_free_entry(i);
 1050              		.loc 1 566 39 discriminator 1 view .LVU287
 1051 0028 AB42     		cmp	r3, r5
 1052 002a EDD1     		bne	.L75
 567:ThirdPackage/lwip220/core/ipv4/etharp.c ****     }
 1053              		.loc 1 567 7 is_stmt 1 view .LVU288
 1054 002c 2046     		mov	r0, r4
 1055 002e FFF7FEFF 		bl	etharp_free_entry
 1056              	.LVL102:
 567:ThirdPackage/lwip220/core/ipv4/etharp.c ****     }
 1057              		.loc 1 567 7 is_stmt 0 view .LVU289
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 43


 1058 0032 E9E7     		b	.L75
 1059              	.L78:
 567:ThirdPackage/lwip220/core/ipv4/etharp.c ****     }
 1060              		.loc 1 567 7 view .LVU290
 1061              	.LBE6:
 570:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 1062              		.loc 1 570 1 view .LVU291
 1063 0034 38BD     		pop	{r3, r4, r5, pc}
 1064              	.LVL103:
 1065              	.L80:
 570:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 1066              		.loc 1 570 1 view .LVU292
 1067 0036 00BF     		.align	2
 1068              	.L79:
 1069 0038 00000000 		.word	.LANCHOR0
 1070              		.cfi_endproc
 1071              	.LFE164:
 1073              		.section	.rodata.etharp_find_addr.str1.4,"aMS",%progbits,1
 1074              		.align	2
 1075              	.LC9:
 1076 0000 6574685F 		.ascii	"eth_ret != NULL && ip_ret != NULL\000"
 1076      72657420 
 1076      213D204E 
 1076      554C4C20 
 1076      26262069 
 1077              		.section	.text.etharp_find_addr,"ax",%progbits
 1078              		.align	1
 1079              		.global	etharp_find_addr
 1080              		.syntax unified
 1081              		.thumb
 1082              		.thumb_func
 1084              	etharp_find_addr:
 1085              	.LVL104:
 1086              	.LFB165:
 586:ThirdPackage/lwip220/core/ipv4/etharp.c ****   s16_t i;
 1087              		.loc 1 586 1 is_stmt 1 view -0
 1088              		.cfi_startproc
 1089              		@ args = 0, pretend = 0, frame = 0
 1090              		@ frame_needed = 0, uses_anonymous_args = 0
 586:ThirdPackage/lwip220/core/ipv4/etharp.c ****   s16_t i;
 1091              		.loc 1 586 1 is_stmt 0 view .LVU294
 1092 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1093              	.LCFI17:
 1094              		.cfi_def_cfa_offset 24
 1095              		.cfi_offset 3, -24
 1096              		.cfi_offset 4, -20
 1097              		.cfi_offset 5, -16
 1098              		.cfi_offset 6, -12
 1099              		.cfi_offset 7, -8
 1100              		.cfi_offset 14, -4
 1101 0002 0746     		mov	r7, r0
 1102 0004 0E46     		mov	r6, r1
 1103 0006 1C46     		mov	r4, r3
 587:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 1104              		.loc 1 587 3 is_stmt 1 view .LVU295
 589:ThirdPackage/lwip220/core/ipv4/etharp.c ****               eth_ret != NULL && ip_ret != NULL);
 1105              		.loc 1 589 3 view .LVU296
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 44


 589:ThirdPackage/lwip220/core/ipv4/etharp.c ****               eth_ret != NULL && ip_ret != NULL);
 1106              		.loc 1 589 3 view .LVU297
 1107 0008 1546     		mov	r5, r2
 1108 000a FAB1     		cbz	r2, .L82
 589:ThirdPackage/lwip220/core/ipv4/etharp.c ****               eth_ret != NULL && ip_ret != NULL);
 1109              		.loc 1 589 3 is_stmt 0 discriminator 2 view .LVU298
 1110 000c F3B1     		cbz	r3, .L82
 1111              	.LVL105:
 1112              	.L83:
 589:ThirdPackage/lwip220/core/ipv4/etharp.c ****               eth_ret != NULL && ip_ret != NULL);
 1113              		.loc 1 589 3 is_stmt 1 discriminator 5 view .LVU299
 589:ThirdPackage/lwip220/core/ipv4/etharp.c ****               eth_ret != NULL && ip_ret != NULL);
 1114              		.loc 1 589 3 discriminator 5 view .LVU300
 592:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 1115              		.loc 1 592 3 discriminator 5 view .LVU301
 594:ThirdPackage/lwip220/core/ipv4/etharp.c ****   if ((i >= 0) && (arp_table[i].state >= ETHARP_STATE_STABLE)) {
 1116              		.loc 1 594 3 discriminator 5 view .LVU302
 594:ThirdPackage/lwip220/core/ipv4/etharp.c ****   if ((i >= 0) && (arp_table[i].state >= ETHARP_STATE_STABLE)) {
 1117              		.loc 1 594 7 is_stmt 0 discriminator 5 view .LVU303
 1118 000e 3A46     		mov	r2, r7
 1119 0010 0221     		movs	r1, #2
 1120 0012 3046     		mov	r0, r6
 1121 0014 FFF7FEFF 		bl	etharp_find_entry
 1122              	.LVL106:
 595:ThirdPackage/lwip220/core/ipv4/etharp.c ****     *eth_ret = &arp_table[i].ethaddr;
 1123              		.loc 1 595 3 is_stmt 1 discriminator 5 view .LVU304
 595:ThirdPackage/lwip220/core/ipv4/etharp.c ****     *eth_ret = &arp_table[i].ethaddr;
 1124              		.loc 1 595 6 is_stmt 0 discriminator 5 view .LVU305
 1125 0018 021E     		subs	r2, r0, #0
 1126 001a 1FDB     		blt	.L85
 595:ThirdPackage/lwip220/core/ipv4/etharp.c ****     *eth_ret = &arp_table[i].ethaddr;
 1127              		.loc 1 595 32 discriminator 1 view .LVU306
 1128 001c 1046     		mov	r0, r2
 1129              	.LVL107:
 595:ThirdPackage/lwip220/core/ipv4/etharp.c ****     *eth_ret = &arp_table[i].ethaddr;
 1130              		.loc 1 595 32 discriminator 1 view .LVU307
 1131 001e 02EB4203 		add	r3, r2, r2, lsl #1
 1132 0022 1149     		ldr	r1, .L88
 1133 0024 01EBC303 		add	r3, r1, r3, lsl #3
 1134 0028 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 595:ThirdPackage/lwip220/core/ipv4/etharp.c ****     *eth_ret = &arp_table[i].ethaddr;
 1135              		.loc 1 595 16 discriminator 1 view .LVU308
 1136 002a 012B     		cmp	r3, #1
 1137 002c 19D9     		bls	.L86
 596:ThirdPackage/lwip220/core/ipv4/etharp.c ****     *ip_ret = &arp_table[i].ipaddr;
 1138              		.loc 1 596 5 is_stmt 1 view .LVU309
 596:ThirdPackage/lwip220/core/ipv4/etharp.c ****     *ip_ret = &arp_table[i].ipaddr;
 1139              		.loc 1 596 16 is_stmt 0 view .LVU310
 1140 002e 0B46     		mov	r3, r1
 1141 0030 02EB4201 		add	r1, r2, r2, lsl #1
 1142 0034 C900     		lsls	r1, r1, #3
 1143 0036 0831     		adds	r1, r1, #8
 1144 0038 1944     		add	r1, r1, r3
 1145 003a 0431     		adds	r1, r1, #4
 596:ThirdPackage/lwip220/core/ipv4/etharp.c ****     *ip_ret = &arp_table[i].ipaddr;
 1146              		.loc 1 596 14 view .LVU311
 1147 003c 2960     		str	r1, [r5]
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 45


 597:ThirdPackage/lwip220/core/ipv4/etharp.c ****     return i;
 1148              		.loc 1 597 5 is_stmt 1 view .LVU312
 597:ThirdPackage/lwip220/core/ipv4/etharp.c ****     return i;
 1149              		.loc 1 597 15 is_stmt 0 view .LVU313
 1150 003e 02EB4202 		add	r2, r2, r2, lsl #1
 1151 0042 03EBC202 		add	r2, r3, r2, lsl #3
 1152 0046 0432     		adds	r2, r2, #4
 597:ThirdPackage/lwip220/core/ipv4/etharp.c ****     return i;
 1153              		.loc 1 597 13 view .LVU314
 1154 0048 2260     		str	r2, [r4]
 598:ThirdPackage/lwip220/core/ipv4/etharp.c ****   }
 1155              		.loc 1 598 5 is_stmt 1 view .LVU315
 1156              	.L81:
 601:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 1157              		.loc 1 601 1 is_stmt 0 view .LVU316
 1158 004a F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1159              	.LVL108:
 1160              	.L82:
 589:ThirdPackage/lwip220/core/ipv4/etharp.c ****               eth_ret != NULL && ip_ret != NULL);
 1161              		.loc 1 589 3 is_stmt 1 discriminator 3 view .LVU317
 589:ThirdPackage/lwip220/core/ipv4/etharp.c ****               eth_ret != NULL && ip_ret != NULL);
 1162              		.loc 1 589 3 discriminator 3 view .LVU318
 1163 004c 074B     		ldr	r3, .L88+4
 1164              	.LVL109:
 589:ThirdPackage/lwip220/core/ipv4/etharp.c ****               eth_ret != NULL && ip_ret != NULL);
 1165              		.loc 1 589 3 is_stmt 0 discriminator 3 view .LVU319
 1166 004e 40F24D22 		movw	r2, #589
 1167              	.LVL110:
 589:ThirdPackage/lwip220/core/ipv4/etharp.c ****               eth_ret != NULL && ip_ret != NULL);
 1168              		.loc 1 589 3 discriminator 3 view .LVU320
 1169 0052 0749     		ldr	r1, .L88+8
 1170              	.LVL111:
 589:ThirdPackage/lwip220/core/ipv4/etharp.c ****               eth_ret != NULL && ip_ret != NULL);
 1171              		.loc 1 589 3 discriminator 3 view .LVU321
 1172 0054 0748     		ldr	r0, .L88+12
 1173              	.LVL112:
 589:ThirdPackage/lwip220/core/ipv4/etharp.c ****               eth_ret != NULL && ip_ret != NULL);
 1174              		.loc 1 589 3 discriminator 3 view .LVU322
 1175 0056 FFF7FEFF 		bl	printf
 1176              	.LVL113:
 1177 005a D8E7     		b	.L83
 1178              	.LVL114:
 1179              	.L85:
 600:ThirdPackage/lwip220/core/ipv4/etharp.c **** }
 1180              		.loc 1 600 10 view .LVU323
 1181 005c 4FF0FF30 		mov	r0, #-1
 1182              	.LVL115:
 600:ThirdPackage/lwip220/core/ipv4/etharp.c **** }
 1183              		.loc 1 600 10 view .LVU324
 1184 0060 F3E7     		b	.L81
 1185              	.L86:
 1186 0062 4FF0FF30 		mov	r0, #-1
 1187 0066 F0E7     		b	.L81
 1188              	.L89:
 1189              		.align	2
 1190              	.L88:
 1191 0068 00000000 		.word	.LANCHOR0
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 46


 1192 006c 00000000 		.word	.LC0
 1193 0070 00000000 		.word	.LC9
 1194 0074 40000000 		.word	.LC2
 1195              		.cfi_endproc
 1196              	.LFE165:
 1198              		.section	.rodata.etharp_get_entry.str1.4,"aMS",%progbits,1
 1199              		.align	2
 1200              	.LC10:
 1201 0000 69706164 		.ascii	"ipaddr != NULL\000"
 1201      64722021 
 1201      3D204E55 
 1201      4C4C00
 1202 000f 00       		.align	2
 1203              	.LC11:
 1204 0010 6574685F 		.ascii	"eth_ret != NULL\000"
 1204      72657420 
 1204      213D204E 
 1204      554C4C00 
 1205              		.section	.text.etharp_get_entry,"ax",%progbits
 1206              		.align	1
 1207              		.global	etharp_get_entry
 1208              		.syntax unified
 1209              		.thumb
 1210              		.thumb_func
 1212              	etharp_get_entry:
 1213              	.LVL116:
 1214              	.LFB166:
 614:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_ASSERT("ipaddr != NULL", ipaddr != NULL);
 1215              		.loc 1 614 1 is_stmt 1 view -0
 1216              		.cfi_startproc
 1217              		@ args = 0, pretend = 0, frame = 0
 1218              		@ frame_needed = 0, uses_anonymous_args = 0
 614:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_ASSERT("ipaddr != NULL", ipaddr != NULL);
 1219              		.loc 1 614 1 is_stmt 0 view .LVU326
 1220 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1221              	.LCFI18:
 1222              		.cfi_def_cfa_offset 24
 1223              		.cfi_offset 3, -24
 1224              		.cfi_offset 4, -20
 1225              		.cfi_offset 5, -16
 1226              		.cfi_offset 6, -12
 1227              		.cfi_offset 7, -8
 1228              		.cfi_offset 14, -4
 1229 0002 0446     		mov	r4, r0
 1230 0004 1646     		mov	r6, r2
 1231 0006 1D46     		mov	r5, r3
 615:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_ASSERT("netif != NULL", netif != NULL);
 1232              		.loc 1 615 3 is_stmt 1 view .LVU327
 615:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_ASSERT("netif != NULL", netif != NULL);
 1233              		.loc 1 615 3 view .LVU328
 1234 0008 0F46     		mov	r7, r1
 1235 000a E9B1     		cbz	r1, .L98
 1236              	.LVL117:
 1237              	.L91:
 615:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_ASSERT("netif != NULL", netif != NULL);
 1238              		.loc 1 615 3 discriminator 3 view .LVU329
 615:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_ASSERT("netif != NULL", netif != NULL);
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 47


 1239              		.loc 1 615 3 discriminator 3 view .LVU330
 616:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_ASSERT("eth_ret != NULL", eth_ret != NULL);
 1240              		.loc 1 616 3 discriminator 3 view .LVU331
 616:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_ASSERT("eth_ret != NULL", eth_ret != NULL);
 1241              		.loc 1 616 3 discriminator 3 view .LVU332
 1242 000c 26B3     		cbz	r6, .L99
 1243              	.L92:
 616:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_ASSERT("eth_ret != NULL", eth_ret != NULL);
 1244              		.loc 1 616 3 discriminator 3 view .LVU333
 616:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_ASSERT("eth_ret != NULL", eth_ret != NULL);
 1245              		.loc 1 616 3 discriminator 3 view .LVU334
 617:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 1246              		.loc 1 617 3 discriminator 3 view .LVU335
 617:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 1247              		.loc 1 617 3 discriminator 3 view .LVU336
 1248 000e 5DB3     		cbz	r5, .L100
 1249              	.L93:
 617:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 1250              		.loc 1 617 3 discriminator 3 view .LVU337
 617:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 1251              		.loc 1 617 3 discriminator 3 view .LVU338
 619:ThirdPackage/lwip220/core/ipv4/etharp.c ****     *ipaddr  = &arp_table[i].ipaddr;
 1252              		.loc 1 619 3 discriminator 3 view .LVU339
 619:ThirdPackage/lwip220/core/ipv4/etharp.c ****     *ipaddr  = &arp_table[i].ipaddr;
 1253              		.loc 1 619 6 is_stmt 0 discriminator 3 view .LVU340
 1254 0010 092C     		cmp	r4, #9
 1255 0012 31D8     		bhi	.L95
 619:ThirdPackage/lwip220/core/ipv4/etharp.c ****     *ipaddr  = &arp_table[i].ipaddr;
 1256              		.loc 1 619 44 discriminator 1 view .LVU341
 1257 0014 04EB4403 		add	r3, r4, r4, lsl #1
 1258 0018 194A     		ldr	r2, .L101
 1259 001a 02EBC303 		add	r3, r2, r3, lsl #3
 1260 001e 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 619:ThirdPackage/lwip220/core/ipv4/etharp.c ****     *ipaddr  = &arp_table[i].ipaddr;
 1261              		.loc 1 619 28 discriminator 1 view .LVU342
 1262 0020 012B     		cmp	r3, #1
 1263 0022 2BD9     		bls	.L96
 620:ThirdPackage/lwip220/core/ipv4/etharp.c ****     *netif   = arp_table[i].netif;
 1264              		.loc 1 620 5 is_stmt 1 view .LVU343
 620:ThirdPackage/lwip220/core/ipv4/etharp.c ****     *netif   = arp_table[i].netif;
 1265              		.loc 1 620 16 is_stmt 0 view .LVU344
 1266 0024 1346     		mov	r3, r2
 1267 0026 04EB4402 		add	r2, r4, r4, lsl #1
 1268 002a 03EBC202 		add	r2, r3, r2, lsl #3
 1269 002e 111D     		adds	r1, r2, #4
 620:ThirdPackage/lwip220/core/ipv4/etharp.c ****     *netif   = arp_table[i].netif;
 1270              		.loc 1 620 14 view .LVU345
 1271 0030 3960     		str	r1, [r7]
 621:ThirdPackage/lwip220/core/ipv4/etharp.c ****     *eth_ret = &arp_table[i].ethaddr;
 1272              		.loc 1 621 5 is_stmt 1 view .LVU346
 621:ThirdPackage/lwip220/core/ipv4/etharp.c ****     *eth_ret = &arp_table[i].ethaddr;
 1273              		.loc 1 621 28 is_stmt 0 view .LVU347
 1274 0032 9268     		ldr	r2, [r2, #8]
 621:ThirdPackage/lwip220/core/ipv4/etharp.c ****     *eth_ret = &arp_table[i].ethaddr;
 1275              		.loc 1 621 14 view .LVU348
 1276 0034 3260     		str	r2, [r6]
 622:ThirdPackage/lwip220/core/ipv4/etharp.c ****     return 1;
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 48


 1277              		.loc 1 622 5 is_stmt 1 view .LVU349
 622:ThirdPackage/lwip220/core/ipv4/etharp.c ****     return 1;
 1278              		.loc 1 622 16 is_stmt 0 view .LVU350
 1279 0036 04EB4404 		add	r4, r4, r4, lsl #1
 1280              	.LVL118:
 622:ThirdPackage/lwip220/core/ipv4/etharp.c ****     return 1;
 1281              		.loc 1 622 16 view .LVU351
 1282 003a E400     		lsls	r4, r4, #3
 1283 003c 0834     		adds	r4, r4, #8
 1284 003e 2344     		add	r3, r3, r4
 1285 0040 0433     		adds	r3, r3, #4
 622:ThirdPackage/lwip220/core/ipv4/etharp.c ****     return 1;
 1286              		.loc 1 622 14 view .LVU352
 1287 0042 2B60     		str	r3, [r5]
 623:ThirdPackage/lwip220/core/ipv4/etharp.c ****   } else {
 1288              		.loc 1 623 5 is_stmt 1 view .LVU353
 623:ThirdPackage/lwip220/core/ipv4/etharp.c ****   } else {
 1289              		.loc 1 623 12 is_stmt 0 view .LVU354
 1290 0044 0120     		movs	r0, #1
 1291              	.L90:
 627:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 1292              		.loc 1 627 1 view .LVU355
 1293 0046 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1294              	.LVL119:
 1295              	.L98:
 615:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_ASSERT("netif != NULL", netif != NULL);
 1296              		.loc 1 615 3 is_stmt 1 discriminator 1 view .LVU356
 615:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_ASSERT("netif != NULL", netif != NULL);
 1297              		.loc 1 615 3 discriminator 1 view .LVU357
 1298 0048 0E4B     		ldr	r3, .L101+4
 1299              	.LVL120:
 615:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_ASSERT("netif != NULL", netif != NULL);
 1300              		.loc 1 615 3 is_stmt 0 discriminator 1 view .LVU358
 1301 004a 40F26722 		movw	r2, #615
 1302              	.LVL121:
 615:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_ASSERT("netif != NULL", netif != NULL);
 1303              		.loc 1 615 3 discriminator 1 view .LVU359
 1304 004e 0E49     		ldr	r1, .L101+8
 1305              	.LVL122:
 615:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_ASSERT("netif != NULL", netif != NULL);
 1306              		.loc 1 615 3 discriminator 1 view .LVU360
 1307 0050 0E48     		ldr	r0, .L101+12
 1308              	.LVL123:
 615:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_ASSERT("netif != NULL", netif != NULL);
 1309              		.loc 1 615 3 discriminator 1 view .LVU361
 1310 0052 FFF7FEFF 		bl	printf
 1311              	.LVL124:
 1312 0056 D9E7     		b	.L91
 1313              	.L99:
 616:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_ASSERT("eth_ret != NULL", eth_ret != NULL);
 1314              		.loc 1 616 3 is_stmt 1 discriminator 1 view .LVU362
 616:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_ASSERT("eth_ret != NULL", eth_ret != NULL);
 1315              		.loc 1 616 3 discriminator 1 view .LVU363
 1316 0058 0A4B     		ldr	r3, .L101+4
 1317 005a 4FF41A72 		mov	r2, #616
 1318 005e 0C49     		ldr	r1, .L101+16
 1319 0060 0A48     		ldr	r0, .L101+12
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 49


 1320 0062 FFF7FEFF 		bl	printf
 1321              	.LVL125:
 1322 0066 D2E7     		b	.L92
 1323              	.L100:
 617:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 1324              		.loc 1 617 3 discriminator 1 view .LVU364
 617:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 1325              		.loc 1 617 3 discriminator 1 view .LVU365
 1326 0068 064B     		ldr	r3, .L101+4
 1327 006a 40F26922 		movw	r2, #617
 1328 006e 0949     		ldr	r1, .L101+20
 1329 0070 0648     		ldr	r0, .L101+12
 1330 0072 FFF7FEFF 		bl	printf
 1331              	.LVL126:
 1332 0076 CBE7     		b	.L93
 1333              	.L95:
 625:ThirdPackage/lwip220/core/ipv4/etharp.c ****   }
 1334              		.loc 1 625 12 is_stmt 0 view .LVU366
 1335 0078 0020     		movs	r0, #0
 1336 007a E4E7     		b	.L90
 1337              	.L96:
 1338 007c 0020     		movs	r0, #0
 1339 007e E2E7     		b	.L90
 1340              	.L102:
 1341              		.align	2
 1342              	.L101:
 1343 0080 00000000 		.word	.LANCHOR0
 1344 0084 00000000 		.word	.LC0
 1345 0088 00000000 		.word	.LC10
 1346 008c 40000000 		.word	.LC2
 1347 0090 00000000 		.word	.LC6
 1348 0094 10000000 		.word	.LC11
 1349              		.cfi_endproc
 1350              	.LFE166:
 1352              		.section	.text.etharp_input,"ax",%progbits
 1353              		.align	1
 1354              		.global	etharp_input
 1355              		.syntax unified
 1356              		.thumb
 1357              		.thumb_func
 1359              	etharp_input:
 1360              	.LVL127:
 1361              	.LFB167:
 643:ThirdPackage/lwip220/core/ipv4/etharp.c ****   struct etharp_hdr *hdr;
 1362              		.loc 1 643 1 is_stmt 1 view -0
 1363              		.cfi_startproc
 1364              		@ args = 0, pretend = 0, frame = 8
 1365              		@ frame_needed = 0, uses_anonymous_args = 0
 644:ThirdPackage/lwip220/core/ipv4/etharp.c ****   /* these are aligned properly, whereas the ARP header fields might not be */
 1366              		.loc 1 644 3 view .LVU368
 646:ThirdPackage/lwip220/core/ipv4/etharp.c ****   u8_t for_us, from_us;
 1367              		.loc 1 646 3 view .LVU369
 647:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 1368              		.loc 1 647 3 view .LVU370
 649:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 1369              		.loc 1 649 28 view .LVU371
 651:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 50


 1370              		.loc 1 651 3 view .LVU372
 651:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 1371              		.loc 1 651 3 view .LVU373
 1372 0000 0029     		cmp	r1, #0
 1373 0002 59D0     		beq	.L113
 643:ThirdPackage/lwip220/core/ipv4/etharp.c ****   struct etharp_hdr *hdr;
 1374              		.loc 1 643 1 is_stmt 0 discriminator 2 view .LVU374
 1375 0004 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 1376              	.LCFI19:
 1377              		.cfi_def_cfa_offset 28
 1378              		.cfi_offset 4, -28
 1379              		.cfi_offset 5, -24
 1380              		.cfi_offset 6, -20
 1381              		.cfi_offset 7, -16
 1382              		.cfi_offset 8, -12
 1383              		.cfi_offset 9, -8
 1384              		.cfi_offset 14, -4
 1385 0008 87B0     		sub	sp, sp, #28
 1386              	.LCFI20:
 1387              		.cfi_def_cfa_offset 56
 1388 000a 0446     		mov	r4, r0
 1389 000c 0E46     		mov	r6, r1
 651:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 1390              		.loc 1 651 3 is_stmt 1 discriminator 2 view .LVU375
 651:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 1391              		.loc 1 651 3 discriminator 2 view .LVU376
 653:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 1392              		.loc 1 653 3 discriminator 2 view .LVU377
 653:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 1393              		.loc 1 653 7 is_stmt 0 discriminator 2 view .LVU378
 1394 000e 4568     		ldr	r5, [r0, #4]
 1395              	.LVL128:
 656:ThirdPackage/lwip220/core/ipv4/etharp.c ****       (hdr->hwlen != ETH_HWADDR_LEN) ||
 1396              		.loc 1 656 3 is_stmt 1 discriminator 2 view .LVU379
 656:ThirdPackage/lwip220/core/ipv4/etharp.c ****       (hdr->hwlen != ETH_HWADDR_LEN) ||
 1397              		.loc 1 656 11 is_stmt 0 discriminator 2 view .LVU380
 1398 0010 2B88     		ldrh	r3, [r5]	@ unaligned
 656:ThirdPackage/lwip220/core/ipv4/etharp.c ****       (hdr->hwlen != ETH_HWADDR_LEN) ||
 1399              		.loc 1 656 6 discriminator 2 view .LVU381
 1400 0012 B3F5807F 		cmp	r3, #256
 1401 0016 08D1     		bne	.L105
 657:ThirdPackage/lwip220/core/ipv4/etharp.c ****       (hdr->protolen != sizeof(ip4_addr_t)) ||
 1402              		.loc 1 657 11 discriminator 1 view .LVU382
 1403 0018 2B79     		ldrb	r3, [r5, #4]	@ zero_extendqisi2
 656:ThirdPackage/lwip220/core/ipv4/etharp.c ****       (hdr->hwlen != ETH_HWADDR_LEN) ||
 1404              		.loc 1 656 60 discriminator 1 view .LVU383
 1405 001a 062B     		cmp	r3, #6
 1406 001c 05D1     		bne	.L105
 658:ThirdPackage/lwip220/core/ipv4/etharp.c ****       (hdr->proto != PP_HTONS(ETHTYPE_IP)))  {
 1407              		.loc 1 658 11 view .LVU384
 1408 001e 6B79     		ldrb	r3, [r5, #5]	@ zero_extendqisi2
 657:ThirdPackage/lwip220/core/ipv4/etharp.c ****       (hdr->protolen != sizeof(ip4_addr_t)) ||
 1409              		.loc 1 657 38 view .LVU385
 1410 0020 042B     		cmp	r3, #4
 1411 0022 02D1     		bne	.L105
 659:ThirdPackage/lwip220/core/ipv4/etharp.c ****     LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE | LWIP_DBG_LEVEL_WARNING,
 1412              		.loc 1 659 11 view .LVU386
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 51


 1413 0024 6B88     		ldrh	r3, [r5, #2]	@ unaligned
 658:ThirdPackage/lwip220/core/ipv4/etharp.c ****       (hdr->proto != PP_HTONS(ETHTYPE_IP)))  {
 1414              		.loc 1 658 45 view .LVU387
 1415 0026 082B     		cmp	r3, #8
 1416 0028 05D0     		beq	.L106
 1417              	.L105:
 662:ThirdPackage/lwip220/core/ipv4/etharp.c ****     ETHARP_STATS_INC(etharp.proterr);
 1418              		.loc 1 662 84 is_stmt 1 view .LVU388
 663:ThirdPackage/lwip220/core/ipv4/etharp.c ****     ETHARP_STATS_INC(etharp.drop);
 1419              		.loc 1 663 37 view .LVU389
 664:ThirdPackage/lwip220/core/ipv4/etharp.c ****     pbuf_free(p);
 1420              		.loc 1 664 34 view .LVU390
 665:ThirdPackage/lwip220/core/ipv4/etharp.c ****     return;
 1421              		.loc 1 665 5 view .LVU391
 1422 002a 2046     		mov	r0, r4
 1423              	.LVL129:
 665:ThirdPackage/lwip220/core/ipv4/etharp.c ****     return;
 1424              		.loc 1 665 5 is_stmt 0 view .LVU392
 1425 002c FFF7FEFF 		bl	pbuf_free
 1426              	.LVL130:
 666:ThirdPackage/lwip220/core/ipv4/etharp.c ****   }
 1427              		.loc 1 666 5 is_stmt 1 view .LVU393
 1428              	.L103:
 743:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 1429              		.loc 1 743 1 is_stmt 0 view .LVU394
 1430 0030 07B0     		add	sp, sp, #28
 1431              	.LCFI21:
 1432              		.cfi_remember_state
 1433              		.cfi_def_cfa_offset 28
 1434              		@ sp needed
 1435 0032 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 1436              	.LVL131:
 1437              	.L106:
 1438              	.LCFI22:
 1439              		.cfi_restore_state
 668:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 1440              		.loc 1 668 32 is_stmt 1 view .LVU395
 683:ThirdPackage/lwip220/core/ipv4/etharp.c ****   IPADDR_WORDALIGNED_COPY_TO_IP4_ADDR_T(&dipaddr, &hdr->dipaddr);
 1441              		.loc 1 683 3 view .LVU396
 1442 0036 D5F80E70 		ldr	r7, [r5, #14]	@ unaligned
 1443 003a 0597     		str	r7, [sp, #20]
 684:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 1444              		.loc 1 684 3 view .LVU397
 1445 003c D5F81880 		ldr	r8, [r5, #24]	@ unaligned
 687:ThirdPackage/lwip220/core/ipv4/etharp.c ****     for_us = 0;
 1446              		.loc 1 687 3 view .LVU398
 687:ThirdPackage/lwip220/core/ipv4/etharp.c ****     for_us = 0;
 1447              		.loc 1 687 7 is_stmt 0 view .LVU399
 1448 0040 4B68     		ldr	r3, [r1, #4]
 687:ThirdPackage/lwip220/core/ipv4/etharp.c ****     for_us = 0;
 1449              		.loc 1 687 6 view .LVU400
 1450 0042 8BB9     		cbnz	r3, .L107
 1451              	.LVL132:
 702:ThirdPackage/lwip220/core/ipv4/etharp.c ****                           for_us ? ETHARP_FLAG_TRY_HARD : ETHARP_FLAG_FIND_ONLY);
 1452              		.loc 1 702 3 is_stmt 1 view .LVU401
 1453 0044 05F10809 		add	r9, r5, #8
 689:ThirdPackage/lwip220/core/ipv4/etharp.c ****   } else {
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 52


 1454              		.loc 1 689 13 is_stmt 0 view .LVU402
 1455 0048 0027     		movs	r7, #0
 688:ThirdPackage/lwip220/core/ipv4/etharp.c ****     from_us = 0;
 1456              		.loc 1 688 12 view .LVU403
 1457 004a B846     		mov	r8, r7
 702:ThirdPackage/lwip220/core/ipv4/etharp.c ****                           for_us ? ETHARP_FLAG_TRY_HARD : ETHARP_FLAG_FIND_ONLY);
 1458              		.loc 1 702 3 view .LVU404
 1459 004c 0223     		movs	r3, #2
 1460              	.LVL133:
 1461              	.L108:
 702:ThirdPackage/lwip220/core/ipv4/etharp.c ****                           for_us ? ETHARP_FLAG_TRY_HARD : ETHARP_FLAG_FIND_ONLY);
 1462              		.loc 1 702 3 discriminator 4 view .LVU405
 1463 004e 4A46     		mov	r2, r9
 1464 0050 05A9     		add	r1, sp, #20
 1465              	.LVL134:
 702:ThirdPackage/lwip220/core/ipv4/etharp.c ****                           for_us ? ETHARP_FLAG_TRY_HARD : ETHARP_FLAG_FIND_ONLY);
 1466              		.loc 1 702 3 discriminator 4 view .LVU406
 1467 0052 3046     		mov	r0, r6
 1468              	.LVL135:
 702:ThirdPackage/lwip220/core/ipv4/etharp.c ****                           for_us ? ETHARP_FLAG_TRY_HARD : ETHARP_FLAG_FIND_ONLY);
 1469              		.loc 1 702 3 discriminator 4 view .LVU407
 1470 0054 FFF7FEFF 		bl	etharp_update_arp_entry
 1471              	.LVL136:
 706:ThirdPackage/lwip220/core/ipv4/etharp.c ****     /* ARP request? */
 1472              		.loc 1 706 3 is_stmt 1 discriminator 4 view .LVU408
 706:ThirdPackage/lwip220/core/ipv4/etharp.c ****     /* ARP request? */
 1473              		.loc 1 706 14 is_stmt 0 discriminator 4 view .LVU409
 1474 0058 EB88     		ldrh	r3, [r5, #6]	@ unaligned
 706:ThirdPackage/lwip220/core/ipv4/etharp.c ****     /* ARP request? */
 1475              		.loc 1 706 3 discriminator 4 view .LVU410
 1476 005a B3F5807F 		cmp	r3, #256
 1477 005e 16D0     		beq	.L116
 1478              	.L109:
 742:ThirdPackage/lwip220/core/ipv4/etharp.c **** }
 1479              		.loc 1 742 3 is_stmt 1 discriminator 2 view .LVU411
 1480 0060 2046     		mov	r0, r4
 1481 0062 FFF7FEFF 		bl	pbuf_free
 1482              	.LVL137:
 1483 0066 E3E7     		b	.L103
 1484              	.LVL138:
 1485              	.L107:
 692:ThirdPackage/lwip220/core/ipv4/etharp.c ****     /* ARP packet from us? */
 1486              		.loc 1 692 5 view .LVU412
 692:ThirdPackage/lwip220/core/ipv4/etharp.c ****     /* ARP packet from us? */
 1487              		.loc 1 692 14 is_stmt 0 view .LVU413
 1488 0068 4345     		cmp	r3, r8
 1489 006a 14BF     		ite	ne
 1490 006c 4FF00008 		movne	r8, #0
 1491 0070 4FF00108 		moveq	r8, #1
 1492              	.LVL139:
 694:ThirdPackage/lwip220/core/ipv4/etharp.c ****   }
 1493              		.loc 1 694 5 is_stmt 1 view .LVU414
 694:ThirdPackage/lwip220/core/ipv4/etharp.c ****   }
 1494              		.loc 1 694 15 is_stmt 0 view .LVU415
 1495 0074 BB42     		cmp	r3, r7
 1496 0076 14BF     		ite	ne
 1497 0078 0027     		movne	r7, #0
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 53


 1498 007a 0127     		moveq	r7, #1
 1499              	.LVL140:
 702:ThirdPackage/lwip220/core/ipv4/etharp.c ****                           for_us ? ETHARP_FLAG_TRY_HARD : ETHARP_FLAG_FIND_ONLY);
 1500              		.loc 1 702 3 is_stmt 1 view .LVU416
 1501 007c 05F10809 		add	r9, r5, #8
 1502 0080 B8F1000F 		cmp	r8, #0
 1503 0084 01D0     		beq	.L111
 1504 0086 0123     		movs	r3, #1
 1505 0088 E1E7     		b	.L108
 1506              	.L111:
 1507 008a 0223     		movs	r3, #2
 1508 008c DFE7     		b	.L108
 1509              	.LVL141:
 1510              	.L116:
 713:ThirdPackage/lwip220/core/ipv4/etharp.c ****       /* ARP request for our address? */
 1511              		.loc 1 713 92 view .LVU417
 715:ThirdPackage/lwip220/core/ipv4/etharp.c ****         /* send ARP response */
 1512              		.loc 1 715 7 view .LVU418
 715:ThirdPackage/lwip220/core/ipv4/etharp.c ****         /* send ARP response */
 1513              		.loc 1 715 10 is_stmt 0 view .LVU419
 1514 008e B8F1000F 		cmp	r8, #0
 1515 0092 E5D0     		beq	.L109
 715:ThirdPackage/lwip220/core/ipv4/etharp.c ****         /* send ARP response */
 1516              		.loc 1 715 18 discriminator 1 view .LVU420
 1517 0094 002F     		cmp	r7, #0
 1518 0096 E3D1     		bne	.L109
 717:ThirdPackage/lwip220/core/ipv4/etharp.c ****                    (struct eth_addr *)netif->hwaddr, &hdr->shwaddr,
 1519              		.loc 1 717 9 is_stmt 1 view .LVU421
 718:ThirdPackage/lwip220/core/ipv4/etharp.c ****                    (struct eth_addr *)netif->hwaddr, netif_ip4_addr(netif),
 1520              		.loc 1 718 39 is_stmt 0 view .LVU422
 1521 0098 06F12601 		add	r1, r6, #38
 719:ThirdPackage/lwip220/core/ipv4/etharp.c ****                    &hdr->shwaddr, &sipaddr,
 1522              		.loc 1 719 54 view .LVU423
 1523 009c 331D     		adds	r3, r6, #4
 717:ThirdPackage/lwip220/core/ipv4/etharp.c ****                    (struct eth_addr *)netif->hwaddr, &hdr->shwaddr,
 1524              		.loc 1 717 9 view .LVU424
 1525 009e 0222     		movs	r2, #2
 1526 00a0 0392     		str	r2, [sp, #12]
 1527 00a2 05AA     		add	r2, sp, #20
 1528 00a4 0292     		str	r2, [sp, #8]
 1529 00a6 CDF80490 		str	r9, [sp, #4]
 1530 00aa 0093     		str	r3, [sp]
 1531 00ac 0B46     		mov	r3, r1
 1532 00ae 4A46     		mov	r2, r9
 1533 00b0 3046     		mov	r0, r6
 1534 00b2 FFF7FEFF 		bl	etharp_raw
 1535              	.LVL142:
 1536 00b6 D3E7     		b	.L109
 1537              	.LVL143:
 1538              	.L113:
 1539              	.LCFI23:
 1540              		.cfi_def_cfa_offset 0
 1541              		.cfi_restore 4
 1542              		.cfi_restore 5
 1543              		.cfi_restore 6
 1544              		.cfi_restore 7
 1545              		.cfi_restore 8
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 54


 1546              		.cfi_restore 9
 1547              		.cfi_restore 14
 717:ThirdPackage/lwip220/core/ipv4/etharp.c ****                    (struct eth_addr *)netif->hwaddr, &hdr->shwaddr,
 1548              		.loc 1 717 9 view .LVU425
 1549 00b8 7047     		bx	lr
 1550              		.cfi_endproc
 1551              	.LFE167:
 1553              		.section	.text.etharp_request,"ax",%progbits
 1554              		.align	1
 1555              		.global	etharp_request
 1556              		.syntax unified
 1557              		.thumb
 1558              		.thumb_func
 1560              	etharp_request:
 1561              	.LVL144:
 1562              	.LFB173:
1196:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
1197:ThirdPackage/lwip220/core/ipv4/etharp.c **** /**
1198:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * Send an ARP request packet asking for ipaddr.
1199:ThirdPackage/lwip220/core/ipv4/etharp.c ****  *
1200:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * @param netif the lwip network interface on which to send the request
1201:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * @param ipaddr the IP address for which to ask
1202:ThirdPackage/lwip220/core/ipv4/etharp.c ****  * @return ERR_OK if the request has been sent
1203:ThirdPackage/lwip220/core/ipv4/etharp.c ****  *         ERR_MEM if the ARP packet couldn't be allocated
1204:ThirdPackage/lwip220/core/ipv4/etharp.c ****  *         any other err_t on failure
1205:ThirdPackage/lwip220/core/ipv4/etharp.c ****  */
1206:ThirdPackage/lwip220/core/ipv4/etharp.c **** err_t
1207:ThirdPackage/lwip220/core/ipv4/etharp.c **** etharp_request(struct netif *netif, const ip4_addr_t *ipaddr)
1208:ThirdPackage/lwip220/core/ipv4/etharp.c **** {
 1563              		.loc 1 1208 1 is_stmt 1 view -0
 1564              		.cfi_startproc
 1565              		@ args = 0, pretend = 0, frame = 0
 1566              		@ frame_needed = 0, uses_anonymous_args = 0
 1567              		.loc 1 1208 1 is_stmt 0 view .LVU427
 1568 0000 08B5     		push	{r3, lr}
 1569              	.LCFI24:
 1570              		.cfi_def_cfa_offset 8
 1571              		.cfi_offset 3, -8
 1572              		.cfi_offset 14, -4
1209:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_request: sending ARP request.\n"));
 1573              		.loc 1 1209 89 is_stmt 1 view .LVU428
1210:ThirdPackage/lwip220/core/ipv4/etharp.c ****   return etharp_request_dst(netif, ipaddr, &ethbroadcast);
 1574              		.loc 1 1210 3 view .LVU429
 1575              		.loc 1 1210 10 is_stmt 0 view .LVU430
 1576 0002 024A     		ldr	r2, .L119
 1577 0004 FFF7FEFF 		bl	etharp_request_dst
 1578              	.LVL145:
1211:ThirdPackage/lwip220/core/ipv4/etharp.c **** }
 1579              		.loc 1 1211 1 view .LVU431
 1580 0008 08BD     		pop	{r3, pc}
 1581              	.L120:
 1582 000a 00BF     		.align	2
 1583              	.L119:
 1584 000c 00000000 		.word	ethbroadcast
 1585              		.cfi_endproc
 1586              	.LFE173:
 1588              		.section	.text.etharp_tmr,"ax",%progbits
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 55


 1589              		.align	1
 1590              		.global	etharp_tmr
 1591              		.syntax unified
 1592              		.thumb
 1593              		.thumb_func
 1595              	etharp_tmr:
 1596              	.LFB161:
 199:ThirdPackage/lwip220/core/ipv4/etharp.c ****   int i;
 1597              		.loc 1 199 1 is_stmt 1 view -0
 1598              		.cfi_startproc
 1599              		@ args = 0, pretend = 0, frame = 0
 1600              		@ frame_needed = 0, uses_anonymous_args = 0
 1601 0000 10B5     		push	{r4, lr}
 1602              	.LCFI25:
 1603              		.cfi_def_cfa_offset 8
 1604              		.cfi_offset 4, -8
 1605              		.cfi_offset 14, -4
 200:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 1606              		.loc 1 200 3 view .LVU433
 202:ThirdPackage/lwip220/core/ipv4/etharp.c ****   /* remove expired entries from the ARP table */
 1607              		.loc 1 202 48 view .LVU434
 204:ThirdPackage/lwip220/core/ipv4/etharp.c ****     u8_t state = arp_table[i].state;
 1608              		.loc 1 204 3 view .LVU435
 1609              	.LVL146:
 204:ThirdPackage/lwip220/core/ipv4/etharp.c ****     u8_t state = arp_table[i].state;
 1610              		.loc 1 204 10 is_stmt 0 view .LVU436
 1611 0002 0024     		movs	r4, #0
 204:ThirdPackage/lwip220/core/ipv4/etharp.c ****     u8_t state = arp_table[i].state;
 1612              		.loc 1 204 3 view .LVU437
 1613 0004 05E0     		b	.L122
 1614              	.LVL147:
 1615              	.L131:
 1616              	.LBB7:
 213:ThirdPackage/lwip220/core/ipv4/etharp.c ****            (arp_table[i].ctime >= ARP_MAXPENDING))) {
 1617              		.loc 1 213 58 view .LVU438
 1618 0006 042B     		cmp	r3, #4
 1619 0008 1BD9     		bls	.L125
 1620              	.L124:
 217:ThirdPackage/lwip220/core/ipv4/etharp.c ****         /* clean up entries that have just been expired */
 1621              		.loc 1 217 105 is_stmt 1 view .LVU439
 219:ThirdPackage/lwip220/core/ipv4/etharp.c ****       } else if (arp_table[i].state == ETHARP_STATE_STABLE_REREQUESTING_1) {
 1622              		.loc 1 219 9 view .LVU440
 1623 000a 2046     		mov	r0, r4
 1624 000c FFF7FEFF 		bl	etharp_free_entry
 1625              	.LVL148:
 1626              	.L123:
 219:ThirdPackage/lwip220/core/ipv4/etharp.c ****       } else if (arp_table[i].state == ETHARP_STATE_STABLE_REREQUESTING_1) {
 1627              		.loc 1 219 9 is_stmt 0 view .LVU441
 1628              	.LBE7:
 204:ThirdPackage/lwip220/core/ipv4/etharp.c ****     u8_t state = arp_table[i].state;
 1629              		.loc 1 204 35 is_stmt 1 discriminator 2 view .LVU442
 1630 0010 0134     		adds	r4, r4, #1
 1631              	.LVL149:
 1632              	.L122:
 204:ThirdPackage/lwip220/core/ipv4/etharp.c ****     u8_t state = arp_table[i].state;
 1633              		.loc 1 204 15 discriminator 1 view .LVU443
 204:ThirdPackage/lwip220/core/ipv4/etharp.c ****     u8_t state = arp_table[i].state;
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 56


 1634              		.loc 1 204 3 is_stmt 0 discriminator 1 view .LVU444
 1635 0012 092C     		cmp	r4, #9
 1636 0014 35DC     		bgt	.L130
 1637              	.LBB8:
 205:ThirdPackage/lwip220/core/ipv4/etharp.c ****     if (state != ETHARP_STATE_EMPTY
 1638              		.loc 1 205 5 is_stmt 1 view .LVU445
 205:ThirdPackage/lwip220/core/ipv4/etharp.c ****     if (state != ETHARP_STATE_EMPTY
 1639              		.loc 1 205 10 is_stmt 0 view .LVU446
 1640 0016 04EB4403 		add	r3, r4, r4, lsl #1
 1641 001a DA00     		lsls	r2, r3, #3
 1642 001c 194B     		ldr	r3, .L134
 1643 001e 1344     		add	r3, r3, r2
 1644 0020 1A7D     		ldrb	r2, [r3, #20]	@ zero_extendqisi2
 1645              	.LVL150:
 206:ThirdPackage/lwip220/core/ipv4/etharp.c **** #if ETHARP_SUPPORT_STATIC_ENTRIES
 1646              		.loc 1 206 5 is_stmt 1 view .LVU447
 206:ThirdPackage/lwip220/core/ipv4/etharp.c **** #if ETHARP_SUPPORT_STATIC_ENTRIES
 1647              		.loc 1 206 8 is_stmt 0 view .LVU448
 1648 0022 002A     		cmp	r2, #0
 1649 0024 F4D0     		beq	.L123
 211:ThirdPackage/lwip220/core/ipv4/etharp.c ****       if ((arp_table[i].ctime >= ARP_MAXAGE) ||
 1650              		.loc 1 211 7 is_stmt 1 view .LVU449
 211:ThirdPackage/lwip220/core/ipv4/etharp.c ****       if ((arp_table[i].ctime >= ARP_MAXAGE) ||
 1651              		.loc 1 211 19 is_stmt 0 view .LVU450
 1652 0026 04EB4401 		add	r1, r4, r4, lsl #1
 1653 002a CB00     		lsls	r3, r1, #3
 1654 002c 1549     		ldr	r1, .L134
 1655 002e 1944     		add	r1, r1, r3
 1656 0030 4B8A     		ldrh	r3, [r1, #18]
 211:ThirdPackage/lwip220/core/ipv4/etharp.c ****       if ((arp_table[i].ctime >= ARP_MAXAGE) ||
 1657              		.loc 1 211 25 view .LVU451
 1658 0032 0133     		adds	r3, r3, #1
 1659 0034 9BB2     		uxth	r3, r3
 1660 0036 4B82     		strh	r3, [r1, #18]	@ movhi
 212:ThirdPackage/lwip220/core/ipv4/etharp.c ****           ((arp_table[i].state == ETHARP_STATE_PENDING)  &&
 1661              		.loc 1 212 7 is_stmt 1 view .LVU452
 212:ThirdPackage/lwip220/core/ipv4/etharp.c ****           ((arp_table[i].state == ETHARP_STATE_PENDING)  &&
 1662              		.loc 1 212 10 is_stmt 0 view .LVU453
 1663 0038 B3F5967F 		cmp	r3, #300
 1664 003c E5D2     		bcs	.L124
 212:ThirdPackage/lwip220/core/ipv4/etharp.c ****           ((arp_table[i].state == ETHARP_STATE_PENDING)  &&
 1665              		.loc 1 212 46 discriminator 1 view .LVU454
 1666 003e 012A     		cmp	r2, #1
 1667 0040 E1D0     		beq	.L131
 1668              	.L125:
 220:ThirdPackage/lwip220/core/ipv4/etharp.c ****         /* Don't send more than one request every 2 seconds. */
 1669              		.loc 1 220 14 is_stmt 1 view .LVU455
 220:ThirdPackage/lwip220/core/ipv4/etharp.c ****         /* Don't send more than one request every 2 seconds. */
 1670              		.loc 1 220 17 is_stmt 0 view .LVU456
 1671 0042 032A     		cmp	r2, #3
 1672 0044 0DD0     		beq	.L132
 223:ThirdPackage/lwip220/core/ipv4/etharp.c ****         /* Reset state to stable, so that the next transmitted packet will
 1673              		.loc 1 223 14 is_stmt 1 view .LVU457
 223:ThirdPackage/lwip220/core/ipv4/etharp.c ****         /* Reset state to stable, so that the next transmitted packet will
 1674              		.loc 1 223 17 is_stmt 0 view .LVU458
 1675 0046 042A     		cmp	r2, #4
 1676 0048 13D0     		beq	.L133
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 57


 227:ThirdPackage/lwip220/core/ipv4/etharp.c ****         /* still pending, resend an ARP query */
 1677              		.loc 1 227 14 is_stmt 1 view .LVU459
 227:ThirdPackage/lwip220/core/ipv4/etharp.c ****         /* still pending, resend an ARP query */
 1678              		.loc 1 227 17 is_stmt 0 view .LVU460
 1679 004a 012A     		cmp	r2, #1
 1680 004c E0D1     		bne	.L123
 229:ThirdPackage/lwip220/core/ipv4/etharp.c ****       }
 1681              		.loc 1 229 9 is_stmt 1 view .LVU461
 229:ThirdPackage/lwip220/core/ipv4/etharp.c ****       }
 1682              		.loc 1 229 44 is_stmt 0 view .LVU462
 1683 004e 04EB4403 		add	r3, r4, r4, lsl #1
 1684 0052 DA00     		lsls	r2, r3, #3
 1685              	.LVL151:
 229:ThirdPackage/lwip220/core/ipv4/etharp.c ****       }
 1686              		.loc 1 229 44 view .LVU463
 1687 0054 0B4B     		ldr	r3, .L134
 1688 0056 1344     		add	r3, r3, r2
 229:ThirdPackage/lwip220/core/ipv4/etharp.c ****       }
 1689              		.loc 1 229 9 view .LVU464
 1690 0058 191D     		adds	r1, r3, #4
 1691              	.LVL152:
 229:ThirdPackage/lwip220/core/ipv4/etharp.c ****       }
 1692              		.loc 1 229 9 view .LVU465
 1693 005a 9868     		ldr	r0, [r3, #8]
 1694 005c FFF7FEFF 		bl	etharp_request
 1695              	.LVL153:
 229:ThirdPackage/lwip220/core/ipv4/etharp.c ****       }
 1696              		.loc 1 229 9 view .LVU466
 1697 0060 D6E7     		b	.L123
 1698              	.LVL154:
 1699              	.L132:
 222:ThirdPackage/lwip220/core/ipv4/etharp.c ****       } else if (arp_table[i].state == ETHARP_STATE_STABLE_REREQUESTING_2) {
 1700              		.loc 1 222 9 is_stmt 1 view .LVU467
 222:ThirdPackage/lwip220/core/ipv4/etharp.c ****       } else if (arp_table[i].state == ETHARP_STATE_STABLE_REREQUESTING_2) {
 1701              		.loc 1 222 28 is_stmt 0 view .LVU468
 1702 0062 04EB4403 		add	r3, r4, r4, lsl #1
 1703 0066 DA00     		lsls	r2, r3, #3
 1704              	.LVL155:
 222:ThirdPackage/lwip220/core/ipv4/etharp.c ****       } else if (arp_table[i].state == ETHARP_STATE_STABLE_REREQUESTING_2) {
 1705              		.loc 1 222 28 view .LVU469
 1706 0068 064B     		ldr	r3, .L134
 1707 006a 1344     		add	r3, r3, r2
 1708 006c 0422     		movs	r2, #4
 1709 006e 1A75     		strb	r2, [r3, #20]
 1710              	.LVL156:
 222:ThirdPackage/lwip220/core/ipv4/etharp.c ****       } else if (arp_table[i].state == ETHARP_STATE_STABLE_REREQUESTING_2) {
 1711              		.loc 1 222 28 view .LVU470
 1712 0070 CEE7     		b	.L123
 1713              	.LVL157:
 1714              	.L133:
 226:ThirdPackage/lwip220/core/ipv4/etharp.c ****       } else if (arp_table[i].state == ETHARP_STATE_PENDING) {
 1715              		.loc 1 226 9 is_stmt 1 view .LVU471
 226:ThirdPackage/lwip220/core/ipv4/etharp.c ****       } else if (arp_table[i].state == ETHARP_STATE_PENDING) {
 1716              		.loc 1 226 28 is_stmt 0 view .LVU472
 1717 0072 04EB4403 		add	r3, r4, r4, lsl #1
 1718 0076 DA00     		lsls	r2, r3, #3
 1719              	.LVL158:
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 58


 226:ThirdPackage/lwip220/core/ipv4/etharp.c ****       } else if (arp_table[i].state == ETHARP_STATE_PENDING) {
 1720              		.loc 1 226 28 view .LVU473
 1721 0078 024B     		ldr	r3, .L134
 1722 007a 1344     		add	r3, r3, r2
 1723 007c 0222     		movs	r2, #2
 1724 007e 1A75     		strb	r2, [r3, #20]
 1725              	.LVL159:
 226:ThirdPackage/lwip220/core/ipv4/etharp.c ****       } else if (arp_table[i].state == ETHARP_STATE_PENDING) {
 1726              		.loc 1 226 28 view .LVU474
 1727 0080 C6E7     		b	.L123
 1728              	.L130:
 226:ThirdPackage/lwip220/core/ipv4/etharp.c ****       } else if (arp_table[i].state == ETHARP_STATE_PENDING) {
 1729              		.loc 1 226 28 view .LVU475
 1730              	.LBE8:
 233:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 1731              		.loc 1 233 1 view .LVU476
 1732 0082 10BD     		pop	{r4, pc}
 1733              	.LVL160:
 1734              	.L135:
 233:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 1735              		.loc 1 233 1 view .LVU477
 1736              		.align	2
 1737              	.L134:
 1738 0084 00000000 		.word	.LANCHOR0
 1739              		.cfi_endproc
 1740              	.LFE161:
 1742              		.section	.rodata.etharp_output_to_arp_index.str1.4,"aMS",%progbits,1
 1743              		.align	2
 1744              	.LC12:
 1745 0000 6172705F 		.ascii	"arp_table[arp_idx].state >= ETHARP_STATE_STABLE\000"
 1745      7461626C 
 1745      655B6172 
 1745      705F6964 
 1745      785D2E73 
 1746              		.section	.text.etharp_output_to_arp_index,"ax",%progbits
 1747              		.align	1
 1748              		.syntax unified
 1749              		.thumb
 1750              		.thumb_func
 1752              	etharp_output_to_arp_index:
 1753              	.LVL161:
 1754              	.LFB168:
 750:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_ASSERT("arp_table[arp_idx].state >= ETHARP_STATE_STABLE",
 1755              		.loc 1 750 1 is_stmt 1 view -0
 1756              		.cfi_startproc
 1757              		@ args = 0, pretend = 0, frame = 0
 1758              		@ frame_needed = 0, uses_anonymous_args = 0
 750:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_ASSERT("arp_table[arp_idx].state >= ETHARP_STATE_STABLE",
 1759              		.loc 1 750 1 is_stmt 0 view .LVU479
 1760 0000 70B5     		push	{r4, r5, r6, lr}
 1761              	.LCFI26:
 1762              		.cfi_def_cfa_offset 16
 1763              		.cfi_offset 4, -16
 1764              		.cfi_offset 5, -12
 1765              		.cfi_offset 6, -8
 1766              		.cfi_offset 14, -4
 1767 0002 82B0     		sub	sp, sp, #8
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 59


 1768              	.LCFI27:
 1769              		.cfi_def_cfa_offset 24
 1770 0004 0546     		mov	r5, r0
 1771 0006 0E46     		mov	r6, r1
 1772 0008 1446     		mov	r4, r2
 751:ThirdPackage/lwip220/core/ipv4/etharp.c ****               arp_table[arp_idx].state >= ETHARP_STATE_STABLE);
 1773              		.loc 1 751 3 is_stmt 1 view .LVU480
 751:ThirdPackage/lwip220/core/ipv4/etharp.c ****               arp_table[arp_idx].state >= ETHARP_STATE_STABLE);
 1774              		.loc 1 751 3 view .LVU481
 1775 000a 02EB4202 		add	r2, r2, r2, lsl #1
 1776              	.LVL162:
 751:ThirdPackage/lwip220/core/ipv4/etharp.c ****               arp_table[arp_idx].state >= ETHARP_STATE_STABLE);
 1777              		.loc 1 751 3 is_stmt 0 view .LVU482
 1778 000e 2F4B     		ldr	r3, .L144
 1779 0010 03EBC203 		add	r3, r3, r2, lsl #3
 1780 0014 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 1781 0016 012B     		cmp	r3, #1
 1782 0018 19D9     		bls	.L141
 1783              	.LVL163:
 1784              	.L137:
 751:ThirdPackage/lwip220/core/ipv4/etharp.c ****               arp_table[arp_idx].state >= ETHARP_STATE_STABLE);
 1785              		.loc 1 751 3 is_stmt 1 discriminator 3 view .LVU483
 751:ThirdPackage/lwip220/core/ipv4/etharp.c ****               arp_table[arp_idx].state >= ETHARP_STATE_STABLE);
 1786              		.loc 1 751 3 discriminator 3 view .LVU484
 756:ThirdPackage/lwip220/core/ipv4/etharp.c ****     if (arp_table[arp_idx].ctime >= ARP_AGE_REREQUEST_USED_BROADCAST) {
 1787              		.loc 1 756 3 discriminator 3 view .LVU485
 756:ThirdPackage/lwip220/core/ipv4/etharp.c ****     if (arp_table[arp_idx].ctime >= ARP_AGE_REREQUEST_USED_BROADCAST) {
 1788              		.loc 1 756 25 is_stmt 0 discriminator 3 view .LVU486
 1789 001a 04EB4403 		add	r3, r4, r4, lsl #1
 1790 001e 2B4A     		ldr	r2, .L144
 1791 0020 02EBC303 		add	r3, r2, r3, lsl #3
 1792 0024 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 756:ThirdPackage/lwip220/core/ipv4/etharp.c ****     if (arp_table[arp_idx].ctime >= ARP_AGE_REREQUEST_USED_BROADCAST) {
 1793              		.loc 1 756 6 discriminator 3 view .LVU487
 1794 0026 022B     		cmp	r3, #2
 1795 0028 19D0     		beq	.L142
 1796              	.L138:
 770:ThirdPackage/lwip220/core/ipv4/etharp.c **** }
 1797              		.loc 1 770 3 is_stmt 1 view .LVU488
 770:ThirdPackage/lwip220/core/ipv4/etharp.c **** }
 1798              		.loc 1 770 72 is_stmt 0 view .LVU489
 1799 002a 04EB4403 		add	r3, r4, r4, lsl #1
 1800 002e DB00     		lsls	r3, r3, #3
 1801 0030 0833     		adds	r3, r3, #8
 1802 0032 264C     		ldr	r4, .L144
 1803 0034 2344     		add	r3, r3, r4
 770:ThirdPackage/lwip220/core/ipv4/etharp.c **** }
 1804              		.loc 1 770 10 view .LVU490
 1805 0036 4FF40062 		mov	r2, #2048
 1806 003a 0092     		str	r2, [sp]
 1807 003c 0433     		adds	r3, r3, #4
 1808 003e 05F12602 		add	r2, r5, #38
 1809 0042 3146     		mov	r1, r6
 1810 0044 2846     		mov	r0, r5
 1811 0046 FFF7FEFF 		bl	ethernet_output
 1812              	.LVL164:
 771:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 60


 1813              		.loc 1 771 1 view .LVU491
 1814 004a 02B0     		add	sp, sp, #8
 1815              	.LCFI28:
 1816              		.cfi_remember_state
 1817              		.cfi_def_cfa_offset 16
 1818              		@ sp needed
 1819 004c 70BD     		pop	{r4, r5, r6, pc}
 1820              	.LVL165:
 1821              	.L141:
 1822              	.LCFI29:
 1823              		.cfi_restore_state
 751:ThirdPackage/lwip220/core/ipv4/etharp.c ****               arp_table[arp_idx].state >= ETHARP_STATE_STABLE);
 1824              		.loc 1 751 3 is_stmt 1 discriminator 1 view .LVU492
 751:ThirdPackage/lwip220/core/ipv4/etharp.c ****               arp_table[arp_idx].state >= ETHARP_STATE_STABLE);
 1825              		.loc 1 751 3 discriminator 1 view .LVU493
 1826 004e 204B     		ldr	r3, .L144+4
 1827 0050 40F2EF22 		movw	r2, #751
 1828 0054 1F49     		ldr	r1, .L144+8
 1829              	.LVL166:
 751:ThirdPackage/lwip220/core/ipv4/etharp.c ****               arp_table[arp_idx].state >= ETHARP_STATE_STABLE);
 1830              		.loc 1 751 3 is_stmt 0 discriminator 1 view .LVU494
 1831 0056 2048     		ldr	r0, .L144+12
 1832              	.LVL167:
 751:ThirdPackage/lwip220/core/ipv4/etharp.c ****               arp_table[arp_idx].state >= ETHARP_STATE_STABLE);
 1833              		.loc 1 751 3 discriminator 1 view .LVU495
 1834 0058 FFF7FEFF 		bl	printf
 1835              	.LVL168:
 1836 005c DDE7     		b	.L137
 1837              	.L142:
 757:ThirdPackage/lwip220/core/ipv4/etharp.c ****       /* issue a standard request using broadcast */
 1838              		.loc 1 757 5 is_stmt 1 view .LVU496
 757:ThirdPackage/lwip220/core/ipv4/etharp.c ****       /* issue a standard request using broadcast */
 1839              		.loc 1 757 27 is_stmt 0 view .LVU497
 1840 005e 04EB4403 		add	r3, r4, r4, lsl #1
 1841 0062 02EBC303 		add	r3, r2, r3, lsl #3
 1842 0066 5B8A     		ldrh	r3, [r3, #18]
 757:ThirdPackage/lwip220/core/ipv4/etharp.c ****       /* issue a standard request using broadcast */
 1843              		.loc 1 757 8 view .LVU498
 1844 0068 B3F58E7F 		cmp	r3, #284
 1845 006c 1BD8     		bhi	.L143
 762:ThirdPackage/lwip220/core/ipv4/etharp.c ****       /* issue a unicast request (for 15 seconds) to prevent unnecessary broadcast */
 1846              		.loc 1 762 12 is_stmt 1 view .LVU499
 762:ThirdPackage/lwip220/core/ipv4/etharp.c ****       /* issue a unicast request (for 15 seconds) to prevent unnecessary broadcast */
 1847              		.loc 1 762 15 is_stmt 0 view .LVU500
 1848 006e B3F5877F 		cmp	r3, #270
 1849 0072 DAD3     		bcc	.L138
 764:ThirdPackage/lwip220/core/ipv4/etharp.c ****         arp_table[arp_idx].state = ETHARP_STATE_STABLE_REREQUESTING_1;
 1850              		.loc 1 764 7 is_stmt 1 view .LVU501
 764:ThirdPackage/lwip220/core/ipv4/etharp.c ****         arp_table[arp_idx].state = ETHARP_STATE_STABLE_REREQUESTING_1;
 1851              		.loc 1 764 37 is_stmt 0 view .LVU502
 1852 0074 154B     		ldr	r3, .L144
 1853 0076 04EB4401 		add	r1, r4, r4, lsl #1
 1854 007a 03EBC101 		add	r1, r3, r1, lsl #3
 764:ThirdPackage/lwip220/core/ipv4/etharp.c ****         arp_table[arp_idx].state = ETHARP_STATE_STABLE_REREQUESTING_1;
 1855              		.loc 1 764 65 view .LVU503
 1856 007e 04EB4402 		add	r2, r4, r4, lsl #1
 1857 0082 D200     		lsls	r2, r2, #3
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 61


 1858 0084 0832     		adds	r2, r2, #8
 1859 0086 1A44     		add	r2, r2, r3
 764:ThirdPackage/lwip220/core/ipv4/etharp.c ****         arp_table[arp_idx].state = ETHARP_STATE_STABLE_REREQUESTING_1;
 1860              		.loc 1 764 11 view .LVU504
 1861 0088 0432     		adds	r2, r2, #4
 1862 008a 0431     		adds	r1, r1, #4
 1863 008c 2846     		mov	r0, r5
 1864 008e FFF7FEFF 		bl	etharp_request_dst
 1865              	.LVL169:
 764:ThirdPackage/lwip220/core/ipv4/etharp.c ****         arp_table[arp_idx].state = ETHARP_STATE_STABLE_REREQUESTING_1;
 1866              		.loc 1 764 10 view .LVU505
 1867 0092 0028     		cmp	r0, #0
 1868 0094 C9D1     		bne	.L138
 765:ThirdPackage/lwip220/core/ipv4/etharp.c ****       }
 1869              		.loc 1 765 9 is_stmt 1 view .LVU506
 765:ThirdPackage/lwip220/core/ipv4/etharp.c ****       }
 1870              		.loc 1 765 34 is_stmt 0 view .LVU507
 1871 0096 04EB4403 		add	r3, r4, r4, lsl #1
 1872 009a 0C4A     		ldr	r2, .L144
 1873 009c 02EBC303 		add	r3, r2, r3, lsl #3
 1874 00a0 0322     		movs	r2, #3
 1875 00a2 1A75     		strb	r2, [r3, #20]
 1876 00a4 C1E7     		b	.L138
 1877              	.L143:
 759:ThirdPackage/lwip220/core/ipv4/etharp.c ****         arp_table[arp_idx].state = ETHARP_STATE_STABLE_REREQUESTING_1;
 1878              		.loc 1 759 7 is_stmt 1 view .LVU508
 759:ThirdPackage/lwip220/core/ipv4/etharp.c ****         arp_table[arp_idx].state = ETHARP_STATE_STABLE_REREQUESTING_1;
 1879              		.loc 1 759 33 is_stmt 0 view .LVU509
 1880 00a6 04EB4401 		add	r1, r4, r4, lsl #1
 1881 00aa 02EBC101 		add	r1, r2, r1, lsl #3
 759:ThirdPackage/lwip220/core/ipv4/etharp.c ****         arp_table[arp_idx].state = ETHARP_STATE_STABLE_REREQUESTING_1;
 1882              		.loc 1 759 11 view .LVU510
 1883 00ae 0431     		adds	r1, r1, #4
 1884 00b0 2846     		mov	r0, r5
 1885 00b2 FFF7FEFF 		bl	etharp_request
 1886              	.LVL170:
 759:ThirdPackage/lwip220/core/ipv4/etharp.c ****         arp_table[arp_idx].state = ETHARP_STATE_STABLE_REREQUESTING_1;
 1887              		.loc 1 759 10 view .LVU511
 1888 00b6 0028     		cmp	r0, #0
 1889 00b8 B7D1     		bne	.L138
 760:ThirdPackage/lwip220/core/ipv4/etharp.c ****       }
 1890              		.loc 1 760 9 is_stmt 1 view .LVU512
 760:ThirdPackage/lwip220/core/ipv4/etharp.c ****       }
 1891              		.loc 1 760 34 is_stmt 0 view .LVU513
 1892 00ba 04EB4403 		add	r3, r4, r4, lsl #1
 1893 00be 034A     		ldr	r2, .L144
 1894 00c0 02EBC303 		add	r3, r2, r3, lsl #3
 1895 00c4 0322     		movs	r2, #3
 1896 00c6 1A75     		strb	r2, [r3, #20]
 1897 00c8 AFE7     		b	.L138
 1898              	.L145:
 1899 00ca 00BF     		.align	2
 1900              	.L144:
 1901 00cc 00000000 		.word	.LANCHOR0
 1902 00d0 00000000 		.word	.LC0
 1903 00d4 00000000 		.word	.LC12
 1904 00d8 40000000 		.word	.LC2
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 62


 1905              		.cfi_endproc
 1906              	.LFE168:
 1908              		.section	.rodata.etharp_query.str1.4,"aMS",%progbits,1
 1909              		.align	2
 1910              	.LC13:
 1911 0000 74797065 		.ascii	"type overflow\000"
 1911      206F7665 
 1911      72666C6F 
 1911      7700
 1912 000e 0000     		.align	2
 1913              	.LC14:
 1914 0010 6172705F 		.ascii	"arp_table[i].state == PENDING or STABLE\000"
 1914      7461626C 
 1914      655B695D 
 1914      2E737461 
 1914      7465203D 
 1915              		.align	2
 1916              	.LC15:
 1917 0038 7120213D 		.ascii	"q != NULL\000"
 1917      204E554C 
 1917      4C00
 1918 0042 0000     		.align	2
 1919              	.LC16:
 1920 0044 6E6F2070 		.ascii	"no packet queues allowed!\000"
 1920      61636B65 
 1920      74207175 
 1920      65756573 
 1920      20616C6C 
 1921              		.section	.text.etharp_query,"ax",%progbits
 1922              		.align	1
 1923              		.global	etharp_query
 1924              		.syntax unified
 1925              		.thumb
 1926              		.thumb_func
 1928              	etharp_query:
 1929              	.LVL171:
 1930              	.LFB170:
 935:ThirdPackage/lwip220/core/ipv4/etharp.c ****   struct eth_addr *srcaddr = (struct eth_addr *)netif->hwaddr;
 1931              		.loc 1 935 1 is_stmt 1 view -0
 1932              		.cfi_startproc
 1933              		@ args = 0, pretend = 0, frame = 0
 1934              		@ frame_needed = 0, uses_anonymous_args = 0
 935:ThirdPackage/lwip220/core/ipv4/etharp.c ****   struct eth_addr *srcaddr = (struct eth_addr *)netif->hwaddr;
 1935              		.loc 1 935 1 is_stmt 0 view .LVU515
 1936 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 1937              	.LCFI30:
 1938              		.cfi_def_cfa_offset 28
 1939              		.cfi_offset 4, -28
 1940              		.cfi_offset 5, -24
 1941              		.cfi_offset 6, -20
 1942              		.cfi_offset 7, -16
 1943              		.cfi_offset 8, -12
 1944              		.cfi_offset 9, -8
 1945              		.cfi_offset 14, -4
 1946 0004 83B0     		sub	sp, sp, #12
 1947              	.LCFI31:
 1948              		.cfi_def_cfa_offset 40
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 63


 1949 0006 0746     		mov	r7, r0
 1950 0008 0D46     		mov	r5, r1
 1951 000a 1646     		mov	r6, r2
 936:ThirdPackage/lwip220/core/ipv4/etharp.c ****   err_t result = ERR_MEM;
 1952              		.loc 1 936 3 is_stmt 1 view .LVU516
 936:ThirdPackage/lwip220/core/ipv4/etharp.c ****   err_t result = ERR_MEM;
 1953              		.loc 1 936 20 is_stmt 0 view .LVU517
 1954 000c 00F12608 		add	r8, r0, #38
 1955              	.LVL172:
 937:ThirdPackage/lwip220/core/ipv4/etharp.c ****   int is_new_entry = 0;
 1956              		.loc 1 937 3 is_stmt 1 view .LVU518
 938:ThirdPackage/lwip220/core/ipv4/etharp.c ****   s16_t i_err;
 1957              		.loc 1 938 3 view .LVU519
 939:ThirdPackage/lwip220/core/ipv4/etharp.c ****   netif_addr_idx_t i;
 1958              		.loc 1 939 3 view .LVU520
 940:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 1959              		.loc 1 940 3 view .LVU521
 943:ThirdPackage/lwip220/core/ipv4/etharp.c ****       ip4_addr_ismulticast(ipaddr) ||
 1960              		.loc 1 943 3 view .LVU522
 943:ThirdPackage/lwip220/core/ipv4/etharp.c ****       ip4_addr_ismulticast(ipaddr) ||
 1961              		.loc 1 943 7 is_stmt 0 view .LVU523
 1962 0010 0146     		mov	r1, r0
 1963              	.LVL173:
 943:ThirdPackage/lwip220/core/ipv4/etharp.c ****       ip4_addr_ismulticast(ipaddr) ||
 1964              		.loc 1 943 7 view .LVU524
 1965 0012 2868     		ldr	r0, [r5]
 1966              	.LVL174:
 943:ThirdPackage/lwip220/core/ipv4/etharp.c ****       ip4_addr_ismulticast(ipaddr) ||
 1967              		.loc 1 943 7 view .LVU525
 1968 0014 FFF7FEFF 		bl	ip4_addr_isbroadcast_u32
 1969              	.LVL175:
 943:ThirdPackage/lwip220/core/ipv4/etharp.c ****       ip4_addr_ismulticast(ipaddr) ||
 1970              		.loc 1 943 6 view .LVU526
 1971 0018 0028     		cmp	r0, #0
 1972 001a 40F0C380 		bne	.L164
 944:ThirdPackage/lwip220/core/ipv4/etharp.c ****       ip4_addr_isany(ipaddr)) {
 1973              		.loc 1 944 7 discriminator 1 view .LVU527
 1974 001e 2B68     		ldr	r3, [r5]
 1975 0020 03F0F002 		and	r2, r3, #240
 943:ThirdPackage/lwip220/core/ipv4/etharp.c ****       ip4_addr_ismulticast(ipaddr) ||
 1976              		.loc 1 943 43 discriminator 1 view .LVU528
 1977 0024 E02A     		cmp	r2, #224
 1978 0026 00F0C080 		beq	.L165
 944:ThirdPackage/lwip220/core/ipv4/etharp.c ****       ip4_addr_isany(ipaddr)) {
 1979              		.loc 1 944 36 view .LVU529
 1980 002a 002D     		cmp	r5, #0
 1981 002c 00F0C080 		beq	.L166
 945:ThirdPackage/lwip220/core/ipv4/etharp.c ****     LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_query: will not add non-unicast IP address 
 1982              		.loc 1 945 7 view .LVU530
 1983 0030 002B     		cmp	r3, #0
 1984 0032 00F0C080 		beq	.L167
 951:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 1985              		.loc 1 951 3 is_stmt 1 view .LVU531
 951:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 1986              		.loc 1 951 11 is_stmt 0 view .LVU532
 1987 0036 3A46     		mov	r2, r7
 1988 0038 0121     		movs	r1, #1
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 64


 1989 003a 2846     		mov	r0, r5
 1990 003c FFF7FEFF 		bl	etharp_find_entry
 1991              	.LVL176:
 954:ThirdPackage/lwip220/core/ipv4/etharp.c ****     LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_query: could not create ARP entry\n"));
 1992              		.loc 1 954 3 is_stmt 1 view .LVU533
 954:ThirdPackage/lwip220/core/ipv4/etharp.c ****     LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_query: could not create ARP entry\n"));
 1993              		.loc 1 954 6 is_stmt 0 view .LVU534
 1994 0040 041E     		subs	r4, r0, #0
 1995 0042 2EDB     		blt	.L174
 962:ThirdPackage/lwip220/core/ipv4/etharp.c ****   i = (netif_addr_idx_t)i_err;
 1996              		.loc 1 962 3 is_stmt 1 view .LVU535
 962:ThirdPackage/lwip220/core/ipv4/etharp.c ****   i = (netif_addr_idx_t)i_err;
 1997              		.loc 1 962 3 view .LVU536
 1998 0044 A3B2     		uxth	r3, r4
 1999 0046 7E2B     		cmp	r3, #126
 2000 0048 2DD8     		bhi	.L175
 2001              	.LVL177:
 2002              	.L149:
 962:ThirdPackage/lwip220/core/ipv4/etharp.c ****   i = (netif_addr_idx_t)i_err;
 2003              		.loc 1 962 3 discriminator 3 view .LVU537
 962:ThirdPackage/lwip220/core/ipv4/etharp.c ****   i = (netif_addr_idx_t)i_err;
 2004              		.loc 1 962 3 discriminator 3 view .LVU538
 963:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 2005              		.loc 1 963 3 discriminator 3 view .LVU539
 963:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 2006              		.loc 1 963 5 is_stmt 0 discriminator 3 view .LVU540
 2007 004a E4B2     		uxtb	r4, r4
 2008              	.LVL178:
 966:ThirdPackage/lwip220/core/ipv4/etharp.c ****     is_new_entry = 1;
 2009              		.loc 1 966 3 is_stmt 1 discriminator 3 view .LVU541
 966:ThirdPackage/lwip220/core/ipv4/etharp.c ****     is_new_entry = 1;
 2010              		.loc 1 966 19 is_stmt 0 discriminator 3 view .LVU542
 2011 004c 04EB4402 		add	r2, r4, r4, lsl #1
 2012 0050 5C4B     		ldr	r3, .L181
 2013 0052 03EBC203 		add	r3, r3, r2, lsl #3
 2014 0056 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 966:ThirdPackage/lwip220/core/ipv4/etharp.c ****     is_new_entry = 1;
 2015              		.loc 1 966 6 discriminator 3 view .LVU543
 2016 0058 6BBB     		cbnz	r3, .L168
 967:ThirdPackage/lwip220/core/ipv4/etharp.c ****     arp_table[i].state = ETHARP_STATE_PENDING;
 2017              		.loc 1 967 5 is_stmt 1 view .LVU544
 2018              	.LVL179:
 968:ThirdPackage/lwip220/core/ipv4/etharp.c ****     /* record network interface for re-sending arp request in etharp_tmr */
 2019              		.loc 1 968 5 view .LVU545
 968:ThirdPackage/lwip220/core/ipv4/etharp.c ****     /* record network interface for re-sending arp request in etharp_tmr */
 2020              		.loc 1 968 24 is_stmt 0 view .LVU546
 2021 005a 1346     		mov	r3, r2
 2022 005c 594A     		ldr	r2, .L181
 2023 005e 02EBC303 		add	r3, r2, r3, lsl #3
 2024 0062 4FF00109 		mov	r9, #1
 2025 0066 83F81490 		strb	r9, [r3, #20]
 970:ThirdPackage/lwip220/core/ipv4/etharp.c ****   }
 2026              		.loc 1 970 5 is_stmt 1 view .LVU547
 970:ThirdPackage/lwip220/core/ipv4/etharp.c ****   }
 2027              		.loc 1 970 24 is_stmt 0 view .LVU548
 2028 006a 9F60     		str	r7, [r3, #8]
 2029              	.LVL180:
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 65


 2030              	.L150:
 974:ThirdPackage/lwip220/core/ipv4/etharp.c ****               ((arp_table[i].state == ETHARP_STATE_PENDING) ||
 2031              		.loc 1 974 3 is_stmt 1 view .LVU549
 974:ThirdPackage/lwip220/core/ipv4/etharp.c ****               ((arp_table[i].state == ETHARP_STATE_PENDING) ||
 2032              		.loc 1 974 3 view .LVU550
 2033 006c 04EB4403 		add	r3, r4, r4, lsl #1
 2034 0070 544A     		ldr	r2, .L181
 2035 0072 02EBC303 		add	r3, r2, r3, lsl #3
 2036 0076 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 2037 0078 03B3     		cbz	r3, .L176
 2038              	.L151:
 974:ThirdPackage/lwip220/core/ipv4/etharp.c ****               ((arp_table[i].state == ETHARP_STATE_PENDING) ||
 2039              		.loc 1 974 3 discriminator 3 view .LVU551
 974:ThirdPackage/lwip220/core/ipv4/etharp.c ****               ((arp_table[i].state == ETHARP_STATE_PENDING) ||
 2040              		.loc 1 974 3 discriminator 3 view .LVU552
 979:ThirdPackage/lwip220/core/ipv4/etharp.c ****     /* try to resolve it; send out ARP request */
 2041              		.loc 1 979 3 discriminator 3 view .LVU553
 979:ThirdPackage/lwip220/core/ipv4/etharp.c ****     /* try to resolve it; send out ARP request */
 2042              		.loc 1 979 6 is_stmt 0 discriminator 3 view .LVU554
 2043 007a B9F1000F 		cmp	r9, #0
 2044 007e 25D1     		bne	.L152
 979:ThirdPackage/lwip220/core/ipv4/etharp.c ****     /* try to resolve it; send out ARP request */
 2045              		.loc 1 979 20 discriminator 1 view .LVU555
 2046 0080 26B3     		cbz	r6, .L152
 937:ThirdPackage/lwip220/core/ipv4/etharp.c ****   int is_new_entry = 0;
 2047              		.loc 1 937 9 view .LVU556
 2048 0082 4FF0FF35 		mov	r5, #-1
 2049              	.LVL181:
 2050              	.L153:
1002:ThirdPackage/lwip220/core/ipv4/etharp.c ****   /* stable entry? */
 2051              		.loc 1 1002 3 is_stmt 1 view .LVU557
1002:ThirdPackage/lwip220/core/ipv4/etharp.c ****   /* stable entry? */
 2052              		.loc 1 1002 3 view .LVU558
 2053 0086 002E     		cmp	r6, #0
 2054 0088 3BD0     		beq	.L177
 2055              	.L155:
1002:ThirdPackage/lwip220/core/ipv4/etharp.c ****   /* stable entry? */
 2056              		.loc 1 1002 3 discriminator 3 view .LVU559
1002:ThirdPackage/lwip220/core/ipv4/etharp.c ****   /* stable entry? */
 2057              		.loc 1 1002 3 discriminator 3 view .LVU560
1004:ThirdPackage/lwip220/core/ipv4/etharp.c ****     /* we have a valid IP->Ethernet address mapping */
 2058              		.loc 1 1004 3 discriminator 3 view .LVU561
1004:ThirdPackage/lwip220/core/ipv4/etharp.c ****     /* we have a valid IP->Ethernet address mapping */
 2059              		.loc 1 1004 19 is_stmt 0 discriminator 3 view .LVU562
 2060 008a 04EB4403 		add	r3, r4, r4, lsl #1
 2061 008e 4D4A     		ldr	r2, .L181
 2062 0090 02EBC303 		add	r3, r2, r3, lsl #3
 2063 0094 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
1004:ThirdPackage/lwip220/core/ipv4/etharp.c ****     /* we have a valid IP->Ethernet address mapping */
 2064              		.loc 1 1004 6 discriminator 3 view .LVU563
 2065 0096 012B     		cmp	r3, #1
 2066 0098 3BD8     		bhi	.L178
1010:ThirdPackage/lwip220/core/ipv4/etharp.c ****     /* entry is still pending, queue the given packet 'q' */
 2067              		.loc 1 1010 10 is_stmt 1 view .LVU564
1010:ThirdPackage/lwip220/core/ipv4/etharp.c ****     /* entry is still pending, queue the given packet 'q' */
 2068              		.loc 1 1010 13 is_stmt 0 view .LVU565
 2069 009a 012B     		cmp	r3, #1
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 66


 2070 009c 4AD1     		bne	.L147
 2071              	.LBB9:
1016:ThirdPackage/lwip220/core/ipv4/etharp.c ****     while (p) {
 2072              		.loc 1 1016 7 view .LVU566
 2073 009e 3546     		mov	r5, r6
 2074              	.LVL182:
1016:ThirdPackage/lwip220/core/ipv4/etharp.c ****     while (p) {
 2075              		.loc 1 1016 7 view .LVU567
 2076 00a0 51E0     		b	.L157
 2077              	.LVL183:
 2078              	.L174:
1016:ThirdPackage/lwip220/core/ipv4/etharp.c ****     while (p) {
 2079              		.loc 1 1016 7 view .LVU568
 2080              	.LBE9:
 955:ThirdPackage/lwip220/core/ipv4/etharp.c ****     if (q) {
 2081              		.loc 1 955 95 is_stmt 1 view .LVU569
 956:ThirdPackage/lwip220/core/ipv4/etharp.c ****       LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_query: packet dropped\n"));
 2082              		.loc 1 956 5 view .LVU570
 957:ThirdPackage/lwip220/core/ipv4/etharp.c ****       ETHARP_STATS_INC(etharp.memerr);
 2083              		.loc 1 957 85 view .LVU571
 958:ThirdPackage/lwip220/core/ipv4/etharp.c ****     }
 2084              		.loc 1 958 38 view .LVU572
 960:ThirdPackage/lwip220/core/ipv4/etharp.c ****   }
 2085              		.loc 1 960 5 view .LVU573
 960:ThirdPackage/lwip220/core/ipv4/etharp.c ****   }
 2086              		.loc 1 960 12 is_stmt 0 view .LVU574
 2087 00a2 65B2     		sxtb	r5, r4
 2088              	.LVL184:
 960:ThirdPackage/lwip220/core/ipv4/etharp.c ****   }
 2089              		.loc 1 960 12 view .LVU575
 2090 00a4 46E0     		b	.L147
 2091              	.LVL185:
 2092              	.L175:
 962:ThirdPackage/lwip220/core/ipv4/etharp.c ****   i = (netif_addr_idx_t)i_err;
 2093              		.loc 1 962 3 is_stmt 1 discriminator 1 view .LVU576
 962:ThirdPackage/lwip220/core/ipv4/etharp.c ****   i = (netif_addr_idx_t)i_err;
 2094              		.loc 1 962 3 discriminator 1 view .LVU577
 2095 00a6 484B     		ldr	r3, .L181+4
 2096 00a8 40F2C232 		movw	r2, #962
 2097 00ac 4749     		ldr	r1, .L181+8
 2098 00ae 4848     		ldr	r0, .L181+12
 2099              	.LVL186:
 962:ThirdPackage/lwip220/core/ipv4/etharp.c ****   i = (netif_addr_idx_t)i_err;
 2100              		.loc 1 962 3 is_stmt 0 discriminator 1 view .LVU578
 2101 00b0 FFF7FEFF 		bl	printf
 2102              	.LVL187:
 2103 00b4 C9E7     		b	.L149
 2104              	.LVL188:
 2105              	.L168:
 938:ThirdPackage/lwip220/core/ipv4/etharp.c ****   s16_t i_err;
 2106              		.loc 1 938 7 view .LVU579
 2107 00b6 4FF00009 		mov	r9, #0
 2108 00ba D7E7     		b	.L150
 2109              	.LVL189:
 2110              	.L176:
 974:ThirdPackage/lwip220/core/ipv4/etharp.c ****               ((arp_table[i].state == ETHARP_STATE_PENDING) ||
 2111              		.loc 1 974 3 is_stmt 1 discriminator 1 view .LVU580
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 67


 974:ThirdPackage/lwip220/core/ipv4/etharp.c ****               ((arp_table[i].state == ETHARP_STATE_PENDING) ||
 2112              		.loc 1 974 3 discriminator 1 view .LVU581
 2113 00bc 424B     		ldr	r3, .L181+4
 2114 00be 40F2CE32 		movw	r2, #974
 2115 00c2 4449     		ldr	r1, .L181+16
 2116 00c4 4248     		ldr	r0, .L181+12
 2117 00c6 FFF7FEFF 		bl	printf
 2118              	.LVL190:
 2119 00ca D6E7     		b	.L151
 2120              	.L152:
 981:ThirdPackage/lwip220/core/ipv4/etharp.c ****     if (result != ERR_OK) {
 2121              		.loc 1 981 5 view .LVU582
 981:ThirdPackage/lwip220/core/ipv4/etharp.c ****     if (result != ERR_OK) {
 2122              		.loc 1 981 14 is_stmt 0 view .LVU583
 2123 00cc 2946     		mov	r1, r5
 2124 00ce 3846     		mov	r0, r7
 2125 00d0 FFF7FEFF 		bl	etharp_request
 2126              	.LVL191:
 982:ThirdPackage/lwip220/core/ipv4/etharp.c ****       /* ARP request couldn't be sent */
 2127              		.loc 1 982 5 is_stmt 1 view .LVU584
 982:ThirdPackage/lwip220/core/ipv4/etharp.c ****       /* ARP request couldn't be sent */
 2128              		.loc 1 982 8 is_stmt 0 view .LVU585
 2129 00d4 0546     		mov	r5, r0
 2130              	.LVL192:
 982:ThirdPackage/lwip220/core/ipv4/etharp.c ****       /* ARP request couldn't be sent */
 2131              		.loc 1 982 8 view .LVU586
 2132 00d6 38B9     		cbnz	r0, .L154
 989:ThirdPackage/lwip220/core/ipv4/etharp.c ****         /* A new ARP request has been sent for a pending entry. Reset the ctime to
 2133              		.loc 1 989 7 is_stmt 1 view .LVU587
 989:ThirdPackage/lwip220/core/ipv4/etharp.c ****         /* A new ARP request has been sent for a pending entry. Reset the ctime to
 2134              		.loc 1 989 24 is_stmt 0 view .LVU588
 2135 00d8 04EB4403 		add	r3, r4, r4, lsl #1
 2136 00dc 394A     		ldr	r2, .L181
 2137 00de 02EBC303 		add	r3, r2, r3, lsl #3
 2138 00e2 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 989:ThirdPackage/lwip220/core/ipv4/etharp.c ****         /* A new ARP request has been sent for a pending entry. Reset the ctime to
 2139              		.loc 1 989 10 view .LVU589
 2140 00e4 012B     		cmp	r3, #1
 2141 00e6 02D0     		beq	.L179
 2142              	.L154:
 996:ThirdPackage/lwip220/core/ipv4/etharp.c ****       return result;
 2143              		.loc 1 996 5 is_stmt 1 view .LVU590
 996:ThirdPackage/lwip220/core/ipv4/etharp.c ****       return result;
 2144              		.loc 1 996 8 is_stmt 0 view .LVU591
 2145 00e8 002E     		cmp	r6, #0
 2146 00ea CCD1     		bne	.L153
 2147 00ec 22E0     		b	.L147
 2148              	.L179:
 989:ThirdPackage/lwip220/core/ipv4/etharp.c ****         /* A new ARP request has been sent for a pending entry. Reset the ctime to
 2149              		.loc 1 989 56 discriminator 1 view .LVU592
 2150 00ee B9F1000F 		cmp	r9, #0
 2151 00f2 F9D1     		bne	.L154
 992:ThirdPackage/lwip220/core/ipv4/etharp.c ****         arp_table[i].ctime = 0;
 2152              		.loc 1 992 113 is_stmt 1 view .LVU593
 993:ThirdPackage/lwip220/core/ipv4/etharp.c ****       }
 2153              		.loc 1 993 9 view .LVU594
 993:ThirdPackage/lwip220/core/ipv4/etharp.c ****       }
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 68


 2154              		.loc 1 993 28 is_stmt 0 view .LVU595
 2155 00f4 04EB4403 		add	r3, r4, r4, lsl #1
 2156 00f8 02EBC303 		add	r3, r2, r3, lsl #3
 2157 00fc 0022     		movs	r2, #0
 2158 00fe 5A82     		strh	r2, [r3, #18]	@ movhi
 2159 0100 F2E7     		b	.L154
 2160              	.LVL193:
 2161              	.L177:
1002:ThirdPackage/lwip220/core/ipv4/etharp.c ****   /* stable entry? */
 2162              		.loc 1 1002 3 is_stmt 1 discriminator 1 view .LVU596
1002:ThirdPackage/lwip220/core/ipv4/etharp.c ****   /* stable entry? */
 2163              		.loc 1 1002 3 discriminator 1 view .LVU597
 2164 0102 314B     		ldr	r3, .L181+4
 2165 0104 40F2EA32 		movw	r2, #1002
 2166 0108 3349     		ldr	r1, .L181+20
 2167 010a 3148     		ldr	r0, .L181+12
 2168 010c FFF7FEFF 		bl	printf
 2169              	.LVL194:
 2170 0110 BBE7     		b	.L155
 2171              	.L178:
1006:ThirdPackage/lwip220/core/ipv4/etharp.c ****     /* send the packet */
 2172              		.loc 1 1006 5 view .LVU598
 2173 0112 324B     		ldr	r3, .L181+24
 2174 0114 1C70     		strb	r4, [r3]
1008:ThirdPackage/lwip220/core/ipv4/etharp.c ****     /* pending entry? (either just created or already pending */
 2175              		.loc 1 1008 5 view .LVU599
1008:ThirdPackage/lwip220/core/ipv4/etharp.c ****     /* pending entry? (either just created or already pending */
 2176              		.loc 1 1008 49 is_stmt 0 view .LVU600
 2177 0116 04EB4403 		add	r3, r4, r4, lsl #1
 2178 011a DB00     		lsls	r3, r3, #3
 2179 011c 0833     		adds	r3, r3, #8
 2180 011e 1344     		add	r3, r3, r2
1008:ThirdPackage/lwip220/core/ipv4/etharp.c ****     /* pending entry? (either just created or already pending */
 2181              		.loc 1 1008 14 view .LVU601
 2182 0120 4FF40062 		mov	r2, #2048
 2183 0124 0092     		str	r2, [sp]
 2184 0126 0433     		adds	r3, r3, #4
 2185 0128 4246     		mov	r2, r8
 2186 012a 3146     		mov	r1, r6
 2187 012c 3846     		mov	r0, r7
 2188 012e FFF7FEFF 		bl	ethernet_output
 2189              	.LVL195:
 2190 0132 0546     		mov	r5, r0
 2191              	.LVL196:
 2192              	.L147:
1092:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 2193              		.loc 1 1092 1 view .LVU602
 2194 0134 2846     		mov	r0, r5
 2195 0136 03B0     		add	sp, sp, #12
 2196              	.LCFI32:
 2197              		.cfi_remember_state
 2198              		.cfi_def_cfa_offset 28
 2199              		@ sp needed
 2200 0138 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 2201              	.LVL197:
 2202              	.L158:
 2203              	.LCFI33:
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 69


 2204              		.cfi_restore_state
 2205              	.LBB10:
1018:ThirdPackage/lwip220/core/ipv4/etharp.c ****       if (PBUF_NEEDS_COPY(p)) {
 2206              		.loc 1 1018 7 is_stmt 1 discriminator 5 view .LVU603
1018:ThirdPackage/lwip220/core/ipv4/etharp.c ****       if (PBUF_NEEDS_COPY(p)) {
 2207              		.loc 1 1018 7 discriminator 5 view .LVU604
1019:ThirdPackage/lwip220/core/ipv4/etharp.c ****         copy_needed = 1;
 2208              		.loc 1 1019 7 discriminator 5 view .LVU605
1019:ThirdPackage/lwip220/core/ipv4/etharp.c ****         copy_needed = 1;
 2209              		.loc 1 1019 11 is_stmt 0 discriminator 5 view .LVU606
 2210 013c 2B7B     		ldrb	r3, [r5, #12]	@ zero_extendqisi2
1019:ThirdPackage/lwip220/core/ipv4/etharp.c ****         copy_needed = 1;
 2211              		.loc 1 1019 10 discriminator 5 view .LVU607
 2212 013e 13F0400F 		tst	r3, #64
 2213 0142 29D1     		bne	.L171
1023:ThirdPackage/lwip220/core/ipv4/etharp.c ****     }
 2214              		.loc 1 1023 7 is_stmt 1 view .LVU608
1023:ThirdPackage/lwip220/core/ipv4/etharp.c ****     }
 2215              		.loc 1 1023 9 is_stmt 0 view .LVU609
 2216 0144 2D68     		ldr	r5, [r5]
 2217              	.LVL198:
 2218              	.L157:
1017:ThirdPackage/lwip220/core/ipv4/etharp.c ****       LWIP_ASSERT("no packet queues allowed!", (p->len != p->tot_len) || (p->next == NULL));
 2219              		.loc 1 1017 11 is_stmt 1 view .LVU610
 2220 0146 75B1     		cbz	r5, .L180
1018:ThirdPackage/lwip220/core/ipv4/etharp.c ****       if (PBUF_NEEDS_COPY(p)) {
 2221              		.loc 1 1018 7 view .LVU611
1018:ThirdPackage/lwip220/core/ipv4/etharp.c ****       if (PBUF_NEEDS_COPY(p)) {
 2222              		.loc 1 1018 7 view .LVU612
 2223 0148 6A89     		ldrh	r2, [r5, #10]
 2224 014a 2B89     		ldrh	r3, [r5, #8]
 2225 014c 9A42     		cmp	r2, r3
 2226 014e F5D1     		bne	.L158
1018:ThirdPackage/lwip220/core/ipv4/etharp.c ****       if (PBUF_NEEDS_COPY(p)) {
 2227              		.loc 1 1018 7 is_stmt 0 discriminator 1 view .LVU613
 2228 0150 2B68     		ldr	r3, [r5]
 2229 0152 002B     		cmp	r3, #0
 2230 0154 F2D0     		beq	.L158
1018:ThirdPackage/lwip220/core/ipv4/etharp.c ****       if (PBUF_NEEDS_COPY(p)) {
 2231              		.loc 1 1018 7 is_stmt 1 discriminator 3 view .LVU614
1018:ThirdPackage/lwip220/core/ipv4/etharp.c ****       if (PBUF_NEEDS_COPY(p)) {
 2232              		.loc 1 1018 7 discriminator 3 view .LVU615
 2233 0156 1C4B     		ldr	r3, .L181+4
 2234 0158 40F2FA32 		movw	r2, #1018
 2235 015c 2049     		ldr	r1, .L181+28
 2236 015e 1C48     		ldr	r0, .L181+12
 2237 0160 FFF7FEFF 		bl	printf
 2238              	.LVL199:
 2239 0164 EAE7     		b	.L158
 2240              	.L180:
1013:ThirdPackage/lwip220/core/ipv4/etharp.c ****     /* IF q includes a pbuf that must be copied, copy the whole chain into a
 2241              		.loc 1 1013 9 is_stmt 0 view .LVU616
 2242 0166 0023     		movs	r3, #0
 2243              	.L159:
 2244              	.LVL200:
1025:ThirdPackage/lwip220/core/ipv4/etharp.c ****       /* copy the whole packet into new pbufs */
 2245              		.loc 1 1025 5 is_stmt 1 view .LVU617
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 70


1025:ThirdPackage/lwip220/core/ipv4/etharp.c ****       /* copy the whole packet into new pbufs */
 2246              		.loc 1 1025 8 is_stmt 0 view .LVU618
 2247 0168 C3B1     		cbz	r3, .L161
1027:ThirdPackage/lwip220/core/ipv4/etharp.c ****     } else {
 2248              		.loc 1 1027 7 is_stmt 1 view .LVU619
1027:ThirdPackage/lwip220/core/ipv4/etharp.c ****     } else {
 2249              		.loc 1 1027 11 is_stmt 0 view .LVU620
 2250 016a 3246     		mov	r2, r6
 2251 016c 4FF42071 		mov	r1, #640
 2252 0170 0E20     		movs	r0, #14
 2253 0172 FFF7FEFF 		bl	pbuf_clone
 2254              	.LVL201:
1027:ThirdPackage/lwip220/core/ipv4/etharp.c ****     } else {
 2255              		.loc 1 1027 11 view .LVU621
 2256 0176 0646     		mov	r6, r0
 2257              	.LVL202:
 2258              	.L162:
1034:ThirdPackage/lwip220/core/ipv4/etharp.c ****       /* queue packet ... */
 2259              		.loc 1 1034 5 is_stmt 1 view .LVU622
1034:ThirdPackage/lwip220/core/ipv4/etharp.c ****       /* queue packet ... */
 2260              		.loc 1 1034 8 is_stmt 0 view .LVU623
 2261 0178 06B3     		cbz	r6, .L172
1077:ThirdPackage/lwip220/core/ipv4/etharp.c ****         LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_query: dropped previously queued packet
 2262              		.loc 1 1077 7 is_stmt 1 view .LVU624
1077:ThirdPackage/lwip220/core/ipv4/etharp.c ****         LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_query: dropped previously queued packet
 2263              		.loc 1 1077 23 is_stmt 0 view .LVU625
 2264 017a 04EB4403 		add	r3, r4, r4, lsl #1
 2265 017e 114A     		ldr	r2, .L181
 2266 0180 52F83300 		ldr	r0, [r2, r3, lsl #3]
1077:ThirdPackage/lwip220/core/ipv4/etharp.c ****         LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_query: dropped previously queued packet
 2267              		.loc 1 1077 10 view .LVU626
 2268 0184 08B1     		cbz	r0, .L163
1078:ThirdPackage/lwip220/core/ipv4/etharp.c ****         pbuf_free(arp_table[i].q);
 2269              		.loc 1 1078 152 is_stmt 1 view .LVU627
1079:ThirdPackage/lwip220/core/ipv4/etharp.c ****       }
 2270              		.loc 1 1079 9 view .LVU628
 2271 0186 FFF7FEFF 		bl	pbuf_free
 2272              	.LVL203:
 2273              	.L163:
1081:ThirdPackage/lwip220/core/ipv4/etharp.c ****       result = ERR_OK;
 2274              		.loc 1 1081 7 view .LVU629
1081:ThirdPackage/lwip220/core/ipv4/etharp.c ****       result = ERR_OK;
 2275              		.loc 1 1081 22 is_stmt 0 view .LVU630
 2276 018a 04EB4404 		add	r4, r4, r4, lsl #1
 2277              	.LVL204:
1081:ThirdPackage/lwip220/core/ipv4/etharp.c ****       result = ERR_OK;
 2278              		.loc 1 1081 22 view .LVU631
 2279 018e 0D4B     		ldr	r3, .L181
 2280 0190 43F83460 		str	r6, [r3, r4, lsl #3]
1082:ThirdPackage/lwip220/core/ipv4/etharp.c ****       LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_query: queued packet %p on ARP entry %"U1
 2281              		.loc 1 1082 7 is_stmt 1 view .LVU632
 2282              	.LVL205:
1083:ThirdPackage/lwip220/core/ipv4/etharp.c **** #endif /* ARP_QUEUEING */
 2283              		.loc 1 1083 130 view .LVU633
1082:ThirdPackage/lwip220/core/ipv4/etharp.c ****       LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_query: queued packet %p on ARP entry %"U1
 2284              		.loc 1 1082 14 is_stmt 0 view .LVU634
 2285 0194 0025     		movs	r5, #0
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 71


 2286 0196 CDE7     		b	.L147
 2287              	.LVL206:
 2288              	.L171:
1020:ThirdPackage/lwip220/core/ipv4/etharp.c ****         break;
 2289              		.loc 1 1020 21 view .LVU635
 2290 0198 0123     		movs	r3, #1
 2291 019a E5E7     		b	.L159
 2292              	.LVL207:
 2293              	.L161:
1030:ThirdPackage/lwip220/core/ipv4/etharp.c ****       pbuf_ref(p);
 2294              		.loc 1 1030 7 is_stmt 1 view .LVU636
1031:ThirdPackage/lwip220/core/ipv4/etharp.c ****     }
 2295              		.loc 1 1031 7 view .LVU637
 2296 019c 3046     		mov	r0, r6
 2297 019e FFF7FEFF 		bl	pbuf_ref
 2298              	.LVL208:
1031:ThirdPackage/lwip220/core/ipv4/etharp.c ****     }
 2299              		.loc 1 1031 7 is_stmt 0 view .LVU638
 2300 01a2 E9E7     		b	.L162
 2301              	.LVL209:
 2302              	.L164:
1031:ThirdPackage/lwip220/core/ipv4/etharp.c ****     }
 2303              		.loc 1 1031 7 view .LVU639
 2304              	.LBE10:
 947:ThirdPackage/lwip220/core/ipv4/etharp.c ****   }
 2305              		.loc 1 947 12 view .LVU640
 2306 01a4 6FF00F05 		mvn	r5, #15
 2307              	.LVL210:
 947:ThirdPackage/lwip220/core/ipv4/etharp.c ****   }
 2308              		.loc 1 947 12 view .LVU641
 2309 01a8 C4E7     		b	.L147
 2310              	.LVL211:
 2311              	.L165:
 947:ThirdPackage/lwip220/core/ipv4/etharp.c ****   }
 2312              		.loc 1 947 12 view .LVU642
 2313 01aa 6FF00F05 		mvn	r5, #15
 2314              	.LVL212:
 947:ThirdPackage/lwip220/core/ipv4/etharp.c ****   }
 2315              		.loc 1 947 12 view .LVU643
 2316 01ae C1E7     		b	.L147
 2317              	.LVL213:
 2318              	.L166:
 947:ThirdPackage/lwip220/core/ipv4/etharp.c ****   }
 2319              		.loc 1 947 12 view .LVU644
 2320 01b0 6FF00F05 		mvn	r5, #15
 2321              	.LVL214:
 947:ThirdPackage/lwip220/core/ipv4/etharp.c ****   }
 2322              		.loc 1 947 12 view .LVU645
 2323 01b4 BEE7     		b	.L147
 2324              	.LVL215:
 2325              	.L167:
 947:ThirdPackage/lwip220/core/ipv4/etharp.c ****   }
 2326              		.loc 1 947 12 view .LVU646
 2327 01b6 6FF00F05 		mvn	r5, #15
 2328              	.LVL216:
 947:ThirdPackage/lwip220/core/ipv4/etharp.c ****   }
 2329              		.loc 1 947 12 view .LVU647
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 72


 2330 01ba BBE7     		b	.L147
 2331              	.LVL217:
 2332              	.L172:
 2333              	.LBB11:
1088:ThirdPackage/lwip220/core/ipv4/etharp.c ****     }
 2334              		.loc 1 1088 14 view .LVU648
 2335 01bc 4FF0FF35 		mov	r5, #-1
 2336 01c0 B8E7     		b	.L147
 2337              	.L182:
 2338 01c2 00BF     		.align	2
 2339              	.L181:
 2340 01c4 00000000 		.word	.LANCHOR0
 2341 01c8 00000000 		.word	.LC0
 2342 01cc 00000000 		.word	.LC13
 2343 01d0 40000000 		.word	.LC2
 2344 01d4 10000000 		.word	.LC14
 2345 01d8 38000000 		.word	.LC15
 2346 01dc 00000000 		.word	.LANCHOR1
 2347 01e0 44000000 		.word	.LC16
 2348              	.LBE11:
 2349              		.cfi_endproc
 2350              	.LFE170:
 2352              		.section	.text.etharp_output,"ax",%progbits
 2353              		.align	1
 2354              		.global	etharp_output
 2355              		.syntax unified
 2356              		.thumb
 2357              		.thumb_func
 2359              	etharp_output:
 2360              	.LVL218:
 2361              	.LFB169:
 793:ThirdPackage/lwip220/core/ipv4/etharp.c ****   const struct eth_addr *dest;
 2362              		.loc 1 793 1 is_stmt 1 view -0
 2363              		.cfi_startproc
 2364              		@ args = 0, pretend = 0, frame = 8
 2365              		@ frame_needed = 0, uses_anonymous_args = 0
 793:ThirdPackage/lwip220/core/ipv4/etharp.c ****   const struct eth_addr *dest;
 2366              		.loc 1 793 1 is_stmt 0 view .LVU650
 2367 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 2368              	.LCFI34:
 2369              		.cfi_def_cfa_offset 20
 2370              		.cfi_offset 4, -20
 2371              		.cfi_offset 5, -16
 2372              		.cfi_offset 6, -12
 2373              		.cfi_offset 7, -8
 2374              		.cfi_offset 14, -4
 2375 0002 85B0     		sub	sp, sp, #20
 2376              	.LCFI35:
 2377              		.cfi_def_cfa_offset 40
 2378 0004 0F46     		mov	r7, r1
 2379 0006 1546     		mov	r5, r2
 794:ThirdPackage/lwip220/core/ipv4/etharp.c ****   struct eth_addr mcastaddr;
 2380              		.loc 1 794 3 is_stmt 1 view .LVU651
 795:ThirdPackage/lwip220/core/ipv4/etharp.c ****   const ip4_addr_t *dst_addr = ipaddr;
 2381              		.loc 1 795 3 view .LVU652
 796:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 2382              		.loc 1 796 3 view .LVU653
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 73


 2383              	.LVL219:
 798:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_ASSERT("netif != NULL", netif != NULL);
 2384              		.loc 1 798 28 view .LVU654
 799:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_ASSERT("q != NULL", q != NULL);
 2385              		.loc 1 799 3 view .LVU655
 799:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_ASSERT("q != NULL", q != NULL);
 2386              		.loc 1 799 3 view .LVU656
 2387 0008 0646     		mov	r6, r0
 2388 000a 0028     		cmp	r0, #0
 2389 000c 3DD0     		beq	.L198
 2390              	.LVL220:
 2391              	.L184:
 799:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_ASSERT("q != NULL", q != NULL);
 2392              		.loc 1 799 3 discriminator 3 view .LVU657
 799:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_ASSERT("q != NULL", q != NULL);
 2393              		.loc 1 799 3 discriminator 3 view .LVU658
 800:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_ASSERT("ipaddr != NULL", ipaddr != NULL);
 2394              		.loc 1 800 3 discriminator 3 view .LVU659
 800:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_ASSERT("ipaddr != NULL", ipaddr != NULL);
 2395              		.loc 1 800 3 discriminator 3 view .LVU660
 2396 000e 002F     		cmp	r7, #0
 2397 0010 43D0     		beq	.L199
 2398              	.L185:
 800:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_ASSERT("ipaddr != NULL", ipaddr != NULL);
 2399              		.loc 1 800 3 discriminator 3 view .LVU661
 800:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_ASSERT("ipaddr != NULL", ipaddr != NULL);
 2400              		.loc 1 800 3 discriminator 3 view .LVU662
 801:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 2401              		.loc 1 801 3 discriminator 3 view .LVU663
 801:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 2402              		.loc 1 801 3 discriminator 3 view .LVU664
 2403 0012 002D     		cmp	r5, #0
 2404 0014 49D0     		beq	.L200
 2405              	.L186:
 801:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 2406              		.loc 1 801 3 discriminator 3 view .LVU665
 801:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 2407              		.loc 1 801 3 discriminator 3 view .LVU666
 807:ThirdPackage/lwip220/core/ipv4/etharp.c ****     /* broadcast on Ethernet also */
 2408              		.loc 1 807 3 discriminator 3 view .LVU667
 807:ThirdPackage/lwip220/core/ipv4/etharp.c ****     /* broadcast on Ethernet also */
 2409              		.loc 1 807 7 is_stmt 0 discriminator 3 view .LVU668
 2410 0016 3146     		mov	r1, r6
 2411 0018 2868     		ldr	r0, [r5]
 2412 001a FFF7FEFF 		bl	ip4_addr_isbroadcast_u32
 2413              	.LVL221:
 807:ThirdPackage/lwip220/core/ipv4/etharp.c ****     /* broadcast on Ethernet also */
 2414              		.loc 1 807 6 discriminator 3 view .LVU669
 2415 001e 0346     		mov	r3, r0
 2416 0020 0028     		cmp	r0, #0
 2417 0022 40F08180 		bne	.L195
 811:ThirdPackage/lwip220/core/ipv4/etharp.c ****     /* Hash IP multicast address to MAC address.*/
 2418              		.loc 1 811 10 is_stmt 1 view .LVU670
 811:ThirdPackage/lwip220/core/ipv4/etharp.c ****     /* Hash IP multicast address to MAC address.*/
 2419              		.loc 1 811 14 is_stmt 0 view .LVU671
 2420 0026 2A68     		ldr	r2, [r5]
 2421 0028 02F0F001 		and	r1, r2, #240
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 74


 811:ThirdPackage/lwip220/core/ipv4/etharp.c ****     /* Hash IP multicast address to MAC address.*/
 2422              		.loc 1 811 13 view .LVU672
 2423 002c E029     		cmp	r1, #224
 2424 002e 44D0     		beq	.L201
 2425              	.LBB12:
 823:ThirdPackage/lwip220/core/ipv4/etharp.c ****     /* outside local network? if so, this can neither be a global broadcast nor
 2426              		.loc 1 823 5 is_stmt 1 view .LVU673
 826:ThirdPackage/lwip220/core/ipv4/etharp.c ****         !ip4_addr_islinklocal(ipaddr)) {
 2427              		.loc 1 826 5 view .LVU674
 826:ThirdPackage/lwip220/core/ipv4/etharp.c ****         !ip4_addr_islinklocal(ipaddr)) {
 2428              		.loc 1 826 10 is_stmt 0 view .LVU675
 2429 0030 7168     		ldr	r1, [r6, #4]
 2430 0032 B068     		ldr	r0, [r6, #8]
 826:ThirdPackage/lwip220/core/ipv4/etharp.c ****         !ip4_addr_islinklocal(ipaddr)) {
 2431              		.loc 1 826 9 view .LVU676
 2432 0034 5140     		eors	r1, r1, r2
 826:ThirdPackage/lwip220/core/ipv4/etharp.c ****         !ip4_addr_islinklocal(ipaddr)) {
 2433              		.loc 1 826 8 view .LVU677
 2434 0036 0142     		tst	r1, r0
 2435 0038 09D0     		beq	.L189
 827:ThirdPackage/lwip220/core/ipv4/etharp.c **** #if LWIP_AUTOIP
 2436              		.loc 1 827 10 discriminator 1 view .LVU678
 2437 003a 92B2     		uxth	r2, r2
 826:ThirdPackage/lwip220/core/ipv4/etharp.c ****         !ip4_addr_islinklocal(ipaddr)) {
 2438              		.loc 1 826 83 discriminator 1 view .LVU679
 2439 003c 4FF6A961 		movw	r1, #65193
 2440 0040 8A42     		cmp	r2, r1
 2441 0042 04D0     		beq	.L189
 845:ThirdPackage/lwip220/core/ipv4/etharp.c ****             /* send to hardware address of default gateway IP address */
 2442              		.loc 1 845 11 is_stmt 1 view .LVU680
 845:ThirdPackage/lwip220/core/ipv4/etharp.c ****             /* send to hardware address of default gateway IP address */
 2443              		.loc 1 845 16 is_stmt 0 view .LVU681
 2444 0044 F268     		ldr	r2, [r6, #12]
 845:ThirdPackage/lwip220/core/ipv4/etharp.c ****             /* send to hardware address of default gateway IP address */
 2445              		.loc 1 845 14 view .LVU682
 2446 0046 002A     		cmp	r2, #0
 2447 0048 7AD0     		beq	.L196
 847:ThirdPackage/lwip220/core/ipv4/etharp.c ****             /* no default gateway available */
 2448              		.loc 1 847 13 is_stmt 1 view .LVU683
 847:ThirdPackage/lwip220/core/ipv4/etharp.c ****             /* no default gateway available */
 2449              		.loc 1 847 22 is_stmt 0 view .LVU684
 2450 004a 06F10C05 		add	r5, r6, #12
 2451              	.LVL222:
 2452              	.L189:
 862:ThirdPackage/lwip220/core/ipv4/etharp.c **** #if ETHARP_TABLE_MATCH_NETIF
 2453              		.loc 1 862 9 is_stmt 1 view .LVU685
 862:ThirdPackage/lwip220/core/ipv4/etharp.c **** #if ETHARP_TABLE_MATCH_NETIF
 2454              		.loc 1 862 44 is_stmt 0 view .LVU686
 2455 004e 3E4A     		ldr	r2, .L203
 2456 0050 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 2457 0052 02EB4200 		add	r0, r2, r2, lsl #1
 2458 0056 3D49     		ldr	r1, .L203+4
 2459 0058 01EBC001 		add	r1, r1, r0, lsl #3
 2460 005c 097D     		ldrb	r1, [r1, #20]	@ zero_extendqisi2
 862:ThirdPackage/lwip220/core/ipv4/etharp.c **** #if ETHARP_TABLE_MATCH_NETIF
 2461              		.loc 1 862 12 view .LVU687
 2462 005e 0129     		cmp	r1, #1
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 75


 2463 0060 43D9     		bls	.L193
 864:ThirdPackage/lwip220/core/ipv4/etharp.c **** #endif
 2464              		.loc 1 864 44 discriminator 1 view .LVU688
 2465 0062 0146     		mov	r1, r0
 2466 0064 3948     		ldr	r0, .L203+4
 2467 0066 00EBC101 		add	r1, r0, r1, lsl #3
 2468 006a 8968     		ldr	r1, [r1, #8]
 862:ThirdPackage/lwip220/core/ipv4/etharp.c **** #if ETHARP_TABLE_MATCH_NETIF
 2469              		.loc 1 862 75 discriminator 1 view .LVU689
 2470 006c B142     		cmp	r1, r6
 2471 006e 3CD1     		bne	.L193
 866:ThirdPackage/lwip220/core/ipv4/etharp.c ****           /* the per-pcb-cached entry is stable and the right one! */
 2472              		.loc 1 866 14 view .LVU690
 2473 0070 2C68     		ldr	r4, [r5]
 2474 0072 02EB4201 		add	r1, r2, r2, lsl #1
 2475 0076 00EBC101 		add	r1, r0, r1, lsl #3
 2476 007a 4968     		ldr	r1, [r1, #4]
 864:ThirdPackage/lwip220/core/ipv4/etharp.c **** #endif
 2477              		.loc 1 864 61 view .LVU691
 2478 007c 8C42     		cmp	r4, r1
 2479 007e 34D1     		bne	.L193
 868:ThirdPackage/lwip220/core/ipv4/etharp.c ****           return etharp_output_to_arp_index(netif, q, etharp_cached_entry);
 2480              		.loc 1 868 44 is_stmt 1 view .LVU692
 869:ThirdPackage/lwip220/core/ipv4/etharp.c ****         }
 2481              		.loc 1 869 11 view .LVU693
 869:ThirdPackage/lwip220/core/ipv4/etharp.c ****         }
 2482              		.loc 1 869 18 is_stmt 0 view .LVU694
 2483 0080 3946     		mov	r1, r7
 2484 0082 3046     		mov	r0, r6
 2485 0084 FFF7FEFF 		bl	etharp_output_to_arp_index
 2486              	.LVL223:
 2487 0088 58E0     		b	.L190
 2488              	.LVL224:
 2489              	.L198:
 869:ThirdPackage/lwip220/core/ipv4/etharp.c ****         }
 2490              		.loc 1 869 18 view .LVU695
 2491              	.LBE12:
 799:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_ASSERT("q != NULL", q != NULL);
 2492              		.loc 1 799 3 is_stmt 1 discriminator 1 view .LVU696
 799:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_ASSERT("q != NULL", q != NULL);
 2493              		.loc 1 799 3 discriminator 1 view .LVU697
 2494 008a 314B     		ldr	r3, .L203+8
 2495 008c 40F21F32 		movw	r2, #799
 2496              	.LVL225:
 799:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_ASSERT("q != NULL", q != NULL);
 2497              		.loc 1 799 3 is_stmt 0 discriminator 1 view .LVU698
 2498 0090 3049     		ldr	r1, .L203+12
 2499              	.LVL226:
 799:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_ASSERT("q != NULL", q != NULL);
 2500              		.loc 1 799 3 discriminator 1 view .LVU699
 2501 0092 3148     		ldr	r0, .L203+16
 2502              	.LVL227:
 799:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_ASSERT("q != NULL", q != NULL);
 2503              		.loc 1 799 3 discriminator 1 view .LVU700
 2504 0094 FFF7FEFF 		bl	printf
 2505              	.LVL228:
 2506 0098 B9E7     		b	.L184
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 76


 2507              	.L199:
 800:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_ASSERT("ipaddr != NULL", ipaddr != NULL);
 2508              		.loc 1 800 3 is_stmt 1 discriminator 1 view .LVU701
 800:ThirdPackage/lwip220/core/ipv4/etharp.c ****   LWIP_ASSERT("ipaddr != NULL", ipaddr != NULL);
 2509              		.loc 1 800 3 discriminator 1 view .LVU702
 2510 009a 2D4B     		ldr	r3, .L203+8
 2511 009c 4FF44872 		mov	r2, #800
 2512 00a0 2E49     		ldr	r1, .L203+20
 2513 00a2 2D48     		ldr	r0, .L203+16
 2514 00a4 FFF7FEFF 		bl	printf
 2515              	.LVL229:
 2516 00a8 B3E7     		b	.L185
 2517              	.L200:
 801:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 2518              		.loc 1 801 3 discriminator 1 view .LVU703
 801:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 2519              		.loc 1 801 3 discriminator 1 view .LVU704
 2520 00aa 294B     		ldr	r3, .L203+8
 2521 00ac 40F22132 		movw	r2, #801
 2522 00b0 2B49     		ldr	r1, .L203+24
 2523 00b2 2948     		ldr	r0, .L203+16
 2524 00b4 FFF7FEFF 		bl	printf
 2525              	.LVL230:
 2526 00b8 ADE7     		b	.L186
 2527              	.L201:
 813:ThirdPackage/lwip220/core/ipv4/etharp.c ****     mcastaddr.addr[1] = LL_IP4_MULTICAST_ADDR_1;
 2528              		.loc 1 813 5 view .LVU705
 813:ThirdPackage/lwip220/core/ipv4/etharp.c ****     mcastaddr.addr[1] = LL_IP4_MULTICAST_ADDR_1;
 2529              		.loc 1 813 23 is_stmt 0 view .LVU706
 2530 00ba 0123     		movs	r3, #1
 2531 00bc 8DF80830 		strb	r3, [sp, #8]
 814:ThirdPackage/lwip220/core/ipv4/etharp.c ****     mcastaddr.addr[2] = LL_IP4_MULTICAST_ADDR_2;
 2532              		.loc 1 814 5 is_stmt 1 view .LVU707
 814:ThirdPackage/lwip220/core/ipv4/etharp.c ****     mcastaddr.addr[2] = LL_IP4_MULTICAST_ADDR_2;
 2533              		.loc 1 814 23 is_stmt 0 view .LVU708
 2534 00c0 0023     		movs	r3, #0
 2535 00c2 8DF80930 		strb	r3, [sp, #9]
 815:ThirdPackage/lwip220/core/ipv4/etharp.c ****     mcastaddr.addr[3] = ip4_addr2(ipaddr) & 0x7f;
 2536              		.loc 1 815 5 is_stmt 1 view .LVU709
 815:ThirdPackage/lwip220/core/ipv4/etharp.c ****     mcastaddr.addr[3] = ip4_addr2(ipaddr) & 0x7f;
 2537              		.loc 1 815 23 is_stmt 0 view .LVU710
 2538 00c6 5E23     		movs	r3, #94
 2539 00c8 8DF80A30 		strb	r3, [sp, #10]
 816:ThirdPackage/lwip220/core/ipv4/etharp.c ****     mcastaddr.addr[4] = ip4_addr3(ipaddr);
 2540              		.loc 1 816 5 is_stmt 1 view .LVU711
 816:ThirdPackage/lwip220/core/ipv4/etharp.c ****     mcastaddr.addr[4] = ip4_addr3(ipaddr);
 2541              		.loc 1 816 43 is_stmt 0 view .LVU712
 2542 00cc 6B78     		ldrb	r3, [r5, #1]	@ zero_extendqisi2
 2543 00ce 03F07F03 		and	r3, r3, #127
 816:ThirdPackage/lwip220/core/ipv4/etharp.c ****     mcastaddr.addr[4] = ip4_addr3(ipaddr);
 2544              		.loc 1 816 23 view .LVU713
 2545 00d2 8DF80B30 		strb	r3, [sp, #11]
 817:ThirdPackage/lwip220/core/ipv4/etharp.c ****     mcastaddr.addr[5] = ip4_addr4(ipaddr);
 2546              		.loc 1 817 5 is_stmt 1 view .LVU714
 817:ThirdPackage/lwip220/core/ipv4/etharp.c ****     mcastaddr.addr[5] = ip4_addr4(ipaddr);
 2547              		.loc 1 817 25 is_stmt 0 view .LVU715
 2548 00d6 AB78     		ldrb	r3, [r5, #2]	@ zero_extendqisi2
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 77


 817:ThirdPackage/lwip220/core/ipv4/etharp.c ****     mcastaddr.addr[5] = ip4_addr4(ipaddr);
 2549              		.loc 1 817 23 view .LVU716
 2550 00d8 8DF80C30 		strb	r3, [sp, #12]
 818:ThirdPackage/lwip220/core/ipv4/etharp.c ****     /* destination Ethernet address is multicast */
 2551              		.loc 1 818 5 is_stmt 1 view .LVU717
 818:ThirdPackage/lwip220/core/ipv4/etharp.c ****     /* destination Ethernet address is multicast */
 2552              		.loc 1 818 25 is_stmt 0 view .LVU718
 2553 00dc EB78     		ldrb	r3, [r5, #3]	@ zero_extendqisi2
 818:ThirdPackage/lwip220/core/ipv4/etharp.c ****     /* destination Ethernet address is multicast */
 2554              		.loc 1 818 23 view .LVU719
 2555 00de 8DF80D30 		strb	r3, [sp, #13]
 820:ThirdPackage/lwip220/core/ipv4/etharp.c ****     /* unicast destination IP address? */
 2556              		.loc 1 820 5 is_stmt 1 view .LVU720
 2557              	.LVL231:
 820:ThirdPackage/lwip220/core/ipv4/etharp.c ****     /* unicast destination IP address? */
 2558              		.loc 1 820 10 is_stmt 0 view .LVU721
 2559 00e2 02AB     		add	r3, sp, #8
 2560              	.LVL232:
 820:ThirdPackage/lwip220/core/ipv4/etharp.c ****     /* unicast destination IP address? */
 2561              		.loc 1 820 10 view .LVU722
 2562 00e4 21E0     		b	.L187
 2563              	.LVL233:
 2564              	.L192:
 2565              	.LBB13:
 878:ThirdPackage/lwip220/core/ipv4/etharp.c ****       if ((arp_table[i].state >= ETHARP_STATE_STABLE) &&
 2566              		.loc 1 878 37 is_stmt 1 discriminator 2 view .LVU723
 878:ThirdPackage/lwip220/core/ipv4/etharp.c ****       if ((arp_table[i].state >= ETHARP_STATE_STABLE) &&
 2567              		.loc 1 878 38 is_stmt 0 discriminator 2 view .LVU724
 2568 00e6 0133     		adds	r3, r3, #1
 2569              	.LVL234:
 878:ThirdPackage/lwip220/core/ipv4/etharp.c ****       if ((arp_table[i].state >= ETHARP_STATE_STABLE) &&
 2570              		.loc 1 878 38 discriminator 2 view .LVU725
 2571 00e8 DBB2     		uxtb	r3, r3
 2572              	.LVL235:
 2573              	.L193:
 878:ThirdPackage/lwip220/core/ipv4/etharp.c ****       if ((arp_table[i].state >= ETHARP_STATE_STABLE) &&
 2574              		.loc 1 878 17 is_stmt 1 discriminator 1 view .LVU726
 878:ThirdPackage/lwip220/core/ipv4/etharp.c ****       if ((arp_table[i].state >= ETHARP_STATE_STABLE) &&
 2575              		.loc 1 878 5 is_stmt 0 discriminator 1 view .LVU727
 2576 00ea 092B     		cmp	r3, #9
 2577 00ec 16D8     		bhi	.L202
 879:ThirdPackage/lwip220/core/ipv4/etharp.c **** #if ETHARP_TABLE_MATCH_NETIF
 2578              		.loc 1 879 7 is_stmt 1 view .LVU728
 879:ThirdPackage/lwip220/core/ipv4/etharp.c **** #if ETHARP_TABLE_MATCH_NETIF
 2579              		.loc 1 879 24 is_stmt 0 view .LVU729
 2580 00ee 03EB4300 		add	r0, r3, r3, lsl #1
 2581 00f2 164C     		ldr	r4, .L203+4
 2582 00f4 04EBC000 		add	r0, r4, r0, lsl #3
 2583 00f8 027D     		ldrb	r2, [r0, #20]	@ zero_extendqisi2
 879:ThirdPackage/lwip220/core/ipv4/etharp.c **** #if ETHARP_TABLE_MATCH_NETIF
 2584              		.loc 1 879 10 view .LVU730
 2585 00fa 012A     		cmp	r2, #1
 2586 00fc F3D9     		bls	.L192
 881:ThirdPackage/lwip220/core/ipv4/etharp.c **** #endif
 2587              		.loc 1 881 24 discriminator 1 view .LVU731
 2588 00fe 8268     		ldr	r2, [r0, #8]
 879:ThirdPackage/lwip220/core/ipv4/etharp.c **** #if ETHARP_TABLE_MATCH_NETIF
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 78


 2589              		.loc 1 879 55 discriminator 1 view .LVU732
 2590 0100 B242     		cmp	r2, r6
 2591 0102 F0D1     		bne	.L192
 883:ThirdPackage/lwip220/core/ipv4/etharp.c ****         /* found an existing, stable entry */
 2592              		.loc 1 883 12 view .LVU733
 2593 0104 2A68     		ldr	r2, [r5]
 2594 0106 4168     		ldr	r1, [r0, #4]
 881:ThirdPackage/lwip220/core/ipv4/etharp.c **** #endif
 2595              		.loc 1 881 41 view .LVU734
 2596 0108 8A42     		cmp	r2, r1
 2597 010a ECD1     		bne	.L192
 885:ThirdPackage/lwip220/core/ipv4/etharp.c ****         return etharp_output_to_arp_index(netif, q, i);
 2598              		.loc 1 885 9 is_stmt 1 view .LVU735
 2599 010c 0E4A     		ldr	r2, .L203
 2600 010e 1370     		strb	r3, [r2]
 886:ThirdPackage/lwip220/core/ipv4/etharp.c ****       }
 2601              		.loc 1 886 9 view .LVU736
 886:ThirdPackage/lwip220/core/ipv4/etharp.c ****       }
 2602              		.loc 1 886 16 is_stmt 0 view .LVU737
 2603 0110 1A46     		mov	r2, r3
 2604 0112 3946     		mov	r1, r7
 2605 0114 3046     		mov	r0, r6
 2606 0116 FFF7FEFF 		bl	etharp_output_to_arp_index
 2607              	.LVL236:
 886:ThirdPackage/lwip220/core/ipv4/etharp.c ****       }
 2608              		.loc 1 886 16 view .LVU738
 2609 011a 0FE0     		b	.L190
 2610              	.LVL237:
 2611              	.L202:
 891:ThirdPackage/lwip220/core/ipv4/etharp.c ****   }
 2612              		.loc 1 891 5 is_stmt 1 view .LVU739
 891:ThirdPackage/lwip220/core/ipv4/etharp.c ****   }
 2613              		.loc 1 891 12 is_stmt 0 view .LVU740
 2614 011c 3A46     		mov	r2, r7
 2615 011e 2946     		mov	r1, r5
 2616 0120 3046     		mov	r0, r6
 2617 0122 FFF7FEFF 		bl	etharp_query
 2618              	.LVL238:
 891:ThirdPackage/lwip220/core/ipv4/etharp.c ****   }
 2619              		.loc 1 891 12 view .LVU741
 2620 0126 09E0     		b	.L190
 2621              	.LVL239:
 2622              	.L195:
 891:ThirdPackage/lwip220/core/ipv4/etharp.c ****   }
 2623              		.loc 1 891 12 view .LVU742
 2624              	.LBE13:
 809:ThirdPackage/lwip220/core/ipv4/etharp.c ****     /* multicast destination IP address? */
 2625              		.loc 1 809 10 view .LVU743
 2626 0128 0E4B     		ldr	r3, .L203+28
 2627              	.L187:
 2628              	.LVL240:
 897:ThirdPackage/lwip220/core/ipv4/etharp.c **** }
 2629              		.loc 1 897 3 is_stmt 1 view .LVU744
 897:ThirdPackage/lwip220/core/ipv4/etharp.c **** }
 2630              		.loc 1 897 10 is_stmt 0 view .LVU745
 2631 012a 4FF40062 		mov	r2, #2048
 2632 012e 0092     		str	r2, [sp]
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 79


 2633 0130 06F12602 		add	r2, r6, #38
 2634 0134 3946     		mov	r1, r7
 2635 0136 3046     		mov	r0, r6
 2636 0138 FFF7FEFF 		bl	ethernet_output
 2637              	.LVL241:
 2638              	.L190:
 898:ThirdPackage/lwip220/core/ipv4/etharp.c **** 
 2639              		.loc 1 898 1 view .LVU746
 2640 013c 05B0     		add	sp, sp, #20
 2641              	.LCFI36:
 2642              		.cfi_remember_state
 2643              		.cfi_def_cfa_offset 20
 2644              		@ sp needed
 2645 013e F0BD     		pop	{r4, r5, r6, r7, pc}
 2646              	.LVL242:
 2647              	.L196:
 2648              	.LCFI37:
 2649              		.cfi_restore_state
 2650              	.LBB14:
 851:ThirdPackage/lwip220/core/ipv4/etharp.c ****           }
 2651              		.loc 1 851 20 view .LVU747
 2652 0140 6FF00300 		mvn	r0, #3
 2653 0144 FAE7     		b	.L190
 2654              	.L204:
 2655 0146 00BF     		.align	2
 2656              	.L203:
 2657 0148 00000000 		.word	.LANCHOR1
 2658 014c 00000000 		.word	.LANCHOR0
 2659 0150 00000000 		.word	.LC0
 2660 0154 00000000 		.word	.LC6
 2661 0158 40000000 		.word	.LC2
 2662 015c 38000000 		.word	.LC15
 2663 0160 00000000 		.word	.LC10
 2664 0164 00000000 		.word	ethbroadcast
 2665              	.LBE14:
 2666              		.cfi_endproc
 2667              	.LFE169:
 2669              		.section	.bss.arp_table,"aw",%nobits
 2670              		.align	2
 2671              		.set	.LANCHOR0,. + 0
 2674              	arp_table:
 2675 0000 00000000 		.space	240
 2675      00000000 
 2675      00000000 
 2675      00000000 
 2675      00000000 
 2676              		.section	.bss.etharp_cached_entry,"aw",%nobits
 2677              		.set	.LANCHOR1,. + 0
 2680              	etharp_cached_entry:
 2681 0000 00       		.space	1
 2682              		.text
 2683              	.Letext0:
 2684              		.file 2 "k:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 2685              		.file 3 "k:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 2686              		.file 4 "k:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\lib\\gcc\\arm-none-eabi\
 2687              		.file 5 "k:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 2688              		.file 6 "k:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 80


 2689              		.file 7 "ThirdPackage/lwip220/include/lwip/arch.h"
 2690              		.file 8 "ThirdPackage/lwip220/include/lwip/err.h"
 2691              		.file 9 "ThirdPackage/lwip220/include/lwip/pbuf.h"
 2692              		.file 10 "ThirdPackage/lwip220/include/lwip/ip4_addr.h"
 2693              		.file 11 "ThirdPackage/lwip220/include/lwip/ip_addr.h"
 2694              		.file 12 "ThirdPackage/lwip220/include/lwip/memp.h"
 2695              		.file 13 "ThirdPackage/lwip220/include/lwip/netif.h"
 2696              		.file 14 "ThirdPackage/lwip220/include/lwip/prot/ethernet.h"
 2697              		.file 15 "ThirdPackage/lwip220/include/lwip/prot/etharp.h"
 2698              		.file 16 "ThirdPackage/lwip220/include/lwip/prot/ieee.h"
 2699              		.file 17 "ThirdPackage/lwip220/include/lwip/prot/iana.h"
 2700              		.file 18 "ThirdPackage/lwip220/include/netif/ethernet.h"
 2701              		.file 19 "ThirdPackage/lwip220/include/lwip/def.h"
 2702              		.file 20 "k:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 81


DEFINED SYMBOLS
                            *ABS*:00000000 etharp.c
C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s:20     .text.etharp_free_entry:00000000 $t
C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s:25     .text.etharp_free_entry:00000000 etharp_free_entry
C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s:75     .text.etharp_free_entry:00000030 $d
C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s:80     .rodata.etharp_find_entry.str1.4:00000000 $d
C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s:96     .text.etharp_find_entry:00000000 $t
C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s:101    .text.etharp_find_entry:00000000 etharp_find_entry
C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s:509    .text.etharp_find_entry:000001ac $d
C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s:519    .rodata.etharp_update_arp_entry.str1.4:00000000 $d
C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s:523    .text.etharp_update_arp_entry:00000000 $t
C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s:528    .text.etharp_update_arp_entry:00000000 etharp_update_arp_entry
C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s:701    .text.etharp_update_arp_entry:000000b4 $d
C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s:709    .rodata.etharp_raw.str1.4:00000000 $d
C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s:720    .text.etharp_raw:00000000 $t
C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s:725    .text.etharp_raw:00000000 etharp_raw
C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s:926    .text.etharp_raw:000000d4 $d
C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s:935    .text.etharp_request_dst:00000000 $t
C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s:940    .text.etharp_request_dst:00000000 etharp_request_dst
C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s:985    .text.etharp_request_dst:00000020 $d
C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s:990    .text.etharp_cleanup_netif:00000000 $t
C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s:996    .text.etharp_cleanup_netif:00000000 etharp_cleanup_netif
C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s:1069   .text.etharp_cleanup_netif:00000038 $d
C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s:1074   .rodata.etharp_find_addr.str1.4:00000000 $d
C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s:1078   .text.etharp_find_addr:00000000 $t
C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s:1084   .text.etharp_find_addr:00000000 etharp_find_addr
C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s:1191   .text.etharp_find_addr:00000068 $d
C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s:1199   .rodata.etharp_get_entry.str1.4:00000000 $d
C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s:1206   .text.etharp_get_entry:00000000 $t
C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s:1212   .text.etharp_get_entry:00000000 etharp_get_entry
C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s:1343   .text.etharp_get_entry:00000080 $d
C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s:1353   .text.etharp_input:00000000 $t
C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s:1359   .text.etharp_input:00000000 etharp_input
C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s:1554   .text.etharp_request:00000000 $t
C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s:1560   .text.etharp_request:00000000 etharp_request
C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s:1584   .text.etharp_request:0000000c $d
C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s:1589   .text.etharp_tmr:00000000 $t
C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s:1595   .text.etharp_tmr:00000000 etharp_tmr
C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s:1738   .text.etharp_tmr:00000084 $d
C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s:1743   .rodata.etharp_output_to_arp_index.str1.4:00000000 $d
C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s:1747   .text.etharp_output_to_arp_index:00000000 $t
C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s:1752   .text.etharp_output_to_arp_index:00000000 etharp_output_to_arp_index
C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s:1901   .text.etharp_output_to_arp_index:000000cc $d
C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s:1909   .rodata.etharp_query.str1.4:00000000 $d
C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s:1922   .text.etharp_query:00000000 $t
C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s:1928   .text.etharp_query:00000000 etharp_query
C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s:2340   .text.etharp_query:000001c4 $d
C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s:2353   .text.etharp_output:00000000 $t
C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s:2359   .text.etharp_output:00000000 etharp_output
C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s:2657   .text.etharp_output:00000148 $d
C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s:2670   .bss.arp_table:00000000 $d
C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s:2674   .bss.arp_table:00000000 arp_table
C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s:2680   .bss.etharp_cached_entry:00000000 etharp_cached_entry
C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s:2681   .bss.etharp_cached_entry:00000000 $d

UNDEFINED SYMBOLS
pbuf_free
ARM GAS  C:\Users\86188\AppData\Local\Temp\ccGgdKw3.s 			page 82


printf
ip4_addr_isbroadcast_u32
ethernet_output
pbuf_alloc
lwip_htons
ethzero
ethbroadcast
pbuf_clone
pbuf_ref
